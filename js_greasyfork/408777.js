// ==UserScript==
// @name        Responsive Astral
// @namespace   http://tampermonkey.net/
// @version     1.0
// @description Make Tags and Stars sidebars fordable in Astral (GitHub Stars Organizer).
// @author      himalay
// @match       https://app.astralapp.com/dashboard*
// @grant       none
// @downloadURL https://update.greasyfork.org/scripts/408777/Responsive%20Astral.user.js
// @updateURL https://update.greasyfork.org/scripts/408777/Responsive%20Astral.meta.js
// ==/UserScript==
var waitInterval=setInterval(function(){document.querySelector(".search-container")&&(!document.querySelector("#showTags")&&makeAstralResponsive(),clearInterval(waitInterval))},100);function makeAstralResponsive(){function a(a,b,c){return Object.assign(document.createElement("button"),{id:a,title:b,innerHTML:c})}function b(){h.classList.remove("l-0")}function c(){i.classList.remove("l-0"),j.classList.remove("l-0")}function d(){b(),c()}function e(){i.classList.add("l-0"),j.classList.add("l-0")}function f(){b(),e()}var g=document.querySelector(".dashboard"),h=document.querySelector(".sidebar"),i=document.querySelector(".search-container"),j=document.querySelector(".stars"),k=document.querySelector(".star-info"),l=document.querySelector(".sidebar-stars"),m=document.querySelector(".sidebar-tags"),n=a("showTags","Show Tags","\u2630"),o=a("hideTags","Hide Tags","\u2039"),p=a("showStars","Show Stars","\u225B"),q=a("hideStars","Hide Stars","\u2039"),r=Object.assign(document.createElement("style"),{id:"customStyle"});i.classList.add("search-stars"),j.classList.add("search-stars"),g.appendChild(n),h.appendChild(o),g.appendChild(p),i.appendChild(q),document.head.appendChild(r),k.addEventListener("click",d),n.addEventListener("click",function(){c(),h.classList.add("l-0")}),o.addEventListener("click",b),p.addEventListener("click",e),q.addEventListener("click",c),j.addEventListener("click",d),l.addEventListener("click",f),m.addEventListener("click",f),e(),r.innerHTML="#hideStars,#hideTags,#showStars,#showTags{display:none}@media only screen and (max-width:800px){.sidebar{position:absolute;overflow-y:auto;height:100vh;width:250px;left:-250px;transition:left .3s;z-index:2}.search-stars{position:absolute;top:4.5em;width:324px;left:-324px;transition:left .3s;z-index:1}#showStars,#showTags{display:block;position:absolute;left:0;padding:.25em;color:#fff;font-weight:700;font-size:1.5em;height:1.5em;width:1.5em;top:.6em}#showStars{top:3.6em;color:#3d4852}#hideTags{display:block;position:absolute;top:-8px;right:-8px;color:#fff;font-size:2rem;font-weight:700;height:1.5em;width:1.5em}#hideStars{display:block;color:#b8c2cc;font-size:2rem;font-weight:700;padding:.25em}.search-container{padding-right:0}.stars.search-stars{top:8.5em}.dashboard .star-info{grid-column:1/4;width:100vw}#starCloneUrl.github-clone-url{width:256px}header.bg-brand{width:100vw}header.bg-brand img{margin-left:1rem}.star-info-bar>button{margin-left:1.5rem}.star-info-bar>button>span,[for=starCloneUrl],header.bg-brand>img+div>span,header>div:nth-child(3)>div>span{display:none}.l-0{left:0}}"}