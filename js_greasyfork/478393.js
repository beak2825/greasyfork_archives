// ==UserScript==
// @name        Fix "You can't perform that action at this time" for Github
// @namespace   Cesar
// @match       https://github.com/*
// @grant       none
// @version     1.0
// @author      Cesar
// @license     MIT
// @description Fix issue of Github when star repo. Reference: https://github.com/orgs/community/discussions/69366
// @downloadURL https://update.greasyfork.org/scripts/478393/Fix%20%22You%20can%27t%20perform%20that%20action%20at%20this%20time%22%20for%20Github.user.js
// @updateURL https://update.greasyfork.org/scripts/478393/Fix%20%22You%20can%27t%20perform%20that%20action%20at%20this%20time%22%20for%20Github.meta.js
// ==/UserScript==

// This code is generated by ChatGPT
if (!Element.prototype.checkVisibility) {
  Element.prototype.checkVisibility = function() {
    var computedStyle = window.getComputedStyle(this);

    // Check if the element has display:none or is hidden
    if (computedStyle.display === 'none' || this.hidden) {
      return false;
    }

    // Check if the element has visibility:hidden
    if (computedStyle.visibility === 'hidden') {
      return false;
    }

    // Check if the element has content-visibility:auto and is not hidden
    if (computedStyle.contentVisibility === 'auto' && this.offsetHeight === 0) {
      return false;
    }

    // Check if the element has opacity:0
    if (computedStyle.opacity === '0') {
      return false;
    }

    return true;
  };
}