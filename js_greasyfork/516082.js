// ==UserScript==
// @name        VK Next
// @description Лучшее расширение для ВКонтакте с множеством функций, в числе которых есть эксклюзивные.
// @version     14.8.1
// @author      https://vknext.net
// @homepage    https://vknext.net
// @supportURL  https://vk.me/vknext
// @match       https://vk.com/*
// @match       https://vk.ru/*
// @match       https://vkvideo.ru/*
// @match       https://vksport.vkvideo.ru/*
// @match       https://oauth.vk.ru/blank.html
// @connect     self
// @connect     vknext.net
// @connect     api.telegram.org
// @connect     api.genius.com
// @connect     *
// @grant       GM_info
// @grant       GM_getValue
// @grant       GM_setValue
// @grant       GM_addValueChangeListener
// @grant       GM_listValues
// @grant       GM_deleteValue
// @grant       GM_xmlhttpRequest
// @grant       GM_addElement
// @grant       GM_notification
// @grant       GM_openInTab
// @grant       GM_registerMenuCommand
// @icon        https://static.vknext.net/logos/VKNext.png
// @namespace   vknext
// @noframes
// @run-at      document-start
// @downloadURL https://update.greasyfork.org/scripts/516082/VK%20Next.user.js
// @updateURL https://update.greasyfork.org/scripts/516082/VK%20Next.meta.js
// ==/UserScript==

(([window,globalThis])=>{(()=>{var __webpack_modules__={612:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(26083);const a=new n.A("vknext-storage-v2",!0);new n.A("vknext-storage").clearDatabase();const o=a},1602:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});const n=(e,t="")=>e.replace(/[«»/"`~!@#$%^&*()_|+\-=?;:'",.<>\\{\\}\\[\]\\\\/]/gi,t);var a=r(94030);const o=(e,t)=>{const r=n(t.toLowerCase()),o=r.split(" "),s=[];for(const t of e){const e=a.default.getValue("postFiltersRemoveSpecialSymbols")?n(t.trim()):t.trim();e.length&&(e.includes(" ")?r.includes(e)&&s.push(t):o.includes(e)&&s.push(t))}return{isFiltered:s.length>0,triggeredFilters:s}}},3916:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r(50313);const a=()=>(0,n.A)("vk")},4047:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});r(91988);var n=r(612);const a=class{idb;name;storage=null;inited;onInitedListeners;onChangeStorageListeners;isRestoredFromLS=!1;saveTimeout=null;saveDelay;constructor(e,{saveDelay:t,restoreFromLS:r}={}){this.name=e,this.inited=!1,this.onInitedListeners=[],this.onChangeStorageListeners=[],this.saveDelay=t||0,r&&this.restoreFromLS(),this.idb=n.A,this.updateStorage().catch(console.error),GM_addValueChangeListener(this.name,async(e,t,r)=>{this.storage=r;for(const e of this.onChangeStorageListeners)try{await e(t,r)}catch(e){console.error(e)}}),this.onInited=this.onInited.bind(this),this.addListener((e,t)=>{this.saveToLS(t)})}restoreFromLS(){try{const e=localStorage.getItem(this.name);e&&(this.storage=JSON.parse(e),this.isRestoredFromLS=!0)}catch(e){console.error(e)}}saveToLS(e){try{localStorage.setItem(this.name,JSON.stringify(e))}catch(e){console.error(e)}}get isRestored(){return this.isRestoredFromLS}async updateStorage(){let e;e=GM_getValue(this.name);const t=this.storage;this.storage=e;const r=this.storage;if(this.inited)for(const e of this.onChangeStorageListeners)try{await e(t,r)}catch(e){console.error(e)}else{this.inited=!0,this.isRestoredFromLS=!0;for(const e of this.onInitedListeners)e()}}onInited(e){this.onInitedListeners.push(e),this.inited&&e()}saveStorage(e){if(!this.inited)throw new Error(`${this.name} not inited`);const t=this.storage;this.storage=e;try{for(const e of this.onChangeStorageListeners)try{e(t,this.storage)}catch(e){console.error(e)}}catch(e){console.error(e)}null!==this.saveTimeout&&clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(async()=>{try{GM_setValue(this.name,e)}catch(e){console.error(e)}this.saveTimeout=null},this.saveDelay)}getStorage(){if(!this.inited&&!this.isRestoredFromLS)throw new Error(`${this.name} not inited`);return Array.isArray(this.storage)?[...this.storage]:{...this.storage}}addListener(e){return this.onChangeStorageListeners.push(e),{remove:()=>this.removeListener(e)}}removeListener(e){const t=this.onChangeStorageListeners.indexOf(e);-1!==t&&this.onChangeStorageListeners.splice(t,1)}}},7298:(e,t,r)=>{"use strict";r.d(t,{Ku:()=>n.K,Kr:()=>a.K,vt:()=>s,R2:()=>i.R});r(35627);var n=r(71191),a=r(74501),o=r(50313);const s=()=>(0,o.A)("MECommunityCommonContext");var i=r(91570)},7417:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});const n=e=>{"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e,{once:!0})}},7448:(e,t,r)=>{"use strict";var n;r.d(t,{r:()=>s,D:()=>a}),(n||(n={})).RELOAD_PAGE="vkb_rp";const a=n,o=new BroadcastChannel("vknext");o.addEventListener("message",({data:e})=>{if("object"==typeof e&&e.t===a.RELOAD_PAGE)window.location.reload()});const s=o},7618:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});const n=Object.freeze({MIN_CHAT_ID:2e9,MAX_CHAT_ID:21e8,UNAUTH_LONG_ID_SUBRANGE_WITH_DEVICE_ID_SIZE:5e16,UNAUTH_LONG_ID_SUBRANGE_WITHOUT_DEVICE_ID_SIZE:2**56-1,UNAUTH_LONG_ID_MIN:9e18,UNAUTH_LONG_ID_MAX:0x7e980f0d11490000,MARUSYA_UPLOAD_OWNER_MIN:593139650,MARUSYA_UPLOAD_OWNER_MAX:593139654,UNAUTH_LONG_ID_MIN_OLD:10000000001,UNAUTH_LONG_ID_MAX_OLD:11e10,FAKE_DOC_OWNER_MIN:2e9,FAKE_DOC_OWNER_MAX:2000063999,ADS_VIDEO_OWNER_MIN:16e6,ADS_VIDEO_OWNER_MAX:16000599,ADS_PHOTO_OWNER_MIN:1698e4,ADS_PHOTO_OWNER_MAX:16999999,AUDIO_FAKE_UMA_RELEASE_OWNER_MIN:-2002e6,AUDIO_FAKE_UMA_RELEASE_OWNER_MAX:-2001e6,AUDIO_FAKE_UMA_ALBUM_OWNER_MIN:-2000999999,AUDIO_FAKE_UMA_ALBUM_OWNER_MAX:-2e9,AUDIO_FAKE_UMA_OWNERS_COUNT:1e6,AUDIO_FAKE_WALL_OWNER_MIN:2e9,AUDIO_FAKE_WALL_OWNER_MAX:2000512e3,USERS_LOWER_BOUND:1,USERS_UPPER_BOUND:19e8,USERS_LOWER_BOUND_LONG:2e11,USERS_UPPER_BOUND_LONG:1e12,EMAIL_UPPER_BOUND:-2e9,CONTACTS_LOWER_BOUND:1900000001,CONTACTS_UPPER_BOUND:2e9,CALLS_PEER_LOWER_BOUND:-1899999999,CALLS_PEER_UPPER_BOUND:-189e7,ANONYMOUS_USER_PEER_ID_LOWER_BOUND:10000000001,ANONYMOUS_USER_PEER_ID_UPPER_BOUND:11e10,CHAT_OR_CHANNEL_LOWER_BOUND:2000000001,CHAT_OR_CHANNEL_UPPER_BOUND:21e8,GROUPS_LOWER_BOUND:-1e9,GROUPS_UPPER_BOUND:-1,APP_LOWER_BOUND:-1999999999,APP_UPPER_BOUND:-1e9,ALIEXPRESS_USER_ID_RANGE_START:2e9,ALIEXPRESS_USER_ID_RANGE_LENGTH:150,AD_BOT_ID_RANGE_START:2e9,AD_BOT_ID_RANGE_END:2000064e3,MARUSIA_AUDIO_FAKE_ID_MIN:2000512001,MARUSIA_AUDIO_FAKE_ID_MAX:2000512051,AUTOTEST_GROUP_ID_MIN:216720807,AUTOTEST_GROUP_ID_MAX:216820807,EXTERNAL_USER_ID_OFFSET:-19e8,APP_DOMAIN_ID_OFFSET:-1e9}),a=(e,t,r)=>t<e&&e<r,o=(e,t,r)=>t<=e&&e<=r,s=(e,t)=>e+Math.floor(Math.random()*(t-e)),i=Object.freeze({getAutotestGroupIdRand:()=>s(n.AUTOTEST_GROUP_ID_MIN,n.AUTOTEST_GROUP_ID_MAX),isAutotestGroup:e=>o(e,n.AUTOTEST_GROUP_ID_MIN,n.AUTOTEST_GROUP_ID_MAX),isGroupId:e=>e<=n.GROUPS_UPPER_BOUND&&e>n.GROUPS_LOWER_BOUND,isUserId:e=>e>=n.USERS_LOWER_BOUND&&e<n.USERS_UPPER_BOUND||e>=n.USERS_LOWER_BOUND_LONG&&e<n.USERS_UPPER_BOUND_LONG,isUserIdTransitional:e=>a(e,0,n.CONTACTS_UPPER_BOUND),isRealOwner:e=>i.isGroupId(e)||i.isUserId(e),isAudioOwner:e=>i.isRealOwner(e)||i.isUMA(e)||i.isFakeWallAudioOwner(e),isPlaylistOwner:e=>i.isRealOwner(e)||i.isUMA(e)||i.isChatOrChannelPeer(e),isOfficialPlaylist:e=>i.isUMAReleaseOwner(e)||i.isUMAAlbumOwner(e),isFakeWallAudioOwner:e=>o(e,n.AUDIO_FAKE_WALL_OWNER_MIN,n.AUDIO_FAKE_WALL_OWNER_MAX),isUMA:e=>i.isUMAReleaseOwner(e)||i.isUMAAlbumOwner(e),isUMAAlbumOwner:e=>o(e,n.AUDIO_FAKE_UMA_ALBUM_OWNER_MIN,n.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX),getUMAAlbumOwnerByShift:e=>n.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX-Math.abs(e%n.AUDIO_FAKE_UMA_OWNERS_COUNT),isUMAReleaseOwner:e=>o(e,n.AUDIO_FAKE_UMA_RELEASE_OWNER_MIN,n.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX),getUMAReleaseOwnerByShift:e=>n.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX-Math.abs(e%n.AUDIO_FAKE_UMA_OWNERS_COUNT),isEmailId:e=>e<n.EMAIL_UPPER_BOUND,isOwnerId:e=>e>=n.USERS_LOWER_BOUND?i.isUserId(e):i.isGroupId(e),isContactId:e=>a(e,n.CONTACTS_LOWER_BOUND,n.CONTACTS_UPPER_BOUND),convertContactIdToPeerId:e=>e+n.USERS_UPPER_BOUND,convertPeerIdToContactId:e=>e-n.USERS_UPPER_BOUND,isChatOrChannelPeer:e=>o(e,n.CHAT_OR_CHANNEL_LOWER_BOUND,n.CHAT_OR_CHANNEL_UPPER_BOUND),isChatId:e=>e>n.MIN_CHAT_ID&&e<=n.MAX_CHAT_ID,convertChatPeerIdToChatId:e=>e-n.CONTACTS_UPPER_BOUND,convertChatIdToChatPeerId:e=>e+n.CONTACTS_UPPER_BOUND,isAppDomain:e=>a(e,n.APP_LOWER_BOUND,n.APP_UPPER_BOUND),convertPeerIdToAppId:e=>-e+n.APP_UPPER_BOUND,convertAppIdToPeerId:e=>n.APP_UPPER_BOUND-e,isUnauthLongId:e=>o(e,n.UNAUTH_LONG_ID_MIN,n.UNAUTH_LONG_ID_MAX),isUnauthLongIdOld:e=>o(e,n.UNAUTH_LONG_ID_MIN_OLD,n.UNAUTH_LONG_ID_MAX_OLD),isMarusyaUploadOwner:e=>o(e,n.MARUSYA_UPLOAD_OWNER_MIN,n.MARUSYA_UPLOAD_OWNER_MAX),getRandomMarusyaUploadOwnerId:()=>s(n.MARUSYA_UPLOAD_OWNER_MIN,n.MARUSYA_UPLOAD_OWNER_MAX),isFakeDocOwner:e=>o(e,n.FAKE_DOC_OWNER_MIN,n.FAKE_DOC_OWNER_MAX),getFirstFakeOwnerId:()=>n.FAKE_DOC_OWNER_MIN,getRandomFirstFakeOwnerId:()=>s(n.FAKE_DOC_OWNER_MIN,n.FAKE_DOC_OWNER_MIN+64e3),getRandomFakeOwnerId:()=>n.FAKE_DOC_OWNER_MIN+(Math.floor(Date.now()/1e3)/173+s(0,999))%64e3,isAdsVideoOwner:e=>o(e,n.ADS_VIDEO_OWNER_MIN,n.ADS_VIDEO_OWNER_MAX),getRandomAdsVideoOwner:()=>s(n.ADS_VIDEO_OWNER_MIN,n.ADS_VIDEO_OWNER_MAX),isAdsPhotoOwner:e=>o(e,n.ADS_PHOTO_OWNER_MIN,n.ADS_PHOTO_OWNER_MAX),getRandomAdsPhotoOwner:()=>s(n.ADS_PHOTO_OWNER_MIN,n.ADS_PHOTO_OWNER_MAX),isZeroOwner:e=>0===e,convertEmailIdToEmailPeerId:e=>i.isEmailId(e)?-e+n.EMAIL_UPPER_BOUND:0,isZeroOwnerDeprecated:e=>!!e||i.isZeroOwner(e),isExternalUser:e=>a(e,n.EMAIL_UPPER_BOUND,n.EXTERNAL_USER_ID_OFFSET),isExternalUserDeprecated:e=>a(e,n.EMAIL_UPPER_BOUND,n.APP_DOMAIN_ID_OFFSET),isAnonymousCallPeerId:e=>a(e,n.CALLS_PEER_LOWER_BOUND,n.CALLS_PEER_UPPER_BOUND),isAnonymousUserPeerId:e=>a(e,n.ANONYMOUS_USER_PEER_ID_LOWER_BOUND,n.ANONYMOUS_USER_PEER_ID_UPPER_BOUND),getAnonymousCallUserByShift(e){const t=n.CALLS_PEER_UPPER_BOUND-n.CALLS_PEER_LOWER_BOUND,r=(e%t+t)%t;return n.CALLS_PEER_UPPER_BOUND-1-r},isValidAliExpressOrderUserId:e=>e>=n.ALIEXPRESS_USER_ID_RANGE_START&&e<=n.ALIEXPRESS_USER_ID_RANGE_START+n.ALIEXPRESS_USER_ID_RANGE_LENGTH,generateAliexpressOrderUserId:()=>s(n.ALIEXPRESS_USER_ID_RANGE_START,n.ALIEXPRESS_USER_ID_RANGE_START+n.ALIEXPRESS_USER_ID_RANGE_LENGTH),isADBot:e=>o(e,n.AD_BOT_ID_RANGE_START,n.AD_BOT_ID_RANGE_END),getMarusiaAudioFakeId(e){const t=n.MARUSIA_AUDIO_FAKE_ID_MAX-n.MARUSIA_AUDIO_FAKE_ID_MIN;return n.MARUSIA_AUDIO_FAKE_ID_MIN+e%t},isMarusiaAudioFakeId:e=>a(e,n.MARUSIA_AUDIO_FAKE_ID_MIN,n.MARUSIA_AUDIO_FAKE_ID_MAX),isOwnerIdTransitional:e=>e>n.USERS_LOWER_BOUND?i.isUserIdTransitional(e):i.isGroupId(e),convertGroupIdToOwnerId:e=>-e,convertGroupIdToOwnerIdStrict:e=>-Math.abs(e),convertOwnerIdToGroupId:e=>Math.abs(e)})},8587:(e,t,r)=>{"use strict";var n,a,o;r.d(t,{$:()=>o,N:()=>n}),(a=n||(n={})).VKNEXT="vknext",a.THEMES="Themes",a.TELEGRAM_STICKERS="telegramStickers",a.TOKENS="tokens",a.STORAGE_MESSAGES="StorageMessages",a.DELETED_MESSAGES="VKNDeletedMessages",a.EXPIRED_MESSAGES="VKNExpiredMessages",a.TEMPLATES="VKN_templates",a.AUDIO_MESSAGES="audioMessages",a.SPYNING="spyning",a.WALLPAPER="wallpaper",a.CHAT_STATS="chatStats",a.LOCAL_RENAME="localRename",(o||(o={})).PRIME_STATUS="primeStatus"},8773:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(10784);const a={saveConfig:!1,hideUsersCovers:!1,ads:!0,adsPost:!0,adsPostCopyright:!1,adsSpyning:!0,disableAnalytics:!0,wideNewsFeed:!1,friends_recomm:!0,groups_recomm:!0,post_recomm:!0,clips_recomm:!0,video_recomm:!0,podcast_recomm:!0,apps_recomm:!0,narratives_recomm:!0,services_recomm:!0,customFilter:"",defaultFilter:!1,filterShortLinks:!1,filterRefLinks:!1,newDesignGroups:!1,alternativeHeader:!0,headerMoon:!0,alternativeScrollBar:!1,groupsCascaded:!1,shrikingStoryBlock:!1,rounding:!1,roundingAngle:10,casper:!1,emojiCasper:!1,chatsRight:!1,garland:!1,hideRecentGroups:!0,theme:!1,animations:!1,firstTheme:"light",secondTheme:"vknext_gray",currentTheme:"light",accent:null,accents:[],backgroundSize:"cover",backgroundPosition:"center",backgroundBlur:0,backgroundBrightness:100,backgroundContrast:100,customFont:"",activeFont:null,customLogo:"",alternativeStickerPanel:!1,vkSquare:!1,animatedSplash:!1,nodeleteall:!1,hookBombs:!1,showDeletedMsg:!0,showBombsMsg:!1,decrypt:!0,graffitiReduce:!1,dialogRight:!1,silentread_all:!1,silentreadusers:!1,silentreadchats:!1,silentreadbots:!1,silentreadgim:!1,silentwrite_all:!1,silentwriteusers:!1,silentwritechats:!1,silentwritebots:!1,silentwritegim:!1,silentreadexcl:[],silentreadincl:[],silentwriteexcl:[],silentwriteincl:[],encryptMessagesType:"",sendCasper:!1,silentMsg:!1,sendCasperTime:15,silentreadinclgim:{},silentreadexclgim:{},silentwriteinclgim:{},silentwriteexclgim:{},downDialogsWay:"txt",includeAttsInTxt:!1,prettyPrintInDownJson:!1,hideBlacklisted:!1,callsConfirmation:!0,noonline:!1,silentnotify:!1,alternativeWriteBar:!1,silentListen:!1,deleteTodayMessages:!0,hideGearSettings:!1,leftNavHide:!1,fixedLeftMenu:!1,sideBarBlock:n.f.DEFAULT,sideBarOnlyIcons:!1,sideBarHideRecommendations:!0,vkcc:!0,short_params:!1,flex_name:!1,changeIconsAppsAndGroups:!0,leftHideList:[],customSideBar:[{name:"Новости VK Next",link:"https://vk.ru/vknext",icon:"logo_vk_outline_28",target:"_blank"},{name:"Привилегии",link:"https://vk.ru/donut/vknext",icon:"donate_outline_28",target:"_blank"},{name:"Чат VK Next",link:"https://vk.ru/vknext?w=chats-207165415",icon:"messages_outline_28",target:"_blank"}],leftChange:{},currentOnline:!1,compactLeftMenu:!1,prof_info:!0,notifyFriendRemove:!1,colorFriends:!1,colorFriendsColor:"#4bb34b",colorGroups:!1,colorGroupsColor:"#0ff",hotKeys:{},alternativeProfileUrl:"",away:!0,viewPollNotVoting:!1,photoScroll:!1,galo4kiVT:!1,galo4kiSova:!1,galo4kiVKN:!0,galo4kiMp3:!1,galo4kiCoffee:!1,galo4kiVKXPlus:!1,galo4kiVkTea:!1,id3:!0,downPlaylistsWay:1,curEqualizer:[0,0,0,0,0,0,0,0,0,0],curPreset:"Flat",curVolume:.476,numTracksInPlaylist:!0,curRepeat:null,equalization:!1,voicePlaybackRate:1,voiceVolume:1,customLogoUrl:"",customEmoji:"vk",silentstories:!1,offlinebypass:!1,spyFriendOnline:!1,spyFriendOffline:!1,spyRemoveFriend:!1,spyReadMessage:!1,spyTyping:!1,spyNotifyVK:!1,spyNotifySystem:!1,spyNotCurPeer:!1,spySound:"",spyDisableSound:!1,ignoreIncomingCalls:!1,enableBtnTemplate:!0,enableBtnGraffiti:!0,enableBtnAudio:!0,enableBtnVideoMessage:!0,enableBtnOptions:!0,enableBtnExtendedDel:!0,enableBtnFav:!0,enableBtnStickers:!0,enableBtnMentions:!0,enableBtnRename:!0,enableBtnShared:!0,enableBtnChangePhoto:!0,enableBtnDlVoice:!0,enableBtnDlStories:!0,enableBtnDlPhoto:!0,enableBtnDlAlbums:!0,enableBtnDlVideo:!0,enableBtnDlMusic:!0,enableBtnDlPlaylists:!0,enableBtnText:!0,enableBtnDlEqualizer:!0,enableBtnDlPlaylistPhoto:!0,enableCheckNewVersionModal:!0,paintingMiniApps:!1,checkingUpdateInBackground:!1,hints8:[],hideOldButtonEdit:!1,hideNoSortedSettings:!1,settingsInSections:!1,typeSettingsSelected:!1,voiceEnhancer:!1,emojiSuggestions:!1,bypassMusic:!1,lastfm:!1,autoThemeChange:!1,hidableBlocks:!1,VKNclearCacheParams:{msgDeleted:!1,msgAll:!1,themes:!1,msgExpired:!1,auth:!1,chatStats:!1,localRename:!1,authVKME:!1},genius:!1,logoNY2023:!1,nyBackgroundSnowFlake:!1,nyPageHeaderGarland:!1,showAdminsChat:!1,hideLeftCount:!1,scalePhoto:!1,changePhotoWay:3,videoMessageShapeId:1,appleMessageReactions:!1,inlineCommandPrefix:"@",useInlinePic:!0,useInlineGif:!1,useInlineVid:!1,useInlineWiki:!1,useInlineBaiChat:!1,inlineRemoveWatermark:!1,showMessageHistory:!1,currentSettingsLang:-1,extendedMessageMenu:!0,openSettingsInNewTab:!1,stickersSize:0,showAttachDownloadButtons:!0,themeEditor:!1,downloadChatHistorySplit:!0,downloadChatHistoryPrettyPrint:!1,downloadChatHistoryFormat:"txt",alternativeTopPlayer:!0,alternativeProfile:!1,customLogoNew:null,hideUnreadReactions:!1,musicRemoveAds:!0,musicExplicitIcon:!0,postFiltersMark:!1,postFiltersRemoveSpecialSymbols:!1,downloadChatHistoryAttaches:{},hideStoriesFeed:!1,showBitrateNearDuration:!1,checkBetaUpdate:!0,actionAfterUpdate:"page",videoGrid:!0,messagesSaveMode:"background",numPhotosOnAlbumDownload:!0,keepOriginalPhotoNamesDownload:!1,enablePostFiltersInGroups:!0,audioConvertMethod:n.M.HLS,oldPostDesign:!0,oldPosting:!1,expandTextPost:!1,redirectToMyAllGroups:!0,hideConvoListFooter:!1,hideStlNav:!1}},8841:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=1024,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=(e,t=1)=>{if(Math.abs(e)<n)return`${e.toFixed(t)} ${a[0]}`;let r=0;const o=10**t;do{e/=n,r++}while(Math.round(Math.abs(e)*o)/o>=n&&r<a.length-1);return`${e.toFixed(t)} ${a[r]}`}},10180:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(22961);const a=(e=n.S.Russian)=>/^ru\b/.test(navigator.language)?n.S.Russian:/^uk\b/.test(navigator.language)?n.S.Ukrainian:/^en\b/.test(navigator.language)?n.S.English:/^de\b/.test(navigator.language)?n.S.German:/^pl\b/.test(navigator.language)?n.S.Polish:/^kk\b/.test(navigator.language)?n.S.Kazakh:/^be\b/.test(navigator.language)?n.S.Belarusian:e},10784:(e,t,r)=>{"use strict";var n,a,o,s;r.d(t,{M:()=>o,f:()=>n}),(a=n||(n={})).DEFAULT="default",a.SOLID_BLOCK="solid_block",a.SEPARATE_BLOCKS="separate_blocks",(s=o||(o={})).FFMPEG="ffmpeg",s.HLS="hlsjs"},11414:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{r(27358);var n=r(10784),a=r(56875),o=r(7417),s=r(79110),i=r(21491),c=r(94030),d=r(40048),l=r(32935),_=r(88018);const e=()=>r.e(2932).then(r.bind(r,32932)),u=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(4014),r.e(1913)]).then(r.bind(r,69458)),h=()=>r.e(8873).then(r.bind(r,78873)),f=()=>r.e(4084).then(r.bind(r,84084)),p=()=>r.e(735).then(r.bind(r,735)),m=()=>{if(c.default.getValue("vkcc"))return!0;const e=c.default.getValue("customSideBar")||[];return!!(Array.isArray(e)&&e.length>0)},g=()=>{if(m())return void u().catch(console.error);const{remove:e}=c.default.addListener(()=>{m()&&(u().catch(console.error),e())})},b=()=>Object.keys(c.default.getValue("leftChange")||{}).length>0,A=()=>{if(b())return void f().catch(console.error);const{remove:e}=c.default.addChangeKeyListener("leftChange",()=>{b()&&(f().catch(console.error),e())})};if((0,d.A)()){(0,l.A)("currentOnline",p),(0,s.g)(()=>{(0,l.A)("changeIconsAppsAndGroups",e),(0,l.A)("flex_name",h)}),(0,o.n)(()=>{c.default.onInited(g),c.default.onInited(A),r.e(4104).then(r.bind(r,14104)).catch(console.error)});const t=await(0,i.T)(_.A.sideBarSolidBlock);(0,i.A)("compactLeftMenu",_.A.compactLeftMenu),(0,i.A)("fixedLeftMenu",_.A.fixedLeftMenu),(0,i.A)("hideGearSettings",_.A.hideBtnSettings),(0,i.A)("hideLeftCount",_.A.hideCounters),(0,i.A)("leftNavHide",_.A.hideLeftNav),(0,i.A)("sideBarHideRecommendations",_.A.hideRecommendations),(0,i.A)("sideBarOnlyIcons",_.A.onlyIcons),c.default.onInited(async()=>{let e=c.default.getValue("sideBarBlock");"boolean"==typeof e&&(e=e?n.f.SOLID_BLOCK:n.f.DEFAULT,c.default.setValue("sideBarBlock",e));const r=await(0,a.h)();e===n.f.SOLID_BLOCK?r.appendChild(t):r.contains(t)&&r.removeChild(t)}),c.default.addChangeKeyListener("sideBarBlock",async(e,r)=>{const o=await(0,a.h)();r===n.f.SOLID_BLOCK?o.contains(t)||o.appendChild(t):o.contains(t)&&o.removeChild(t)})}t()}catch(e){t(e)}},1)},11601:(e,t,r)=>{"use strict";r(27358);var n=r(88575),a=r(69822),o=r(41983),s=r(94030);s.default.onInited(()=>{(0,n.A)(e=>{const[t,r,n]=e;if("al_im.php"===t&&r?.act){if("a_mark_read"===r.act&&(0,a.A)(r.peer||0,r.gid||0))return n?.onFail&&n.onFail(new Error("stop")),!0;if("a_activity"===r.act&&(0,o.A)(r.peer||0,r.gid||0))return n?.onFail&&n.onFail(new Error("stop")),!0}return!1})});var i=r(91570),c=r(3916),d=r(58648),l=r(21526);const _=["me_fc_message_actions","me_message_selecting","vkm_profile_info_screen_name","vkm_settings_experimental","vkm_hide_forward_author","me_community_messages_enabled","vkm_convo_forbid_writing_all","vkm_message_preview_on_hover","vkm_recommended_folders","vkm_settings_hide_suggested","vkm_send_private_message_link","vkm_stickers_popup","vkm_media_share","vkm_delete_chat","vkm_new_chunk_parser","vkm_photo_save_to_album","vkm_media_viewer_report","vkm_chat_list_collapse","vkm_compact_mode_button_switch","vkm_members_search_pagination","vkm_convo_antispam_card","vkm_settings_privacy","vas_gifts_random_pack","vkm_birthday_sticker_pack","vkm_chat_restore"],u=()=>{window.vk&&(window.vk.pe||(window.vk.pe={}),window.vk.pe.vkm_reforged_in_vkcom=1,window.vk.pe.vkm_reforged_enable_layout_switch=1,window.vk.pe.vkm_hide_forward_author=1)};(0,n.A)(e=>{if(u(),"al_im.php"===e[0]&&("im"===e[1]?.__query||"al_im.php"===e[1]?.__query)){const t=e[2].onDone;e[2].onDone=function(...e){const r=Reflect.apply(t,this,e);return r instanceof Promise?r.finally(u):u(),r}}return e}),(0,l.s)(e=>{if(!e.store.featureFlags)return;const t=e.store.featureFlags;for(const e of _)t[e]=!0;t.vkm_new_forward=!1,t.vkm_reactions||(t.vkm_reactions=20),t.vkm_bubble_theme_default_value||(t.vkm_bubble_theme_default_value=1),t.vkm_mediascope_collect=!1}),(async()=>{(0,c.P)().then(u);const e=await(0,i.R)();(0,d.A)(u),e.addNavigationStartListener&&e.addNavigationStartListener(u)})().catch(console.error);var h=r(7417),f=r(79110),p=r(21491),m=r(40048),g=r(15169),b=r(32935);const A={dialogRight:r.p+"styles/ef8f0e65.vknext.css",alternativeWriteBar:r.p+"styles/ac2347a3.vknext.css",hideConvoListFooter:r.p+"styles/f46dc808.vknext.css",graffitiReduce:r.p+"styles/816531ff.vknext.css",appleMessageReactions:r.p+"styles/d2090e00.vknext.css"},w=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(8414),r.e(4014),r.e(11),r.e(8579)]).then(r.bind(r,79076)),v=()=>Promise.all([r.e(4014),r.e(4642)]).then(r.bind(r,91219)),E=()=>r.e(3951).then(r.bind(r,53951)),k=()=>Promise.all([r.e(4014),r.e(4972)]).then(r.bind(r,453)),y=()=>Promise.all([r.e(4014),r.e(7528)]).then(r.bind(r,78153)),S=()=>r.e(5165).then(r.bind(r,95165)),O=()=>Promise.all([r.e(4014),r.e(7005)]).then(r.bind(r,10158)),T=()=>Promise.all([r.e(4014),r.e(5012)]).then(r.bind(r,49965)),I=()=>r.e(333).then(r.bind(r,20333)),P=()=>Promise.all([r.e(4014),r.e(3838)]).then(r.bind(r,22887));(0,m.A)()&&((0,b.A)(["nodeleteall","showDeletedMsg","showBombsMsg","hookBombs"],v),(0,f.g)(()=>{(0,b.A)("showAdminsChat",w),(0,b.A)("callsConfirmation",E),(0,b.A)("enableBtnTemplate",k),(0,b.A)("enableBtnOptions",y),(0,b.A)("enableBtnFav",S),(0,b.A)("decrypt",O),(0,b.A)("showDeletedMsg",T),(0,b.A)("encryptMessagesType",I),s.default.onInited(()=>{const e=()=>{const e=(()=>{if(s.default.getValue("useInlinePic"))return P;const e=s.default.getValue("useInlineGif"),t=s.default.getValue("useInlineVid"),r=s.default.getValue("useInlineWiki");return!!(e||t||r)&&(0,g.A)(P)})();e&&e().catch(console.error)};e(),s.default.addListener(e)})}),(0,h.n)(()=>{r.e(7201).then(r.bind(r,57201)).catch(console.error),Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(4014),r.e(5700)]).then(r.bind(r,18957)).catch(console.error)}),(0,p.A)("dialogRight",A.dialogRight),(0,p.A)("hideConvoListFooter",A.hideConvoListFooter),(0,p.A)("appleMessageReactions",A.appleMessageReactions),(0,p.A)("graffitiReduce",A.graffitiReduce),(0,p.A)("alternativeWriteBar",A.alternativeWriteBar))},11660:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=async(e,t)=>{{const r=new Request(e,t);if(r.signal.aborted)throw new DOMException("Network request aborted.","AbortError");const n=await r.arrayBuffer(),a=n.byteLength?(new TextDecoder).decode(n):void 0,o=Object.fromEntries(r.headers);return new Headers(t?.headers).forEach((e,t)=>{o[t]=e}),new Promise((e,t)=>{let n=!1;const s=new Promise(i=>{const{abort:c}=GM_xmlhttpRequest({method:r.method.toUpperCase(),url:r.url||location.href,headers:o,data:a,redirect:r.redirect,binary:!0,nocache:"no-store"===r.cache,revalidate:"reload"===r.cache,timeout:3e5,responseType:"blob",overrideMimeType:r.headers.get("Content-Type")??void 0,anonymous:"omit"===r.credentials,onload:({response:e})=>{i(n?null:e)},async onreadystatechange({readyState:t,responseHeaders:a,status:o,statusText:d,finalUrl:l,response:_}){if(t===XMLHttpRequest.DONE)r.signal.removeEventListener("abort",c);else if(t!==XMLHttpRequest.HEADERS_RECEIVED)return;if(n)return void i(null);const u=function(e){const t=new Headers,r=e.replace(/\r?\n[\t ]+/g," ");for(const e of r.split(/\r?\n/)){const r=e.split(":"),n=r.shift()?.trim();if(n){const e=r.join(":").trim();try{t.append(n,e)}catch(e){console.warn(`Response ${e.message}`)}}}return t}(a),h=r.url!==l,f=new Response(_ instanceof ReadableStream?_:await s,{headers:u,status:o,statusText:d});Object.defineProperties(f,{url:{value:l},type:{value:"basic"},...f.redirected!==h?{redirected:{value:h}}:{},...u.has("set-cookie")||u.has("set-cookie2")?{headers:{value:u}}:{}}),e(f),n=!0},onerror:({statusText:e,error:r})=>{t(new TypeError(e||r||"Network request failed.")),i(null)},ontimeout(){t(new TypeError("Network request timeout.")),i(null)},onabort(){t(new DOMException("Network request aborted.","AbortError")),i(null)}});r.signal.addEventListener("abort",c)})})}}},11888:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(25393),a=r(61054);class o extends n.n{async call(e,t){const r=await(0,a.V)();return await r.api(e,t||{})}_anonymToken;_anonymTokenExpires;async getAnonymToken(){if(this._anonymToken&&this._anonymTokenExpires&&Date.now()<this._anonymTokenExpires)return this._anonymToken;const e=await(0,a.V)(),{access_token:t,expires:r}=await e.login("get_anonym_token",{client_secret:"QbYic1K3lEV5kTGiqlq2",client_id:6287487,scopes:"audio_anonymous,video_anonymous,photos_anonymous,profile_anonymous",isApiOauthAnonymEnabled:!1});return this._anonymToken=t,this._anonymTokenExpires=r,t}}const s=new o({getToken:async()=>""})},13364:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(48913),a=r(25998),o=r(51018);const s=e=>{const t=new o.e,r=r=>{let n=r[e];Object.defineProperty(r,e,{get:()=>n,set:e=>{n=e;for(const e of t.listeners)try{e(n)}catch(e){console.error(e)}return!0},configurable:!0,enumerable:!0})};let s=!1;const i=async o=>{s||(s=!0,await(async()=>{let o=await(0,n.e)();r(o),(0,a.A)(n=>{if(o[e]!==n[e])for(const r of t.listeners)try{r(n[e])}catch(e){console.error(e)}r(n),o=n})})());o((await(0,n.e)())[e])};return e=>{const r=t.addListener(e);return i(e),r}}},13451:(e,t,r)=>{"use strict";r.d(t,{Ln:()=>o,NS:()=>a,sr:()=>s});const n=e=>`_${e}_${Math.random().toString(36).substring(2,10)}`,a=()=>n("mbs"),o=()=>n("ibs"),s=()=>n("vknext")},13536:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(54251);const a=e=>(0,n.A)("Wall",e)},15169:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=()=>Promise.resolve();var a=r(62942);const o=e=>async()=>await(0,a.default)()?e():n()},15816:(e,t,r)=>{"use strict";const n=["ad.mail.ru","/al_video.php?act=ads_stat","/dist/web/ads_light","/ads_rotate","js/lib/px.js"],a=["trk.mail.ru","mc.yandex.ru/metrika/watch.js","rs.mail.ru","google-analytics.com/analytics.js","*.ms.vk.com","*.ms.vk.ru","/dist/core_spa/error_monitoring.isolated.*.js"],o=["tracker-api.my.com","top-fwz1.mail.ru/js/code.js","r.mail.ru","tns-counter.ru","stats.vk-portal.net/uxzoom","stat.pladform.ru","stats.vk-portal.net/web-stats"];var s=r(39542),i=r(11660),c=r(94030);const d="VKAndroidApp/8.22-15699 (Android 13; SDK 33; arm64-v8a; VK Next; ru; 2400x1080)",l=(e,t)=>{try{if(!t.includes)return!1;for(let r of e)if(r&&t.includes(r))return!0}catch(e){console.error(e)}return!1},_=e=>(!c.default.getValue("ads")||!l(n,e))&&((!c.default.getValue("adsSpyning")||!l(o,e))&&(!c.default.getValue("disableAnalytics")||!l(a,e))),u=(e,t)=>{setTimeout(()=>{e.onerror&&(e.onerror(new Event("error")),e.remove())},1e3)},h=()=>{Object.defineProperty(HTMLScriptElement.prototype,"src",{set:function(e){return _(this)?this.setAttribute("src",e):u(this),!0}}),Object.defineProperty(HTMLImageElement.prototype,"src",{set:function(e){return _(this)?this.setAttribute("src",e):u(this),!0}}),Object.defineProperty(HTMLIFrameElement.prototype,"src",{set:function(e){return _(this)?this.setAttribute("src",e):u(this),!0}});const e=(0,s.A)(),t=e.fetch;e.fetch=function(...e){try{const t=e[0],r=e[1],n=t instanceof URL?t.href:`${t}`;if(_(n)||(e[0]="file://"),n&&n.includes("client_id=6146827")){const e=r?{...r}:{};return e.headers||(e.headers={}),e.headers instanceof Headers?e.headers.set("User-Agent",d):Array.isArray(e.headers)?e.headers.push(["User-Agent",d]):e.headers["User-Agent"]=d,(0,i.A)(t,e)}}catch(e){console.error("[VK Next/scriptHook] fetch error",e)}return Reflect.apply(t,this,e)}};c.default.onInited(h)},19185:(e,t,r)=>{"use strict";r(27358);var n=r(15169),a=r(32935),o=r(40048);const s=(0,n.A)(()=>r.e(3955).then(r.bind(r,23955))),i=()=>r.e(3573).then(r.bind(r,13573)),c=()=>r.e(441).then(r.bind(r,60441)),d=(0,n.A)(()=>r.e(188).then(r.bind(r,20188)));(0,o.A)()&&((0,a.A)("silentstories",s),(0,a.A)("silentnotify",i),(0,a.A)("noonline",c),(0,a.A)("offlinebypass",d))},19709:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=globalThis.location.host.split(".");let a;a="vk"!==n[0]?"vk.ru":`vk.${n[n.length-1]||"ru"}`;const o=a},20725:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(e=window.location)=>"oauth.vk.ru"===e.host||"oauth.vk.com"===e.host},21230:(e,t,r)=>{var n={"./Belarusian":[13466,3466],"./Belarusian.ts":[13466,3466],"./English":[84536,4536],"./English.ts":[84536,4536],"./German":[4812,4812],"./German.ts":[4812,4812],"./Kazakh":[56228,6228],"./Kazakh.ts":[56228,6228],"./Polish":[42043,2043],"./Polish.ts":[42043,2043],"./Portuguese, Brazilian":[37797,7797],"./Portuguese, Brazilian.ts":[37797,7797],"./Soviet":[54688,4688],"./Soviet.ts":[54688,4688],"./Ukrainian":[81478,1478],"./Ukrainian.ts":[81478,1478],"./default":[73749,3749],"./default.ts":[73749,3749]};function a(e){if(!r.o(n,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],a=t[0];return r.e(t[1]).then(()=>r(a))}a.keys=()=>Object.keys(n),a.id=21230,e.exports=a},21491:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,T:()=>c});var n=r(56875),a=r(11660),o=r(54222),s=r(94030);const i=new Map,c=async e=>{if(i.has(e))return i.get(e);e.startsWith("/")&&await(0,o.A)(e);let t;try{const r=await(0,a.A)(e,{method:"GET"}),n=await r.text(),o=document.createElement("style");o.textContent=n,t=o}catch(e){throw console.error("Failed to load CSS via gmFetch:",e),e}return i.set(e,t),t},d=async(e,t,r)=>{const a=await c(t),o=async()=>{const e=await(0,n.h)();e.contains(a)||e.appendChild(a)},i=async()=>{const e=await(0,n.h)();e.contains(a)&&e.removeChild(a)},d=async e=>{if("boolean"==typeof e)return r?e&&await r()?o():i():e?o():i();o(),i()};s.default.onInited(()=>{const t=s.default.getValue(e);d(t)}),s.default.addChangeKeyListener(e,(e,t)=>{d(t)})}},21526:(e,t,r)=>{"use strict";r.d(t,{s:()=>p});var n=r(51018),a=r(7417),o=r(79110),s=r(7298);const i=new n.e,c=Symbol(),d=e=>{if(!e[c]){e[c]=!0;for(const t of i.listeners)t(e)}};let l=!1;const _=async()=>{if(l)return;l=!0;const e=await(0,s.vt)();l=!1,e&&d(e)},u=async()=>{const e=await(0,s.Kr)();if(e&&(d(e),window.MECommunityCommonContext)){const e=await window.MECommunityCommonContext;e&&d(e)}},h=()=>{u().catch(console.error),_().catch(console.error)};let f=!1;const p=e=>{const t=i.addListener(e);return f?[window.MECommonContext,window.MECommunityCommonContext].forEach(t=>{t&&(t instanceof Promise?t.then(e):e(t))}):(f=!0,(async()=>{u().catch(console.error),(await(0,s.R2)()).onLocationChange(e=>{e.startsWith("gim")&&_().catch(console.error)})})().catch(console.error),(0,a.n)(h),(0,o.g)(h)),t}},22707:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=()=>new Promise(e=>requestAnimationFrame(e))},22961:(e,t,r)=>{"use strict";var n;r.d(t,{S:()=>n}),function(e){e[e.Russian=0]="Russian",e[e.Ukrainian=1]="Ukrainian",e[e.English=3]="English",e[e.German=6]="German",e[e.Polish=15]="Polish",e[e.Kazakh=97]="Kazakh",e[e.Belarusian=114]="Belarusian",e[e.Soviet=777]="Soviet",e[e.PortugueseBrazilian=73]="PortugueseBrazilian",e[e.Romanian=54]="Romanian",e[e.Spanish=4]="Spanish",e[e.Turkish=82]="Turkish",e[e.Hindi=76]="Hindi"}(n||(n={}))},23058:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(e,t=0)=>e.charCodeAt(t)},23659:(e,t,r)=>{"use strict";var n,a;r.d(t,{A:()=>o}),(a=n||(n={})).Settings="settings",a.ServiceWorker="serviceWorker",a.VKCOM="vkcom",a.ChatHistory="chatHistory";const o=n},24003:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=()=>{}},25393:(e,t,r)=>{"use strict";r.d(t,{n:()=>c});var n=r(49370),a=r(92046),o=r(11660),s=r(99833),i=r(19709);class c{options;_getToken;constructor({version:e,appId:t,getToken:r,language:n,onError:a,onErrorValidToken:o,exchange_token:i,onChangeToken:c}){if(void 0===r)throw new Error("getToken not found");this.options={exchange_token:i,appId:t,getToken:r,onError:a,onErrorValidToken:o,onChangeToken:c,version:e||"5.246",language:n||"ru"},this._getToken=r;for(const e of s.A)this[e]=new Proxy(Object.create(null),{get:(t,r)=>t=>this.call(`${e}.${r}`,t)})}async updateToken(){const{promise:e,resolve:t}=(0,n.default)(),{exchange_token:r,appId:a}=this.options;if(!r)return t();if(!a)return t();const s=new URLSearchParams({client_id:a.toString(),exchange_token:r,scope:"all"}),c=`https://oauth.${i.A}/auth_by_exchange_token?${s.toString()}`;{const e=await(0,o.A)(c,{method:"GET"}),r=new URLSearchParams(new URL(e.url).hash).get("#access_token");return this.options.token=r||"",this.options.exchange_token="",r&&this.options.onChangeToken&&await this.options.onChangeToken(r),t()}}async call(e,t,n=0){try{this.options.token||(this.options.token=await this.options.getToken());const o=await fetch(`https://api.${i.A}/method/${e}`+(this.options.appId?`?client_id=${this.options.appId}`:""),{method:"POST",body:new URLSearchParams({access_token:this.options.token,lang:this.options.language||"ru",v:this.options.version,...t}),headers:{"content-type":"application/x-www-form-urlencoded"}}),s=await o.json();try{const{checkCaptchaError:a,CheckCaptchaType:i}=await r.e(217).then(r.bind(r,90217)),{captchaType:c,captchaWidget:d}=a({responseHeaders:o.headers,url:o.url,responseError:s.error,withWidget:!0});if(c&&c!==i.UNKNOWN&&d)try{const r=await d.show({container:document.body,view:"popup"});this.call(e,{...t,success_token:r},n+1)}catch(e){console.error(e)}}catch(e){console.error(e)}const c=s?.error?.error_code;if(c&&n>5){const t=new Error(`[VK API] error call ${e}: ${JSON.stringify(s.error)}`);throw this.options.onError&&this.options.onError(t,s.error),t}const d=()=>this.call(e,t,n+1);return 1117===c&&this.options.exchange_token&&this.options.appId?(await this.updateToken(),d()):[1,5,38,3610].includes(c)?(this.options.onErrorValidToken&&this.options.onErrorValidToken(),this.options.token=await this.options.getToken(),d()):6===c||10===c?(await(0,a.c)(1e3),d()):s.response?s.response:s}catch(e){throw console.error(e),new Error(e)}}execute(e){return this.call("execute",e)}}},25998:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(51018),a=r(54251),o=r(48913);const s=new n.e;let i=!1;const c=e=>{const t=s.addListener(e);return(async e=>{i?await(0,o.e)():(i=!0,(0,a.A)("cur",e=>{for(const t of s.listeners)try{t(e)}catch(e){console.error(e)}})),e(window.cur)})(e),t}},26083:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=class{dbName;fixValue;constructor(e,t){this.dbName=e,this.fixValue=t||!1}open(){return new Promise((e,t)=>{const r=indexedDB.open(this.dbName);r.onupgradeneeded=()=>{this.fixValue?r.result.createObjectStore("db"):r.result.createObjectStore("db",{keyPath:"key"})},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)})}async get(e){const t=await this.open(),r=new Promise(r=>{const n=t.transaction("db","readwrite").objectStore("db").get(e);n.onsuccess=()=>{const e=n.result;r(e?.key&&"val"in e?e?.val:e)}});return r.finally(()=>t.close()),await r}async set(e,t){const r=await this.open(),n=r.transaction("db","readwrite").objectStore("db"),a=this.fixValue?n.put(t,e):n.put({key:e,val:t}),o=new Promise((e,t)=>{a.onsuccess=()=>e(),a.onerror=()=>t(a.error)});return o.finally(()=>r.close()),await o}async remove(e){const t=await this.open(),r=t.transaction("db","readwrite").objectStore("db"),n=new Promise((t,n)=>{const a=r.delete(e);a.onsuccess=()=>t(),a.onerror=()=>n(a.error)});return n.finally(()=>t.close()),await n}clearDatabase(){return new Promise((e,t)=>{let r=indexedDB.deleteDatabase(this.dbName);r.onerror=()=>t(r.error),r.onblocked=()=>t("База данных заблокирована"),r.onsuccess=()=>e(r.result)})}}},26784:(e,t,r)=>{"use strict";var n=r(83043),a=r(13364),o=r(94030),s=r(8841),i=r(46257),c=r(1602);const d=e=>{if(!e.text)return!1;try{if(o.default.getValue("postFiltersMark"))return!1;const t=o.default.getValue("customFilter"),{isFiltered:r}=(0,c.m)(t.split(","),e.text);return r}catch(e){console.error(e)}return!1};var l=r(7618);const _=e=>{if(e.copy_history)for(const t of e.copy_history)_(t);if(!e.attachments)return;let t=!1;for(const r of e.attachments){const e="on_media"===r.style||"full"===r.style;if("audio"===r.type&&e){t=!0;const e=r.audio,n=e?.thumb;r.style="compact",r.compact={icons:[{name:"song_outline",sizes:[]}],title:{text:{text:e.title}},description:{text:{text:e.artist}}},n?.photo_270&&r.compact.icons[0].sizes.push({height:270,type:"x",width:270,url:n.photo_270})}if("audio_playlist"===r.type&&e){t=!0;const e=r.audio_playlist,n=e?.photo;r.style="compact",r.compact={icons:[{name:"playlist_outline",sizes:[]}],title:{text:{text:e.title}},description:{text:{text:e.description}}},n?.photo_270&&r.compact.icons[0].sizes.push({height:270,type:"x",width:270,url:n.photo_270})}if("doc"===r.type&&"chip"===r.style){const e=r.doc;if(r.style="compact",r.compact={icons:[{name:"document_outline",sizes:[]}],title:{text:{text:e.title}},description:{text:{text:(0,s.A)(e.size||0)}}},e.preview?.photo?.sizes){const t=(0,i.A)(e.preview.photo.sizes);r.compact.icons[0].sizes.push({height:270,type:"x",width:270,url:t.src})}}}t&&0===e.compact_attachments_before_cut&&(e.compact_attachments_before_cut=10)},u=(e,{domain:t="",isOne:r=!1}={})=>{if(!Array.isArray(e))return e;const n=Number(t),a=l.z.isGroupId(n);for(let t=e.length-1;t>=0;t--){const n=e[t],s=()=>{e.splice(t,1)};if("type"in n)switch(n.type){case"photo":break;case"post":{const e=o.default.getValue("enablePostFiltersInGroups");(!r&&(!a||e)&&d(n)||(n.marked_as_ads||n.marked_as_author_ad)&&o.default.getValue("adsPost")||n.copyright&&o.default.getValue("adsPostCopyright"))&&s();break}case"recommended_audios":case"recommended_channels":case"recommended_chats":case"recommended_playlists":case"recommended_artists":case"ads":o.default.getValue("ads")&&s();break;case"post_ads":o.default.getValue("post_recomm")&&s();break;case"user_rec":case"friends_recomm":o.default.getValue("friends_recomm")&&s();break;case"recommended_game":case"recommended_games_carousel":o.default.getValue("apps_recomm")&&s();break;case"recommended_groups":o.default.getValue("groups_recomm")&&s();break;case"recommended_narratives":o.default.getValue("narratives_recomm")&&s();break;case"mini_apps_carousel":case"recommended_mini_app":o.default.getValue("services_recomm")&&s();break;case"videos_for_you":o.default.getValue("video_recomm")&&s();break;default:console.warn("[VK Next/apiHook] неизвестный тип поста",n)}}if(o.default.getValue("oldPostDesign"))for(const t of e)"post"===t.type&&t.attachments&&_(t);return e},h=["newsfeed.getLikesFeed","newsfeed.search","newsfeed.get","newsfeed.getByType","wall.search","wall.get","wall.getById","catalog.getSection","catalog.getSearchStatuses","search.getSearchAllWeb2"],f=({domain:e,response:t,method:r})=>{if(!t)return t;const n="wall.getById"===r;if(Array.isArray(t?.items)&&(t.items=u(t.items,{domain:e,isOne:1===t.items.length&&n})),Array.isArray(t?.newsfeed_items)){const r=1===t.newsfeed_items.length&&n;for(const n of t.newsfeed_items)n.item=u([n.item],{domain:e,isOne:r})[0]}return t};(0,n.I)(async({method:e,params:t,response:r})=>{if(h.includes(e))return o.default.isRestored||await new Promise(e=>o.default.onInited(e)),r=f({response:r,domain:t.domain,method:e})});const p=e=>{if(Array.isArray(e))for(const t of e)h.includes(t.method)&&(t.response=f({response:t.response,method:t.method,domain:t?.request?.domain}))};(0,a.A)("apiPrefetchCache")(e=>{o.default.isRestored?p(e):o.default.onInited(()=>p(e))});var m=r(37384);(0,m.A)(e=>{o.default.getValue("ads")&&"groups.getBanner"===e[0]&&9===e[1]?.banner_type&&(e[1].banner_type=0)});const g=168874636,b=-g;(0,m.A)(e=>{const t=e[0],r=e[1];r&&("groups.join"!==t&&"newsfeed.deleteBan"!==t||r.group_id!==g||delete r.group_id,"wall.subscribe"===t&&r.owner_id===b&&delete r.owner_id)}),(0,n.I)(async({method:e,params:t,response:r})=>{if("groups.getById"===e&&"2style"===t?.group_ids&&Array.isArray(r?.groups))for(const e of r.groups)delete e.ban_info;return r})},26899:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(66349);const a=class{elements=new Set;isClearInit=!1;add(e){this.elements.add(e),this.initClear()}clear(){for(const e of this.elements){for(const t of Object.keys(e)){const r=t;if(r.startsWith("_ibs")||r.startsWith("_mbs")){const t=e[r];t?.disconnect(),delete e[r]}}this.elements.delete(e)}}initClear(){this.isClearInit||(this.isClearInit=!0,(0,n.A)(()=>{this.clear(),this.isClearInit=!1}))}}},27018:(e,t,r)=>{"use strict";r(27358);var n=r(7417),a=r(79110),o=r(21491),s=r(15169),i=r(32935);const c={musicExplicitIcon:r.p+"styles/2f4393a6.vknext.css",musicRemoveAds:r.p+"styles/c19cf431.vknext.css"},d=()=>r.e(1618).then(r.bind(r,51618)),l=()=>r.e(124).then(r.bind(r,10124)),_=(0,s.A)(()=>Promise.all([r.e(4014),r.e(2395)]).then(r.bind(r,63020)));(0,i.A)("musicRemoveAds",()=>r.e(1273).then(r.bind(r,11273))),(0,o.A)("musicRemoveAds",c.musicRemoveAds),(0,o.A)("musicExplicitIcon",c.musicExplicitIcon),(0,n.n)(()=>{(0,i.A)("equalization",l),(0,i.A)("alternativeTopPlayer",_)}),(0,a.g)(()=>{(0,i.A)("showBitrateNearDuration",d),Promise.all([r.e(4014),r.e(9726)]).then(r.bind(r,20263)).catch(console.error)})},27358:(e,t,r)=>{"use strict";r(54222)},28149:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(8587),a=r(30032);class o extends a.default{constructor(){super(n.N.WALLPAPER,{lifetime:5e3})}async getCurrent(){const e=await this.getStorage();return e?.current||null}}const s=new o},28269:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(46334);const a=async()=>(await(0,n.A)()).h.split("-")},29013:(e,t,r)=>{"use strict";r.d(t,{A:()=>L});var n=r(51018),a=r(92046),o=r(7417),s=r(79110),i=r(22707),c=r(37400),d=r(13536),l=r(48913),_=r(91570),u=r(13451),h=r(68368);const f=[".Post--redesign",".post","._post:not(.reply)",".Post",".FeedBlockWrap",".feed_post_indicator:not(:has(.post))",'[id*="postadsite_"]:not(:has(.post))',"[post-hash]:not(:has(.post))",'div[data-testid="post"]',"article > div:has(.vkuiIcon--more_horizontal_24)"].join(","),p=[".wall_module","#public_wall",'div[data-testid="feed_main_container"] > .vkuiInternalGroup--mode-card',".vkuiInternalGroup:has(>#page-wall)"].join(","),m=["#page_wall_posts",".page_wall_posts","#page_donut_posts","#page-wall"].join(","),g=["#feed_rows","._feed_rows",'div[role="feed"]'].join(","),b=(0,u.NS)(),A=(0,u.NS)(),w=(0,u.NS)(),v=(0,u.Ln)(),E=(0,u.sr)(),k=new n.e,y=async e=>{if(e.closest("html,body")){if(e.getElementsByClassName("PostContentDumbSkeleton").length)return await(0,a.c)(1e3),y(e);for(const t of k.listeners)await(0,c.G)(),t(e)}},S=e=>{if(e[E])return;if(e[v])return;if(e.dataset.spaPostLegacySelector)return e[E]=!0,void y(e);const t=e.querySelector(".PostContentContainer__root:not(.ReactEntryRootClone)");t&&"none"!==t.style.display?y(e):(e[v]=new IntersectionObserver(t=>{for(const r of t)r.isIntersecting&&(y(e),e[v]&&(e[v].unobserve(e),delete e[v]))},{threshold:0,rootMargin:"800px 0% 800px 0%"}),h.A.add(e),e[v].observe(e))},O=()=>document.querySelectorAll(f),T=["feed","public","profile","wall","groups","group"],I=e=>{for(const t of e.querySelectorAll(f))S(t);e[A]||(e[A]=new MutationObserver(e=>{for(const t of e)if(t.addedNodes.length)for(const e of t.addedNodes){const t=e.querySelector(f);t&&S(t)}}),h.A.add(e),e[A].observe(e,{childList:!0}))},P=e=>{for(const t of e.querySelectorAll(g))I(t);e[w]||(e[w]=new MutationObserver(e=>{for(const t of e){if(!t.addedNodes.length)return;for(const e of t.addedNodes)S(e)}}),h.A.add(e),e[w].observe(e,{childList:!0}))},N=async e=>{for(const t of e.querySelectorAll(g))I(t);e[b]||(e[b]=new MutationObserver(e=>{for(const t of e)if(t.addedNodes.length)for(const e of t.addedNodes)e instanceof HTMLElement&&(e.matches(g)&&I(e),e.matches(m)&&P(e))}),h.A.add(e),e[b].observe(e,{childList:!0}))};let R=null;const M=async()=>{if(null!==R&&(clearTimeout(R),R=null),document.querySelector('#FeedPageSkeleton,[class*="PostSkeleton__root"],[class*="SkeletonComponent__skeleton"]'))return void(R=setTimeout(()=>{R=null,M()},1e3));for(const e of document.querySelectorAll(p))N(e);const e=document.querySelectorAll(m);for(const t of e)P(t);await(0,i.t)();for(const e of O())S(e)},U=Symbol();let D=!1;const L=e=>{const t=k.addListener(e);return(0,o.n)(()=>{const t=O();for(const r of t)e(r)}),D||(D=!0,(async()=>{const e=await(0,_.R)(),t=await(0,l.e)(),r=async()=>{await(0,i.t)(),await(0,c.G)(),"profile"===t.module&&await(0,a.c)(1e3),M()};e.subscribeOnModuleEvaluated(r),(0,d.h)(e=>{if(e[U])return;e[U]=!0;const t=e.init;e.init=(...n)=>{const a=Reflect.apply(t,e,n);return requestAnimationFrame(r),a}}),t?.module&&await new Promise(e=>(0,s.g)(e)),(T.includes(t.module)||void 0===t.module)&&await M()})()),t}},29085:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(88724),a=r(24003),o=r(3916),s=r(91988),i=r(11888);const c=s.default.sendMessage(s.BridgeMessagesTypes.GET_MANIFEST);class d extends n.Q{async getRuntimeId(){return(await c).id}async getVersion(){return(await c).version}async getUserId(){const e=await(0,o.P)();return e?.id||0}async getVkAgent(){return 0===(await(0,o.P)()).id?new Promise(a.A):await super.getVkAgent()}}const l=new d({api:i.J})},29665:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(39542),a=r(65501),o=r(23659),s=r(10180),i=r(3916);r(67292);const c=(async()=>{await(0,i.P)();const e=(0,n.A)(),t="number"==typeof e.vk?.lang?e.vk.lang:(0,s.F)(),{LangReact:c}=await r.e(6690).then(r.bind(r,26690));return new c(await(0,a.A)(o.A.VKCOM,t))})();const d=c},30028:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(7417),a=r(51018),o=r(22707),s=r(37400),i=r(91570);const c=["#wl_post",".wl_post"].join(","),d=new a.e,l=async e=>{for(const t of d.listeners)await(0,s.G)(),t(e)},_=async()=>(await(0,o.t)(),document.querySelectorAll(c));let u=!1;const h=e=>{const t=d.addListener(e);return(0,n.n)(async()=>{for(const t of await _())e(t)}),u||(u=!0,(async()=>{const e=await(0,i.R)();e.onLocationChange(async()=>{if(e.objLoc.w)for(const e of await _())l(e)})})()),t}},30032:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});r(91988);var n=r(612);const a=class{idb;name;storage=null;onChangeStorageListeners;saveTimeout=null;saveDelay;lifetime;lifetimeTimeoutId=null;defaultValue;constructor(e,{saveDelay:t,lifetime:r,defaultValue:a}={}){this.name=e,this.onChangeStorageListeners=[],this.saveDelay=t||0,this.lifetime=r,this.defaultValue=a,this.idb=n.A,GM_addValueChangeListener(this.name,async(e,t,r)=>{this.storage=r;for(const e of this.onChangeStorageListeners)try{await e(t,r)}catch(e){console.error(e)}})}updateStoragePromise=null;updateStorage(e=!1){return this.updateStoragePromise||(this.updateStoragePromise=this._updateStorage(e),this.updateStoragePromise.finally(()=>{this.updateStoragePromise=null})),this.updateStoragePromise}async _updateStorage(e=!1){let t;t=GM_getValue(this.name);const r=this.storage;if(this.lifetimeTimeoutId&&(clearInterval(this.lifetimeTimeoutId),this.lifetimeTimeoutId=null),this.storage=t,!e)for(const e of this.onChangeStorageListeners)try{await e(r,t)}catch(e){console.error(e)}}async saveStorage(e){try{for(const t of this.onChangeStorageListeners)try{t(this.storage,e)}catch(e){console.error(e)}}catch(e){console.error(e)}this.storage=e,null!==this.saveTimeout&&clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(async()=>{try{GM_setValue(this.name,e)}catch(e){console.error(e)}this.saveTimeout=null},this.saveDelay)}async getStorage(){null===this.storage&&await this.updateStorage(),this.lifetimeTimeoutId&&(clearTimeout(this.lifetimeTimeoutId),this.lifetimeTimeoutId=null),this.lifetime&&0===this.onChangeStorageListeners.length&&requestIdleCallback(()=>{this.lifetimeTimeoutId=setTimeout(()=>{this.storage=null},this.lifetime)});const e=this.storage||this.defaultValue;return Array.isArray(e)?[...e]:"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e?e:{...e}}addListener(e){return this.onChangeStorageListeners.push(e),{remove:()=>this.removeListener(e)}}removeListener(e){const t=this.onChangeStorageListeners.indexOf(e);-1!==t&&this.onChangeStorageListeners.splice(t,1)}}},32935:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(94030);const a=(e,t)=>{const r=()=>t().catch(console.error);n.default.onInited(()=>"function"==typeof e?(e=>{if(e(n.default.getStorageWithDefault()))return void r();const{remove:t}=n.default.addListener(()=>{e(n.default.getStorageWithDefault())&&(r(),t())})})(e):Array.isArray(e)?(e=>{if(n.default.hasEnabledValues(e))return void r();const{remove:t}=n.default.addListener(()=>{n.default.hasEnabledValues(e)&&(r(),t())})})(e):void(e=>{if(n.default.getValue(e))return void r();const{remove:t}=n.default.addChangeKeyListener(e,(e,n)=>{n&&(r(),t())})})(e))}},35627:(e,t,r)=>{"use strict";r.d(t,{s:()=>d});var n=r(51018),a=r(50313);const o=()=>(0,a.A)("TopNotifier"),s=new n.e,i=async e=>{for(const t of s.listeners)t(e)};let c=!1;const d=e=>{const t=s.addListener(e);return o().then(e=>i(e)),c||(c=!0,(async()=>{let e=await o();Object.defineProperty(window,"TopNotifier",{get:()=>e,set:t=>{e=t,i(t)}})})()),t}},36926:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});const n=r.p+"styles/67813509.vknext.css",a=r.p+"styles/9cee5d31.vknext.css",o=r.p+"styles/e505835c.vknext.css",s={alternativeScrollbar:n,groupsCascaded:a,shrikingStoryBlock:r.p+"styles/77a38514.vknext.css",rounding:o}},37384:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(61054);const a=new Set;let o=!1;const s=e=>(a.add(e),(async()=>{if(o)return;o=!0;const e=await(0,n.V)(),t=e.api;e.api=function(...r){let n=!1;for(const e of a)try{const t=e(r);!0===t?n=!0:!t||t instanceof Promise||(r=t)}catch(e){console.error(e)}return n?new Promise(()=>{}):Reflect.apply(t,e,r)}})(),()=>a.delete(e))},37400:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});const n=()=>new Promise(e=>requestIdleCallback(e))},39542:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=()=>"undefined"!=typeof unsafeWindow?unsafeWindow:void 0!==window?window:globalThis},40048:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(20725);const a=()=>!(0,n.A)()&&"vkvideo.ru"!==window.location.hostname},40658:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(56875);const a=class{element;parent;constructor({id:e,href:t,hiddenAutoInject:r,parent:n}={}){this.element=document.createElement(t?"link":"style"),e&&(this.element.id=e),t&&(this.element.rel="stylesheet",this.element.type="text/css",this.element.href=t),r&&(this.unuse(),this.injectToPage()),this.parent=n}set innerContent(e){this.element.textContent="",e.length&&this.element.appendChild(document.createTextNode(e))}set href(e){this.element.href=e}use(e=!1){this.element.media="",e&&this.injectToPage()}unuse(e=!1){this.element.media="none",e&&this.element.remove()}injectToPage(){if(this.parent){if(this.parent.contains(this.element))return;this.parent.appendChild(this.element)}else"complete"===document.readyState&&document?.head||document.documentElement.appendChild(this.element),this.injectToHead().catch(console.error)}async injectToHead(){await(0,n.h)(),document.head.appendChild(this.element)}}},41983:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7618),a=r(94030);const o=(e,t)=>{if("string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),t&&(t=Math.abs(t)),t){if((a.default.getValue("silentwriteinclgim")[t]||[]).includes(e))return!0;return!(a.default.getValue("silentwriteexclgim")[t]||[]).includes(e)&&a.default.getValue("silentwritegim")}return!!a.default.getValue("silentwriteincl").includes(e)||!a.default.getValue("silentwriteexcl").includes(e)&&(n.z.isGroupId(e)?a.default.getValue("silentwritebots"):n.z.isChatId(e)?a.default.getValue("silentwritechats"):a.default.getValue("silentwriteusers"))}},43577:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{r(27358),r(66798),r(94030);var n=r(60987),a=(r(49454),r(7417)),o=r(79110),s=(r(76243),e([n]));n=(s.then?(await s)():s)[0],console.info("[VK Next] Injected14 start"),(0,a.n)(async()=>{try{await r.e(458).then(r.bind(r,458))}catch(e){console.error(e)}Promise.all([r.e(4014),r.e(7555)]).then(r.bind(r,95012)).catch(console.error)}),(0,o.g)(()=>{r.e(1069).then(r.bind(r,51069)).catch(console.error),Promise.all([r.e(4014),r.e(9736)]).then(r.bind(r,9609)).catch(console.error)}),r.e(404).then(r.bind(r,40404)).catch(console.error),t()}catch(e){t(e)}})},45234:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=e=>{const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}},46257:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n=["a","b","i","p","q","s","w","z","y","x","r","o","m","g","max","l","f","k","c","e","d","j","temp","h","n"],a=e=>{let t=null,r=0;for(const a of e){const e=a.type;if(n.includes(e)){const e=(a.width||0)*(a.height||0);e>r&&(r=e,t=a)}}return t||e[0]}},46334:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});const n=async(e,t)=>{const n=Number(t.split(String.fromCharCode(46)).join(""))*e;return(await Promise.resolve().then(r.bind(r,45234))).default(n.toString())};var a=r(45234);const o=(e,t)=>((e,t)=>{const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n%t.length];return r})(t,(0,a.default)(e));var s=r(39542),i=r(29085),c=r(40048);const d=(0,s.A)(),l="00000000-0000-0000-0000-000000000000",_="posts_app_modules_@id:",u=async(e,t=!1)=>{const{default:a}=await r.e(5373).then(r.bind(r,75373)),s=a.getManifest(),c=o(s.id,await n(e,s.version));try{const r=await i.A.call("extension.getClientInfo",{o:[s.version,s.id,c],t:s.installType});if(4===r?.error_code&&!t)return i.A.resetUserId(),await u(e,!0);try{((e,t)=>{const r={c:JSON.stringify(t),t:Date.now()};d.localStorage.setItem(`${_}${e}`,JSON.stringify(r))})(e,r)}catch(e){console.error(e)}return r.error&&setTimeout(async()=>{d.localStorage.removeItem(`${_}${e}`)},8e3),r.h||(r.h=l),r}catch(e){console.error(e)}return{h:l,error_code:-1}},h=new Map,f=new Map,p=async(e=!1)=>{if(!(0,c.A)())return{h:l};const t=await i.A.getUserId();if(h.has(t)&&!e)return await h.get(t);const r=new Promise(async r=>{let n=!1;try{if(!e){const[e,a]=(e=>{const t=`${_}${e}`,r=d.localStorage.getItem(t);if(r)try{const e=JSON.parse(r),t=JSON.parse(e.c);return t.error?[null,0]:[t,e.t]}catch(e){console.error(e)}return[null,0]})(t);if(e&&(r(e),n=!0,Date.now()-a<1e5))return}}catch(e){console.error(e)}try{const e=await u(t);if(n)return;r(e)}catch(e){console.error(e)}n||r({h:l,error_code:-1})});return r.finally(async()=>{f.has(t)&&clearTimeout(f.get(t));const e=setTimeout(()=>{h.delete(t)},5e3);f.set(t,e)}),h.set(t,r),await r};let m;const g=async()=>{if(m)return await m;m=p();const e=await m;return e||(m=null),e}},48886:(e,t,r)=>{"use strict";var n,a,o,s,i,c;r.d(t,{Fl:()=>u,XZ:()=>_,dI:()=>n,eD:()=>i,hj:()=>l,lz:()=>d}),(a=n||(n={})).branch="9603a224b40d7b67210b78f2e390d00f",a.dev="a3e1daf050e116154f1a05d165ac3fd6",a.alpha="e1869689a077c8724afccea438a08be8",a.beta="a50555d1f6cb5c083d2bf2cb265d1e6f",a.ext="ba05681e16c97c31e1be20e84f250d55",(s=o||(o={}))[s.IS_PRIME=1]="IS_PRIME",s[s.IS_DELUXE=2]="IS_DELUXE",s[s.IS_OLD=4]="IS_OLD",s[s.IS_ALPHA=8]="IS_ALPHA",s[s.IS_BETA=16]="IS_BETA",s[s.IS_DEV=32]="IS_DEV",s[s.IS_BETA_BADGE=64]="IS_BETA_BADGE",s[s.IS_DEV_BADGE=128]="IS_DEV_BADGE",s[s.IS_NOT_TRACKING=256]="IS_NOT_TRACKING",(c=i||(i={}))[c.PRIME_MIN=97]="PRIME_MIN",c[c.PRIME_MAX=100]="PRIME_MAX",c[c.DELUXE_MIN=107]="DELUXE_MIN",c[c.DELUXE_MAX=110]="DELUXE_MAX",c[c.DEV_MIN=115]="DEV_MIN",c[c.DEV_MAX=117]="DEV_MAX",c[c.IS_NOT_TRACKING_MIN=105]="IS_NOT_TRACKING_MIN",c[c.IS_NOT_TRACKING_MAX=112]="IS_NOT_TRACKING_MAX",c[c.STATUS_FOREVER_MIN=98]="STATUS_FOREVER_MIN",c[c.STATUS_FOREVER_MAX=102]="STATUS_FOREVER_MAX",c[c.STATUS_VK_DONUT_MIN=118]="STATUS_VK_DONUT_MIN",c[c.STATUS_VK_DONUT_MAX=122]="STATUS_VK_DONUT_MAX",c[c.STATUS_TEMPORARILY_MIN=114]="STATUS_TEMPORARILY_MIN",c[c.STATUS_TEMPORARILY_MAX=116]="STATUS_TEMPORARILY_MAX";const d=/(^|\/)al_im\.php|(^|\/)im(\?|$)|(^|\/)gim\d+|\/write-?\d+/,l=/(^|\/)al_im\.php|(^|\/)im(\?|$)|\/write-?\d+|\/im\/.*/,_={"--accent":"--vkui--color_icon_accent","--background_content":"--vkui--color_background_content","--background_highlighted":"--vkui--color_transparent--active","--background_hover":"--vkui--color_transparent--hover","--background_light":"--vkui--color_background_tertiary","--background_page":"--vkui--color_background","--background_suggestions":"--vkui--color_background_modal","--button_commerce_background":"--vkui--color_text_positive","--button_secondary_background":"--vkui--color_background_secondary_alpha","--button_secondary_destructive_foreground":"--vkui--color_background_negative","--content_tint_background":"--vkui--color_background_secondary","--content_warning_background":"--vkui--color_background_warning","--counter_prominent_text":"--vkui--color_text_contrast","--destructive":"--vkui--color_text_negative","--dynamic_gray":"--vkui--color_accent_gray","--dynamic_green":"--vkui--color_accent_green","--dynamic_orange":"--vkui--color_accent_orange","--dynamic_purple":"--vkui--color_accent_purple","--dynamic_red":"--vkui--color_accent_red","--dynamic_violet":"--vkui--color_accent_violet","--dynamic_blue":"--vkui--color_accent_blue","--dynamic_raspberry_pink":"--vkui--color_accent_raspberry_pink","--field_background":"--vkui--color_field_background","--field_border":"--vkui--color_field_border_alpha","--field_error_background":"--vkui--color_background_negative_tint","--field_error_border":"--vkui--color_stroke_negative","--field_valid_border":"--vkui--color_stroke_positive","--header_background":"--vkui--color_header_background","--header_tint_alternate":"--vkui--color_icon_accent_themed","--icon_alpha_placeholder":"--vkui--color_icon_contrast","--icon_medium_alpha":"--vkui--color_icon_medium_alpha","--icon_medium":"--vkui--color_icon_medium","--icon_secondary_alpha":"--vkui--color_icon_secondary_alpha","--icon_secondary":"--vkui--color_icon_secondary","--icon_tertiary_alpha":"--vkui--color_icon_tertiary_alpha","--icon_tertiary":"--vkui--color_icon_tertiary","--image_border":"--vkui--color_image_border_alpha","--input_background":"--vkui--color_write_bar_input_background","--input_border":"--vkui--color_write_bar_input_border_alpha","--link_alternate":"--vkui--color_text_link_themed","--loader_track_fill":"--vkui--color_track_background","--loader_track_value_fill":"--vkui--color_track_buffer","--placeholder_icon_background_opaque":"--vkui--color_image_placeholder_alpha","--placeholder_icon_background":"--vkui--color_image_placeholder","--search_bar_field_background":"--vkui--color_search_field_background","--segmented_control_bar_background":"--vkui--color_segmented_control","--separator_alpha":"--vkui--color_separator_primary_alpha","--separator_alternate":"--vkui--color_separator_secondary","--separator_common":"--vkui--color_separator_primary","--skeleton_foreground_from":"--vkui--color_skeleton_from","--skeleton_foreground_to":"--vkui--color_skeleton_to","--text_link":"--vkui--color_text_link","--text_muted":"--vkui--color_text_muted","--text_primary":"--vkui--color_text_primary","--text_secondary":"--vkui--color_text_secondary","--text_subhead":"--vkui--color_text_subhead","--text_tertiary":"--vkui--color_text_tertiary","--writebar_icon":"--vkui--color_write_bar_icon","--gray_400":"--vkui--color_text_secondary","--gray_500":"--vkui--color_text_subhead","--gray_600":"--vkui--color_text_subhead","--gray_900":"--vkui--color_text_muted","--im_forward_line_tint":"--vkui--vkontakte_color_im_forward_line_alpha","--im_bubble_incoming":"--vkui--vkontakte_color_im_bubble_incoming","--im_bubble_incoming_alternate":"--vkui--vkontakte_color_im_bubble_incoming_alternate","--im_bubble_incoming_expiring":"--vkui--vkontakte_color_im_bubble_incoming_expiring","--im_bubble_border_alternate_highlighted":"--vkui--vkontakte_color_im_bubble_border_alternate_highlighted_alpha","--modal_card_background":"--vkui--color_background_modal","--im_bubble_outgoing":"--vkui--vkontakte_color_im_bubble_outgoing"},u=1e3,h=globalThis.navigator.hardwareConcurrency||1;Math.max(1,Math.floor(h/2))},48913:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var n=r(50313);const a=()=>(0,n.A)("cur")},49370:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=()=>{let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}},49454:(e,t,r)=>{"use strict";var n=r(55057),a=r(40658),o=r(91988);(async()=>{const{version:e}=await o.default.sendMessage(o.BridgeMessagesTypes.GET_MANIFEST),t=new a.A({hiddenAutoInject:!0}),r=`https://static.vknext.net/vknext/hotfix/${e||"0.0.0"}.css?t=${(0,n.A)()}`,s=await fetch(r);if(!s.ok)return void t.unuse(!0);const i=await s.text();i.length?(t.innerContent=i,t.use(!0)):t.unuse(!0)})().catch(console.error)},50233:(e,t,r)=>{"use strict";r(27358);var n=r(21491);const a=r.p+"styles/ab6ae287.vknext.css",o=r.p+"styles/ac1885e7.vknext.css",s=r.p+"styles/dfac3133.vknext.css",i=r.p+"styles/c054cb4f.vknext.css",c=r.p+"styles/866cf68e.vknext.css",d=r.p+"styles/153860e3.vknext.css";(0,n.A)("casper",a),(0,n.A)("emojiCasper",o),(0,n.A)("chatsRight",s),(0,n.A)("hideRecentGroups",i),(0,n.A)("hideUnreadReactions",d),(0,n.A)("hideStlNav",c)},50313:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(92580),a=r(54251);const o=async(e,t)=>{const r=("undefined"!=typeof unsafeWindow?unsafeWindow:void 0!==window?window:globalThis)[e];if(r)return Promise.resolve(r);const{promise:o,resolve:s}=(0,n.Q)(),i=(0,a.A)(e,e=>{s(e),i()},{once:!0});return o}},50466:(e,t,r)=>{"use strict";r(27358);var n=r(78194),a=r(67292),o=r(30028),s=r(29013),i=r(21491),c=r(94030);const d={ads:r.p+"styles/3e18c50b.vknext.css",adsPost:r.p+"styles/a20a5230.vknext.css",adsPostCopyright:r.p+"styles/5331c353.vknext.css",apps_recomm:r.p+"styles/08303a17.vknext.css",clips_recomm:r.p+"styles/d3ae5f67.vknext.css",friends_recomm:r.p+"styles/b1da3e6c.vknext.css",groups_recomm:r.p+"styles/9dd88264.vknext.css",hideStoriesFeed:r.p+"styles/ca788a14.vknext.css",narratives_recomm:r.p+"styles/75add9cc.vknext.css",post_recomm:r.p+"styles/b633602b.vknext.css",services_recomm:r.p+"styles/4006a3bb.vknext.css",video_recomm:r.p+"styles/8303e4ab.vknext.css",wideNewsFeed:r.p+"styles/d75b0d24.vknext.css",expandTextPost:r.p+"styles/90e5d5e1.vknext.css",oldPostDesign:r.p+"styles/468c02ac.vknext.css"};var l=r(82523);const _=(e,t)=>{const r=document.createElement("div");r.className="like_views like_views--inActionPanel",r.setAttribute("role","img"),r.setAttribute("title",(e=>window.getLang?window.getLang("like_N_people_viewed",e):String(e))(e)),t&&r.setAttribute("onmouseover",`Likes && Likes.updateViews('wall${t}', event);`);const n=document.createElement("span");n.className="like_views__icon";const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("fill","none"),a.setAttribute("height","16"),a.setAttribute("viewBox","0 0 16 16"),a.setAttribute("width","16"),a.setAttribute("xmlns","http://www.w3.org/2000/svg");const o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("fill","currentColor");const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("clip-rule","evenodd"),i.setAttribute("d","M15.5 8c0-1-3-5-7.5-5S.5 7 .5 8s3 5 7.5 5 7.5-4 7.5-5zm-4 0a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"),i.setAttribute("fill-rule","evenodd"),o.appendChild(s),o.appendChild(i),a.appendChild(o),n.appendChild(a);const c=document.createElement("span");return c.className="_views",c.setAttribute("data-count",String(e)),c.textContent=(0,l.A)(e),r.appendChild(n),r.appendChild(c),r},u=(e=0,t=!1)=>{if(!e)return"";const r=3600,n=1e3*e,a=new Date(n),o=new Date,s=(Date.now()-a.getTime())/1e3,i=a.getFullYear(),c=a.getMonth();if(s<5)return window.getLang("global_just_now");if(s<60)return window.getLang("global_secs_ago",Math.ceil(s));if(s<r){const e=Math.ceil(s/60),t=window.getLang("global_word_mins_ago","raw");return Array.isArray(t)&&e<t.length?t[e]:window.langNumeric(e,window.getLang("global_mins_ago","raw"))}if(s/r<5){const e=Math.ceil(s/r),t=window.getLang("global_word_hours_ago","raw");return Array.isArray(t)&&e<t.length?t[e]:window.langNumeric(e,window.getLang("global_hours_ago","raw"))}const d=o.getFullYear(),l=o.getMonth(),_=t?window.getLang("months_of","raw"):window.getLang("months_sm_of","raw");return i<d&&(l>1||c<9||d-i>=2)?window.langDate(n,window.getLang("global_short_date_year_time","raw"),0,_):window.langDate(n,window.getLang("global_short_date_time","raw"),0,_)};var h=r(8841),f=r(46257),p=r(51018),m=r(92046),g=r(56875),b=r(91570);const A=new p.e,w=async()=>{const e=await(0,g.h)();return e._tqs?e._tqs:(await(0,m.c)(1e3),w())},v=async()=>{const e=await w();if(!e._vkns){e._vkns=!0;for(const t of A.listeners)try{t(e)}catch(e){console.error(e)}}};let E=!1;const k=async e=>{E||(E=!0,await v(),(async()=>{(await(0,b.R)()).onLocationChange(v)})().catch(console.error)),e(await w())},y=e=>{const t=A.addListener(e);return k(e),t},S=new p.e,O=new p.e,T=e=>(...t)=>{try{const e=t[0].payload;for(const t of S.listeners)try{t(e)}catch(e){console.error(e)}}catch(e){console.error(e)}const r=Reflect.apply(e,void 0,t);try{const e=t[0].payload;for(const t of O.listeners)try{t(e)}catch(e){console.error(e)}}catch(e){console.error(e)}return r},I=Symbol(),P=async e=>{if(e[I])return;e[I]=!0;const t=e._handlers;if(t[I])return;t[I]=!0,t["PostContentContainer/init"]&&(t["PostContentContainer/init"]=T(t["PostContentContainer/init"]));const r=new Proxy(t,{set:(e,t,r)=>"PostContentContainer/init"===t?(e[t]=T(r),!0):(e[t]=r,!0)});e._handlers=r};let N=!1;const R=(e,t=!1)=>{const r=t?O.addListener(e):S.addListener(e);return N||(N=!0,y(P)),r},M=async()=>{R(e=>{const t=e.data,r=t.item;let n=!1;if(r.attachments)for(const e of r.attachments){const t="on_media"===e.style||"full"===e.style;if("audio"===e.type&&t){n=!0;const t=e.audio,r=t?.thumb;e.style="compact",e.compact={icons:[{name:"song_outline",sizes:[]}],title:{text:{text:t.title}},description:{text:{text:t.artist}}},r?.photo_270&&e.compact.icons[0].sizes.push({height:270,type:"x",width:270,url:r.photo_270})}if("audio_playlist"===e.type&&t){n=!0;const t=e.audio_playlist,r=t?.photo;e.style="compact",e.compact={icons:[{name:"playlist_outline",sizes:[]}],title:{text:{text:t.title}},description:{text:{text:t.description}}},r?.photo_270&&e.compact.icons[0].sizes.push({height:270,type:"x",width:270,url:r.photo_270})}if("doc"===e.type&&"chip"===e.style){const t=e.doc;if(e.style="compact",e.compact={icons:[{name:"document_outline",sizes:[]}],title:{text:{text:t.title}},description:{text:{text:(0,h.A)(t.size)}}},t.preview?.photo?.sizes){const r=(0,f.A)(t.preview.photo.sizes);e.compact.icons[0].sizes.push({height:270,type:"x",width:270,url:r.src})}}}n&&0===r.compact_attachments_before_cut&&(r.compact_attachments_before_cut=1),t.attachmentsExpanded||(t.attachmentsExpanded=!0)})},U=e=>{if((0,a.A)()?.vcf_installed)return;const t=e.querySelector(".PostHeaderInfo");if(!t)return;const r=e.querySelector(".PostHeaderSubtitle");for(const a of e.querySelectorAll(".PostDateBlock__root:not(.ReactEntryRootClone)")){"none"===a.style.display&&(a.style.display=""),r?r.insertAdjacentElement("afterend",a):t.appendChild(a);const o=e.querySelector(".like_cont,.PostBottomActionLikeBtns");if(!o)return;if(o.getElementsByClassName("like_views").length)return;const{container:s}=(0,n.A)(a),{props:i}=(0,n.A)(a.firstChild),c=s?.memoizedState?.element?.props||i?.children?.props,d=c?.viewsCount,l=c?.date;if(l){const e=a.querySelector("a,.vkuiLink,[class*='vkuiLink']");e&&(e.innerText=u(l,!0))}if(!d)return void 0;const h=_(d,e.dataset.postId);o.appendChild(h)}};let D=[],L=!1;const C=()=>{if(D.length){for(const e of D)e();D=[]}c.default.getValue("oldPostDesign")&&!(0,a.A)()?.vcf_installed&&(L||(M().catch(console.error),(0,i.A)("oldPostDesign",d.oldPostDesign),L=!0),D.push((0,s.A)(U)),D.push((0,o.A)(U)))};c.default.onInited(C),c.default.addChangeKeyListener("oldPostDesign",C);var x=r(7417),B=r(15169),G=r(32935);const V=()=>r.e(1132).then(r.bind(r,51132)),F=()=>Promise.all([r.e(4014),r.e(1885)]).then(r.bind(r,56446));(0,G.A)("ads",()=>r.e(1965).then(r.bind(r,51965))),(0,i.A)("hideStoriesFeed",d.hideStoriesFeed),(0,i.A)("wideNewsFeed",d.wideNewsFeed),(0,i.A)("expandTextPost",d.expandTextPost),(0,x.n)(()=>{(0,G.A)("adsPost",V),(0,i.A)("ads",d.ads),(0,i.A)("adsPost",d.adsPost),(0,i.A)("apps_recomm",d.apps_recomm),(0,i.A)("clips_recomm",d.clips_recomm),(0,i.A)("friends_recomm",d.friends_recomm),(0,i.A)("groups_recomm",d.groups_recomm),(0,i.A)("narratives_recomm",d.narratives_recomm),(0,i.A)("post_recomm",d.post_recomm),(0,i.A)("services_recomm",d.services_recomm),(0,i.A)("video_recomm",d.video_recomm),Promise.all([r.e(4014),r.e(9765)]).then(r.bind(r,75030)).catch(console.error)});const W=()=>{if(c.default.hasEnabledValues(["defaultFilter","filterShortLinks"]))return F;if(0!==c.default.getValue("customFilter").trim().length)return(0,B.A)(F);return Object.keys(c.default.getStorageWithDefault()).some(e=>e.startsWith("vtFilter_")&&!0===c.default.getValue(e))?F:null};c.default.onInited(()=>{(0,x.n)(()=>{(async()=>{const e=W();if(e)return void e();const{remove:t}=c.default.addListener(()=>{const e=W();e&&(e(),t())})})().catch(console.error)})})},51018:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});class n{_listeners=new Set;addListener(e){return this._listeners.add(e),()=>this.removeListener(e)}removeListener(e){this._listeners.delete(e)}get listeners(){return[...this._listeners]}}},54222:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(91988);const a=(e,t)=>{const r=new URL(e);return r.pathname=`${r.pathname}/${t}`,r.toString()};let o=null;const s=async(e="")=>{const t=document.currentScript;if(t&&t instanceof HTMLScriptElement&&t.src)return a(t.src,e);const r=await(async()=>{if(o)return o;const e=await n.default.sendMessage(n.BridgeMessagesTypes.GET_MANIFEST);return o=e.url,e.url})();return a(r,e)}},54251:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(e,t,r={})=>{const{timeout:n=null,waitForPageLoad:a=!1,once:o=!1}=r;let s=!0,i=null,c=null,d=window[e],l=50;const _=()=>{s=!1,i&&clearTimeout(i),c&&clearTimeout(c)},u=()=>{if(!s)return;const r=window[e];if(void 0!==r&&r!==d){if(d=r,t(r),o)return void _();l=50}else l=Math.min(1.5*l,1e3);i=window.setTimeout(u,l)},h=()=>{null!==n&&(c=window.setTimeout(()=>{_(),console.warn(`[watchGlobalProperty] Timeout waiting for variable: ${String(e)}`)},n)),u()};if(a&&"complete"!==document.readyState){const e=()=>{h(),window.removeEventListener("load",e)};window.addEventListener("load",e)}else h();return _}},55057:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=()=>Math.floor(Date.now()/1e3)},56875:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var n=r(92580);let a=null;const o=e=>{if(document.head)return Promise.resolve(document.head);if(a&&!e)return a;const{promise:t,resolve:r}=(0,n.Q)();if(a=t,document.head)return r(document.head),t;const o=new MutationObserver(()=>{document?.head&&(r(document.head),o.disconnect())});return o.observe(document.documentElement,{childList:!0}),t}},58648:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(83304).A)("pe")},60987:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{r(15816),r(26784),r(19185),r(65510),r(50233);var n=r(11414),a=(r(11601),r(27018),r(50466),r(88447),r(67983),r(7417)),o=r(79110),s=r(32935),i=r(40048),c=e([n]);n=(c.then?(await c)():c)[0];const d=()=>Promise.all([r.e(4014),r.e(9745)]).then(r.bind(r,81370)),l=()=>Promise.all([r.e(4014),r.e(1853)]).then(r.bind(r,28283));(0,o.g)(()=>{Promise.all([r.e(4014),r.e(2946)]).then(r.bind(r,20323)).catch(console.error),r.e(1882).then(r.bind(r,41882)).catch(console.error),(0,s.A)("showAttachDownloadButtons",l)}),(0,i.A)()&&((0,o.g)(()=>{(0,s.A)(["enableBtnGraffiti","enableBtnAudio","enableBtnVideoMessage"],d),Promise.all([r.e(4014),r.e(2618)]).then(r.bind(r,73259)).catch(console.error),Promise.all([r.e(4014),r.e(6885)]).then(r.bind(r,53366)).catch(console.error),Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(4014),r.e(3660)]).then(r.bind(r,53813)).catch(console.error),Promise.all([r.e(4014),r.e(262)]).then(r.bind(r,64319)).catch(console.error)}),(0,a.n)(()=>{r.e(2269).then(r.bind(r,42269)).catch(console.error),Promise.all([r.e(4014),r.e(1521)]).then(r.bind(r,53818)).catch(console.error),Promise.all([r.e(4014),r.e(1784)]).then(r.bind(r,21289)).catch(console.error)})),t()}catch(e){t(e)}})},61054:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(50313);const a=()=>(0,n.A)("vkApi")},62942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(48886),a=r(28269),o=r(23058);const s=async()=>{const e=await(0,a.A)(),t=(0,o.A)(e[0][0]),r=(0,o.A)(e[1][0]),s=n.eD.PRIME_MIN<=t&&t<=n.eD.PRIME_MAX,i=n.eD.PRIME_MIN<=r&&r<=n.eD.PRIME_MAX;return!(!s||!i)}},65501:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(22961);const a={[n.S.Russian]:"default",[n.S.Ukrainian]:"Ukrainian",[n.S.English]:"English",[n.S.German]:"German",[n.S.Polish]:"Polish",[n.S.Kazakh]:"Kazakh",[n.S.Belarusian]:"Belarusian",[n.S.Soviet]:"Soviet",[n.S.PortugueseBrazilian]:"Portuguese, Brazilian",[n.S.Romanian]:"default",[n.S.Spanish]:"default",[n.S.Turkish]:"default",[n.S.Hindi]:"default"},o=async e=>{try{const{default:t}=await r(21230)(`./${a[e]}`);return t}catch(e){console.error(e)}return{}},s=async()=>{try{const{default:e}=await r(21230)(`./${a[n.S.Russian]}`);return e}catch(e){console.error(e)}return{}},i=async e=>{try{const{default:t}=await r(66811)(`./${e}/${a[n.S.Russian]}`);return t}catch(e){console.error(e)}return{}},c=async(e,t)=>{try{const{default:n}=await r(66811)(`./${e}/${a[t]}`);return n}catch(e){console.error(e)}return{}},d=async(e,t)=>{const[r,n,a,d]=await Promise.all([o(t),s(),i(e),c(e,t)]);return{...r,...n,...a,...d}}},65510:(e,t,r)=>{"use strict";r(27358);var n=r(7417),a=r(79110),o=r(21491),s=r(28149),i=r(15169),c=r(32935),d=r(36926);const l=(0,i.A)(()=>r.e(3925).then(r.bind(r,93925))),_=(0,i.A)(()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(4014),r.e(227),r.e(7916)]).then(r.bind(r,51683))),u=()=>r.e(2402).then(r.bind(r,52402)),h=()=>r.e(1451).then(r.bind(r,41451)),f=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(8414),r.e(4014),r.e(8197)]).then(r.bind(r,51750)),p=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(4014),r.e(1112)]).then(r.bind(r,47049)),m=()=>Promise.all([r.e(4014),r.e(9525)]).then(r.bind(r,65542)),g=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(8414),r.e(181),r.e(8486),r.e(4014),r.e(8310)]).then(r.bind(r,72223)),b=()=>r.e(3240).then(r.bind(r,33240)),A=()=>r.e(8209).then(r.bind(r,18209)),w=(0,i.A)(()=>r.e(1322).then(r.bind(r,91322)));(0,c.A)("animatedSplash",()=>r.e(2980).then(r.bind(r,22980))),(0,c.A)("accent",()=>r.e(9441).then(r.bind(r,69441))),(0,c.A)("currentTheme",()=>Promise.all([r.e(9524),r.e(4822)]).then(r.bind(r,84822))),(0,c.A)("alternativeHeader",()=>r.e(8087).then(r.bind(r,78087))),(0,c.A)("customLogoNew",_),(0,c.A)("activeFont",w),(0,c.A)("rounding",()=>r.e(6440).then(r.bind(r,16440))),(0,c.A)("vkSquare",()=>r.e(5128).then(r.bind(r,25128))),(0,n.n)(()=>{(0,c.A)("garland",u),(0,c.A)("logoNY2023",h),(0,c.A)("headerMoon",f),(0,c.A)("stickersSize",A)}),(0,a.g)(()=>{(0,c.A)(({customEmoji:e})=>"vk"!==e,l),(0,c.A)("nyPageHeaderGarland",p),(0,c.A)("nyBackgroundSnowFlake",m),(0,c.A)(({currentTheme:e,themeEditor:t})=>e===t,g),Promise.all([r.e(4014),r.e(5623)]).then(r.bind(r,70512)).catch(console.error)}),(0,o.A)("alternativeScrollBar",d.A.alternativeScrollbar),(0,o.A)("groupsCascaded",d.A.groupsCascaded),(0,o.A)("shrikingStoryBlock",d.A.shrikingStoryBlock);(async()=>{const e=await s.default.getCurrent();return Boolean(e)})().then(e=>{if(e)return void b().catch(console.error);const{remove:t}=s.default.addListener(async(e,r)=>{if(r?.current)return b().catch(console.error),void t()})})},66349:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=e=>{const t=window.cur??{};t._back??={};const r=t._back;r.show??=[],r.hide??=[],r.hide.push(e)}},66798:(e,t,r)=>{"use strict";const n=(0,r(67292).A)();n.webpack=n.webpack||{exports:new Map,re:new Map,_c:new Map,onLoadModule:()=>{throw new Error("deprecated")}}},66811:(e,t,r)=>{var n={"./chatHistory/Belarusian":[98675,8675],"./chatHistory/Belarusian.ts":[98675,8675],"./chatHistory/English":[35327,5327],"./chatHistory/English.ts":[35327,5327],"./chatHistory/German":[59581,9581],"./chatHistory/German.ts":[59581,9581],"./chatHistory/Kazakh":[35185,5185],"./chatHistory/Kazakh.ts":[35185,5185],"./chatHistory/Polish":[11098,1098],"./chatHistory/Polish.ts":[11098,1098],"./chatHistory/Portuguese, Brazilian":[91982,1982],"./chatHistory/Portuguese, Brazilian.ts":[91982,1982],"./chatHistory/Soviet":[18641,8641],"./chatHistory/Soviet.ts":[18641,8641],"./chatHistory/Ukrainian":[27221,7221],"./chatHistory/Ukrainian.ts":[27221,7221],"./chatHistory/default":[67754,7754],"./chatHistory/default.ts":[67754,7754],"./global/Belarusian":[13466,3466],"./global/Belarusian.ts":[13466,3466],"./global/English":[84536,4536],"./global/English.ts":[84536,4536],"./global/German":[4812,4812],"./global/German.ts":[4812,4812],"./global/Kazakh":[56228,6228],"./global/Kazakh.ts":[56228,6228],"./global/Polish":[42043,2043],"./global/Polish.ts":[42043,2043],"./global/Portuguese, Brazilian":[37797,7797],"./global/Portuguese, Brazilian.ts":[37797,7797],"./global/Soviet":[54688,4688],"./global/Soviet.ts":[54688,4688],"./global/Ukrainian":[81478,1478],"./global/Ukrainian.ts":[81478,1478],"./global/default":[73749,3749],"./global/default.ts":[73749,3749],"./serviceWorker/Belarusian":[37798,7798],"./serviceWorker/Belarusian.ts":[37798,7798],"./serviceWorker/English":[15468,5468],"./serviceWorker/English.ts":[15468,5468],"./serviceWorker/German":[39800,9800],"./serviceWorker/German.ts":[39800,9800],"./serviceWorker/Kazakh":[2096,2096],"./serviceWorker/Kazakh.ts":[2096,2096],"./serviceWorker/Polish":[85015,5015],"./serviceWorker/Polish.ts":[85015,5015],"./serviceWorker/Portuguese, Brazilian":[30793,793],"./serviceWorker/Portuguese, Brazilian.ts":[30793,793],"./serviceWorker/Soviet":[1612,1612],"./serviceWorker/Soviet.ts":[1612,1612],"./serviceWorker/Ukrainian":[98898,8898],"./serviceWorker/Ukrainian.ts":[98898,8898],"./serviceWorker/default":[2313,2313],"./serviceWorker/default.ts":[2313,2313],"./settings/Belarusian":[20396,396],"./settings/Belarusian.ts":[20396,396],"./settings/English":[48930,8930],"./settings/English.ts":[48930,8930],"./settings/German":[21802,1802],"./settings/German.ts":[21802,1802],"./settings/Kazakh":[66162,6162],"./settings/Kazakh.ts":[66162,6162],"./settings/Polish":[31277,1277],"./settings/Polish.ts":[31277,1277],"./settings/Portuguese, Brazilian":[69603,9603],"./settings/Portuguese, Brazilian.ts":[69603,9603],"./settings/Soviet":[78806,8806],"./settings/Soviet.ts":[78806,8806],"./settings/Ukrainian":[2164,2164],"./settings/Ukrainian.ts":[2164,2164],"./settings/default":[15031,5031],"./settings/default.ts":[15031,5031],"./vkcom/Belarusian":[6565,6565],"./vkcom/Belarusian.ts":[6565,6565],"./vkcom/English":[53289,3289],"./vkcom/English.ts":[53289,3289],"./vkcom/German":[98843,8843],"./vkcom/German.ts":[98843,8843],"./vkcom/Kazakh":[79119,9119],"./vkcom/Kazakh.ts":[79119,9119],"./vkcom/Polish":[36892,6892],"./vkcom/Polish.ts":[36892,6892],"./vkcom/Portuguese, Brazilian":[91052,1052],"./vkcom/Portuguese, Brazilian.ts":[91052,1052],"./vkcom/Soviet":[96495,6495],"./vkcom/Soviet.ts":[96495,6495],"./vkcom/Ukrainian":[37707,7707],"./vkcom/Ukrainian.ts":[37707,7707],"./vkcom/default":[6108,6108],"./vkcom/default.ts":[6108,6108]};function a(e){if(!r.o(n,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],a=t[0];return r.e(t[1]).then(()=>r(a))}a.keys=()=>Object.keys(n),a.id=66811,e.exports=a},67292:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n={},a=()=>{try{"vknext"in globalThis||Object.defineProperty(globalThis,"vknext",{configurable:!1,value:n})}catch(e){}try{if("vknext"in globalThis)return globalThis.vknext;globalThis.vknext=n}catch(e){console.error(e)}return n}},67983:(e,t,r)=>{"use strict";r(27358);var n=r(7417),a=r(79110),o=r(15169),s=r(32935),i=r(40048),c=r(13536),d=r(91570),l=r(67292),_=r(29665),u=r(58648),h=r(94030);const f=e=>{const t=document.querySelectorAll(`#${e}`);t.forEach((e,r)=>{r!==t.length-1&&e.remove()})},p=()=>{((e,t)=>{document.querySelectorAll(`[id^="${e}"]`).forEach(r=>{Number(r.id.replace(e,""))!==t&&r.remove()})})("post_postpone_btn",window.__addMediaIndex??1),f("post_donut_duration_btn"),f("donut_visibility_btn")};let m=!1;const g=()=>{m||(m=!0,(0,u.A)(e=>{(0,l.A)()?.vcf_installed||(delete e.posting_web_react_form,delete e.posting_hide_copyright_button_web)}),(0,c.h)(e=>{if(e._posting_hooked)return;e._posting_hooked=!0;const t=e.init;e.init=async(...n)=>{try{const{default:e}=await Promise.all([r.e(763),r.e(5405)]).then(r.bind(r,75405));e(n[0])}catch(e){console.error(e)}try{return await Reflect.apply(t,e,n)}catch(e){throw e}finally{p()}}}),(0,n.n)(async()=>{const e=await(0,d.R)();if(document.getElementById("submit_post_box"))return;if(0===document.getElementsByClassName("PostingReactBlock__root").length)return;const t=document.getElementById("main_feed");if(!(0,l.A)()?.vcf_installed){try{await(async e=>{const t=await _.A;if(window.Notifier?.showEvent){const r=[t.use(e?"vkcom_posting_main_feed_error":"vkcom_posting_profile_feed_error")],n=parseInt(localStorage.getItem("oldPostingNotifyCount")||"0")||0;if(n>10)return;10===n&&r.push("<br/><br/>",t.use("vkcom_posting_reload_section_notification")),window.Notifier.showEvent({title:t.use("global_app_name"),text:r.join("\n")}),localStorage.setItem("oldPostingNotifyCount",(n+1).toString())}})(t)}catch(e){console.error(e)}t||e.go(e.objLoc,null,{noback:!0,replace:!0,preventScroll:!0})}}))},b=()=>{(0,l.A)()?.vcf_installed||h.default.getValue("oldPosting")&&g()};h.default.onInited(b),h.default.addChangeKeyListener("oldPosting",b);const A=()=>r.e(1910).then(r.bind(r,81910)),w=()=>r.e(4755).then(r.bind(r,24755)),v=(0,o.A)(()=>Promise.all([r.e(4014),r.e(926)]).then(r.bind(r,19799))),E=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(8414),r.e(4014),r.e(11),r.e(1413),r.e(7432),r.e(1417)]).then(r.bind(r,62454)),k=()=>Promise.all([r.e(961),r.e(7397),r.e(1024),r.e(8414),r.e(181),r.e(8486),r.e(4014),r.e(5289),r.e(3029)]).then(r.bind(r,1029)),y=()=>Promise.all([r.e(4014),r.e(5878)]).then(r.bind(r,14175)),S=()=>r.e(2343).then(r.bind(r,42343)),O=()=>Promise.all([r.e(11),r.e(1413),r.e(1870)]).then(r.bind(r,21258)),T=()=>r.e(6010).then(r.bind(r,36010)),I=async()=>{const{default:e}=await r.e(7800).then(r.bind(r,7800)),t=await e.getStorage()||{};return Object.keys(t).length>0};(0,i.A)()&&((0,n.n)(()=>{(0,s.A)("alternativeProfile",v),(0,s.A)("redirectToMyAllGroups",T)}),(0,a.g)(()=>{(0,s.A)("colorFriends",A),(0,s.A)("colorGroups",w),(0,s.A)("prof_info",k),(0,s.A)("prof_info",y),(0,s.A)("prof_info",S),(0,s.A)(e=>["galo4kiVKN","galo4kiVT","galo4kiSova","galo4kiMp3","galo4kiCoffee","galo4kiVKXPlus","galo4kiVkTea"].some(t=>Boolean(e[t])),E),Promise.all([r.e(4014),r.e(2684)]).then(r.bind(r,58757)).catch(console.error),r.e(1078).then(r.bind(r,1078)).catch(console.error)}),(0,a.g)(async()=>{if(await I())return void O().catch(console.error);const{default:e}=await r.e(7800).then(r.bind(r,7800)),{remove:t}=e.addListener(async()=>{await I()&&(O().catch(console.error),t())})}))},68368:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});r(67292);const n=new(r(26899).A)},69822:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7618),a=r(94030);const o=(e,t)=>{if("string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),t&&(t=Math.abs(t)),t){if((a.default.getValue("silentreadinclgim")[t]||[]).includes(e))return!0;return!(a.default.getValue("silentreadexclgim")[t]||[]).includes(e)&&a.default.getValue("silentreadgim")}return!!a.default.getValue("silentreadincl").includes(e)||!a.default.getValue("silentreadexcl").includes(e)&&(n.z.isGroupId(e)?a.default.getValue("silentreadbots"):n.z.isChatId(e)?a.default.getValue("silentreadchats"):a.default.getValue("silentreadusers"))}},71191:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(50313);const a=()=>(0,n.A)("boxQueue")},73177:(e,t,r)=>{"use strict";var n,a;r.d(t,{t:()=>n}),(a=n||(n={}))[a.CONTINUE=100]="CONTINUE",a[a.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",a[a.PROCESSING=102]="PROCESSING",a[a.EARLYHINTS=103]="EARLYHINTS",a[a.OK=200]="OK",a[a.CREATED=201]="CREATED",a[a.ACCEPTED=202]="ACCEPTED",a[a.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",a[a.NO_CONTENT=204]="NO_CONTENT",a[a.RESET_CONTENT=205]="RESET_CONTENT",a[a.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",a[a.AMBIGUOUS=300]="AMBIGUOUS",a[a.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",a[a.FOUND=302]="FOUND",a[a.SEE_OTHER=303]="SEE_OTHER",a[a.NOT_MODIFIED=304]="NOT_MODIFIED",a[a.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",a[a.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",a[a.BAD_REQUEST=400]="BAD_REQUEST",a[a.UNAUTHORIZED=401]="UNAUTHORIZED",a[a.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",a[a.FORBIDDEN=403]="FORBIDDEN",a[a.NOT_FOUND=404]="NOT_FOUND",a[a.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",a[a.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",a[a.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",a[a.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",a[a.CONFLICT=409]="CONFLICT",a[a.GONE=410]="GONE",a[a.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",a[a.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",a[a.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",a[a.URI_TOO_LONG=414]="URI_TOO_LONG",a[a.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",a[a.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",a[a.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",a[a.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",a[a.MISDIRECTED=421]="MISDIRECTED",a[a.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",a[a.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",a[a.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",a[a.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",a[a.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",a[a.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",a[a.BAD_GATEWAY=502]="BAD_GATEWAY",a[a.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",a[a.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",a[a.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"},74501:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(50313);const a=()=>(0,n.A)("MECommonContext")},74697:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _lib_createPromise__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49370),_helpers_isOauthVK__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20725),_injected_bridge_getRuntimeURL__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54222);console.info("[VK Next] userscript start");const getChunkFromServer=async e=>{try{return(await fetch(e)).text()}catch(e){}const{promise:t,resolve:r,reject:n}=(0,_lib_createPromise__WEBPACK_IMPORTED_MODULE_0__.default)();return GM_xmlhttpRequest({method:"GET",url:e,onload:({responseText:e})=>{if(!e)return n(new Error("Chunk not found"));r(e)},onerror:e=>n(e)}),t},getChunkCacheKey=e=>`_webpack_require_l_cache_${new URL(e).pathname}`;__webpack_require__.l=(chunkUrl,done)=>{const onLoad=(text,fromCache=!1)=>{try{eval(text),done(),fromCache||requestAnimationFrame(()=>{requestIdleCallback(()=>{GM_setValue(getChunkCacheKey(chunkUrl),text)})})}catch(e){console.error(e),done(e)}};{const e=GM_getValue(getChunkCacheKey(chunkUrl),"");if(e?.length)return onLoad(e,!0)}getChunkFromServer(chunkUrl).then(e=>onLoad(e)).catch(done)},(0,_injected_bridge_getRuntimeURL__WEBPACK_IMPORTED_MODULE_2__.A)("vknext.css").then(e=>{GM_addElement("link",{href:e,rel:"stylesheet",type:"text/css"})}),(0,_helpers_isOauthVK__WEBPACK_IMPORTED_MODULE_1__.A)()&&__webpack_require__.e(539).then(__webpack_require__.bind(__webpack_require__,70539)).catch(console.error)},76243:()=>{},77882:(e,t,r)=>{"use strict";var n,a,o,s,i,c;r.d(t,{Y4:()=>o,jw:()=>i,wD:()=>n}),(a=n||(n={}))[a.clientId=6121396]="clientId",a[a.scope=501202911]="scope",a.name="vkAdminAndroid",(s=o||(o={}))[s.clientId=5776857]="clientId",s[s.scope=501202911]="scope",s.name="vkAdminIos",(c=i||(i={}))[c.clientId=2685278]="clientId",c[c.scope=501202911]="scope",c.name="kateMobile"},78194:(e,t,r)=>{"use strict";function n(e){const t={};if(!e)return t;for(const r of Object.keys(e))r.startsWith("__reactFiber")&&(t.fiber=e[r]),r.startsWith("__reactProps")&&(t.props=e[r]),r.startsWith("__reactContainer")&&(t.container=e[r]);return t}r.d(t,{A:()=>n})},79110:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});const n=e=>{if("complete"===document.readyState)return void e();const t=()=>{"complete"===document.readyState&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}},82523:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=e=>{let t=e+"";return e>1e9?t=(e/1e9).toFixed(1).toString().replace(".",",")+"B":e>1e6?t=(e/1e6).toFixed(1).toString().replace(".",",")+"M":e>1e3&&(t=(e/1e3).toFixed(1).toString().replace(".",",")+"K"),t.includes(",0")&&(t=t.slice(0,-3)+t.at(-1)),t}},83043:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(61054);const a=new Set;let o=!1;const s=e=>(a.add(e),(async()=>{if(o)return;o=!0;const e=await(0,n.V)(),t=e.api;e.api=async function(...r){let n=await Reflect.apply(t,e,r);for(const e of a)try{const t=await e({method:r[0],params:r[1],response:n});void 0!==t&&(n=t)}catch(e){console.error("[VKNext] Interceptor error:",e)}return n}})(),()=>a.delete(e))},83304:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(51018),a=r(3916),o=r(54251);const s=new n.e;let i=!1;const c=e=>{const t=s.addListener(e);return(async e=>{i?await(0,a.P)():(i=!0,(0,o.A)("vk",e=>{for(const t of s.listeners)try{t(e)}catch(e){console.error(e)}})),e(window.vk)})(e),t},d=e=>{const t=new n.e,r=r=>{let n=r[e];Object.defineProperty(r,e,{get:()=>n,set:e=>{n=e;for(const e of t.listeners)try{e(n)}catch(e){console.error(e)}return!0},configurable:!0,enumerable:!0})};let o=!1;const s=async t=>{o||(o=!0,await(async()=>{const e=await(0,a.P)();e&&r(e),c(e=>{r(e)})})());t((await(0,a.P)())[e])};return e=>{const r=t.addListener(e);return s(e),r}}},87124:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});const n=()=>`${GM_info.scriptHandler.toLowerCase()}_${GM_info.script.namespace}`},88018:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={compactLeftMenu:r.p+"styles/bfa9a34e.vknext.css",fixedLeftMenu:r.p+"styles/88be3da9.vknext.css",hideBtnSettings:r.p+"styles/7ba772ad.vknext.css",hideCounters:r.p+"styles/9a73751c.vknext.css",hideLeftNav:r.p+"styles/b07c1894.vknext.css",hideRecommendations:r.p+"styles/6e1c1f30.vknext.css",onlyIcons:r.p+"styles/eec4e021.vknext.css",sideBarSolidBlock:r.p+"styles/256cf202.vknext.css"}},88447:(e,t,r)=>{"use strict";r(27358);var n=r(79110),a=r(21491),o=r(15169),s=r(32935);const i={videoGrid:r.p+"styles/6be3a74b.vknext.css"};var c=r(40048);const d=()=>r.e(2966).then(r.bind(r,42966)),l=()=>r.e(6319).then(r.bind(r,76319)),_=()=>Promise.all([r.e(4014),r.e(2084)]).then(r.bind(r,72349));(0,s.A)("away",()=>r.e(5502).then(r.bind(r,45502))),(0,a.A)("videoGrid",i.videoGrid),(0,n.g)(()=>{(0,s.A)("viewPollNotVoting",(0,o.A)(d)),(0,s.A)("photoScroll",l),(0,s.A)("enableBtnChangePhoto",_),(0,c.A)()&&r.e(5557).then(r.bind(r,15557)).catch(console.error)}),(0,c.A)()&&r.e(197).then(r.bind(r,60197)).catch(console.error)},88575:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(91953);const a=new Set;let o=!1;const s=e=>(a.add(e),(async()=>{if(o)return;o=!0;const e=await(0,n._)(),t=e.post;e.post=function(...r){let n=!1;for(const e of a)try{const t=e(r);!0===t?n=!0:!t||t instanceof Promise||(r=t)}catch(e){console.error(e)}if(!n)return Reflect.apply(t,e,r)}})(),()=>a.delete(e))},88724:(e,t,r)=>{"use strict";r.d(t,{Q:()=>b});var n=r(48886),a=r(92046),o=r(73177);const s=()=>"https://api.vknext.net",i=async e=>{const t=await e.json(),n=e.headers.get("Content-Type");if(n&&n.startsWith("application/x-vknextpack")&&t)try{const e=new Uint8Array(Object.values(t)),{decode:n}=await r.e(7802).then(r.bind(r,77802));return n(e)}catch(e){console.error(e)}return t};var c=r(39542),d=r(67292);const l=async()=>{try{const e=await fetch(`${s()}/internal.getAuthAppId`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Api-Version":"3"}});if(e.ok)return parseInt(await e.text())}catch(e){console.error("[VK Next/getAuthAppId] Error:",e)}return 8194076},_=(0,c.A)(),u=async e=>{const t=(0,d.A)().browserApi;if(t){return(await t.storage.local.get(e))[e]}if(_?.localStorage)return _.localStorage.getItem(e);const{storage:n}=await r.e(6815).then(r.t.bind(r,96815,23));return(await n.local.get(e))[e]},h=async(e,t)=>{const n=(0,d.A)().browserApi;if(n)return void await n.storage.local.set({[e]:t});if(_?.localStorage)return void _.localStorage.setItem(e,t);const{storage:a}=await r.e(6815).then(r.t.bind(r,96815,23));await a.local.set({[e]:t})},f=async(e,t)=>{const r=`vknLP${e}`,n=`vknLPD${e}`,o=await u(r),s=await u(n);if(o&&Date.now()-(parseInt(s||"")||0)<216e5)return o?.response||o;try{const o=await t.apps.getAppLaunchParams({mini_app_id:await l(),referer:"other",v:"5.123"}),s=new URLSearchParams(Object.entries(o)).toString();return s?(await h(r,s),await h(n,Date.now().toString()),s):(await(0,a.c)(5e3),f(e,t))}catch(r){return console.error(r),await(0,a.c)(1500),f(e,t)}},p=f;var m=r(55057);const g=async(e,t,r)=>{try{delete Uint8Array.prototype.toJSON}catch(e){console.error(e)}const n=(0,m.A)(),a=((e,t)=>{const r=e.toString().length,n=new Uint8Array(16);for(let a=0;a<t.length;a++){const o=t.charCodeAt(a)*e/r;n[a%16]^=255&o}return n})(e,t),o=await(e=>crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt"]))(a),s={version:await r.getVersion(),udGltZS5p:await r.getRuntimeId(),cGlkb3I:e,fdhjiD:"ba05681e16c97c31e1be20e84f250d55",v9Cdi3sD:n},i=JSON.stringify(s),c=(new TextEncoder).encode(i),d={name:"AES-CBC",iv:crypto.getRandomValues(new Uint8Array(16))},l=await crypto.subtle.encrypt(d,o,c),_=new Uint8Array(d.iv.length+l.byteLength);return _.set(new Uint8Array(d.iv),0),_.set(new Uint8Array(l),d.iv.length),_};class b{vkapi;vkAgents;userId;constructor({api:e}){this.vkapi=e,this.userId=0,this.vkAgents=new Map}async call(e,t,r){const c=await this.getVkAgent(),d={...t,"vknext-agent":await this.gvkna()};let l=0;const _=`${s()}/${e}`,u=JSON.stringify(d),h={Accept:"application/json","Content-Type":"application/json","VK-Agent":c,"VK-User-ID":`${this.userId||0}`,[n.dI.branch]:"ba05681e16c97c31e1be20e84f250d55","Api-Version":"3",...r};let f=new Response(JSON.stringify({error_code:o.t.REQUEST_TIMEOUT}),{status:o.t.REQUEST_TIMEOUT});for(;l<3;){const e=new AbortController,t=setTimeout(()=>e.abort(),15e3);try{if(f=await fetch(_,{body:u,method:"POST",headers:h,signal:e.signal}),f.status!==o.t.BAD_GATEWAY)return i(f);{await(0,a.c)(2e3);const e=await f.text();if(!e.toLowerCase().includes("cloudflare"))return i(f);await(0,a.c)(l)}}catch(e){console.error(e),await(0,a.c)(2e3)}clearTimeout(t),l++}return i(f)}async getVkAgent(){if(0===this.userId&&(this.userId=await this.getUserId()),this.vkAgents.has(this.userId))return this.vkAgents.get(this.userId);return p(this.userId,this.vkapi)}async gvkna(){return await g(this.userId,"ba05681e16c97c31e1be20e84f250d55",this)}resetUserId(){this.userId=0}async getUserId(){return 0}async getRuntimeId(){return""}async getVersion(){return""}}},91570:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(50313);const a=()=>(0,n.A)("nav")},91953:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(50313);const a=()=>(0,n.A)("ajax")},91988:(e,t,r)=>{"use strict";r.d(t,{BridgeMessagesTypes:()=>d,default:()=>h});var n=r(77882),a=r(19709);const o=class{SOURCE_NAME="vkcom-vkn-13";messageHandlers=new Map;pendingMessages=new Map;messageHandler;constructor(){this.messageHandler=async e=>{if(e.origin!==window.origin)return;const t=e.data;if(t?.source!==this.SOURCE_NAME)return;const{type:r,payload:n,id:a,answer:o}=t;if(!0!==o)for(const e of this.messageHandlers.get(r)||[]){const t=e=>{window.postMessage({source:this.SOURCE_NAME,type:r,payload:e,id:a,answer:!0},window.origin)};try{await e(n,t)}catch(e){console.error(e)}}else for(const e of this.pendingMessages.get(a)||[])e&&(e.resolve(n),this.pendingMessages.delete(a))},window.addEventListener("message",this.messageHandler)}sendMessage(e,t){const r=this.generateUniqueId(),n=new Promise(e=>{const t=this.pendingMessages.get(r)||[];t.push({resolve:e}),this.pendingMessages.set(r,t)});return window.postMessage({source:this.SOURCE_NAME,type:e,payload:t,id:r,answer:!1},window.origin),n}addMessageHandler(e,t){const r=this.messageHandlers.get(e)||[];return r.push(t),this.messageHandlers.set(e,r),()=>this.removeMessageHandler(e,t)}removeMessageHandler(e,t){const r=this.messageHandlers.get(e)||[],n=r.indexOf(t);-1!==n&&r.splice(n,1),this.messageHandlers.set(e,r)}requestCount=0;generateUniqueId(){return this.requestCount++}};var s=r(8587);var i,c;(c=i||(i={})).ON_UPDATE_STORAGE="vkn-b-ous",c.ON_SAVE_STORAGE="vkn-b-oss",c.GET_MANIFEST="vkn-b-gm",c.GET_STORAGE="vkn-b-gs",c.GET_VKADMIN_TOKEN="vkn-b-gvt",c.GET_PRIMES_MODAL_STATUS="vkn-b-gpms",c.SET_PRIMES_MODAL_STATUS="vkn-b-spms",c.ALLOW_ACCESS_TO_HOST="vkn-b-aath",c.GET_TOKEN_BY_EXCHANGE_TOKEN="vkn-b-gtet",c.RELOAD_VKCOM="vkn-b-rvk",c.REQUEST_UPDATE_CHECK="vkn-b-ruc";const d=i;var l=r(7448),_=r(87124);const u=()=>{const e=GM_info.script.downloadURL||GM_info.script.updateURL;if(!e)return new URL("").origin;const t=new URL(e);return t.pathname=`/v/${GM_info.script.version}`,`${t.href}/`};const h=new class extends o{async sendMessage(e,t){switch(e){case d.GET_MANIFEST:return{manifest_version:3,name:GM_info.script.name,version:GM_info.script.version,id:(0,_.k)(),url:u()};case d.GET_VKADMIN_TOKEN:{const{default:e}=await Promise.resolve().then(r.bind(r,49370)),o=t,s=o?.vk_id||window.vk?.id||0,{promise:i,resolve:c}=e(),d=new URLSearchParams({scope:n.wD.scope.toString(),client_id:n.wD.clientId.toString(),redirect_uri:`https://oauth.${a.A}/blank.html`,response_type:"token",display:"mobile",revoke:"1",state:`${(0,_.k)()}_${s}_${n.wD.clientId.toString()}`}),l=`https://oauth.${a.A}/authorize?${d}`;window.open(l,"_blank");const{default:u}=await r.e(8423).then(r.bind(r,58423)),h=u.addListener((e,t)=>{t[s]?.[n.wD.clientId]?.token&&(c(!0),h.remove())});return window.addEventListener("focus",async()=>{const{default:e}=await Promise.all([r.e(4014),r.e(3891)]).then(r.bind(r,62660));e({type:"done",text:"Если загрузка не пропадает, попробуйте перезагрузить страницу"})},{once:!0}),await i,!0}case d.GET_PRIMES_MODAL_STATUS:{const e=GM_getValue(s.$.PRIME_STATUS);return{primeIsShown:e?.primeIsShown||!1,deluxeIsShown:e?.deluxeIsShown||!1}}case d.SET_PRIMES_MODAL_STATUS:{const e=t;return GM_setValue(s.$.PRIME_STATUS,{primeIsShown:e?.primeIsShown||!1,deluxeIsShown:e?.deluxeIsShown||!1}),Promise.resolve(!0)}case d.ALLOW_ACCESS_TO_HOST:return Promise.resolve(!0);case d.GET_TOKEN_BY_EXCHANGE_TOKEN:throw new Error("Not implemented");case d.RELOAD_VKCOM:return l.r.postMessage({t:l.D.RELOAD_PAGE}),window.location.reload(),Promise.resolve(!0);default:console.warn("[VK Next/bridge] sendMessage",e,t)}return super.sendMessage(e,t)}}},92046:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});const n=e=>new Promise(t=>setTimeout(t,e))},92580:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});const n=()=>{let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}},94030:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(8587),a=r(8773),o=r(4047);class s extends o.A{constructor(){super(n.N.VKNEXT)}getValue(e){const t=this.getStorage();return e in t&&void 0!==t[e]?t[e]:a.g[e]}setValue(e,t){const r=this.getStorage();r[e]=t,this.saveStorage(r)}removeValue(e){const t=this.getStorage();delete t[e],this.saveStorage(t)}getStorageWithDefault(){return{...a.g,...this.getStorage()}}clearStorage(){this.saveStorage({})}hasEnabledValues(e){return e.some(e=>this.getValue(e))}addChangeKeyListener(e,t){return this.addListener((r={},n={})=>{const a=r[e],o=n[e];"object"==typeof a&&"object"==typeof o&&JSON.stringify(a)===JSON.stringify(o)||Object.is(a,o)||t(a,o)})}}const i=new s},99833:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=["account","ads","appWidgets","apps","audio","auth","board","database","docs","fave","friends","gifts","groups","leads","leadForms","likes","market","messages","newsfeed","notes","notifications","orders","pages","photos","places","polls","podcasts","prettyCards","store","search","secure","stats","status","storage","stories","streaming","users","utils","video","wall","widgets","junction","articles","donut","specials","statEvents","loyaltyTeen","marusia"]}},__webpack_module_cache__={},hasSymbol,webpackQueues,webpackExports,webpackError,resolveQueue,leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,hasSymbol="function"==typeof Symbol,webpackQueues=hasSymbol?Symbol("webpack queues"):"__webpack_queues__",webpackExports=hasSymbol?Symbol("webpack exports"):"__webpack_exports__",webpackError=hasSymbol?Symbol("webpack error"):"__webpack_error__",resolveQueue=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},__webpack_require__.a=(e,t,r)=>{var n;r&&((n=[]).d=-1);var a,o,s,i=new Set,c=e.exports,d=new Promise((e,t)=>{s=t,o=e});d[webpackExports]=c,d[webpackQueues]=e=>(n&&e(n),i.forEach(e),d.catch(e=>{})),e.exports=d,t(e=>{var t;a=(e=>e.map(e=>{if(null!==e&&"object"==typeof e){if(e[webpackQueues])return e;if(e.then){var t=[];t.d=0,e.then(e=>{r[webpackExports]=e,resolveQueue(t)},e=>{r[webpackError]=e,resolveQueue(t)});var r={};return r[webpackQueues]=e=>e(t),r}}var n={};return n[webpackQueues]=e=>{},n[webpackExports]=e,n}))(e);var r=()=>a.map(e=>{if(e[webpackError])throw e[webpackError];return e[webpackExports]}),o=new Promise(e=>{(t=()=>e(r)).r=0;var o=e=>e!==n&&!i.has(e)&&(i.add(e),e&&!e.d&&(t.r++,e.push(t)));a.map(e=>e[webpackQueues](o))});return t.r?o:r()},e=>(e?s(d[webpackError]=e):o(c),resolveQueue(n))),n&&n.d<0&&(n.d=0)},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var a=2&t&&e;("object"==typeof a||"function"==typeof a)&&!~leafPrototypes.indexOf(a);a=getProto(a))Object.getOwnPropertyNames(a).forEach(t=>n[t]=()=>e[t]);return n.default=()=>e,__webpack_require__.d(r,n),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,r)=>(__webpack_require__.f[r](e,t),t),[])),__webpack_require__.u=e=>961===e?"scripts/8523bb4d5.vknext.js":7397===e?"scripts/7cd8e6be3.vknext.js":8414===e?"scripts/956cf1af1.vknext.js":181===e?"scripts/68b96fd28.vknext.js":8238===e?"scripts/26bcfbc3f.vknext.js":7887===e?"scripts/04fd9e4c4.vknext.js":6727===e?"scripts/3f7f01e5e.vknext.js":"scripts/"+{11:"2370fc389",34:"b30b792f6",38:"b15d64d9d",81:"b495b92fe",93:"059c5ad40",124:"1afc966bd",145:"cf47c15d4",188:"6021fd36b",197:"50ab5a69e",217:"aa9d00f90",227:"ae1ea5c29",238:"57cd73528",262:"0b4db28a2",286:"768f1c014",333:"56e418fcd",350:"601bc9fdf",396:"51a52800f",404:"735c64761",441:"39ec35c19",458:"3971ed2ee",473:"d49861f21",487:"2ef305702",524:"b23e30597",539:"4465b447d",586:"086a44c86",616:"6c5fc1717",628:"8a751ad90",668:"97bfc6f65",687:"d77c49e5e",723:"54ba3642e",735:"26141f603",763:"941349815",793:"ebd1b5849",797:"75e82cc0d",824:"c2dbbc28b",892:"a4afa09e1",913:"1aa96cc44",926:"11fe37250",935:"30c70709b",983:"ac6b3e872",1024:"80e22e0e5",1052:"aef56e171",1069:"614d119ef",1078:"d4eb2d09e",1098:"dd4aabf00",1112:"68ae0623f",1122:"4030e6439",1132:"7d0403d25",1212:"ba5e13f5b",1269:"ed3c0f57a",1273:"06c67b4fa",1277:"4bdcdedfe",1322:"756d4b9d3",1334:"73170d4b3",1340:"871eb5b9e",1393:"b5daf4114",1396:"c88066522",1413:"472ca8494",1417:"cd9d878b4",1451:"fc896c93a",1478:"94163c5e0",1498:"cba97c9e4",1517:"038743280",1521:"4b32934f0",1524:"8b9599363",1545:"c29921ef6",1561:"4a5408c91",1612:"b5d76e607",1618:"f872adc82",1622:"ff1f537e3",1632:"54f8369b2",1653:"5f22c2de7",1654:"9a7f42d00",1678:"bccd24d64",1691:"02cc87675",1711:"02d58cca4",1732:"65ffc52be",1743:"9035b1c4b",1771:"f91cbcc1c",1784:"9ea9a951a",1786:"d57bf0fc8",1802:"f04818e86",1823:"e6e152fc9",1853:"b073f64a6",1868:"f93904cb6",1870:"5a920460c",1882:"f748a69da",1885:"2603f5003",1910:"a5e3ebad6",1913:"1356df740",1941:"c792853b4",1960:"b45473d52",1965:"70248e6aa",1982:"abbb28aee",1988:"4f01a8a10",2043:"e5471a6a4",2062:"513419f2b",2084:"5a1c6c009",2096:"84baf86bb",2103:"9e9cb0253",2139:"45b6e27fa",2153:"4cba6d888",2155:"482f502a1",2164:"ef3aff8bc",2203:"975892a04",2222:"481596440",2269:"4ec327118",2295:"c35f59d36",2313:"e89e58209",2323:"0215e7175",2343:"0e73d46db",2350:"35fca2ea7",2394:"fb4d8ed34",2395:"d7084430d",2402:"cbe3d23fd",2407:"7a50efa9f",2469:"6a4e2555c",2516:"415a291db",2543:"4f9fb5dba",2603:"6bb69b91a",2618:"e93bda04a",2631:"af46d69a5",2669:"f2cec5c3b",2684:"da8d40b9c",2692:"c9ee328bc",2773:"805fb9f74",2805:"cd9005446",2844:"899364104",2928:"9ac9a55f6",2932:"e89fccd4b",2946:"0ba22bfd8",2966:"7690a6e0d",2972:"2c696a2ae",2980:"35c7893a8",2998:"85f75ac8d",3029:"452187185",3030:"5e48799c5",3047:"58fcc8868",3096:"53528002b",3118:"a0f3ef70d",3124:"42bd514b0",3185:"efa6d0ff5",3240:"3a3415d07",3259:"92f38856d",3283:"6936e4706",3289:"158cc6928",3295:"e43684a1c",3333:"37436e47b",3409:"5064ebbbf",3427:"0a257625c",3438:"678982f27",3464:"32684c2c0",3466:"d73e0db76",3475:"f0f29ca4f",3477:"ea6390bbd",3485:"6427b4ce3",3527:"6f387f420",3573:"2bf98dc5e",3607:"92719326b",3657:"a78d01c61",3660:"14cde4d39",3678:"7b454681a",3749:"1cc4a8eef",3838:"94c774b72",3891:"42aaa3094",3913:"da08ce329",3925:"a569f4c6c",3951:"c51ee5fad",3955:"5e48f0ef7",3983:"456128d2f",3996:"50a31d68c",4014:"179bd434c",4049:"e55b2c4c2",4059:"a0d614512",4084:"c0a7fd911",4104:"815426f4a",4213:"0900cb6f6",4234:"cc4c652ff",4345:"866b74a28",4354:"d81923e76",4412:"f0147afed",4440:"655da5824",4536:"52c5f9166",4625:"c844155a1",4642:"2c2d3dd96",4687:"2a39af558",4688:"51a250107",4755:"68c430e46",4759:"412a9acf4",4791:"1df993178",4812:"b0345e47f",4822:"0ff349632",4836:"77ba838de",4855:"9215ee738",4893:"934af4961",4945:"4ed288df8",4953:"4bd561011",4972:"c301aef87",4980:"06c263576",5012:"3168b986b",5015:"640eeb397",5031:"20edc1db3",5051:"3fe274f5a",5083:"7bb18e4b6",5128:"4fc9ad7d5",5165:"1798290b8",5185:"8c5cd9f27",5189:"e6fcb898f",5287:"b79df01c2",5289:"f8a4cefde",5327:"9514229d4",5338:"70af29ee2",5355:"a12e5ff51",5366:"8fe1a652b",5373:"d4c407b39",5379:"fcd40cb5f",5405:"c70e89737",5434:"305d3ca9f",5451:"d287df611",5468:"5aa3e5d6e",5502:"106d09362",5557:"256954c1e",5566:"efa6d0ff5",5568:"01514440a",5581:"c139abd7c",5621:"b621aaa10",5623:"decada7ba",5640:"168b89014",5647:"d1d6e746a",5700:"cec721a7e",5799:"77656220e",5824:"dd3114eff",5878:"6ddddca1e",5898:"e07ca5911",6009:"8f84ebf71",6010:"664936be7",6053:"9f296541c",6108:"9ceeed5fd",6110:"39efa9b1d",6162:"73346789c",6196:"b0b302255",6208:"42675ea40",6228:"2bf40f170",6231:"5cb20231f",6264:"05d4233dd",6319:"bd13c8cd8",6336:"38238efd9",6440:"1b100fd2d",6495:"684776aff",6548:"67e68788d",6565:"b1eeaa7d1",6613:"e3a3cdd6f",6690:"ec9374bd0",6704:"be7cfa205",6723:"a7526629d",6763:"77c446abd",6782:"fdda34dc8",6787:"eddc12976",6804:"4753b97ba",6815:"62e323090",6843:"f964b0d40",6859:"209b084df",6881:"1a695a04a",6885:"0c322dd5b",6887:"fcd355151",6892:"d234f3606",6952:"61bf998ce",6969:"885cf9435",6975:"e5a482028",6999:"856c0e706",7005:"f62804de5",7032:"f2ab6ce33",7072:"2d65a8012",7201:"49fe91bae",7214:"0c59358c4",7221:"a45b2f950",7358:"54661146b",7417:"89a6092ee",7432:"d223f0a70",7475:"743a5e6a1",7528:"cea953364",7539:"4c9e098f8",7555:"fcaed8acd",7558:"9db1b82b3",7596:"40161e84c",7617:"04a8fe1cd",7707:"570aa7f95",7743:"4b7dd2978",7754:"2b1986414",7797:"f0ba90f17",7798:"ef3cc6344",7800:"0015ee95e",7802:"4619b2b7e",7821:"3a8601892",7915:"15aecdd76",7916:"0f28f983e",8016:"5e8a11a21",8030:"a852768ad",8058:"6b0210c8a",8087:"ab8079bb9",8092:"ae20b1afb",8104:"da0a3caca",8197:"d162d0a51",8209:"127edc664",8254:"4ca483dbe",8269:"e902c3b86",8310:"344d6efae",8349:"5c82ec841",8423:"6a70f89ae",8486:"c8020dbc2",8512:"0c78a95bf",8563:"191db7666",8579:"d429d45a3",8597:"79299608b",8641:"078ce70c6",8650:"6985994d1",8675:"c88694d7e",8715:"141fcbc6c",8769:"5ee53c8a8",8770:"c4ce20a1b",8806:"4391f2078",8815:"55fe3be92",8843:"87e53c13d",8873:"c1da8fa33",8898:"560892c6b",8899:"2bebf87a2",8919:"1a0965d20",8930:"ff9bcc560",9009:"d52134058",9010:"25329bd71",9014:"22e2670a9",9021:"b9db2ca5f",9072:"5fabb2683",9099:"663819e9f",9119:"b77a55a47",9288:"3d80ce333",9315:"91b4d5e78",9372:"6c995f178",9441:"64e595242",9509:"51878a889",9524:"18a752790",9525:"e509fb094",9559:"ffa345362",9581:"e18e3bc38",9593:"965ad9324",9603:"a7a6fce13",9617:"4f6184718",9681:"a7b0f25bc",9702:"dddb727be",9726:"132aebc2d",9736:"ba5ce9861",9745:"ab40cdece",9765:"5bf3bb332",9771:"87ab17feb",9774:"dd9078a0c",9778:"54d0c054c",9800:"27c9c24d5",9868:"193928add",9961:"e841bfd2b",9996:"a87047512"}[e]+".vknext.js",__webpack_require__.miniCssF=e=>7397===e?"styles/c6bb8e93e.vknext.css":"styles/"+{38:"637b93fa4",81:"604f9d45e",238:"515d3fd81",262:"83ab3b697",473:"0e7ce3424",487:"eae63f2b0",524:"3c183786f",586:"ce5c43818",616:"3e6ec0f77",628:"1f4746b8e",668:"6a5bac0db",687:"f0fbe75fc",723:"bbcc14b03",735:"c8258f0dc",824:"bfc29d630",892:"612bfadbc",926:"4d75826f6",935:"49e8c8000",983:"3864822a2",1112:"97a2b5a2d",1322:"d6397524e",1340:"03d49eaef",1417:"c53b16b31",1498:"496ec3d0c",1521:"2416801d3",1545:"bbcc14b03",1561:"0e7ce3424",1618:"3a08f9182",1622:"ae2e3cfb9",1632:"4d04339a3",1653:"73d203198",1691:"9bdb00890",1711:"f72206c19",1732:"6a64ca490",1743:"cfac4d82e",1771:"5d0cf17f7",1784:"83ab3b697",1853:"194493f13",1868:"7ae8afc29",1885:"65740f85d",1913:"1c9ea0da7",1960:"27ab07a0c",2062:"551a2ab05",2084:"4b9e7e34f",2139:"c29aeb207",2153:"bbcc14b03",2155:"47d4e1f2d",2222:"07795fcff",2323:"bbcc14b03",2343:"b8dafc98f",2394:"569f26355",2395:"ea9a7ee5e",2407:"c980bfa8c",2603:"bbcc14b03",2618:"194493f13",2631:"f5281f08e",2669:"bed222544",2684:"89134dbc7",2805:"234acd87b",2844:"0e7ce3424",2946:"14a6c3353",2966:"b770f1db7",2972:"a58d57ed3",2980:"bae4f2e8b",3029:"0282921e0",3030:"e6009bee4",3047:"f402ffa47",3240:"0243a299b",3259:"9bdb00890",3295:"25c494662",3333:"cafea053b",3409:"bbcc14b03",3427:"9db0a8690",3438:"75b5e6838",3464:"932247161",3477:"0e7ce3424",3527:"0e7ce3424",3607:"13a8a92bc",3657:"77fc2da94",3660:"4ab18dc9f",3838:"194493f13",3891:"83ab3b697",4059:"3c183786f",4345:"bbcc14b03",4440:"bbcc14b03",4625:"27ab07a0c",4642:"a7986dab4",4791:"a7f9c4f52",4822:"af80f2bb1",4836:"8946d7706",4855:"53fad54b2",4893:"806e2960e",4972:"194493f13",5012:"a7986dab4",5051:"ba00dfd48",5083:"5a03757f2",5287:"469a6ab23",5366:"a5dbd33cf",5379:"bbcc14b03",5451:"234acd87b",5581:"4d8400eb7",5623:"ea4b6c3ae",5647:"788541c79",5700:"44901bdad",5799:"d571ab3ec",5824:"e340d959b",5878:"194493f13",6009:"569f26355",6053:"c7eb8c497",6110:"3e6ec0f77",6231:"af1725ecb",6548:"baeead996",6704:"64119ac9e",6723:"68f2d1bd4",6763:"4d8400eb7",6782:"f35100638",6804:"e53927e6e",6843:"fa513ea77",6859:"f18e8a10e",6885:"07c99f2b8",6887:"bbcc14b03",6999:"a72deb310",7005:"0d809f64a",7072:"7659efee7",7091:"f1b2910fc",7358:"496ec3d0c",7528:"5fe4575a7",7555:"2416801d3",7596:"09bea4806",7617:"93c2c67fd",7821:"ac9f3737d",7915:"a132b0a68",7916:"549173a50",8016:"0e7ce3424",8030:"9b64117ef",8087:"cf00a6e67",8092:"ded6a94d0",8104:"8afa86896",8197:"78535f73a",8254:"4177ccc11",8269:"1f4746b8e",8310:"c45ee5bba",8512:"4bf302772",8563:"4d8400eb7",8579:"29e54bbb7",8715:"515d3fd81",8770:"734cf4fc6",8815:"b78d7f500",8919:"0e7ce3424",9021:"c893cf708",9072:"1799f175d",9288:"bbcc14b03",9315:"1fd3bb2a4",9441:"4983d584d",9509:"788541c79",9525:"2ad83368f",9617:"a1696f0dd",9681:"99ca9fa4d",9702:"b1a49f153",9726:"194493f13",9736:"194493f13",9745:"53c8cd219",9765:"194493f13",9771:"d3a08083f",9868:"0f7a520fa",9961:"ab009139e"}[e]+".vknext.css",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="vknext:",__webpack_require__.l=(e,t,r,n)=>{if(inProgress[e])inProgress[e].push(t);else{var a,o;if(void 0!==r)for(var s=document.getElementsByTagName("script"),i=0;i<s.length;i++){var c=s[i];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+r){a=c;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",dataWebpackPrefix+r),a.src=e),inProgress[e]=[t];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(l);var n=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(e=>e(r)),t)return t(r)},l=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),o&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="https://ext.vknext.net/v/14.8.1/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise((t,r)=>{var n=__webpack_require__.miniCssF(e),a=__webpack_require__.p+n;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var a=(s=r[n]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===t))return s}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){var s;if((a=(s=o[n]).getAttribute("data-href"))===e||a===t)return s}})(n,a))return t();((e,t,r,n,a)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",__webpack_require__.nc&&(o.nonce=__webpack_require__.nc),o.onerror=o.onload=r=>{if(o.onerror=o.onload=null,"load"===r.type)n();else{var s=r&&r.type,i=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,o.parentNode&&o.parentNode.removeChild(o),a(c)}},o.href=t,(e=>{if("LINK"===e.tagName&&"undefined"!=typeof GM_addElement){const t=GM_addElement("link",{rel:e.rel,type:e.type,href:e.href});return t.onerror=e.onerror,void(t.onload=e.onload)}(document.head||document.documentElement).appendChild(e)})(o)})(e,a,0,t,r)}),t={1473:0};__webpack_require__.f.miniCss=(r,n)=>{t[r]?n.push(t[r]):0!==t[r]&&{38:1,81:1,238:1,262:1,473:1,487:1,524:1,586:1,616:1,628:1,668:1,687:1,723:1,735:1,824:1,892:1,926:1,935:1,983:1,1112:1,1322:1,1340:1,1417:1,1498:1,1521:1,1545:1,1561:1,1618:1,1622:1,1632:1,1653:1,1691:1,1711:1,1732:1,1743:1,1771:1,1784:1,1853:1,1868:1,1885:1,1913:1,1960:1,2062:1,2084:1,2139:1,2153:1,2155:1,2222:1,2323:1,2343:1,2394:1,2395:1,2407:1,2603:1,2618:1,2631:1,2669:1,2684:1,2805:1,2844:1,2946:1,2966:1,2972:1,2980:1,3029:1,3030:1,3047:1,3240:1,3259:1,3295:1,3333:1,3409:1,3427:1,3438:1,3464:1,3477:1,3527:1,3607:1,3657:1,3660:1,3838:1,3891:1,4059:1,4345:1,4440:1,4625:1,4642:1,4791:1,4822:1,4836:1,4855:1,4893:1,4972:1,5012:1,5051:1,5083:1,5287:1,5366:1,5379:1,5451:1,5581:1,5623:1,5647:1,5700:1,5799:1,5824:1,5878:1,6009:1,6053:1,6110:1,6231:1,6548:1,6704:1,6723:1,6763:1,6782:1,6804:1,6843:1,6859:1,6885:1,6887:1,6999:1,7005:1,7072:1,7091:1,7358:1,7397:1,7528:1,7555:1,7596:1,7617:1,7821:1,7915:1,7916:1,8016:1,8030:1,8087:1,8092:1,8104:1,8197:1,8254:1,8269:1,8310:1,8512:1,8563:1,8579:1,8715:1,8770:1,8815:1,8919:1,9021:1,9072:1,9288:1,9315:1,9441:1,9509:1,9525:1,9617:1,9681:1,9702:1,9726:1,9736:1,9745:1,9765:1,9771:1,9868:1,9961:1}[r]&&n.push(t[r]=e(r).then(()=>{t[r]=0},e=>{throw delete t[r],e}))}}})(),(()=>{var e={1473:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else if(7091!=t){var a=new Promise((r,a)=>n=e[t]=[r,a]);r.push(n[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,n[1](s)}},"chunk-"+t,t)}else e[t]=0};var t=(t,r)=>{var n,a,[o,s,i]=r,c=0;if(o.some(t=>0!==e[t])){for(n in s)__webpack_require__.o(s,n)&&(__webpack_require__.m[n]=s[n]);if(i)i(__webpack_require__)}for(t&&t(r);c<o.length;c++)a=o[c],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=(void 0!==window?window:self).webpackChunkvknext=(void 0!==window?window:self).webpackChunkvknext||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),__webpack_require__.nc=void 0,__webpack_require__(74697);var __webpack_exports__=__webpack_require__(43577)})()})("undefined"!=typeof window&&window instanceof Window?[window,window]:"undefined"!=typeof unsafeWindow?[unsafeWindow,unsafeWindow]:[window,window]);