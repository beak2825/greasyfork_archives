// ==UserScript==
// @name         YouTube to Invidious Redirector
// @namespace    https://naeembolchhi.github.io/
// @version      0.6
// @description  Converts YouTube Links to Invidious. Made for the YouTube ad-block situation.
// @author       NaeemBolchhi
// @license      GPL-3.0-or-later
// @icon         data:image/png;base64,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
// @match        http*://*.youtube.com/*
// @match        https://www.youtube.com/*
// @match        https://www.youtube-nocookie.com/*
// @match        https://m.youtube.com/*
// @match        https://music.youtube.com/*
// @run-at       document-start
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/477726/YouTube%20to%20Invidious%20Redirector.user.js
// @updateURL https://update.greasyfork.org/scripts/477726/YouTube%20to%20Invidious%20Redirector.meta.js
// ==/UserScript==

// Invidious Instance
const invid = 'https://yewtu.be/redirect?referer=';

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\
 * You can find a list of instances at https://docs.invidious.io/instances/. *
 * Feel free to change the instance to anything else of your choosing.       *
\* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

// URL Scraper
function getUrlVars(adrs) {
    let vars = {};
    adrs.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
        vars[key] = value;
    });
    return vars;
}

// Redirection Logic
function redir() {
    if (window.location.pathname === '/watch') {
        // Regular Videos
        window.location.assign(`${invid}/watch?v=${getUrlVars(window.location.href).v}`);
    } else if (window.location.pathname.match(/^\/shorts\//)) {
        // Shorts
        window.location.assign(`${invid}${window.location.pathname}`);
    }
}
redir();

// Try Redirecting Whenever Things Change
let observer = new MutationObserver(function() {
    redir();
});
observer.observe(document.documentElement, {childList: true, subtree: true});