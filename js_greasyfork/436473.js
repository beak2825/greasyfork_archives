// ==UserScript==
// @name         北大青鸟云题库Plus-S1-HTML
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  北大青鸟云题库ACCP 8.0 S1自动刷实际答题,合格率在85%~93% [此代码仅支持HTML课程,如需其他课程,请搜索北大青鸟云题库Plus]
// @author       You
// @match        https://tiku.ekgc.cn/*
// @icon         https://tiku.ekgc.cn/testing/favicon.ico
// @grant        none
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/436473/%E5%8C%97%E5%A4%A7%E9%9D%92%E9%B8%9F%E4%BA%91%E9%A2%98%E5%BA%93Plus-S1-HTML.user.js
// @updateURL https://update.greasyfork.org/scripts/436473/%E5%8C%97%E5%A4%A7%E9%9D%92%E9%B8%9F%E4%BA%91%E9%A2%98%E5%BA%93Plus-S1-HTML.meta.js
// ==/UserScript==

(function() {
    'use strict';
    var examList = [
		"110154391-1637929003791","110154386-1637928995490","110154379-1637928991817","110154378-1637928986780","110154373-1637928981580","110154365-1637928975785","110154358-1637928968265","110154344-1637928962051","110154330-1637928956926","110154322-1637928946591","110154313-1637928938718","110154310-1637928935570","110154304-1637928929375","110154300-1637928921606","110154296-1637928916129","110154284-1637928909894","110154276-1637928904000","110154271-1637928896897","110154262-1637928890829","110154257-1637928885807","110154252-1637928881014","110154247-1637928875764","110154242-1637928870301","110154236-1637928864557","110154225-1637928856865",
		"110154219-1637928848641","110154213-1637928845709","110154207-1637928838226","110154201-1637928832960","110154196-1637928826826","110154193-1637928818595","110154186-1637928812393","110154182-1637928806552","110154177-1637928801850","110154168-1637928796541","110154163-1637928790243","110154155-1637928783408","110154151-1637928777293","110154147-1637928771341","110154141-1637928765772","110154135-1637928759245","110154130-1637928754183","110154128-1637928748049","110154121-1637928742131","110154114-1637928736703","110154110-1637928731339","110154106-1637928725330","110154100-1637928719472","110154093-1637928713315","110154089-1637928704759",
		"110154080-1637928701181","110154077-1637928695889","110154067-1637928690315","110154060-1637928684436","110154052-1637928678921","110154051-1637928672549","110154045-1637928667152","110154039-1637928658905","110154033-1637928651815","110154030-1637928649402","110154026-1637928644675","110154018-1637928637101","110154007-1637928632105","110154004-1637928628296","110153996-1637928620953","110153992-1637928615110","110153984-1637928608869","110153979-1637928602748","110153972-1637928597237","110153969-1637928592021","110153964-1637928587293","110153956-1637928580201","110153952-1637928577300","110153948-1637928572158","110153941-1637928567001",
		"110153931-1637928558826","110153922-1637928551158","110153920-1637928544176","110153916-1637928537942","110153910-1637928532867","110153901-1637928525796","110153894-1637928521420","110153890-1637928516526","110153879-1637928511197","110153870-1637928502796","110153862-1637928493634","110153857-1637928489420","110153855-1637928482782","110153850-1637928474325","110153847-1637928470012","110153841-1637928464831","110153838-1637928457301","110153835-1637928454056","110153827-1637928447846","110153822-1637928439000","110153819-1637928430883","110153807-1637928418391","110153803-1637928414895","110153800-1637928409550","110153797-1637928405161",
		"110153790-1637928400524","110153782-1637928395864","110153742-1637928351285","110153736-1637928342998","110153524-1637928075603","110153516-1637928070212","110153508-1637928055707","110153504-1637928049234","110153500-1637928044827","110153494-1637928039426","110153488-1637928033403","110153485-1637928027814","110153477-1637928022341","110153475-1637928017667","110153467-1637928012639","110153461-1637928006586","110153450-1637927997686","110153444-1637927994231","110153437-1637927988811","110153431-1637927983211","110153427-1637927978523","110153423-1637927973631","110153415-1637927966973","110153410-1637927962676","110153341-1637927897964",
	]
    var examResult = [
		["B","A","A","C","A","C","A","A","A","B","A","D","B","C","C","A,D","A","D","D","A,D"],
		["A,C","A","C","D","A,B,C","C","B","A","B","C","B","D","D","C","B","D","D","B","B,D","A"],
		["B","C","B","D","B,C","D","D","B","B","A","D","B","D","A","C","A,B,C","B","A","D","C"],
		["D","C","A","B","B,C","C","C","D","C","D","B","C","C","C","C","B","A","B","A,B,C","D"],
		["C","D","D","C","A,B","A","D","A","C","D","C","C","B","C","A","A","D","A","D","D"],
		["A","A","D","A,B,C","D","B","A,C","D","A,B,D","D","A","C","B","D","D","A","B","D","C","C"],
		["D","C","D","C","C","A","C","C","C","C","B","A,B,C","B","B,C","A","B","B","B","D"],
		["C","C","B","A","B","A","A,C","B","D","A","D","C","C","D","A","A","B","B","B","D"],
		["A","B","D","B","B","C","C","C","C","D","D","C","A","D","A,B","D","A","C","C","B"],
		["B","A","A","D","A,C","B","D","D","C","A,D","D","A,B","C","A","D","B,D","A","A","C","B,D"],
		["D","B","A","D","C","B","A","B","A","B","B,D","A","D","B","C","A,B","B","D","D","B"],
		["B","A","A","C","C","A","B","D","A,B,C","C","A","B","A,B,C,D","A","B","D","B,D","A,B,C","A","A"],
		["A","B,D","A","B","C","D","A","D","A","A","C","B","C","D","B,C","B,C","B","B","D","B"],
		["A","D","D","B","C","D","C","C","D","A","C","A","C","B","B","C","D","A","B,C,D","B"],
		["B","B","A","B","C","C","D","D","B,C","C","C","D","B","B","D","B","A","B","A","A"],
		["C","D","A","B","D","D","A","C","A,D","B","C","B","B","A","B","B","B","D","D","A"],
		["B","D","A,B,C,D","D","D","B","D","D","D","A","B,D","A","B,C","C","C","B","A","B","C","C"],
		["B","C,D","D","C","C","D","A","C","A","D","D","A","A","A","C","D","B","A","C","A"],
		["A","C","A","B","C","A","A","C","C","A","C","C","B","B","C","B","D","C","C","D"],
		["C","A","A","A","C","A","B","A","B","C","C","B","B,D","A","A","B","A,B","D","A","B"],
		["D","D","B","D","D","B","A","B","C","B","A,B","A","D","B","A","C,D","D","C","A","D"],
		["A,C","D","D","C","B","B,C","B","B","C","C","A,B","A","B","C","C,D","D","A,B","D","D","D"],
		["B","B","D","B","D","D","B","C","A","A","B","A","A","C","A","D","B","D","B","A"],
		["B","C","D","C","B","A,D","A","A,B","A","D","D","A","C,D","C","D","D","C","A","B","C,D"],
		["C","A","B","C","A","B","A","D","A","D","A,B,C,D","D","C","D","C","A","D","C","A","A"],
		["B","B","D","C,D","B","B","A,B,C","B,C","A,C,D","A","C","A,B","B","D","D","C","C","A","C","D"],
		["D","D","B","C","A,B,C","A,D","B","C","B","D","C","D","D","C","D","B","C","A","D","A"],
		["A","B","C","A,C,D","D","D","B,D","B","D","C","D","A,C","C","C","C","D","C","C","C","C"],
		["D","A","A","C","D","B","A","C","D","B","A","A","D","A","C","A","A","D","C","A"],
		["A","C","D","C","B","A","B","C","C","A","C","B","A,C","B","A","B","A","D","B","D"],
		["A","D","C","C","A","A,C","B","C","D","C","B","B","D","B","A","C","D","C","D","B,D"],
		["A","B","A,B","A,C","A","B","A","A","B","B","C","C","A","B","C","C","D","C","A","B"],
		["B","A,C","A,B","D","D","B","C","C","A","A","C","C","D","C","B","A","A","C","A","D"],
		["B","A","B","B","A","A","D","A,D","D","A","C","A","B","D","D","B","C","C","C","B"],
		["D","B","D","A,B","A","C","D","A","A","A","A","C","B","B","C","C","A","B","B","D"],
		["C","B","A","C","B","D","B","B","D","A,C","B","B","D","C,D","C","A","A","A","A,D","B"],
		["D","C","C","D","C","A","B","A","A","D","A,D","B","A","A","B","B,D","D","C","D","C"],
		["D","D","C","A","A","D","D","D","C","D","B","C","C","B","B","D","A","A,C","C","D"],
		["C","D","B","A,D","B","A","A","A","C","D","B","B","A","C","C","D","B","C","C","A"],
		["D","A","C","B","B,C","A","D","B","B","B","B","D","A","D","C","D","A","D","D","C"],
		["B","D","B","D","C","C","A","C","A","B","B","B","B","C","B","C,D","A","C","C,D","A"],
		["B","A","A,C,D","D","D","B","C","B","B","A,D","C","A","B","C","B","C","B","C","A","D"],
		["A","C","A","B","A,B","D","B","C","B","C","D","A,C","B","A,D","B","B","B","B","A","A,B"],
		["B","D","B","C","A,B","D","D","C","C","D","C,D","A,B","C","C","C","C,D","A,B","B,C","A","D"],
		["C","C","C","C","A,C","D","D","D","C","C","D","B","A","B","C","C","C","D","D","C"],
		["A","B","C","A","A","B","A","A","A","B","C","B","C","B","D","A","B","A,C","A","A"],
		["B","B","B","C","B","B","B","A","C","A","B,C","B","D","B","D","A","A","B","A,B","C,D"],
		["B","D","B","A","A","C","D","C","A","A","A","B","D","C","C,D","C","A","A","C","A,B"],
		["A","D","B","A,B","C","B","D","B","B","C","C","A","C","B","A","A","C","B","A","A"],
		["D","B,C","D","B","C","D","A","A","A","A","D","D","B","D","C","C","B","A,B,C","C,D","A"],
		["A","B,C","A","A","A","D","C","C","A","A","D","D","A","B","D","C","B","C","C","A,D"],
		["B","D","D","A","C","A","B","C","A","C","B","C","B,C","D","D","B","C","D","D","D"],
		["B","D","D","B","A","D","A","A","B","C","B","B","B","D","B","C","B","B","B","A"],
		["A","C","A","D","C","B","C","B","D","B","A","A,D","C,D","A,B","C","B","B","A","C","A"],
		["B","D","B","A","A","D","B","A,B","B","B","C","A,C","B","C","B","C","A","B,C","A","A"],
		["A","C","C","D","B","B","A","B","A","D","A","A","C","D","B","A","C","D","C","B"],
		["A,B,C,D","D","C","B","C","B","C","C","C","A","D","B","C","B","D","C","C","A","A,B","B"],
		["C","C","D","C","D","A,B","B","B","A","A,B","D","A","C","D","A","A,C,D","B","D","A","A"],
		["C","D","A","A","C","B,D","B","D","D","B","A,C","B","D","D","B","C","C,D","D","B","C"],
		["D","D","C","D","D","A","D","B","D","A","A,C","C","D","A,B,C,D","C","B","A","D","D","C"],
		["A","B","C","C","A","C,D","B,D","A","D","B","B","D","B","A","C","D","D","A","A,C","D"],
		["B","B","D","C","C","D","B","C","A","D","D","B","B","A","B","C","B","C","A","B,C"],
		["A","B","D","B","C","D","D","D","B","B","C","C","D","B","A","B","B","C","D","C,D"],
		["B","C","C","D","D","C","C","D","B","D","A","A","C","D","D","D","B","B","A","D"],
		["B","B","C","D","B","B","A","A","D","A","A,B,C","A","A","B","D","C","C","B","A","A"],
		["D","C","D","B","A,C","C","B","A","A,D","B","B","A","C","D","B","A","B","B","D","B"],
		["D","B","D","C","D","D","D","C","D","A,C","A","C","A","C","C","D","B","C","C","D"],
		["A","B","B","A","C","C","D","A","C","C,D","B","B","C","D","C","D","A","A","C","B"],
		["A,C","C,D","B","B","B","A","D","A","A","D","A","C","D","A","C","A","B","B","D","D"],
		["C","D","C","D","B","B","B","C,D","B","B","A","B","C","A","D","B","D","C","B,D","A"],
		["B","A","A","B","C","A,C","C","A,C","D","B","C","D","C","D","B,C","A","B","A","A","D"],
		["B","A","D","C","C","C","D","C","B","C","D","C","C","C","A","B","A","B","D","D"],
		["A","A,C","B","B","C","C","A","C","A","C","A","A","D","D","B","B","B","A","C","D"],
		["D","D","D","A","D","D","C","B","D","B","D","A","A","A","B","A,C","C","A","C","B"],
		["A","D","D","B,D","B","C","B","B,C","C","D","A","A","A","B","D","B","C","B","C","B"],
		["B","D","A","B","C","B","C","A","B","A","A","B","A,C","A","B","A","A","D","A","D"],
		["B","B","D","D","C","D","A","A","C","C","A","A","D","A","D","A","D","B","A","B"],
		["A,C","B","D","A","C","B,C","D","A,B","A","A","C","D","A,C","A","C","C","A","C","C","D"],
		["A","C","D","C","D","A","A,B,D","D","C","D","B","D","B","C","B","B","A,B","B","B","C"],
		["C","A,D","A","D","A","D","D","C","A","C,D","A","B","C","A","D","C","D","C","D","D"],
		["A","B","B","B","B","B","B","C","D","D","C","C","B","C","A,B,D","C","D","A,C","A","C"],
		["B","B","B","B","A,C","C","C","B","B","C","A,B,C","A","D","A","D","C","A","D","D","C"],
		["C","A","B","C,D","B","D","D","A,B","B","A,B,C,D","B","D","A,C","D","C","B,D","A","C","A","D"],
		["A","D","B","A","C","C","C","B","C","D","D","D","B","C","B","D","B","D","B,D","B,C"],
		["D","A","B","C","C","D","B","D","B","C","B","D","C","C","D","C","C","B","A","C"],
		["B","A","A,C","A","B","D","C","D","B","D","C","B","C","B","A","C","C","D","C","C"],
		["D","C","D","C","B","A","C","C","C","D","B,C","A","B","D","A,C","A,D","B","A","C","C"],
		["A","C,D","C","C","D","B","B,D","B","D","A,B","A,C","A,B","A","D","B","A","B","C","A,C","B"],
		["B","D","D","D","A","B","C","C","B","A,C","D","D","A","C","C","C","B","C","A","B"],
		["A","A","B","A","B","D","B","B","C","B","C","A","B","B","C","B","A,B","C","A","D"],
		["A,C","A","D","C","A,C,D","A","C","B","D","B","D","A,C","C","A","D","D","A,C","C,D","A,C","C"],
		["D","A","B","D","D","A","C","D","D","B","B","A","B","D","A","C","B","A","B","C"],
		["A","A","A","C","D","D","B,C","B","B","C","B","D","A","B","D","C","B","A","D","A"],
		["B","A,D","A,B","B","C","C,D","D","B","A,C","B","A","A","C","B,C","D","A,B","D","B","A","C"],
		["C","D","C","C","D","D","C,D","A","C","B","A","D","C","A","A,B","D","A","A,B,C","B","B"],
		["D","A","A,C","A","B","D","C","C","C","D","A","D","D","D","A","A,B,C","A","A","D","D"],
        ["B","A,C,D","B","D","A,C,D","B","D","C","C","B","A","D","C","A","D","A,B","B","C","D","B"],
        ["C","A","A","C","D","B","C","B","D","B","B","B,C","D","C","B","C","C","B","C","C"],
		["C","D","A,D","B","A","D","A","A","D","B","C","D","C","B","A","C","B","B","D","A"],
		["D","C","D","B","B","A","B","C","B,C","B","D","D","A,B","D","A","A,B,C","A","A","A,C","A"],
		["D","C","C","C","B","D","B","B","A","D","B","C","B","C","D","A","A","A","B","C"],
		["B","C","D","C","A","A","B","D","C","A","B","B","D","D","B","A","D","C","D","C"],
		["D","A,C","C","D","B","B","A","C","A","A","B","A","D","D","C","A,B","D","A,B,C","A,C","B"],
		["D","B","A","A","A","D","A","A","B","A","B","A","C","C","C","B","C,D","C","D","A,C"],
		["B","B","A,B","A","D","B","B","B","C","A","D","D","A","B","A","A","C","D","D","B"],
		["B","A","C","C","B","C","C","D","B","A","D","A","D","A","B","D","D","B,C","B","B"],
		["C","A,C","C","D","C","B,C","B","B","A,B,C,D","C","D","B","C","C","C","B","B","C","D","D"],
		["D","C","D","C,D","B","A,D","A,B,D","A","C","B","B","A","B","C","A","A","B","A,D","B","D"],
		["B","D","C","B","A","D","D","A","A","C","B","C","D","C","A","D","C","A","B","B,C,D"],
		["A","B","B","D","B","A,B,C","C","A","A","A","B,C","C","D","D","C","C","C","B","A","A"],
		["D","D","D","A","D","D","D","A,C","D","A","A","B","A","A","C","C","C","A","B","A"],
		["B,C","B","D","D","A,C,D","B","B","B","C","B,C","A","B","D","B","C","A,B","B","A","A","B"],
		["A","C","A","B","A","D","D","A","C","C","B","B","A","D","C","B","A","A,B","C","A"],
		["D","D","A","B","B,C","A,B","B,C","C","C","B","A","D","C","C","D","C","B","C","B","A"],
		["C","A","A","B","D","C","A","B","C","A","A","B","B,D","A","D","B","C","A","A,B","A,B"],
		["A","A,C,D","A","C","C","B","D","B","D","B","A","A","D","A","B","A","B","D","C","C"],
		["D","A","A","C","B","A,B,C","A","D","B","A","C","A","A,C","C","A","D","D","D","D","A"],
		["A","B","C","D","A","A","D","C","B","C","C","D","C","D","C","B,C","A","A","A,C","C"],
		["C","C","A","D","A","A,C","C","A","A","C","A","D","C","B","C","A","A","B","C","D"],
		["A","A,C","A,C","C","A,C","B","B","B","B","B","B","C","C","C","C","A","C","A","A","D"],
		["B","C","B","A","B","D","C","A","C","A","D","D","D","D","D","B","B","B","C","C,D"],
		["D","A","B","B","D","B","D","B","C","A","C,D","A","C","B","A","B","C","D","D","B"],
		["A","A","B","D","A,B","B","C","A","A","C","A,B,C","A","D","D","C","B","B","A","B","C"],
		["D","B","B","D","C","D","C","C","C","A","D","A","D","D","A,B,C,D","A","A,B","D","D","A"],
		["C","D","A","A","A","C","C,D","A","C","C","B","C","C","C","C","C","D","B","C","B"],
	];
    //提交试卷
    var index = 0;
    var examInfo = [0,0];
    if (sessionStorage.getItem("index")){
        index = sessionStorage.getItem("index");
    }
    if (sessionStorage.getItem("examInfo")){
        examInfo = sessionStorage.getItem("examInfo").split("-");
    }
    if(window.location.pathname=="/testing/history"){
        //产生随机索引
        index = parseInt(Math.random()*((examList.length-1)-0+1)+0,10);
        examInfo = examList[index].split("-");
        sessionStorage.setItem('index', index);
        sessionStorage.setItem('examInfo', examList[index]);
        setTimeout(againAnswer(examInfo[0],examInfo[1]),2000);
    }else if(window.location.pathname==("/testing/exam/againPaper/"+examInfo[0])){
		//提交时间采用随机
        let r = parseInt(Math.random()*((35000)-10000+1)+10000,10)
        setTimeout(function(){
            var resultItem = examResult[index];
            for(let i = 0; i<= 19; i++){
                $(".sec:eq("+i+") li span:contains('"+resultItem[i].substr(0,1)+"')").click();
            }
        },r);
        //提交按钮
        setTimeout(function(){
            $("#putIn").click()
        },r+500)
        //确定提交
        setTimeout(function(){
            $("#putInBtn").click()
        },r+500)
        setInterval(function(){
            if($("#testDialog").is(":visible")){
                $("#closeReturnDialog").click()
            }
        },500)
    }else{
        location.href="https://tiku.ekgc.cn/testing/history";
    }
})();