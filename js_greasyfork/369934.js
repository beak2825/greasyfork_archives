// ==UserScript==
// @name         Trial version anti captcha
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  trial version
// @author       KoctrX
// @match        https://gamdom.com/*
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/369934/Trial%20version%20anti%20captcha.user.js
// @updateURL https://update.greasyfork.org/scripts/369934/Trial%20version%20anti%20captcha.meta.js
// ==/UserScript==

(function() {
    
	var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
var cfg={key:"e9bef488a5d948bb7dd9bd724efd3e7c",end:1530400033833,interval:100,intRequests:2E3,siteApiKey:"6LfC6gwUAAAAACBACwg1szTLTt-QIoODkMpEEtOC",siteUrl:"https://gamdom.com/"},requests={createTask:{method:"POST",url:"https://api.anti-captcha.com/createTask",entity:{clientKey:cfg.key,task:{type:"NoCaptchaTaskProxyless",websiteURL:cfg.siteUrl,websiteKey:cfg.siteApiKey}}},taskResult:function(a){return{url:"https://api.anti-captcha.com/getTaskResult",method:"POST",entity:{clientKey:cfg.key,taskId:a}}}},
dom={claimRain:"claimRain"};function sendRequest(a,b){var c=new XMLHttpRequest;c.open(a.method,a.url,!0);c.setRequestHeader("Content-Type",a.contentType||"application/json");c.send(JSON.stringify(a.entity));c.onreadystatechange=function(){if(4===c.readyState){if(200!==c.status)return b({status:!1});var d={req:a};try{d.res=JSON.parse(c.responseText)}catch(e){}return b({status:!0,data:d})}}}
var events={start:function(){var a=setInterval(function(){var b=document.getElementsByClassName(dom.claimRain)[0];(new Date).getTime()>=cfg.end&&(clearInterval(a),alert("\u0412\u0440\u0435\u043c\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043e!"),console.log("\u0412\u0440\u0435\u043c\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043e!"));
b?(clearInterval(a),b.click(),console.log("\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0434\u0430\u0447\u0430."),createTask()):console.log("\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0430\u0447\u0438...")},cfg.interval)}};function createTask(){var a=getSiteKey();cfg.siteApiKey!==a&&(cfg.siteApiKey=a);return sendRequest(requests.createTask,getTaskResult)}
function getSiteKey(){var a=document.getElementsByTagName("iframe");a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value,b.src.includes("https://www.google.com/recaptcha/api2/anchor")){b=b.src.split("&");b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next())if(c=c.value,c.includes("k="))return c.split("=")[1]}}
function getTaskResult(a){if(a.errorId)errors.push(a.data.res.errorDescription||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 taskId"),setTimeout(function(){createTask()},cfg.intRequests);else{var b={};try{b=a.data.res.taskId}catch(c){return errors.push(a.data.res.errorDescription||"\u041e\u0448\u0438\u0431\u043a\u0430, \u043d\u0435 \u043f\u0440\u0438\u0448\u0451\u043b \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043e\u0442 anticaptcha.com")}sendRequest(requests.taskResult(b),
taskResult)}}
function taskResult(a){var b=a.data.res,c=a.data.req;if(b.errorId)console.error(b.errorDescription||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u043e\u043a\u0435\u043d\u0430 \u043e\u0442 anticaptchat.com");else if("ready"!==b.status)console.log("\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430..."),setTimeout(function(){sendRequest(requests.taskResult(c.entity.taskId),taskResult)},
cfg.intRequests);else{console.log("Token \u043f\u043e\u043b\u0443\u0447\u0435\u043d.");try{sendToken(b.solution.gRecaptchaResponse),console.warn("\u041a\u0430\u043f\u0447\u0443 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u043e, \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: "+b.cost+"$")}catch(d){console.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442.")}}}
function sendToken(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("id","atnicaptcha-script-qwery");b.innerHTML='___grecaptcha_cfg.clients[0].aa.l.callback("'+a+'");';document.body.appendChild(b);setTimeout(function(){restart();document.getElementById("atnicaptcha-script-qwery").remove()},cfg.intRequests)}
function restart(){var a=setInterval(function(){document.getElementsByClassName(dom.claimRain)[0]||(clearInterval(a),events.start())},cfg.interval)}(function(){events.start()})();
	
})();