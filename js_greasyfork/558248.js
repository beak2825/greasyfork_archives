// ==UserScript==
// @name         ShopRite Load All To Card
// @namespace    http://tampermonkey.net/
// @version      1.3
// @description  Click "Show All" and clip all available coupons
// @author       ChatGPT
// @icon        data:image/png;base64,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

//
// IMPORTANT: Coupons live inside this domain
// @match        https://shop-rite-web-prod.azurewebsites.net/*
//
// OPTIONAL: run on ShopRite coupon pages too (outer page)
// @match        https://www.shoprite.com/digital-coupon*
// @match        https://www.shoprite.com/digital-coupons*
//
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/558248/ShopRite%20Load%20All%20To%20Card.user.js
// @updateURL https://update.greasyfork.org/scripts/558248/ShopRite%20Load%20All%20To%20Card.meta.js
// ==/UserScript==

(function() {
    'use strict';

    function clickShowAll() {
        // MUCH safer selector. No Angular auto-generated junk.
        const btn = [...document.querySelectorAll("button")]
            .find(b => b.textContent.trim().toLowerCase() === "show all");

        if (btn) {
            console.log('Clicking "Show All"');
            btn.click();
            setTimeout(runSelect, 1500);
        } else {
            console.log('"Show All" button not found');
        }
    }

    function runSelect() {
        const coupons = document.getElementsByClassName('available-to-clip');
        console.log('Coupons found:', coupons.length);

        let clicked = 0;
        for (const btn of [...coupons].reverse()) {
            btn.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true }));
            clicked++;
        }

        console.log('Coupons clicked:', clicked);
    }

    setTimeout(clickShowAll, 1500);
})();
