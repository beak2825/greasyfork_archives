// ==UserScript==
// @name                WME Mapraid Massachusetts SL Overlay
// @namespace           https://greasyfork.org/users/5252
// @description         Creates polygons for MapRaid groups in a WME "** Mapraid Massachusetts" layer
// @include             https://www.waze.com/editor/*
// @include             https://www.waze.com/*/editor/*
// @include             https://editor-beta.waze.com/*
// @version             2.4
// @grant               none
// @copyright           2014 davielde
// @downloadURL https://update.greasyfork.org/scripts/18414/WME%20Mapraid%20Massachusetts%20SL%20Overlay.user.js
// @updateURL https://update.greasyfork.org/scripts/18414/WME%20Mapraid%20Massachusetts%20SL%20Overlay.meta.js
// ==/UserScript==

//---------------------------------------------------------------------------------------

//generated by rickzabel's overlay generator

//RZ RaidName will be replaced by the name of the layer in your KML file
//RZ RaidNameNoSpaces will be replaced by the name of the layer in your KML file
//RZ AreaPoints will be replaced by the names, colors, and area points from your KML file

// Modified from RI MR overlay by jaywazin

setTimeout(InitMapRaidOverlay, 1000);

function AddRaidPolygon(raidLayer,groupPoints,groupColor,groupNumber){
    
    var mro_Map = Waze.map;
    var mro_OL = OpenLayers;
    var raidGroupLabel = 'Raid Group ' + groupNumber;
    var groupName = 'RaidGroup' + groupNumber;
    
    var style = {
        strokeColor: groupColor,
        strokeOpacity: .8,
        strokeWidth: 3,
        fillColor: groupColor,
        fillOpacity: 0.15,
        label: raidGroupLabel,
        labelOutlineColor: "black",
        labelOutlineWidth: 3,
        fontSize: 14,
        fontColor: groupColor,
        fontOpacity: .85,
        fontWeight: "bold"  
    };
    
    var attributes = {
        name: groupName,
        number: groupNumber
    };
    
    var pnt= [];
    for(i=0;i<groupPoints.length;i++){
        convPoint = new OpenLayers.Geometry.Point(groupPoints[i].lon,groupPoints[i].lat).transform(new OpenLayers.Projection("EPSG:4326"), mro_Map.getProjectionObject());
        //console.log('MapRaid: ' + JSON.stringify(groupPoints[i]) + ', ' + groupPoints[i].lon + ', ' + groupPoints[i].lat);
        pnt.push(convPoint);
    }
		       
    var ring = new mro_OL.Geometry.LinearRing(pnt);
    var polygon = new mro_OL.Geometry.Polygon([ring]);
    
    var feature = new mro_OL.Feature.Vector(polygon,attributes,style);
    raidLayer.addFeatures([feature]);

}

function CurrentRaidLocation(raid_mapLayer){
    var mro_Map = Waze.map;

    for(i=0;i<raid_mapLayer.features.length;i++){
        var raidMapCenter = mro_Map.getCenter();
        var raidCenterPoint = new OpenLayers.Geometry.Point(raidMapCenter.lon,raidMapCenter.lat);
        var raidCenterCheck = raid_mapLayer.features[i].geometry.components[0].containsPoint(raidCenterPoint);
		var holes = raid_mapLayer.features[i].attributes.holes
		
        
        if(raidCenterCheck === true){

			var str = $('#topbar-container > div > div.location-info-region > div').text();
			
			var n2 = str.indexOf(" - ");
			
			if(n2 > 0){
				var n = str.length;
				var res = str.substring(n2+2, n);
				var rescount = res.indexOf(" - ");
				if(rescount>0){
					var n3 = res.length;
					var res2 = res.substring(rescount+2, n3);
				}
				var raidLocationLabel = '[Raid Group - ' + raid_mapLayer.features[i].attributes.number + '] - ' + res2;

			} else {
				var raidLocationLabel = '[Raid Group - ' + raid_mapLayer.features[i].attributes.number + '] - ' + $('#topbar-container > div > div.location-info-region > div').text();
						
			}	
			setTimeout(function(){$('#topbar-container > div > div.location-info-region > div').text(raidLocationLabel);},200);
			 if (holes === "false") { break; }
		}
    }
}

function InitMapRaidOverlay(){

    var mro_Map = Waze.map;
    var mro_OL = OpenLayers;

    //if (!mro_Map) return;
	
    //if (!mro_OL) return;

    var mro_mapLayers = mro_Map.getLayersBy("uniqueName","__Massachusetts");
        
    var raid_mapLayer = new mro_OL.Layer.Vector("**Mapraid Massachusetts", {
        displayInLayerSwitcher: true,
        uniqueName: "__Massachusetts"
    });
        
    I18n.translations.en.layers.name["__Massachusetts"] = "Massachusetts";
    mro_Map.addLayer(raid_mapLayer);
    raid_mapLayer.setVisibility(true);
    
var VTeamWestMA = [{lon:'-72.282706',lat:'42.721409'},{lon:'-72.271895',lat:'42.674255'},{lon:'-72.258583',lat:'42.675127'},{lon:'-72.257233',lat:'42.667679'},{lon:'-72.243236',lat:'42.669192'},{lon:'-72.241867',lat:'42.661515'},{lon:'-72.229590',lat:'42.662615'},{lon:'-72.224887',lat:'42.639028'},{lon:'-72.228866',lat:'42.638290'},{lon:'-72.225739',lat:'42.630835'},{lon:'-72.227613',lat:'42.626481'},{lon:'-72.228418',lat:'42.615566'},{lon:'-72.254538',lat:'42.611413'},{lon:'-72.253012',lat:'42.604961'},{lon:'-72.266999',lat:'42.600693'},{lon:'-72.262337',lat:'42.576078'},{lon:'-72.276055',lat:'42.576652'},{lon:'-72.269409',lat:'42.533304'},{lon:'-72.244981',lat:'42.513184'},{lon:'-72.291767',lat:'42.479665'},{lon:'-72.284862',lat:'42.351677'},{lon:'-72.274438',lat:'42.302676'},{lon:'-72.210579',lat:'42.310716'},{lon:'-72.211209',lat:'42.247718'},{lon:'-72.264907',lat:'42.199738'},{lon:'-72.264173',lat:'42.183965'},{lon:'-72.200166',lat:'42.160632'},{lon:'-72.197462',lat:'42.152393'},{lon:'-72.134928',lat:'42.161048'},{lon:'-72.135307',lat:'42.029648'},{lon:'-72.743263',lat:'42.027749'},{lon:'-72.758896',lat:'42.001195'},{lon:'-72.818554',lat:'41.991073'},{lon:'-72.821284',lat:'42.032956'},{lon:'-73.498999',lat:'42.045997'},{lon:'-73.512971',lat:'42.084071'},{lon:'-73.265693',lat:'42.746776'},{lon:'-72.279030',lat:'42.726234'}];
AddRaidPolygon(raid_mapLayer, VTeamWestMA,"#0BA9CC","Team WestMA");

var VTeamWorcester = [{lon:'-72.282706',lat:'42.721409'},{lon:'-72.271895',lat:'42.674255'},{lon:'-72.258583',lat:'42.675127'},{lon:'-72.257233',lat:'42.667679'},{lon:'-72.243236',lat:'42.669192'},{lon:'-72.241867',lat:'42.661515'},{lon:'-72.229590',lat:'42.662615'},{lon:'-72.224887',lat:'42.639028'},{lon:'-72.228866',lat:'42.638290'},{lon:'-72.225739',lat:'42.630835'},{lon:'-72.227613',lat:'42.626481'},{lon:'-72.228418',lat:'42.615566'},{lon:'-72.254538',lat:'42.611413'},{lon:'-72.253012',lat:'42.604961'},{lon:'-72.266999',lat:'42.600693'},{lon:'-72.262337',lat:'42.576078'},{lon:'-72.276055',lat:'42.576652'},{lon:'-72.269409',lat:'42.533304'},{lon:'-72.244981',lat:'42.513184'},{lon:'-72.291767',lat:'42.479665'},{lon:'-72.284862',lat:'42.351677'},{lon:'-72.274438',lat:'42.302676'},{lon:'-72.210579',lat:'42.310716'},{lon:'-72.211209',lat:'42.247718'},{lon:'-72.264907',lat:'42.199738'},{lon:'-72.264173',lat:'42.183965'},{lon:'-72.200166',lat:'42.160632'},{lon:'-72.197462',lat:'42.152393'},{lon:'-72.134928',lat:'42.161048'},{lon:'-72.135307',lat:'42.029648'},{lon:'-72.134875',lat:'42.027601'},{lon:'-71.802372',lat:'42.020951'},{lon:'-71.802120',lat:'42.006459'},{lon:'-71.497861',lat:'42.014928'},{lon:'-71.498797',lat:'42.117720'},{lon:'-71.477778',lat:'42.132085'},{lon:'-71.476650',lat:'42.165445'},{lon:'-71.496017',lat:'42.165747'},{lon:'-71.503080',lat:'42.188406'},{lon:'-71.570975',lat:'42.191361'},{lon:'-71.600991',lat:'42.216441'},{lon:'-71.585893',lat:'42.259544'},{lon:'-71.507931',lat:'42.265692'},{lon:'-71.486243',lat:'42.330014'},{lon:'-71.549658',lat:'42.327055'},{lon:'-71.584918',lat:'42.310707'},{lon:'-71.625903',lat:'42.349210'},{lon:'-71.579480',lat:'42.386528'},{lon:'-71.603234',lat:'42.397508'},{lon:'-71.558340',lat:'42.411618'},{lon:'-71.542830',lat:'42.466292'},{lon:'-71.560216',lat:'42.474259'},{lon:'-71.529140',lat:'42.519340'},{lon:'-71.538404',lat:'42.542943'},{lon:'-71.579679',lat:'42.549458'},{lon:'-71.594281',lat:'42.542348'},{lon:'-71.619125',lat:'42.550542'},{lon:'-71.635200',lat:'42.524362'},{lon:'-71.677105',lat:'42.530330'},{lon:'-71.664711',lat:'42.610969'},{lon:'-71.774872',lat:'42.643376'},{lon:'-71.776787',lat:'42.635876'},{lon:'-71.845184',lat:'42.636805'},{lon:'-71.857625',lat:'42.632428'},{lon:'-71.857621',lat:'42.671437'},{lon:'-71.898101',lat:'42.704067'},{lon:'-71.897777',lat:'42.711075'},{lon:'-71.897158',lat:'42.714066'},{lon:'-72.283507',lat:'42.723977'}
];
AddRaidPolygon(raid_mapLayer, VTeamWorcester,"#F8971B","Team Worcester");

var VTeamMiddlesex = [
{lon:'-71.476650',lat:'42.165445'},{lon:'-71.496017',lat:'42.165747'},{lon:'-71.503080',lat:'42.188406'},{lon:'-71.570975',lat:'42.191361'},{lon:'-71.600991',lat:'42.216441'},{lon:'-71.585893',lat:'42.259544'},{lon:'-71.507931',lat:'42.265692'},{lon:'-71.486243',lat:'42.330014'},{lon:'-71.549658',lat:'42.327055'},{lon:'-71.584918',lat:'42.310707'},{lon:'-71.625903',lat:'42.349210'},{lon:'-71.579480',lat:'42.386528'},{lon:'-71.603234',lat:'42.397508'},{lon:'-71.558340',lat:'42.411618'},{lon:'-71.542830',lat:'42.466292'},{lon:'-71.560216',lat:'42.474259'},{lon:'-71.529140',lat:'42.519340'},{lon:'-71.538404',lat:'42.542943'},{lon:'-71.579679',lat:'42.549458'},{lon:'-71.594281',lat:'42.542348'},{lon:'-71.619125',lat:'42.550542'},{lon:'-71.635200',lat:'42.524362'},{lon:'-71.677105',lat:'42.530330'},{lon:'-71.664711',lat:'42.610969'},{lon:'-71.774872',lat:'42.643376'},{lon:'-71.776787',lat:'42.635876'},{lon:'-71.845184',lat:'42.636805'},{lon:'-71.857625',lat:'42.632428'},{lon:'-71.857621',lat:'42.671437'},{lon:'-71.898101',lat:'42.704067'},{lon:'-71.897777',lat:'42.711075'},{lon:'-71.898273',lat:'42.712220'},{lon:'-71.294794',lat:'42.699999'},{lon:'-71.256080',lat:'42.737695'},{lon:'-71.256059',lat:'42.736846'},{lon:'-71.237914',lat:'42.669611'},{lon:'-71.242291',lat:'42.662644'},{lon:'-71.250766',lat:'42.660384'},{lon:'-71.255913',lat:'42.656736'},{lon:'-71.171602',lat:'42.616393'},{lon:'-71.172944',lat:'42.614885'},{lon:'-71.177217',lat:'42.613613'},{lon:'-71.177612',lat:'42.609428'},{lon:'-71.180869',lat:'42.607978'},{lon:'-71.164981',lat:'42.598161'},{lon:'-71.163471',lat:'42.601785'},{lon:'-71.159265',lat:'42.607159'},{lon:'-71.158510',lat:'42.612748'},{lon:'-71.155009',lat:'42.614839'},{lon:'-71.147968',lat:'42.613008'},{lon:'-71.143360',lat:'42.604233'},{lon:'-71.135291',lat:'42.599017'},{lon:'-71.075840',lat:'42.604030'},{lon:'-71.058752',lat:'42.608434'},{lon:'-71.059497',lat:'42.606396'},{lon:'-71.033632',lat:'42.585443'},{lon:'-71.028021',lat:'42.573845'},{lon:'-71.034598',lat:'42.570008'},{lon:'-71.039916',lat:'42.571058'},{lon:'-71.043566',lat:'42.573102'},{lon:'-71.049600',lat:'42.570956'},{lon:'-71.056373',lat:'42.573818'},{lon:'-71.065190',lat:'42.561336'},{lon:'-71.070960',lat:'42.555608'},{lon:'-71.075383',lat:'42.530661'},{lon:'-71.066644',lat:'42.524320'},{lon:'-71.041314',lat:'42.525777'},{lon:'-71.039323',lat:'42.523829'},{lon:'-71.041699',lat:'42.519773'},{lon:'-71.038627',lat:'42.516438'},{lon:'-71.039630',lat:'42.514185'},{lon:'-71.037037',lat:'42.512075'},{lon:'-71.035531',lat:'42.506480'},{lon:'-71.037838',lat:'42.503182'},{lon:'-71.043771',lat:'42.500791'},{lon:'-71.040337',lat:'42.495598'},{lon:'-71.046176',lat:'42.487976'},{lon:'-71.052468',lat:'42.485693'},{lon:'-71.054221',lat:'42.476940'},{lon:'-71.019784',lat:'42.438377'},{lon:'-71.033452',lat:'42.412846'},{lon:'-71.040515',lat:'42.401816'},{lon:'-71.047819',lat:'42.396671'},{lon:'-71.050712',lat:'42.397284'},{lon:'-71.053206',lat:'42.396324'},{lon:'-71.050405',lat:'42.393372'},{lon:'-71.055061',lat:'42.387264'},{lon:'-71.065593',lat:'42.386143'},{lon:'-71.070550',lat:'42.388876'},{lon:'-71.067222',lat:'42.394131'},{lon:'-71.068272',lat:'42.395042'},{lon:'-71.080832',lat:'42.382384'},{lon:'-71.080426',lat:'42.380667'},{lon:'-71.075692',lat:'42.379747'},{lon:'-71.072480',lat:'42.372385'},{lon:'-71.067000',lat:'42.371462'},{lon:'-71.064234',lat:'42.368727'},{lon:'-71.068933',lat:'42.368582'},{lon:'-71.077326',lat:'42.358702'},{lon:'-71.091268',lat:'42.354060'},{lon:'-71.110213',lat:'42.352142'},{lon:'-71.117073',lat:'42.355552'},{lon:'-71.117218',lat:'42.367490'},{lon:'-71.118649',lat:'42.368560'},{lon:'-71.123052',lat:'42.369108'},{lon:'-71.125942',lat:'42.371316'},{lon:'-71.127600',lat:'42.373208'},{lon:'-71.130826',lat:'42.373712'},{lon:'-71.132915',lat:'42.372938'},{lon:'-71.132187',lat:'42.369616'},{lon:'-71.139600',lat:'42.364377'},{lon:'-71.143544',lat:'42.364971'},{lon:'-71.145379',lat:'42.364294'},{lon:'-71.148232',lat:'42.361205'},{lon:'-71.163252',lat:'42.358396'},{lon:'-71.168051',lat:'42.360220'},{lon:'-71.169856',lat:'42.357520'},{lon:'-71.174067',lat:'42.353205'},{lon:'-71.174815',lat:'42.350205'},{lon:'-71.166805',lat:'42.339750'},{lon:'-71.169002',lat:'42.338159'},{lon:'-71.167569',lat:'42.333197'},{lon:'-71.162496',lat:'42.333617'},{lon:'-71.160182',lat:'42.333219'},{lon:'-71.156935',lat:'42.330153'},{lon:'-71.179145',lat:'42.314090'},{lon:'-71.164793',lat:'42.303440'},{lon:'-71.191259',lat:'42.282602'},{lon:'-71.206023',lat:'42.293944'},{lon:'-71.212156',lat:'42.301070'},{lon:'-71.211266',lat:'42.302638'},{lon:'-71.213134',lat:'42.306072'},{lon:'-71.220905',lat:'42.306429'},{lon:'-71.227091',lat:'42.309050'},{lon:'-71.228395',lat:'42.317942'},{lon:'-71.230987',lat:'42.320387'},{lon:'-71.238646',lat:'42.321587'},{lon:'-71.246719',lat:'42.321137'},{lon:'-71.252644',lat:'42.326269'},{lon:'-71.256653',lat:'42.325021'},{lon:'-71.259736',lat:'42.326283'},{lon:'-71.263767',lat:'42.326085'},{lon:'-71.269454',lat:'42.327641'},{lon:'-71.329195',lat:'42.312871'},{lon:'-71.322839',lat:'42.296017'},{lon:'-71.308070',lat:'42.270468'},{lon:'-71.302516',lat:'42.247850'},{lon:'-71.332324',lat:'42.248653'},{lon:'-71.331763',lat:'42.246580'},{lon:'-71.329188',lat:'42.244972'},{lon:'-71.331124',lat:'42.236426'},{lon:'-71.329782',lat:'42.233747'},{lon:'-71.340766',lat:'42.224327'},{lon:'-71.342761',lat:'42.220850'},{lon:'-71.339730',lat:'42.217001'},{lon:'-71.338029',lat:'42.215710'},{lon:'-71.340032',lat:'42.213551'},{lon:'-71.346441',lat:'42.215534'},{lon:'-71.350203',lat:'42.213405'},{lon:'-71.351737',lat:'42.207266'},{lon:'-71.347029',lat:'42.204657'},{lon:'-71.344606',lat:'42.200495'},{lon:'-71.403721',lat:'42.188168'},{lon:'-71.402320',lat:'42.178746'},{lon:'-71.410104',lat:'42.178475'},{lon:'-71.423379',lat:'42.177895'},{lon:'-71.423634',lat:'42.179086'},{lon:'-71.430145',lat:'42.179072'},{lon:'-71.443991',lat:'42.174521'},{lon:'-71.463779',lat:'42.157745'},{lon:'-71.476796',lat:'42.156640'}];
AddRaidPolygon(raid_mapLayer, VTeamMiddlesex,"#A61B4A","Team Middlesex");

var VTeamSouthBoston = [{lon:'-71.256059',lat:'42.736846'},{lon:'-71.237914',lat:'42.669611'},{lon:'-71.242291',lat:'42.662644'},{lon:'-71.250766',lat:'42.660384'},{lon:'-71.255913',lat:'42.656736'},{lon:'-71.171602',lat:'42.616393'},{lon:'-71.172944',lat:'42.614885'},{lon:'-71.177217',lat:'42.613613'},{lon:'-71.177612',lat:'42.609428'},{lon:'-71.180869',lat:'42.607978'},{lon:'-71.164981',lat:'42.598161'},{lon:'-71.163471',lat:'42.601785'},{lon:'-71.159265',lat:'42.607159'},{lon:'-71.158510',lat:'42.612748'},{lon:'-71.155009',lat:'42.614839'},{lon:'-71.147968',lat:'42.613008'},{lon:'-71.143360',lat:'42.604233'},{lon:'-71.135291',lat:'42.599017'},{lon:'-71.075840',lat:'42.604030'},{lon:'-71.058752',lat:'42.608434'},{lon:'-71.059497',lat:'42.606396'},{lon:'-71.033632',lat:'42.585443'},{lon:'-71.028021',lat:'42.573845'},{lon:'-71.034598',lat:'42.570008'},{lon:'-71.039916',lat:'42.571058'},{lon:'-71.043566',lat:'42.573102'},{lon:'-71.049600',lat:'42.570956'},{lon:'-71.056373',lat:'42.573818'},{lon:'-71.065190',lat:'42.561336'},{lon:'-71.070960',lat:'42.555608'},{lon:'-71.075383',lat:'42.530661'},{lon:'-71.066644',lat:'42.524320'},{lon:'-71.041314',lat:'42.525777'},{lon:'-71.039323',lat:'42.523829'},{lon:'-71.041699',lat:'42.519773'},{lon:'-71.038627',lat:'42.516438'},{lon:'-71.039630',lat:'42.514185'},{lon:'-71.037037',lat:'42.512075'},{lon:'-71.035531',lat:'42.506480'},{lon:'-71.037838',lat:'42.503182'},{lon:'-71.043771',lat:'42.500791'},{lon:'-71.040337',lat:'42.495598'},{lon:'-71.046176',lat:'42.487976'},{lon:'-71.052468',lat:'42.485693'},{lon:'-71.054221',lat:'42.476940'},{lon:'-71.019784',lat:'42.438377'},{lon:'-71.033452',lat:'42.412846'},{lon:'-71.040515',lat:'42.401816'},{lon:'-71.047819',lat:'42.396671'},{lon:'-71.050712',lat:'42.397284'},{lon:'-71.053206',lat:'42.396324'},{lon:'-71.050405',lat:'42.393372'},{lon:'-71.055061',lat:'42.387264'},{lon:'-71.065593',lat:'42.386143'},{lon:'-71.070550',lat:'42.388876'},{lon:'-71.067222',lat:'42.394131'},{lon:'-71.068272',lat:'42.395042'},{lon:'-71.080832',lat:'42.382384'},{lon:'-71.080426',lat:'42.380667'},{lon:'-71.075692',lat:'42.379747'},{lon:'-71.072480',lat:'42.372385'},{lon:'-71.067000',lat:'42.371462'},{lon:'-71.064234',lat:'42.368727'},{lon:'-71.068933',lat:'42.368582'},{lon:'-71.077326',lat:'42.358702'},{lon:'-71.091268',lat:'42.354060'},{lon:'-71.110213',lat:'42.352142'},{lon:'-71.117073',lat:'42.355552'},{lon:'-71.117218',lat:'42.367490'},{lon:'-71.118649',lat:'42.368560'},{lon:'-71.123052',lat:'42.369108'},{lon:'-71.125942',lat:'42.371316'},{lon:'-71.127600',lat:'42.373208'},{lon:'-71.130826',lat:'42.373712'},{lon:'-71.132915',lat:'42.372938'},{lon:'-71.132187',lat:'42.369616'},{lon:'-71.139600',lat:'42.364377'},{lon:'-71.143544',lat:'42.364971'},{lon:'-71.145379',lat:'42.364294'},{lon:'-71.148232',lat:'42.361205'},{lon:'-71.163252',lat:'42.358396'},{lon:'-71.168051',lat:'42.360220'},{lon:'-71.169856',lat:'42.357520'},{lon:'-71.174067',lat:'42.353205'},{lon:'-71.174815',lat:'42.350205'},{lon:'-71.166805',lat:'42.339750'},{lon:'-71.169002',lat:'42.338159'},{lon:'-71.167569',lat:'42.333197'},{lon:'-71.162496',lat:'42.333617'},{lon:'-71.160182',lat:'42.333219'},{lon:'-71.156935',lat:'42.330153'},{lon:'-71.179145',lat:'42.314090'},{lon:'-71.164793',lat:'42.303440'},{lon:'-71.191259',lat:'42.282602'},{lon:'-71.206023',lat:'42.293944'},{lon:'-71.212156',lat:'42.301070'},{lon:'-71.211266',lat:'42.302638'},{lon:'-71.213134',lat:'42.306072'},{lon:'-71.220905',lat:'42.306429'},{lon:'-71.227091',lat:'42.309050'},{lon:'-71.228395',lat:'42.317942'},{lon:'-71.230987',lat:'42.320387'},{lon:'-71.238646',lat:'42.321587'},{lon:'-71.246719',lat:'42.321137'},{lon:'-71.252644',lat:'42.326269'},{lon:'-71.256653',lat:'42.325021'},{lon:'-71.259736',lat:'42.326283'},{lon:'-71.263767',lat:'42.326085'},{lon:'-71.269454',lat:'42.327641'},{lon:'-71.329195',lat:'42.312871'},{lon:'-71.322839',lat:'42.296017'},{lon:'-71.308070',lat:'42.270468'},{lon:'-71.302516',lat:'42.247850'},{lon:'-71.332324',lat:'42.248653'},{lon:'-71.331763',lat:'42.246580'},{lon:'-71.329188',lat:'42.244972'},{lon:'-71.331124',lat:'42.236426'},{lon:'-71.329782',lat:'42.233747'},{lon:'-71.340766',lat:'42.224327'},{lon:'-71.342761',lat:'42.220850'},{lon:'-71.339730',lat:'42.217001'},{lon:'-71.338029',lat:'42.215710'},{lon:'-71.340032',lat:'42.213551'},{lon:'-71.346441',lat:'42.215534'},{lon:'-71.350203',lat:'42.213405'},{lon:'-71.351737',lat:'42.207266'},{lon:'-71.347029',lat:'42.204657'},{lon:'-71.344606',lat:'42.200495'},{lon:'-71.403721',lat:'42.188168'},{lon:'-71.402320',lat:'42.178746'},{lon:'-71.410104',lat:'42.178475'},{lon:'-71.423379',lat:'42.177895'},{lon:'-71.423634',lat:'42.179086'},{lon:'-71.430145',lat:'42.179072'},{lon:'-71.443991',lat:'42.174521'},{lon:'-71.463779',lat:'42.157745'},{lon:'-71.476796',lat:'42.156640'},{lon:'-71.477778',lat:'42.132085'},{lon:'-71.498797',lat:'42.117720'},{lon:'-71.497487',lat:'42.016606'},{lon:'-71.497668',lat:'42.016004'},{lon:'-71.382733',lat:'42.017138'},{lon:'-71.381990',lat:'41.985011'},{lon:'-71.381282',lat:'41.984966'},{lon:'-71.364523',lat:'41.985143'},{lon:'-71.080074',lat:'42.095367'},{lon:'-70.924443',lat:'42.157485'},{lon:'-70.915000',lat:'42.223627'},{lon:'-70.921909',lat:'42.226315'},{lon:'-70.932029',lat:'42.249142'},{lon:'-70.917194',lat:'42.260974'},{lon:'-70.923655',lat:'42.302413'},{lon:'-70.880485',lat:'42.315094'},{lon:'-70.879261',lat:'42.315507'},{lon:'-70.890259',lat:'42.410533'},{lon:'-70.527287',lat:'42.653389'},{lon:'-70.613374',lat:'42.714299'},{lon:'-70.691258',lat:'42.675246'},{lon:'-70.783181',lat:'42.883774'},{lon:'-70.909738',lat:'42.889232'},{lon:'-71.037327',lat:'42.861643'},{lon:'-71.150827',lat:'42.817402'},{lon:'-71.255595',lat:'42.739149'}];
AddRaidPolygon(raid_mapLayer, VTeamSouthBoston,"#3F5BA9","Team South Boston");

var VTeamAlmostRI = [{lon:'-71.381990',lat:'41.985011'},{lon:'-71.381282',lat:'41.984966'},{lon:'-71.364523',lat:'41.985143'},{lon:'-71.080074',lat:'42.095367'},{lon:'-70.924443',lat:'42.157485'},{lon:'-70.915000',lat:'42.223627'},{lon:'-70.921909',lat:'42.226315'},{lon:'-70.932029',lat:'42.249142'},{lon:'-70.917194',lat:'42.260974'},{lon:'-70.923655',lat:'42.302413'},{lon:'-70.880485',lat:'42.315094'},{lon:'-70.873613',lat:'42.313656'},{lon:'-70.128415',lat:'42.113503'},{lon:'-70.017925',lat:'42.050075'},{lon:'-69.925351',lat:'41.916428'},{lon:'-69.880212',lat:'41.666497'},{lon:'-69.913973',lat:'41.254169'},{lon:'-69.963872',lat:'41.217723'},{lon:'-70.819209',lat:'41.221711'},{lon:'-71.117912',lat:'41.488974'},{lon:'-71.131399',lat:'41.591790'},{lon:'-71.140327',lat:'41.606249'},{lon:'-71.140593',lat:'41.623996'},{lon:'-71.134998',lat:'41.628563'},{lon:'-71.132451',lat:'41.660094'},{lon:'-71.176216',lat:'41.668360'},{lon:'-71.175764',lat:'41.671495'},{lon:'-71.195342',lat:'41.675226'},{lon:'-71.260716',lat:'41.751751'},{lon:'-71.328412',lat:'41.780384'},{lon:'-71.330945',lat:'41.785396'},{lon:'-71.329325',lat:'41.787692'},{lon:'-71.332155',lat:'41.790233'},{lon:'-71.334946',lat:'41.794441'},{lon:'-71.340902',lat:'41.797038'},{lon:'-71.341070',lat:'41.799377'},{lon:'-71.339061',lat:'41.808551'},{lon:'-71.345941',lat:'41.821290'},{lon:'-71.347927',lat:'41.822839'},{lon:'-71.345128',lat:'41.827359'},{lon:'-71.335248',lat:'41.835512'},{lon:'-71.342477',lat:'41.844662'},{lon:'-71.333661',lat:'41.862537'},{lon:'-71.341008',lat:'41.878579'},{lon:'-71.338105',lat:'41.898283'},{lon:'-71.381586',lat:'41.892952'},{lon:'-71.381740',lat:'41.983964'}
];
AddRaidPolygon(raid_mapLayer, VTeamAlmostRI,"#7CCFA9","Team Almost RI");
   
    setTimeout(function(){CurrentRaidLocation(raid_mapLayer);},3000);
    mro_Map.events.register("moveend", Waze.map, function(){ setTimeout(function(){CurrentRaidLocation(raid_mapLayer);},1500);});
    mro_Map.events.register("zoomend", Waze.map, function(){ setTimeout(function(){CurrentRaidLocation(raid_mapLayer);},1500);});

}