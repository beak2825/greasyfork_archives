// ==UserScript==
// @name         Add Rss to each Letterboxd film
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Adds an RSS link for BT4G for every film entry on letterboxd, filtered by size
// @author       CedricPelchat
// @match        https://letterboxd.com/*
// @exclude      https://letterboxd.com/film/*
// @exclude      https://letterboxd.com/*/film/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/461332/Add%20Rss%20to%20each%20Letterboxd%20film.user.js
// @updateURL https://update.greasyfork.org/scripts/461332/Add%20Rss%20to%20each%20Letterboxd%20film.meta.js
// ==/UserScript==

//I've used the createIcon function from folklittle' Letterboxd search bars userscript. I've excluded film and review sections because his userscript works for them. It is not working on //some sections, so updates are welcome (only works with the row News from friends, list pages, Popular films //this week and popular reviews this week in Films page.

if( document.readyState == "complete" || document.readyState == "loaded" || document.readyState == "interactive" ) {
    main();
} else {
    document.addEventListener('DOMContentLoaded', main);
}

function main() {



  // Function used to build icons
function createIcon(cont, title, href, icon) {
      if (cont.querySelector('.rss-icon')) {
    return;
  }
  var a = document.createElement('a');
  a.href = href;
  a.title = title;
  a.setAttribute('target', '_blank');

  var img = document.createElement('img');
  img.src = icon;
  img.setAttribute('height', '22em');
  img.setAttribute('width', '22em');

  a.appendChild(img);

  var span = document.createElement('span');
      span.classList.add('rss-icon'); // Add class to identify icon

  span.appendChild(a);
  cont.appendChild(span);
  console.log(title, 'icon built successfully.');
}



// Add Rss link to each film on list page
//Get all films, only gets the first row, list pages, and Popular reviews this week in Films page.

document.querySelectorAll('li.poster-container, li.listitem, li.film-detail, .frame').forEach((film) => {
      let iconCreated = false;
    film.classList.add('film-list');
console.log(film);
  film.addEventListener('mouseover', () => {
    // Get film title
    const filmTitleElement = film.querySelector('.frame-title');
    const filmTitle = filmTitleElement.textContent;


    // Get overlay actions element

    const overlayActions = film.querySelector('.overlay-actions');
        // Check that overlayActions element exists
  if (!overlayActions) {
    console.log('No overlay actions element found for film:', film);
  }
        // Check that filmTitle is not empty
  if (!filmTitle) {
    console.log('Empty film title:', film);
  }
    const overlayActionsW70 = film.querySelector('.-w70');
    if (overlayActions&& !iconCreated) {
      // Create new span element and add to overlay actions
      const span = document.createElement('span');
span.style.display = 'inline-block';


      overlayActions.appendChild(span);

      // Create new icon and add to span element
      const img=' data:image/png;base64,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';
      const filmLink='https://bt4g.org/search/'+filmTitle+'/bysize/1?page=rss';
      const iconEl = document.createElement('span');
      const rss =createIcon(iconEl, 'Rss',filmLink, img);
        iconCreated = true;
     // Add click event listener to copy link icon
    iconEl.addEventListener('click', () => {
  navigator.clipboard.writeText('https://bt4g.org/search/'+filmTitle+'/bysize/1?page=rss');
  iconEl.style.opacity='0.6';
  setTimeout(() => {
    iconEl.style.opacity='1';
  }, 300);
});


        if (overlayActionsW70) {
        iconEl.style.position = 'absolute';
        iconEl.style.right ='9px';
        iconEl.style.top = '-20px';
        iconEl.style.height = '20px';
        iconEl.style.width = '12px';
        }
span.appendChild(iconEl);
    }
    }
  );
}
);
}