
// ==UserScript==
// @name           	RatingR5 beta4.8b for Season59
// @version        	4.8b
// @description    	RatingR5, R5REC, R5 VALUE, REREC(+b), Season TI, RVA's Captaincy
// @author			CHU-CHI(club ID:3415957)
// @namespace		https://tmchuchi.web.fc2.com/
// @include			https://trophymanager.com/players/*
// @include			https://fb.trophymanager.com/players/*
// @exclude			https://trophymanager.com/players/
// @exclude			https://fb.trophymanager.com/players/
// @exclude			https://trophymanager.com/players/compare/*
// @exclude			https://fb.trophymanager.com/players/compare/*
// @downloadURL https://update.greasyfork.org/scripts/389329/RatingR5%20beta48b%20for%20Season59.user.js
// @updateURL https://update.greasyfork.org/scripts/389329/RatingR5%20beta48b%20for%20Season59.meta.js
// ==/UserScript==

var version = "ver4.8b for Season59";
//###############################################################################################
//	NOTE:																						#
//	Some versions up to RatingR4 was developed by VF Tomato. 									#
//	He has already retired from Trophymanager.													#
//	Inheriting from him, I continued to support RatingR4 and developed RatingR5.				#
//	I hope many people use RatingR5, 															#
//	but I think that it is undesirable to circulate scripts modified by someone other than me.	#
//	RatingR5 is a script that evaluates players.												#
//	It makes sense for everyone to use the same script / same version.							#
//	You can freely modify the script to use it yourself.										#
//	However, please do not publish the modified script for others.								#
//	Using RatingR5 is free and you can freely modify it for yourself,							#
//	but I will not abandon copyright.															#
//																								#
//	Special Thanks: FC Sagami(ID:2260539)	RVA FC(ID:3130179)	 River Cats(ID:3805911) 		#
//																								#
//###############################################################################################	

//	R5 Captaincy(RVA) Custom Weights
//	Weights sum must be 1.0
var leadWeight2 = 0.5;	// Leadership
var profWeight2 = 0.25;	// Professhionalism
var rouWeight2 = 0.15;	// Routine
var aggrWeight2 = 0.1;	// Aggression

var youthID = 127217624;
var botID = 126866007;
var SS = new Date("05 13 2019 08:00:00 GMT");			// s59 start
var training1 = new Date("05 13 2019 23:00:00 GMT");	// first training
var wage_rate = 15.8079;

//  FITA NT RANKING Season59
//                  1     2     3     4     5     6     7     8     9     10    11    12    13    14    15    16    17    18    19    20
var nation_rank = ["de", "it", "ca", "jp", "hk", "ro", "gr", "br", "ba", "ar", "bg", "ng", "no", "en", "us", "cn", "id", "ge", "eg", "gh"];

var testmode = 0;

// R5 weights		Str				Sta				Pac				Mar				Tac				Wor				Pos				Pas				Cro				Tec				Hea				Fin				Lon				Set
var weightR5 = [[	0.41029304	,	0.18048062	,	0.56730138	,	1.06344654	,	1.02312672	,	0.40831256	,	0.58235457	,	0.12717479	,	0.05454137	,	0.09089830	,	0.42381693	,	0.04626272	,	0.02199046	,	0	],	// DC
                [	0.42126371	,	0.18293193	,	0.60567629	,	0.91904794	,	0.89070915	,	0.40038476	,	0.56146633	,	0.15053902	,	0.15955429	,	0.15682932	,	0.42109742	,	0.09460329	,	0.03589655	,	0	],	// DL/R
                [	0.23412419	,	0.32032289	,	0.62194779	,	0.63162534	,	0.63143081	,	0.45218831	,	0.47370658	,	0.55054737	,	0.17744915	,	0.39932519	,	0.26915814	,	0.16413124	,	0.07404301	,	0	],	// DMC
                [	0.27276905	,	0.26814289	,	0.61104798	,	0.39865092	,	0.42862643	,	0.43582015	,	0.46617076	,	0.44931076	,	0.25175412	,	0.46446692	,	0.29986350	,	0.43843061	,	0.21494592	,	0	],	// DML/R
                [	0.25219260	,	0.25112993	,	0.56090649	,	0.18230261	,	0.18376490	,	0.45928749	,	0.53498118	,	0.59461481	,	0.09851189	,	0.61601950	,	0.31243959	,	0.65402884	,	0.29982016	,	0	],	// MC
                [	0.28155678	,	0.24090675	,	0.60680245	,	0.19068879	,	0.20018012	,	0.45148647	,	0.48230007	,	0.42982389	,	0.26268609	,	0.57933805	,	0.31712419	,	0.65824985	,	0.29885649	,	0	],	// ML/R
                [	0.22029884	,	0.29229690	,	0.63248227	,	0.09904394	,	0.10043602	,	0.47469498	,	0.52919791	,	0.77555880	,	0.10531819	,	0.71048302	,	0.27667115	,	0.56813972	,	0.21537826	,	0	],	// OMC
                [	0.21151292	,	0.35804710	,	0.88688492	,	0.14391236	,	0.13769621	,	0.46586605	,	0.34446036	,	0.51377701	,	0.59723919	,	0.75126119	,	0.16550722	,	0.29966502	,	0.12417045	,	0	],	// OML/R
                [	0.35479780	,	0.14887553	,	0.43273380	,	0.00023928	,	0.00021111	,	0.46931131	,	0.57731335	,	0.41686333	,	0.05607604	,	0.62121195	,	0.45370457	,	1.03660702	,	0.43205492	,	0	],	// F
				[	0.45462811	,	0.30278232	,	0.45462811	,	0.90925623	,	0.45462811	,	0.90925623	,	0.45462811	,	0.45462811	,	0.30278232	,	0.15139116	,	0.15139116	]];	// GK	

// R5 Assist			str				sta				pac				mar				tac				wor				pos				pas				cro				tec				hea				fin 			lon				set		
var weightAssist = [[	0.00189394	,	0.09807900	,	0.13636364	,	0	,	0	,	0.09375000	,	0.08996212	,	0.30113636	,	0.03449675	,	0.24431818	,	0	,	0	,	0	,	0	],	// Shortpassing
					[	0.00219024	,	0.10090738	,	0.22027534	,	0	,	0	,	0.09590113	,	0.09152065	,	0.25438048	,	0.08995620	,	0.14486859	,	0	,	0	,	0	,	0	],	// Through balls
					[	0.01562500	,	0.09754464	,	0.21071429	,	0	,	0	,	0.09040179	,	0.05915179	,	0.18437500	,	0.15691964	,	0.18526786	,	0	,	0	,	0	,	0	],	// Wings
					[	0.00223499	,	0.11318646	,	0.24010217	,	0	,	0	,	0.08764368	,	0.08317369	,	0.25446999	,	0.04070881	,	0.17848020	,	0	,	0	,	0	,	0	],	// Direct
					[	0.00333333	,	0.09738095	,	0.14476190	,	0	,	0	,	0.08976190	,	0.08309524	,	0.27666667	,	0.12071429	,	0.18428571	,	0	,	0	,	0	,	0	],	// Long balls
					[	0.00438596	,	0.10181704	,	0.19047619	,	0	,	0	,	0.09179198	,	0.08302005	,	0.25877193	,	0.07988722	,	0.18984962	,	0	,	0	,	0	,	0	]];	// Balanced

var weightASho = [[	0.00237329	,	0.09950726	,	0.15239877	,	0	,	0	,	0.09199923	,	0.08725264	,	0.28736645	,	0.06307446	,	0.21602789	,	0	,	0	,	0	,	0	],	//DC
                  [	0.00442064	,	0.10241347	,	0.18932208	,	0	,	0	,	0.08991175	,	0.08107047	,	0.25614835	,	0.09842144	,	0.17829181	,	0	,	0	,	0	,	0	],	//DLR
                  [	0.00222661	,	0.09958986	,	0.15287889	,	0	,	0	,	0.09248207	,	0.08802886	,	0.28914766	,	0.05509479	,	0.22055126	,	0	,	0	,	0	,	0	],	//DMC
                  [	0.00270818	,	0.10049274	,	0.16267867	,	0	,	0	,	0.09188670	,	0.08647035	,	0.28138296	,	0.06311732	,	0.21126311	,	0	,	0	,	0	,	0	],	//DMLR
                  [	0.00199981	,	0.10039184	,	0.15624450	,	0	,	0	,	0.09288164	,	0.08888203	,	0.29110895	,	0.04091669	,	0.22757455	,	0	,	0	,	0	,	0	],	//MC
                  [	0.00278313	,	0.09877399	,	0.15115064	,	0	,	0	,	0.09303769	,	0.08747142	,	0.28729599	,	0.05466904	,	0.22481811	,	0	,	0	,	0	,	0	],	//MLR
                  [	0.00194572	,	0.09900421	,	0.15128853	,	0	,	0	,	0.09381391	,	0.08992247	,	0.29322508	,	0.04209407	,	0.22870602	,	0	,	0	,	0	,	0	],	//OMC
                  [	0.00310992	,	0.10011406	,	0.15811660	,	0	,	0	,	0.09268436	,	0.08646452	,	0.28412103	,	0.04671442	,	0.22867510	,	0	,	0	,	0	,	0	],	//OMLR
                  [	0.00192673	,	0.09880088	,	0.14589610	,	0	,	0	,	0.09369196	,	0.08983850	,	0.29620906	,	0.03864593	,	0.23499084	,	0	,	0	,	0	,	0	]];	//F

var weightAThr = [[	0.00264828	,	0.10071959	,	0.17654532	,	0	,	0	,	0.09164802	,	0.08635146	,	0.27174194	,	0.08710276	,	0.18324263	,	0	,	0	,	0	,	0	],	//DC
                  [	0.00372990	,	0.10194704	,	0.19890814	,	0	,	0	,	0.09176663	,	0.08430683	,	0.25560085	,	0.09579980	,	0.16794082	,	0	,	0	,	0	,	0	],	//DLR
                  [	0.00246210	,	0.10112552	,	0.18632670	,	0	,	0	,	0.09261591	,	0.08769172	,	0.26931830	,	0.08134403	,	0.17911573	,	0	,	0	,	0	,	0	],	//DMC
                  [	0.00292991	,	0.10176026	,	0.19310586	,	0	,	0	,	0.09226457	,	0.08640474	,	0.26362218	,	0.08500664	,	0.17490584	,	0	,	0	,	0	,	0	],	//DMLR
                  [	0.00217799	,	0.10293351	,	0.20018426	,	0	,	0	,	0.09311836	,	0.08876239	,	0.26730366	,	0.06561903	,	0.17990080	,	0	,	0	,	0	,	0	],	//MC
                  [	0.00327550	,	0.10020753	,	0.19123622	,	0	,	0	,	0.09360784	,	0.08705684	,	0.26261248	,	0.08552151	,	0.17648208	,	0	,	0	,	0	,	0	],	//MLR
                  [	0.00213534	,	0.10088030	,	0.20502805	,	0	,	0	,	0.09514270	,	0.09087202	,	0.26334331	,	0.07726442	,	0.16533387	,	0	,	0	,	0	,	0	],	//OMC
                  [	0.00457386	,	0.10292767	,	0.19655867	,	0	,	0	,	0.09177718	,	0.08262946	,	0.25699427	,	0.06960401	,	0.19493487	,	0	,	0	,	0	,	0	],	//OMLR
                  [	0.00209965	,	0.10076235	,	0.19505600	,	0	,	0	,	0.09472235	,	0.09052304	,	0.26910904	,	0.06950202	,	0.17822556	,	0	,	0	,	0	,	0	]];	//F

var weightAWin = [[	0.00276422	,	0.10067205	,	0.16547592	,	0	,	0	,	0.09057143	,	0.08504298	,	0.27613666	,	0.08638046	,	0.19295627	,	0	,	0	,	0	,	0	],	//DC
                  [	0.00815521	,	0.10079062	,	0.19645240	,	0	,	0	,	0.09007508	,	0.07376467	,	0.23222531	,	0.11791969	,	0.18061702	,	0	,	0	,	0	,	0	],	//DLR
                  [	0.00258676	,	0.10122555	,	0.17075867	,	0	,	0	,	0.09110939	,	0.08593586	,	0.27616843	,	0.07739470	,	0.19482064	,	0	,	0	,	0	,	0	],	//DMC
                  [	0.00529967	,	0.10139134	,	0.18566407	,	0	,	0	,	0.09057439	,	0.07997506	,	0.25410288	,	0.09495271	,	0.18803989	,	0	,	0	,	0	,	0	],	//DMLR
                  [	0.00217077	,	0.10412690	,	0.18835057	,	0	,	0	,	0.09147931	,	0.08713777	,	0.27491544	,	0.05128438	,	0.20053487	,	0	,	0	,	0	,	0	],	//MC
                  [	0.00777161	,	0.09902466	,	0.18424187	,	0	,	0	,	0.09151920	,	0.07597598	,	0.24104854	,	0.10661015	,	0.19380800	,	0	,	0	,	0	,	0	],	//MLR
                  [	0.00204832	,	0.10083736	,	0.18085991	,	0	,	0	,	0.09394054	,	0.08984389	,	0.27755008	,	0.05714698	,	0.19777292	,	0	,	0	,	0	,	0	],	//OMC
                  [	0.00995273	,	0.10062165	,	0.20080612	,	0	,	0	,	0.09072995	,	0.07082450	,	0.22345279	,	0.10823474	,	0.19537752	,	0	,	0	,	0	,	0	],	//OMLR
                  [	0.00200925	,	0.10061759	,	0.16988620	,	0	,	0	,	0.09354589	,	0.08952740	,	0.28380866	,	0.04908803	,	0.21151698	,	0	,	0	,	0	,	0	]];	//F

var weightADir = [[	0.00253908	,	0.10599594	,	0.19722349	,	0	,	0	,	0.08932590	,	0.08424775	,	0.26691920	,	0.06695079	,	0.18679785	,	0	,	0	,	0	,	0	],	//DC
                  [	0.00324298	,	0.10821814	,	0.21668326	,	0	,	0	,	0.08868967	,	0.08220372	,	0.25524402	,	0.06732489	,	0.17839332	,	0	,	0	,	0	,	0	],	//DLR
                  [	0.00242797	,	0.10662480	,	0.20206089	,	0	,	0	,	0.08954494	,	0.08468900	,	0.26637358	,	0.06083439	,	0.18744444	,	0	,	0	,	0	,	0	],	//DMC
                  [	0.00273281	,	0.10786102	,	0.21145764	,	0	,	0	,	0.08907407	,	0.08360846	,	0.26091639	,	0.06099380	,	0.18335582	,	0	,	0	,	0	,	0	],	//DMLR
                  [	0.00220935	,	0.10956915	,	0.21943874	,	0	,	0	,	0.08917517	,	0.08475647	,	0.26263347	,	0.04493144	,	0.18728621	,	0	,	0	,	0	,	0	],	//MC
                  [	0.00352333	,	0.10342573	,	0.19037524	,	0	,	0	,	0.09084378	,	0.08379711	,	0.26442372	,	0.07104262	,	0.19256847	,	0	,	0	,	0	,	0	],	//MLR
                  [	0.00210478	,	0.10457227	,	0.19877736	,	0	,	0	,	0.09203609	,	0.08782653	,	0.27056965	,	0.05217536	,	0.19193796	,	0	,	0	,	0	,	0	],	//OMC
                  [	0.00340325	,	0.10903066	,	0.21995620	,	0	,	0	,	0.08906121	,	0.08225472	,	0.25573405	,	0.05127603	,	0.18928388	,	0	,	0	,	0	,	0	],	//OMLR
                  [	0.00208301	,	0.10472424	,	0.19282798	,	0	,	0	,	0.09161745	,	0.08745144	,	0.27422279	,	0.04635028	,	0.20072282	,	0	,	0	,	0	,	0	]];	//F

var weightALon = [[	0.00315498	,	0.09841234	,	0.15125343	,	0	,	0	,	0.09001560	,	0.08370564	,	0.27650057	,	0.10995448	,	0.18700296	,	0	,	0	,	0	,	0	],	//DC
                  [	0.00371047	,	0.09912649	,	0.16021770	,	0	,	0	,	0.08981388	,	0.08239294	,	0.26954985	,	0.11298197	,	0.18220672	,	0	,	0	,	0	,	0	],	//DLR
                  [	0.00305011	,	0.09883948	,	0.15462428	,	0	,	0	,	0.09027310	,	0.08417288	,	0.27647765	,	0.10428016	,	0.18828234	,	0	,	0	,	0	,	0	],	//DMC
                  [	0.00330763	,	0.09922249	,	0.15865544	,	0	,	0	,	0.09008885	,	0.08347360	,	0.27325393	,	0.10605149	,	0.18594657	,	0	,	0	,	0	,	0	],	//DMLR
                  [	0.00243322	,	0.10260400	,	0.17851041	,	0	,	0	,	0.09109160	,	0.08622516	,	0.27531078	,	0.06695821	,	0.19686661	,	0	,	0	,	0	,	0	],	//MC
                  [	0.00365822	,	0.09850930	,	0.15761758	,	0	,	0	,	0.09086145	,	0.08354500	,	0.27260042	,	0.10239335	,	0.19081467	,	0	,	0	,	0	,	0	],	//MLR
                  [	0.00204832	,	0.10083736	,	0.18085991	,	0	,	0	,	0.09394054	,	0.08984389	,	0.27755008	,	0.05714698	,	0.19777292	,	0	,	0	,	0	,	0	],	//OMC
                  [	0.00501401	,	0.10330073	,	0.19217931	,	0	,	0	,	0.09101568	,	0.08098767	,	0.25747692	,	0.06584592	,	0.20417978	,	0	,	0	,	0	,	0	],	//OMLR
                  [	0.00200925	,	0.10061759	,	0.16988620	,	0	,	0	,	0.09354589	,	0.08952740	,	0.28380866	,	0.04908803	,	0.21151698	,	0	,	0	,	0	,	0	]];	//F

var weightABal = [[	0.00276422	,	0.10067205	,	0.16547592	,	0	,	0	,	0.09057143	,	0.08504298	,	0.27613666	,	0.08638046	,	0.19295627	,	0	,	0	,	0	,	0	],	//DC
                  [	0.00442064	,	0.10241347	,	0.18932208	,	0	,	0	,	0.08991175	,	0.08107047	,	0.25614835	,	0.09842144	,	0.17829181	,	0	,	0	,	0	,	0	],	//DLR
                  [	0.00258676	,	0.10122555	,	0.17075867	,	0	,	0	,	0.09110939	,	0.08593586	,	0.27616843	,	0.07739470	,	0.19482064	,	0	,	0	,	0	,	0	],	//DMC
                  [	0.00326678	,	0.10214868	,	0.18073211	,	0	,	0	,	0.09060837	,	0.08407481	,	0.26783111	,	0.08275247	,	0.18858565	,	0	,	0	,	0	,	0	],	//DMLR
                  [	0.00217077	,	0.10412690	,	0.18835057	,	0	,	0	,	0.09147931	,	0.08713777	,	0.27491544	,	0.05128438	,	0.20053487	,	0	,	0	,	0	,	0	],	//MC
                  [	0.00401069	,	0.09973343	,	0.17156444	,	0	,	0	,	0.09205432	,	0.08403294	,	0.26818903	,	0.08251735	,	0.19789780	,	0	,	0	,	0	,	0	],	//MLR
                  [	0.00204832	,	0.10083736	,	0.18085991	,	0	,	0	,	0.09394054	,	0.08984389	,	0.27755008	,	0.05714698	,	0.19777292	,	0	,	0	,	0	,	0	],	//OMC
                  [	0.00501401	,	0.10330073	,	0.19217931	,	0	,	0	,	0.09101568	,	0.08098767	,	0.25747692	,	0.06584592	,	0.20417978	,	0	,	0	,	0	,	0	],	//OMLR
                  [	0.00200925	,	0.10061759	,	0.16988620	,	0	,	0	,	0.09354589	,	0.08952740	,	0.28380866	,	0.04908803	,	0.21151698	,	0	,	0	,	0	,	0	]];	//F

var weightASho2 = [[0.00026053	,	0.01134664	,	0.01951125	,	0	,	0	,	0.01005857	,	0.00953751	,	0.03066454	,	0.00593229	,	0.02283866	,	0	,	0	,	0	,	0	],
                   [0.00071155	,	0.01912465	,	0.03293910	,	0	,	0	,	0.01732462	,	0.01590151	,	0.05118284	,	0.01173241	,	0.03968153	,	0	,	0	,	0	,	0	],
                   [0.00072119	,	0.03268676	,	0.05178943	,	0	,	0	,	0.03010795	,	0.02866556	,	0.09356057	,	0.01531461	,	0.07228368	,	0	,	0	,	0	,	0	],
                   [0.00102666	,	0.03433529	,	0.05712569	,	0	,	0	,	0.03145773	,	0.02940440	,	0.09497832	,	0.01909405	,	0.07311925	,	0	,	0	,	0	,	0	],
                   [0.00155165	,	0.07313013	,	0.11698286	,	0	,	0	,	0.06801561	,	0.06491230	,	0.21021372	,	0.03280702	,	0.16211115	,	0	,	0	,	0	,	0	],
                   [0.00162247	,	0.05406479	,	0.08564556	,	0	,	0	,	0.05045333	,	0.04720839	,	0.15417749	,	0.02763824	,	0.12188667	,	0	,	0	,	0	,	0	],
                   [0.00218413	,	0.09895304	,	0.15489964	,	0	,	0	,	0.09364304	,	0.08927478	,	0.28910885	,	0.05083545	,	0.22110108	,	0	,	0	,	0	,	0	],
                   [0.00272368	,	0.08048329	,	0.12656929	,	0	,	0	,	0.07584395	,	0.07039660	,	0.23019734	,	0.04304520	,	0.18415764	,	0	,	0	,	0	,	0	],
                   [0.00205459	,	0.08944582	,	0.14069005	,	0	,	0	,	0.08419507	,	0.08008588	,	0.25966778	,	0.04652202	,	0.19880858	,	0	,	0	,	0	,	0	]];
																												
var weightAThr2 = [[0.00022597	,	0.00941235	,	0.01860996	,	0	,	0	,	0.00826322	,	0.00781127	,	0.02362331	,	0.00652173	,	0.01567860	,	0	,	0	,	0	,	0	],
                   [0.00063304	,	0.01593829	,	0.03214131	,	0	,	0	,	0.01433276	,	0.01306669	,	0.03915314	,	0.01302622	,	0.02686469	,	0	,	0	,	0	,	0	],
                   [0.00051857	,	0.02162035	,	0.04209717	,	0	,	0	,	0.01958521	,	0.01854806	,	0.05584388	,	0.01534318	,	0.03719528	,	0	,	0	,	0	,	0	],
                   [0.00092558	,	0.02922297	,	0.05884072	,	0	,	0	,	0.02662241	,	0.02477125	,	0.07350654	,	0.02325013	,	0.04862855	,	0	,	0	,	0	,	0	],
                   [0.00143642	,	0.06348457	,	0.12974626	,	0	,	0	,	0.05876917	,	0.05589633	,	0.16277640	,	0.04752754	,	0.10320410	,	0	,	0	,	0	,	0	],
                   [0.00125614	,	0.03585504	,	0.07113084	,	0	,	0	,	0.03307249	,	0.03056020	,	0.09117332	,	0.02846139	,	0.06204045	,	0	,	0	,	0	,	0	],
                   [0.00234206	,	0.10062475	,	0.20513549	,	0	,	0	,	0.09498126	,	0.09029713	,	0.26126435	,	0.08368379	,	0.16167118	,	0	,	0	,	0	,	0	],
                   [0.00215865	,	0.05347650	,	0.10685196	,	0	,	0	,	0.04999134	,	0.04567404	,	0.13550070	,	0.04527823	,	0.09286225	,	0	,	0	,	0	,	0	],
                   [0.00207257	,	0.08568704	,	0.17339853	,	0	,	0	,	0.08044320	,	0.07629805	,	0.22214695	,	0.07069154	,	0.13912996	,	0	,	0	,	0	,	0	]];
																												
var weightAWin2 = [[0.00038513	,	0.01198703	,	0.02289581	,	0	,	0	,	0.01023014	,	0.00945988	,	0.02963949	,	0.00800143	,	0.02114731	,	0	,	0	,	0	,	0	],
                   [0.00306122	,	0.03159641	,	0.06420414	,	0	,	0	,	0.02833597	,	0.02221352	,	0.06930564	,	0.03598189	,	0.05839591	,	0	,	0	,	0	,	0	],
                   [0.00090109	,	0.02508719	,	0.04614494	,	0	,	0	,	0.02217738	,	0.02037520	,	0.06425058	,	0.01717217	,	0.04728436	,	0	,	0	,	0	,	0	],
                   [0.00329834	,	0.04234223	,	0.08379408	,	0	,	0	,	0.03798428	,	0.03138760	,	0.09786187	,	0.04282255	,	0.07833867	,	0	,	0	,	0	,	0	],
                   [0.00181355	,	0.05255986	,	0.09978078	,	0	,	0	,	0.04722133	,	0.04359423	,	0.13448438	,	0.03458371	,	0.09766409	,	0	,	0	,	0	,	0	],
                   [0.00534400	,	0.05899027	,	0.11623244	,	0	,	0	,	0.05381994	,	0.04313194	,	0.13518150	,	0.06358330	,	0.11337046	,	0	,	0	,	0	,	0	],
                   [0.00262289	,	0.07037024	,	0.12905697	,	0	,	0	,	0.06564238	,	0.06039660	,	0.18639221	,	0.05690754	,	0.13274307	,	0	,	0	,	0	,	0	],
                   [0.01067781	,	0.09888948	,	0.19812276	,	0	,	0	,	0.09141551	,	0.07005989	,	0.21923700	,	0.11962624	,	0.19197131	,	0	,	0	,	0	,	0	],
                   [0.00301580	,	0.06898983	,	0.12745425	,	0	,	0	,	0.06369986	,	0.05766827	,	0.17894949	,	0.05793570	,	0.13002632	,	0	,	0	,	0	,	0	]];
																												
var weightADir2 = [[0.00076860	,	0.03595246	,	0.07370890	,	0	,	0	,	0.02868982	,	0.02715262	,	0.08374813	,	0.01582247	,	0.05873146	,	0	,	0	,	0	,	0	],
                   [0.00142637	,	0.04600964	,	0.09424759	,	0	,	0	,	0.03741293	,	0.03456020	,	0.10660387	,	0.02409408	,	0.07671641	,	0	,	0	,	0	,	0	],
                   [0.00127297	,	0.05797645	,	0.11583640	,	0	,	0	,	0.04734312	,	0.04479718	,	0.13890066	,	0.02653241	,	0.09850879	,	0	,	0	,	0	,	0	],
                   [0.00190650	,	0.06889934	,	0.13959938	,	0	,	0	,	0.05646805	,	0.05265505	,	0.16245396	,	0.03533093	,	0.11581572	,	0	,	0	,	0	,	0	],
                   [0.00233548	,	0.10849401	,	0.21827310	,	0	,	0	,	0.08990016	,	0.08522920	,	0.26172198	,	0.04951941	,	0.18452666	,	0	,	0	,	0	,	0	],
                   [0.00226190	,	0.07033701	,	0.13938736	,	0	,	0	,	0.05901706	,	0.05449326	,	0.16912077	,	0.03825934	,	0.12367125	,	0	,	0	,	0	,	0	],
                   [0.00206833	,	0.08490780	,	0.15966353	,	0	,	0	,	0.07598515	,	0.07184849	,	0.22122032	,	0.05464976	,	0.15373351	,	0	,	0	,	0	,	0	],
                   [0.00326969	,	0.07570782	,	0.14702385	,	0	,	0	,	0.06592038	,	0.05938101	,	0.18483973	,	0.04947231	,	0.13945790	,	0	,	0	,	0	,	0	],
                   [0.00231424	,	0.09307371	,	0.17821844	,	0	,	0	,	0.08107052	,	0.07644204	,	0.23609561	,	0.05612755	,	0.16529983	,	0	,	0	,	0	,	0	]];
																												
var weightALon2 = [[0.00058827	,	0.02015891	,	0.03444116	,	0	,	0	,	0.01778990	,	0.01661336	,	0.05360521	,	0.01815821	,	0.03666463	,	0	,	0	,	0	,	0	],
                   [0.00115755	,	0.02655302	,	0.04720265	,	0	,	0	,	0.02365039	,	0.02133529	,	0.06825021	,	0.02499034	,	0.04881274	,	0	,	0	,	0	,	0	],
                   [0.00106580	,	0.03694760	,	0.06216624	,	0	,	0	,	0.03313537	,	0.03100377	,	0.10001675	,	0.03168781	,	0.06972320	,	0	,	0	,	0	,	0	],
                   [0.00161393	,	0.04348175	,	0.07586479	,	0	,	0	,	0.03900749	,	0.03577963	,	0.11442463	,	0.03974354	,	0.08047088	,	0	,	0	,	0	,	0	],
                   [0.00134235	,	0.05350783	,	0.09769744	,	0	,	0	,	0.04812052	,	0.04543582	,	0.14152572	,	0.03541674	,	0.09949722	,	0	,	0	,	0	,	0	],
                   [0.00187481	,	0.04465404	,	0.07859284	,	0	,	0	,	0.04051228	,	0.03676265	,	0.11720865	,	0.03779829	,	0.08601972	,	0	,	0	,	0	,	0	],
                   [0.00287173	,	0.09910577	,	0.16698100	,	0	,	0	,	0.09207190	,	0.08632845	,	0.27402080	,	0.09152155	,	0.18709880	,	0	,	0	,	0	,	0	],
                   [0.00288066	,	0.05435407	,	0.09792179	,	0	,	0	,	0.05011588	,	0.04435457	,	0.14031249	,	0.04693959	,	0.10718418	,	0	,	0	,	0	,	0	],
                   [0.00297324	,	0.09815372	,	0.16444875	,	0	,	0	,	0.09053752	,	0.08459104	,	0.27011306	,	0.09213018	,	0.18518071	,	0	,	0	,	0	,	0	]];
																												
var weightABal2 = [[0.00043996	,	0.01765677	,	0.03347656	,	0	,	0	,	0.01499596	,	0.01411604	,	0.04423786	,	0.01085012	,	0.03101538	,	0	,	0	,	0	,	0	],
                   [0.00135664	,	0.02789624	,	0.05395959	,	0	,	0	,	0.02438041	,	0.02166713	,	0.06763956	,	0.02177528	,	0.05046996	,	0	,	0	,	0	,	0	],
                   [0.00090948	,	0.03595926	,	0.06515638	,	0	,	0	,	0.03165693	,	0.02983797	,	0.09415808	,	0.02177219	,	0.06773143	,	0	,	0	,	0	,	0	],
                   [0.00173130	,	0.04465187	,	0.08451761	,	0	,	0	,	0.03942576	,	0.03596316	,	0.11213898	,	0.03247642	,	0.08156764	,	0	,	0	,	0	,	0	],
                   [0.00178793	,	0.07532605	,	0.14131116	,	0	,	0	,	0.06749222	,	0.06391635	,	0.19705081	,	0.04342752	,	0.13970141	,	0	,	0	,	0	,	0	],
                   [0.00244756	,	0.05515619	,	0.10172501	,	0	,	0	,	0.04979368	,	0.04489857	,	0.14109948	,	0.04000652	,	0.10682744	,	0	,	0	,	0	,	0	],
                   [0.00258747	,	0.10016789	,	0.18066327	,	0	,	0	,	0.09349437	,	0.08831943	,	0.27239151	,	0.07354500	,	0.18883106	,	0	,	0	,	0	,	0	],
                   [0.00427929	,	0.07686224	,	0.14192464	,	0	,	0	,	0.07087192	,	0.06231333	,	0.19557015	,	0.06225531	,	0.15244141	,	0	,	0	,	0	,	0	],
                   [0.00260340	,	0.09430294	,	0.17013992	,	0	,	0	,	0.08702702	,	0.08182022	,	0.25378515	,	0.06916509	,	0.17754403	,	0	,	0	,	0	,	0	]];

// R5 Defence			str				sta				pac				mar				tac				wor				pos				pas				cro				tec				hea				fin 			lon				set		
var weightDefence = [[	0.01699757	,	0.05099272	,	0.08941580	,	0.25724896	,	0.34152264	,	0.09884302	,	0.12998143	,	0	,	0	,	0	,	0.01499786	,	0	,	0	,	0	],	// Shortpassing
					 [	0.02270559	,	0.06048464	,	0.23392482	,	0.24441900	,	0.24251097	,	0.08624308	,	0.08967754	,	0	,	0	,	0	,	0.02003435	,	0	,	0	,	0	],	// Through balls
					 [	0.04134184	,	0.05031892	,	0.16678479	,	0.25537444	,	0.29270021	,	0.08221120	,	0.08646350	,	0	,	0	,	0	,	0.02480510	,	0	,	0	,	0	],	// Wings
					 [	0.02190318	,	0.05245721	,	0.12552917	,	0.33591018	,	0.21627094	,	0.12442481	,	0.10417817	,	0	,	0	,	0	,	0.01932634	,	0	,	0	,	0	],	// Direct
					 [	0.10566556	,	0.04724564	,	0.11644776	,	0.23936483	,	0.20446971	,	0.09017840	,	0.09370712	,	0	,	0	,	0	,	0.10292100	,	0	,	0	,	0	],	// Long balls
					 [	0.03965345	,	0.05231589	,	0.14195268	,	0.26691103	,	0.26357881	,	0.09730090	,	0.10329890	,	0	,	0	,	0	,	0.03498834	,	0	,	0	,	0	]];	// Balanced
																													
var weightDSho = [[	0.02413630	,	0.05195120	,	0.11312239	,	0.26177809	,	0.30933260	,	0.09866855	,	0.11952558	,	0	,	0	,	0	,	0.02148529	,	0	,	0	,	0	],	//DC
				  [	0.02507958	,	0.05199749	,	0.11631263	,	0.26175187	,	0.30665247	,	0.09818719	,	0.11796193	,	0	,	0	,	0	,	0.02205685	,	0	,	0	,	0	],	//DLR
                  [	0.02407975	,	0.05197592	,	0.11317837	,	0.26115986	,	0.30997734	,	0.09848076	,	0.11967707	,	0	,	0	,	0	,	0.02147093	,	0	,	0	,	0	],	//DMC
                  [	0.02886043	,	0.05160519	,	0.11751517	,	0.26137972	,	0.30263204	,	0.09733957	,	0.11561357	,	0	,	0	,	0	,	0.02505431	,	0	,	0	,	0	],	//DMLR
                  [	0.02393482	,	0.05193204	,	0.11214926	,	0.26181474	,	0.30997478	,	0.09882663	,	0.11996887	,	0	,	0	,	0	,	0.02139886	,	0	,	0	,	0	],	//MC
                  [	0.02687835	,	0.05194790	,	0.11881929	,	0.26137271	,	0.30352086	,	0.09761798	,	0.11635278	,	0	,	0	,	0	,	0.02349014	,	0	,	0	,	0	],	//MLR
                  [	0.02448124	,	0.05200372	,	0.11477404	,	0.26314604	,	0.30625733	,	0.09898737	,	0.11861845	,	0	,	0	,	0	,	0.02173182	,	0	,	0	,	0	],	//OMC
                  [	0.02643474	,	0.05243930	,	0.12453498	,	0.26004781	,	0.30094129	,	0.09701274	,	0.11534752	,	0	,	0	,	0	,	0.02324162	,	0	,	0	,	0	],	//OMLR
                  [	0.02661505	,	0.05528894	,	0.17957068	,	0.27999454	,	0.24432637	,	0.09915076	,	0.09420038	,	0	,	0	,	0	,	0.02085327	,	0	,	0	,	0	]];	//F

var weightDThr = [[	0.02794578	,	0.05689896	,	0.18960768	,	0.25583069	,	0.25490101	,	0.09224025	,	0.09770507	,	0	,	0	,	0	,	0.02487056	,	0	,	0	,	0	],	//DC
                  [	0.02842340	,	0.05687316	,	0.19118074	,	0.25548434	,	0.25445045	,	0.09175238	,	0.09683224	,	0	,	0	,	0	,	0.02500330	,	0	,	0	,	0	],	//DLR
                  [	0.02785731	,	0.05701705	,	0.19093729	,	0.25494818	,	0.25494570	,	0.09189735	,	0.09756732	,	0	,	0	,	0	,	0.02482982	,	0	,	0	,	0	],	//DMC
                  [	0.03274835	,	0.05571657	,	0.18242050	,	0.25643314	,	0.25574318	,	0.09179695	,	0.09670707	,	0	,	0	,	0	,	0.02843425	,	0	,	0	,	0	],	//DMLR
                  [	0.02788010	,	0.05689169	,	0.18893107	,	0.25599258	,	0.25495391	,	0.09242892	,	0.09799945	,	0	,	0	,	0	,	0.02492228	,	0	,	0	,	0	],	//MC
                  [	0.02983889	,	0.05666574	,	0.19084278	,	0.25506756	,	0.25393647	,	0.09135591	,	0.09619328	,	0	,	0	,	0	,	0.02609938	,	0	,	0	,	0	],	//MLR
                  [	0.02796649	,	0.05686362	,	0.18957881	,	0.25717154	,	0.25353992	,	0.09265781	,	0.09740408	,	0	,	0	,	0	,	0.02481774	,	0	,	0	,	0	],	//OMC
                  [	0.02808229	,	0.05763107	,	0.20132262	,	0.25221199	,	0.25117272	,	0.09010551	,	0.09476415	,	0	,	0	,	0	,	0.02470965	,	0	,	0	,	0	],	//OMLR
                  [	0.02418022	,	0.05852485	,	0.21342269	,	0.25783793	,	0.24319573	,	0.09111180	,	0.09138353	,	0	,	0	,	0	,	0.02034324	,	0	,	0	,	0	]];	//F

var weightDWin = [[	0.03521783	,	0.05252356	,	0.14911556	,	0.26478675	,	0.27351763	,	0.09467366	,	0.10146921	,	0	,	0	,	0	,	0.02869580	,	0	,	0	,	0	],	//DC
                  [	0.03665313	,	0.05220799	,	0.15361817	,	0.26307537	,	0.27537777	,	0.09238277	,	0.09832212	,	0	,	0	,	0	,	0.02836269	,	0	,	0	,	0	],	//DLR
                  [	0.03515282	,	0.05262663	,	0.14938824	,	0.26392437	,	0.27369372	,	0.09454909	,	0.10179499	,	0	,	0	,	0	,	0.02887013	,	0	,	0	,	0	],	//DMC
                  [	0.04071968	,	0.05131826	,	0.15478376	,	0.26068799	,	0.27818544	,	0.08952720	,	0.09471411	,	0	,	0	,	0	,	0.03006357	,	0	,	0	,	0	],	//DMLR
                  [	0.03476271	,	0.05264151	,	0.14717355	,	0.26553017	,	0.27252875	,	0.09564211	,	0.10274344	,	0	,	0	,	0	,	0.02897777	,	0	,	0	,	0	],	//MC
                  [	0.03863916	,	0.05187931	,	0.15577860	,	0.26148851	,	0.27613177	,	0.09073848	,	0.09617269	,	0	,	0	,	0	,	0.02917149	,	0	,	0	,	0	],	//MLR
                  [	0.03532946	,	0.05246815	,	0.15023920	,	0.26637433	,	0.27178506	,	0.09487610	,	0.10049094	,	0	,	0	,	0	,	0.02843676	,	0	,	0	,	0	],	//OMC
                  [	0.03737156	,	0.05260682	,	0.16070509	,	0.26017638	,	0.27304500	,	0.09081206	,	0.09641247	,	0	,	0	,	0	,	0.02887063	,	0	,	0	,	0	],	//OMLR
                  [	0.03359673	,	0.05293276	,	0.17350915	,	0.26832265	,	0.26725944	,	0.09112006	,	0.09053248	,	0	,	0	,	0	,	0.02272676	,	0	,	0	,	0	]];	//F

var weightDDir = [[	0.02817563	,	0.05285841	,	0.13551167	,	0.29854793	,	0.24442251	,	0.11020707	,	0.10517936	,	0	,	0	,	0	,	0.02509743	,	0	,	0	,	0	],	//DC
                  [	0.02883165	,	0.05284182	,	0.13754869	,	0.29741443	,	0.24444157	,	0.10936989	,	0.10419858	,	0	,	0	,	0	,	0.02535336	,	0	,	0	,	0	],	//DLR
                  [	0.02841207	,	0.05291806	,	0.13626086	,	0.29658001	,	0.24571648	,	0.10949249	,	0.10525689	,	0	,	0	,	0	,	0.02536314	,	0	,	0	,	0	],	//DMC
                  [	0.03255636	,	0.05230113	,	0.13648431	,	0.29475870	,	0.24498814	,	0.10779890	,	0.10285416	,	0	,	0	,	0	,	0.02825829	,	0	,	0	,	0	],	//DMLR
                  [	0.02804218	,	0.05285409	,	0.13477078	,	0.29900747	,	0.24422834	,	0.11051879	,	0.10548015	,	0	,	0	,	0	,	0.02509822	,	0	,	0	,	0	],	//MC
                  [	0.03051297	,	0.05271913	,	0.13875761	,	0.29537353	,	0.24443543	,	0.10827179	,	0.10326796	,	0	,	0	,	0	,	0.02666159	,	0	,	0	,	0	],	//MLR
                  [	0.02775882	,	0.05283622	,	0.13535392	,	0.30208460	,	0.24116773	,	0.11143912	,	0.10472021	,	0	,	0	,	0	,	0.02463940	,	0	,	0	,	0	],	//OMC
                  [	0.03009831	,	0.05327764	,	0.14510486	,	0.29112320	,	0.24473029	,	0.10660837	,	0.10259865	,	0	,	0	,	0	,	0.02645869	,	0	,	0	,	0	],	//OMLR
                  [	0.02382842	,	0.05361423	,	0.14761014	,	0.31306346	,	0.22773418	,	0.11409802	,	0.10010132	,	0	,	0	,	0	,	0.01995023	,	0	,	0	,	0	]];	//F

var weightDLon = [[	0.05880869	,	0.05109836	,	0.13415594	,	0.25768550	,	0.24545883	,	0.09553460	,	0.10167904	,	0	,	0	,	0	,	0.05557905	,	0	,	0	,	0	],	//DC
                  [	0.05918528	,	0.05109023	,	0.13640212	,	0.25730561	,	0.24505911	,	0.09490752	,	0.10055296	,	0	,	0	,	0	,	0.05549717	,	0	,	0	,	0	],	//DLR
                  [	0.05911334	,	0.05112923	,	0.13453535	,	0.25673237	,	0.24564667	,	0.09522027	,	0.10168419	,	0	,	0	,	0	,	0.05593860	,	0	,	0	,	0	],	//DMC
                  [	0.06757170	,	0.05012142	,	0.13266147	,	0.25446290	,	0.23998869	,	0.09350968	,	0.09847691	,	0	,	0	,	0	,	0.06320724	,	0	,	0	,	0	],	//DMLR
                  [	0.05904048	,	0.05106999	,	0.13324899	,	0.25774195	,	0.24521112	,	0.09572968	,	0.10198921	,	0	,	0	,	0	,	0.05596859	,	0	,	0	,	0	],	//MC
                  [	0.06292112	,	0.05076526	,	0.13635392	,	0.25562021	,	0.24217200	,	0.09403152	,	0.09922966	,	0	,	0	,	0	,	0.05890631	,	0	,	0	,	0	],	//MLR
                  [	0.05820877	,	0.05114681	,	0.13493921	,	0.25951517	,	0.24397634	,	0.09606653	,	0.10126530	,	0	,	0	,	0	,	0.05488188	,	0	,	0	,	0	],	//OMC
                  [	0.06059557	,	0.05144315	,	0.14276764	,	0.25429787	,	0.24183616	,	0.09345435	,	0.09875993	,	0	,	0	,	0	,	0.05684532	,	0	,	0	,	0	],	//OMLR
                  [	0.02661505	,	0.05528894	,	0.17957068	,	0.27999454	,	0.24432637	,	0.09915076	,	0.09420038	,	0	,	0	,	0	,	0.02085327	,	0	,	0	,	0	]];	//F

var weightDBal = [[	0.03336560	,	0.05319037	,	0.14377141	,	0.26763355	,	0.26771576	,	0.09844299	,	0.10600777	,	0	,	0	,	0	,	0.02987255	,	0	,	0	,	0	],	//DC
                  [	0.03432328	,	0.05314668	,	0.14707558	,	0.26690202	,	0.26677011	,	0.09743710	,	0.10421476	,	0	,	0	,	0	,	0.03013048	,	0	,	0	,	0	],	//DLR
                  [	0.03342026	,	0.05327265	,	0.14451824	,	0.26631785	,	0.26837303	,	0.09800297	,	0.10608690	,	0	,	0	,	0	,	0.03000810	,	0	,	0	,	0	],	//DMC
                  [	0.04017728	,	0.05218948	,	0.14432124	,	0.26532036	,	0.26553143	,	0.09590531	,	0.10190701	,	0	,	0	,	0	,	0.03464790	,	0	,	0	,	0	],	//DMLR
                  [	0.03321351	,	0.05318841	,	0.14255567	,	0.26792155	,	0.26777895	,	0.09880470	,	0.10657690	,	0	,	0	,	0	,	0.02996031	,	0	,	0	,	0	],	//MC
                  [	0.03685060	,	0.05291193	,	0.14849502	,	0.26553463	,	0.26516723	,	0.09638160	,	0.10259796	,	0	,	0	,	0	,	0.03206104	,	0	,	0	,	0	],	//MLR
                  [	0.03329700	,	0.05319468	,	0.14464604	,	0.27009280	,	0.26471479	,	0.09915742	,	0.10523286	,	0	,	0	,	0	,	0.02966442	,	0	,	0	,	0	],	//OMC
                  [	0.03530321	,	0.05379872	,	0.15753782	,	0.26267798	,	0.26280546	,	0.09529275	,	0.10159547	,	0	,	0	,	0	,	0.03098860	,	0	,	0	,	0	],	//OMLR
                  [	0.02661505	,	0.05528894	,	0.17957068	,	0.27999454	,	0.24432637	,	0.09915076	,	0.09420038	,	0	,	0	,	0	,	0.02085327	,	0	,	0	,	0	]];	//F

var weightDSho2 = [[0.02271412	,	0.05211311	,	0.11428229	,	0.26090444	,	0.31187402	,	0.09827057	,	0.11981823	,	0	,	0	,	0	,	0.02002322	,	0	,	0	,	0	],	//DC
				   [0.01039017	,	0.02317169	,	0.05272772	,	0.11631301	,	0.13630509	,	0.04352519	,	0.05218927	,	0	,	0	,	0	,	0.00899317	,	0	,	0	,	0	],	//DLR
				   [0.00887149	,	0.02278400	,	0.04958410	,	0.11302880	,	0.13730633	,	0.04274723	,	0.05276903	,	0	,	0	,	0	,	0.00789021	,	0	,	0	,	0	],	//DMC
				   [0.00346442	,	0.00791899	,	0.01840394	,	0.04038443	,	0.04577885	,	0.01502533	,	0.01755732	,	0	,	0	,	0	,	0.00292201	,	0	,	0	,	0	],	//DMLR
				   [0.00484385	,	0.01256028	,	0.02468277	,	0.06448004	,	0.07819667	,	0.02452341	,	0.03030262	,	0	,	0	,	0	,	0.00429487	,	0	,	0	,	0	],	//MC
				   [0.00338496	,	0.00780183	,	0.01652450	,	0.04046589	,	0.04693717	,	0.01519031	,	0.01810585	,	0	,	0	,	0	,	0.00289232	,	0	,	0	,	0	],	//MLR
				   [0.00226329	,	0.00206155	,	0.00473364	,	0.01042722	,	0.01100962	,	0.00392566	,	0.00448828	,	0	,	0	,	0	,	0.00215133	,	0	,	0	,	0	],	//OMC
				   [0.00217839	,	0.00169108	,	0.00423108	,	0.00847926	,	0.00868372	,	0.00313587	,	0.00348496	,	0	,	0	,	0	,	0.00203496	,	0	,	0	,	0	],	//OMLR
				   [0.00166797	,	0.00074936	,	0.00185057	,	0.00379642	,	0.00324341	,	0.00142975	,	0.00148498	,	0	,	0	,	0	,	0.00162424	,	0	,	0	,	0	]];	//F
																									
var weightDThr2 = [[0.02625791	,	0.05733877	,	0.19446133	,	0.25425250	,	0.25593501	,	0.09140664	,	0.09719923	,	0	,	0	,	0	,	0.02314861	,	0	,	0	,	0	],	//DC
				   [0.01285105	,	0.02792202	,	0.09545564	,	0.12435465	,	0.12410308	,	0.04451655	,	0.04688484	,	0	,	0	,	0	,	0.01115064	,	0	,	0	,	0	],	//DLR
				   [0.01095658	,	0.02663809	,	0.09223025	,	0.11564283	,	0.11724444	,	0.04159051	,	0.04445443	,	0	,	0	,	0	,	0.00973497	,	0	,	0	,	0	],	//DMC
				   [0.00432137	,	0.00964677	,	0.03261907	,	0.04399477	,	0.04300749	,	0.01572399	,	0.01629135	,	0	,	0	,	0	,	0.00366742	,	0	,	0	,	0	],	//DMLR
				   [0.00340879	,	0.00772416	,	0.02268132	,	0.03719561	,	0.03736644	,	0.01364390	,	0.01467753	,	0	,	0	,	0	,	0.00303031	,	0	,	0	,	0	],	//MC
				   [0.00291372	,	0.00593121	,	0.01798835	,	0.02897191	,	0.02824141	,	0.01047449	,	0.01091702	,	0	,	0	,	0	,	0.00246901	,	0	,	0	,	0	],	//MLR
				   [0.00248125	,	0.00224050	,	0.00678887	,	0.01054752	,	0.00988442	,	0.00386633	,	0.00404989	,	0	,	0	,	0	,	0.00235592	,	0	,	0	,	0	],	//OMC
				   [0.00247475	,	0.00210776	,	0.00651839	,	0.00988586	,	0.00941288	,	0.00357927	,	0.00374696	,	0	,	0	,	0	,	0.00230543	,	0	,	0	,	0	],	//OMLR
				   [0.00180413	,	0.00081810	,	0.00203306	,	0.00413534	,	0.00353804	,	0.00155652	,	0.00161666	,	0	,	0	,	0	,	0.00175651	,	0	,	0	,	0	]];	//F
																									
var weightDWin2 = [[0.03323445	,	0.05278198	,	0.15274684	,	0.26316960	,	0.27712193	,	0.09358579	,	0.10105387	,	0	,	0	,	0	,	0.02630554	,	0	,	0	,	0	],	//DC
				   [0.01980653	,	0.03009308	,	0.09027547	,	0.15110866	,	0.15926892	,	0.05271176	,	0.05598006	,	0	,	0	,	0	,	0.01474409	,	0	,	0	,	0	],	//DLR
				   [0.00855991	,	0.01735925	,	0.04902422	,	0.08425944	,	0.08852417	,	0.03083271	,	0.03404055	,	0	,	0	,	0	,	0.00740657	,	0	,	0	,	0	],	//DMC
				   [0.00808855	,	0.01244926	,	0.03771631	,	0.06371990	,	0.06617089	,	0.02200670	,	0.02288704	,	0	,	0	,	0	,	0.00571560	,	0	,	0	,	0	],	//DMLR
				   [0.00442701	,	0.00857533	,	0.02102788	,	0.04524037	,	0.04630429	,	0.01667108	,	0.01814676	,	0	,	0	,	0	,	0.00374412	,	0	,	0	,	0	],	//MC
				   [0.00678274	,	0.01024097	,	0.02931787	,	0.05372601	,	0.05568272	,	0.01872395	,	0.01959028	,	0	,	0	,	0	,	0.00487125	,	0	,	0	,	0	],	//MLR
				   [0.00381907	,	0.00269567	,	0.00720026	,	0.01365653	,	0.01286569	,	0.00500154	,	0.00525512	,	0	,	0	,	0	,	0.00356345	,	0	,	0	,	0	],	//OMC
				   [0.00480365	,	0.00377344	,	0.01113083	,	0.01898998	,	0.01935007	,	0.00661724	,	0.00695016	,	0	,	0	,	0	,	0.00409461	,	0	,	0	,	0	],	//OMLR
				   [0.00292553	,	0.00131830	,	0.00326091	,	0.00667887	,	0.00571530	,	0.00251355	,	0.00261079	,	0	,	0	,	0	,	0.00284690	,	0	,	0	,	0	]];	//F
																									
var weightDDir2 = [[0.02684779	,	0.05313520	,	0.13848762	,	0.29536480	,	0.24838712	,	0.10884074	,	0.10527289	,	0	,	0	,	0	,	0.02366384	,	0	,	0	,	0	],	//DC
			 	   [0.01378987	,	0.02741085	,	0.07229999	,	0.15398598	,	0.12660385	,	0.05650416	,	0.05367171	,	0	,	0	,	0	,	0.01192976	,	0	,	0	,	0	],	//DLR
				   [0.00919050	,	0.02039706	,	0.05384012	,	0.11083109	,	0.09582722	,	0.04097001	,	0.04039943	,	0	,	0	,	0	,	0.00819427	,	0	,	0	,	0	],	//DMC
				   [0.00570228	,	0.01211844	,	0.03150071	,	0.07043689	,	0.05477498	,	0.02582734	,	0.02370193	,	0	,	0	,	0	,	0.00484785	,	0	,	0	,	0	],	//DMLR
				   [0.00590158	,	0.01320197	,	0.03137287	,	0.07790203	,	0.06181642	,	0.02895241	,	0.02726512	,	0	,	0	,	0	,	0.00523572	,	0	,	0	,	0	],	//MC
				   [0.00531060	,	0.01112608	,	0.02743670	,	0.06625152	,	0.05095384	,	0.02440739	,	0.02236517	,	0	,	0	,	0	,	0.00455729	,	0	,	0	,	0	],	//MLR
				   [0.00307722	,	0.00260129	,	0.00657145	,	0.01419432	,	0.01165268	,	0.00527651	,	0.00515818	,	0	,	0	,	0	,	0.00292529	,	0	,	0	,	0	],	//OMC
				   [0.00293704	,	0.00212960	,	0.00567504	,	0.01113449	,	0.00979023	,	0.00408185	,	0.00411284	,	0	,	0	,	0	,	0.00274515	,	0	,	0	,	0	],	//OMLR
				   [0.00227456	,	0.00102864	,	0.00253965	,	0.00522249	,	0.00445053	,	0.00196649	,	0.00203848	,	0	,	0	,	0	,	0.00221461	,	0	,	0	,	0	]];	//F
																									
var weightDLon2 = [[0.05179051	,	0.05181753	,	0.13899032	,	0.25833441	,	0.25267090	,	0.09541976	,	0.10256187	,	0	,	0	,	0	,	0.04841469	,	0	,	0	,	0	],	//DC
				   [0.02342812	,	0.02454643	,	0.06744460	,	0.12297011	,	0.11918324	,	0.04506983	,	0.04778673	,	0	,	0	,	0	,	0.02153600	,	0	,	0	,	0	],	//DLR
				   [0.01464154	,	0.01889992	,	0.05168631	,	0.09219425	,	0.09311016	,	0.03415128	,	0.03739208	,	0	,	0	,	0	,	0.01369104	,	0	,	0	,	0	],	//DMC
				   [0.00627572	,	0.00819610	,	0.02279032	,	0.04210455	,	0.03997976	,	0.01530646	,	0.01582270	,	0	,	0	,	0	,	0.00554223	,	0	,	0	,	0	],	//DMLR
				   [0.00720540	,	0.00904875	,	0.02149838	,	0.04756438	,	0.04678101	,	0.01778990	,	0.01926152	,	0	,	0	,	0	,	0.00672492	,	0	,	0	,	0	],	//MC
				   [0.00631007	,	0.00727024	,	0.01849946	,	0.03857168	,	0.03654124	,	0.01416611	,	0.01476813	,	0	,	0	,	0	,	0.00568494	,	0	,	0	,	0	],	//MLR
				   [0.01556417	,	0.00770935	,	0.01926707	,	0.03905506	,	0.03404635	,	0.01466386	,	0.01528682	,	0	,	0	,	0	,	0.01510687	,	0	,	0	,	0	],	//OMC
				   [0.01534214	,	0.00752812	,	0.01911242	,	0.03800512	,	0.03337656	,	0.01419531	,	0.01479284	,	0	,	0	,	0	,	0.01481667	,	0	,	0	,	0	],	//OMLR
				   [0.01403939	,	0.00628337	,	0.01549289	,	0.03183380	,	0.02719375	,	0.01199221	,	0.01246027	,	0	,	0	,	0	,	0.01367405	,	0	,	0	,	0	]];	//F
																									
var weightDBal2 = [[0.03044726	,	0.05362874	,	0.14792083	,	0.26584944	,	0.27176638	,	0.09749619	,	0.10606979	,	0	,	0	,	0	,	0.02682136	,	0	,	0	,	0	],	//DC
				   [0.01506731	,	0.02638256	,	0.07472122	,	0.13172133	,	0.13226042	,	0.04786841	,	0.05107247	,	0	,	0	,	0	,	0.01288383	,	0	,	0	,	0	],	//DLR
				   [0.01028622	,	0.02184648	,	0.06097043	,	0.10571226	,	0.11034485	,	0.03901348	,	0.04319901	,	0	,	0	,	0	,	0.00922296	,	0	,	0	,	0	],	//DMC
				   [0.00522813	,	0.00986304	,	0.02792460	,	0.05077964	,	0.04898010	,	0.01835444	,	0.01895719	,	0	,	0	,	0	,	0.00429585	,	0	,	0	,	0	],	//DMLR
				   [0.00500354	,	0.01037270	,	0.02444289	,	0.05495337	,	0.05552948	,	0.02052232	,	0.02240807	,	0	,	0	,	0	,	0.00446404	,	0	,	0	,	0	],	//MC
				   [0.00460166	,	0.00826883	,	0.02119060	,	0.04431938	,	0.04287429	,	0.01618674	,	0.01688672	,	0	,	0	,	0	,	0.00383817	,	0	,	0	,	0	],	//MLR
				   [0.00476799	,	0.00317933	,	0.00820701	,	0.01610279	,	0.01471141	,	0.00599710	,	0.00630041	,	0	,	0	,	0	,	0.00457009	,	0	,	0	,	0	],	//OMC
				   [0.00482987	,	0.00309258	,	0.00840091	,	0.01547932	,	0.01449589	,	0.00566030	,	0.00594052	,	0	,	0	,	0	,	0.00452715	,	0	,	0	,	0	],	//OMLR
				   [0.00392433	,	0.00176306	,	0.00435396	,	0.00893208	,	0.00763099	,	0.00336386	,	0.00349382	,	0	,	0	,	0	,	0.00382145	,	0	,	0	,	0	]];	//F
// RECb weights		Str				Sta				Pac				Mar				Tac				Wor				Pos				Pas				Cro				Tec				Hea				Fin				Lon				Set
var weightRb = [[	0.10493615	,	0.05208547	,	0.07934211	,	0.14448971	,	0.13159554	,	0.06553072	,	0.07778375	,	0.06669303	,	0.05158306	,	0.02753168	,	0.12055170	,	0.01350989	,	0.02549169	,	0.03887550	],	// DC
                [	0.07715535	,	0.04943315	,	0.11627229	,	0.11638685	,	0.12893778	,	0.07747251	,	0.06370799	,	0.03830611	,	0.10361093	,	0.06253997	,	0.09128094	,	0.01314110	,	0.02449199	,	0.03726305	],	// DL/R
                [	0.08219824	,	0.08668831	,	0.07434242	,	0.09661001	,	0.08894242	,	0.08998026	,	0.09281287	,	0.08868309	,	0.04753574	,	0.06042619	,	0.05396986	,	0.05059984	,	0.05660203	,	0.03060871	],	// DMC
                [	0.06744248	,	0.06641401	,	0.09977251	,	0.08253749	,	0.09709316	,	0.09241026	,	0.08513703	,	0.06127851	,	0.10275520	,	0.07985941	,	0.04618960	,	0.03927270	,	0.05285911	,	0.02697852	],	// DML/R
                [	0.07304213	,	0.08174111	,	0.07248656	,	0.08482334	,	0.07078726	,	0.09568392	,	0.09464529	,	0.09580381	,	0.04746231	,	0.07093008	,	0.04595281	,	0.05955544	,	0.07161249	,	0.03547345	],	// MC
                [	0.06527363	,	0.06410270	,	0.09701305	,	0.07406706	,	0.08563595	,	0.09648566	,	0.08651209	,	0.06357183	,	0.10819222	,	0.07386495	,	0.03245554	,	0.05430668	,	0.06572005	,	0.03279859	],	// ML/R
                [	0.07842736	,	0.07744888	,	0.07201150	,	0.06734457	,	0.05002348	,	0.08350204	,	0.08207655	,	0.11181914	,	0.03756112	,	0.07486004	,	0.06533972	,	0.07457344	,	0.09781475	,	0.02719742	],	// OMC
                [	0.06545375	,	0.06145378	,	0.10503536	,	0.06421508	,	0.07627526	,	0.09232981	,	0.07763931	,	0.07001035	,	0.11307331	,	0.07298351	,	0.04248486	,	0.06462713	,	0.07038293	,	0.02403557	],	// OML/R
                [	0.07738289	,	0.05022488	,	0.07790481	,	0.01356516	,	0.01038191	,	0.06495444	,	0.07721954	,	0.07701905	,	0.02680715	,	0.07759692	,	0.12701687	,	0.15378395	,	0.12808992	,	0.03805251	],	// F
                [	0.07466384	,	0.07466384	,	0.07466384	,	0.14932769	,	0.10452938	,	0.14932769	,	0.10452938	,	0.10344411	,	0.07512610	,	0.04492581	,	0.04479831	]];	// GK						
// REC weights	Str					Sta				   Pac				  Mar				  Tac				  Wor				 Pos				Pas				   Cro				  Tec				 Hea				Fin				   Lon				  Set
var weightR = [[0.653962303361921,  0.330014238020285, 0.562994547223387, 0.891800163983125,  0.871069095865164,  0.454514672470839, 0.555697278549252, 0.42777598627972,  0.338218821750765, 0.134348455965202, 0.796916786677566, 0.048831870932616, 0.116363443378865, 0.282347752982916],	//DC
			   [0.565605120229193,  0.430973382039533, 0.917125432457378, 0.815702528287723,  0.99022325015212,   0.547995876625372, 0.522203232914265, 0.309928898819518, 0.837365352274204, 0.483822472259513, 0.656901420858592, 0.137582588344562, 0.163658117596413, 0.303915447383549],	//DL/R
			   [0.55838825558912,   0.603683502357502, 0.563792314670998, 0.770425088563048,  0.641965853834719,  0.675495235675077, 0.683863478201805, 0.757342915150728, 0.473070797767482, 0.494107823556837, 0.397547163237438, 0.429660916538242, 0.56364174077388,  0.224791093448809],	//DMC
			   [0.582074038075056,  0.420032202680124, 0.7887541874616,   0.726221389774063,  0.722972329840151,  0.737617252827595, 0.62234458453736,  0.466946909655194, 0.814382915598981, 0.561877829393632, 0.367446981999576, 0.360623408340649, 0.390057769678583, 0.249517737311268],	//DML/R
			   [0.578431939417021,  0.778134685048085, 0.574726322388294, 0.71400292078636,   0.635403391007978,  0.822308254446722, 0.877857040588335, 0.864265671245476, 0.433450219618618, 0.697164252367046, 0.412568516841575, 0.586627586272733, 0.617905053049757, 0.308426814834866],	//MC
			   [0.497429376361348,  0.545347364699553, 0.788280917110089, 0.578724574327427,  0.663235306043286,  0.772537143243647, 0.638706135095199, 0.538453108494387, 0.887935381275257, 0.572515970409641, 0.290549550901104, 0.476180499897665, 0.526149424898544, 0.287001645266184],	//ML/R
			   [0.656437768926678,  0.617260722143117, 0.656569986958435, 0.63741054520629,   0.55148452726771,   0.922379789905246, 0.790553566121791, 0.999688557334153, 0.426203575603164, 0.778770912265944, 0.652374065121788, 0.662264393455567, 0.73120100926333,  0.274563618133769],	//OMC
			   [0.483341947292063,  0.494773052635464, 0.799434804259974, 0.628789194186491,  0.633847969631333,  0.681354437033551, 0.671233869875345, 0.536121458625519, 0.849389745477645, 0.684067723274814, 0.389732973354501, 0.499972692291964, 0.577231818355874, 0.272773352088982],	//OML/R
			   [0.493917051093473,  0.370423904816088, 0.532148929996192, 0.0629206658586336, 0.0904950078155216, 0.415494774080483, 0.54106107545574,  0.468181146095801, 0.158106484131194, 0.461125738338018, 0.83399612271067,  0.999828328674183, 0.827171977606305, 0.253225855459207],	//F
//			   For  Rez    Vit  Ind  One  Ref Aer  Sar  Com    Deg    Aru
                [0.5, 0.333, 0.5, 1,   0.5, 1,  0.5, 0.5, 0.333, 0.333, 0.333]]; //GK
//				DC		   DL/R		  DMC		  DML/R		  MC		  ML/R		  OMC		  OML/R		  F			  GK
var recLast = [[14.866375, 15.980742, 15.8932675, 15.5835325, 17.6955092, 16.6189141, 18.1255351, 15.6304867, 13.2762119, 15],
			   [18.95664,  22.895539, 23.1801296, 23.2813871, 26.8420884, 23.9940623, 27.8974544, 24.54323,   19.5088591, 22.3]];

				  // L	DC	R	L	DMC	R	L	MC	R	L	OMC	R	F
var	positionsAll = [[2,	0,	2,	3,	1,	3,	4,	2,	4,	4,	3,	4,	4],	// D C
					[0,	2,	1,	1,	3,	2,	2,	4,	3,	3,	4,	4,	4],	// D L
					[1,	2,	0,	2,	3,	1,	3,	4,	2,	4,	4,	3,	4],	// D R
					[3,	1,	3,	2,	0,	2,	3,	1,	3,	4,	2,	4,	3],	// DM C
					[1,	3,	2,	0,	2,	1,	1,	3,	2,	2,	4,	3,	4],	// DM L
					[2,	3,	1,	1,	2,	0,	2,	3,	1,	3,	4,	2,	4],	// DM R
					[4,	2,	4,	3,	1,	3,	2,	0,	2,	3,	1,	3,	2],	// M C
					[2,	4,	3,	1,	3,	2,	0,	2,	1,	1,	3,	2,	4],	// M L
					[3,	4,	2,	2,	3,	1,	1,	2,	0,	2,	3,	1,	4],	// M R
					[4,	3,	4,	4,	2,	4,	3,	1,	3,	2,	0,	2,	1],	// OM C
					[3,	4,	4,	2,	4,	3,	1,	3,	2,	0,	2,	1,	3],	// OM L
					[4,	4,	3,	3,	4,	2,	2,	3,	1,	1,	2,	0,	3],	// OM R
					[4,	4,	4,	4,	3,	4,	4,	2,	4,	3,	1,	3,	0]];	// F

var positionNames = ["D C", "D L", "D R", "DM C", "DM L", "DM R", "M C", "M L", "M R", "OM C", "OM L", "OM R", "F", "GK"];
var positionNames2 = ["DC", "DL/R", "DMC", "DML/R", "MC", "ML/R", "OMC", "OML/R", "F"];
var positionNames3 = ["DL", "DC", "DR", "DML", "DMC", "DMR", "ML", "MC", "MR", "OML", "OMC", "OMR", "F", "GK"];
var positionFullNames = [
/* EN */	["Defender Center", "Defender Left", "Defender Right", "Defensive Midfielder Center", "Defensive Midfielder Left", "Defensive Midfielder Right", "Midfielder Center", "Midfielder Left", "Midfielder Right", "Offensive Midfielder Center", "Offensive Midfielder Left", "Offensive Midfielder Right", "Forward", "Goalkeeper"],
/* JP */	["ディフェンダー 中央", "ディフェンダー 左", "ディフェンダー 右", "守備的ミッドフィルダー 中央", "守備的ミッドフィルダー 左", "守備的ミッドフィルダー 右", "ミッドフィルダー 中央", "ミッドフィルダー 左", "ミッドフィルダー 右", "攻撃的ミッドフィルダー 中央", "攻撃的ミッドフィルダー 左", "攻撃的ミッドフィルダー 右", "フォワード", "ゴールキーパー"],
/* P  */	["Obrońca środkowy", "Obrońca lewy", "Obrońca prawy", "Defensywny pomocnik środkowy", "Defensywny pomocnik lewy", "Defensywny pomocnik prawy", "Pomocnik środkowy", "Pomocnik lewy", "Pomocnik prawy", "Ofensywny pomocnik środkowy", "Ofensywny pomocnik lewy", "Ofensywny pomocnik prawy", "Napastnik", "Bramkarz"],
/* D  */	["Forsvar Centralt", "Forsvar Venstre", "Forsvar Højre", "Defensiv Midtbane Centralt", "Defensiv Midtbane Venstre", "Defensiv Midtbane Højre", "Midtbane Centralt", "Midtbane Venstre", "Midtbane Højre", "Offensiv Midtbane Centralt", "Offensiv Midtbane Venstre", "Offensiv Midtbane Højre", "Angriber", "Målmand"],
/* I  */	["Difensore Centrale", "Difensore Sinistro", "Difensore Destro", "Centrocampista Difensivo Centrale", "Centrocampista Difensivo Sinistro", "Centrocampista Difensivo Destro", "Centrocampista Centrale", "Centrocampista Sinistro", "Centrocampista Destro", "Centrocampista Offensivo Centrale", "Centrocampista Offensivo Sinistro", "Centrocampista Offensivo Destro", "Attaccante", "Portiere"],
/* H  */	["Defensa Central", "Defensa Izquierdo", "Defensa Derecho", "Mediocampista Defensivo Central", "Mediocampista Defensivo Izquierdo", "Mediocampista Defensivo Derecho", "Mediocampista Central", "Mediocampista Izquierdo", "Mediocampista Derecho", "Mediocampista Ofensivo Central", "Mediocampista Ofensivo Izquierdo", "Mediocampista Ofensivo Derecho", "Delantero", "Portero"],
/* F  */	["Défenseur Central", "Défenseur Gauche", "Défenseur Droit", "Milieu défensif Central", "Milieu défensif Gauche", "Milieu défensif Droit", "Milieu Central", "Milieu Gauche", "Milieu Droit", "Milieu offensif Central", "Milieu offensif Gauche", "Milieu offensif Droit", "Attaquant", "Gardien de but"],
/* A  */	["Defender Center", "Defender Left", "Defender Right", "Defensive Midfielder Center", "Defensive Midfielder Left", "Defensive Midfielder Right", "Midfielder Center", "Midfielder Left", "Midfielder Right", "Offensive Midfielder Center", "Offensive Midfielder Left", "Offensive Midfielder Right", "Forward", "Goalkeeper"],
/* C  */	["Obrambeni Sredina", "Obrambeni Lijevo", "Obrambeni Desno", "Defenzivni vezni Sredina", "Defenzivni vezni Lijevo", "Defenzivni vezni Desno", "Vezni Sredina", "Vezni Lijevo", "Vezni Desno", "Ofenzivni vezni Sredina", "Ofenzivni vezni Lijevo", "Ofenzivni vezni Desno", "Napadač", "Golman"],
/* G  */	["Verteidiger Zentral", "Verteidiger Links", "Verteidiger Rechts", "Defensiver Mittelfeldspieler Zentral", "Defensiver Mittelfeldspieler Links", "Defensiver Mittelfeldspieler Rechts", "Mittelfeldspieler Zentral", "Mittelfeldspieler Links", "Mittelfeldspieler Rechts", "Offensiver Mittelfeldspieler Zentral", "Offensiver Mittelfeldspieler Links", "Offensiver Mittelfeldspieler Rechts", "Stürmer", "Torhüter"],
/* PO */	["Defesa Centro", "Defesa Esquerdo", "Defesa Direito", "Médio Defensivo Centro", "Médio Defensivo Esquerdo", "Médio Defensivo Direito", "Medio Centro", "Medio Esquerdo", "Medio Direito", "Medio Ofensivo Centro", "Medio Ofensivo Esquerdo", "Medio Ofensivo Direito", "Avançado", "Guarda-Redes"],
/* R  */	["Fundas Central", "Fundas Stânga", "Fundas Dreapta", "Mijlocas Defensiv Central", "Mijlocas Defensiv Stânga", "Mijlocas Defensiv Dreapta", "Mijlocas Central", "Mijlocas Stânga", "Mijlocas Dreapta", "Mijlocas Ofensiv Central", "Mijlocas Ofensiv Stânga", "Mijlocas Ofensiv Dreapta", "Atacant", "Portar"],
/* T  */	["Defans Orta", "Defans Sol", "Defans Sağ", "Defansif Ortasaha Orta", "Defansif Ortasaha Sol", "Defansif Ortasaha Sağ", "Ortasaha Orta", "Ortasaha Sol", "Ortasaha Sağ", "Ofansif Ortasaha Orta", "Ofansif Ortasaha Sol", "Ofansif Ortasaha Sağ", "Forvet", "Kaleci"],
/* RU */	["Defender Center", "Defender Left", "Defender Right", "Defensive Midfielder Center", "Defensive Midfielder Left", "Defensive Midfielder Right", "Midfielder Center", "Midfielder Left", "Midfielder Right", "Offensive Midfielder Center", "Offensive Midfielder Left", "Offensive Midfielder Right", "Forward", "Goalkeeper"],
/* CE */	["Obránce Střední", "Obránce Levý", "Obránce Pravý", "Defenzivní Záložník Střední", "Defenzivní Záložník Levý", "Defenzivní Záložník Pravý", "Záložník Střední", "Záložník Levý", "Záložník Pravý", "Ofenzivní záložník Střední", "Ofenzivní záložník Levý", "Ofenzivní záložník Pravý", "Útočník", "Gólman"],
/* HU */	["Védő , középső", "Védő , bal oldali", "Védő , jobb oldali", "Védekező Középpályás , középső", "Védekező Középpályás , bal oldali", "Védekező Középpályás , jobb oldali", "Középpályás , középső", "Középpályás , bal oldali", "Középpályás , jobb oldali", "Támadó középpályás , középső", "Támadó középpályás , bal oldali", "Támadó középpályás , jobb oldali", "Csatár", "Kapus"],
/* GE */	["მცველი ცენტრალური", "მცველი მარცხენა", "მცველი მარჯვენა", "საყრდენი ნახევარმცველი ცენტრალური", "საყრდენი ნახევარმცველი მარცხენა", "საყრდენი ნახევარმცველი მარჯვენა", "ნახევარმცველი ცენტრალური", "ნახევარმცველი მარცხენა", "ნახევარმცველი მარჯვენა", "შემტევი ნახევარმცველი ცენტრალური", "შემტევი ნახევარმცველი მარცხენა", "შემტევი ნახევარმცველი მარჯვენა", "თავდამსხმელი", "მეკარე"],
/* FI */	["Puolustaja Keski", "Puolustaja Vasen", "Puolustaja Oikea", "Puolustava Keskikenttä Keski", "Puolustava Keskikenttä Vasen", "Puolustava Keskikenttä Oikea", "Keskikenttä Keski", "Keskikenttä Vasen", "Keskikenttä Oikea", "Hyökkäävä Keskikenttä Keski", "Hyökkäävä Keskikenttä Vasen", "Hyökkäävä Keskikenttä Oikea", "Hyökkääjä", "Maalivahti"],
/* SV */	["Försvarare Central", "Försvarare Vänster", "Försvarare Höger", "Defensiv Mittfältare Central", "Defensiv Mittfältare Vänster", "Defensiv Mittfältare Höger", "Mittfältare Central", "Mittfältare Vänster", "Mittfältare Höger", "Offensiv Mittfältare Central", "Offensiv Mittfältare Vänster", "Offensiv Mittfältare Höger", "Anfallare", "Målvakt"],
/* NO */	["Forsvar Sentralt", "Forsvar Venstre", "Forsvar Høyre", "Defensiv Midtbane Sentralt", "Defensiv Midtbane Venstre", "Defensiv Midtbane Høyre", "Midtbane Sentralt", "Midtbane Venstre", "Midtbane Høyre", "Offensiv Midtbane Sentralt", "Offensiv Midtbane Venstre", "Offensiv Midtbane Høyre", "Angrep", "Keeper"],
/* SC */	["Defender Centre", "Defender Left", "Defender Richt", "Defensive Midfielder Centre", "Defensive Midfielder Left", "Defensive Midfielder Richt", "Midfielder Centre", "Midfielder Left", "Midfielder Richt", "Offensive Midfielder Centre", "Offensive Midfielder Left", "Offensive Midfielder Richt", "Forward", "Goalkeeper"],
/* VL */	["Verdediger Centraal", "Verdediger Links", "Verdediger Rechts", "Verdedigende Middenvelder Centraal", "Verdedigende Middenvelder Links", "Verdedigende Middenvelder Rechts", "Middenvelder Centraal", "Middenvelder Links", "Middenvelder Rechts", "Aanvallende Middenvelder Centraal", "Aanvallende Middenvelder Links", "Aanvallende Middenvelder Rechts", "Aanvaller", "Doelman"],
/* BR */	["Zagueiro Central", "Zagueiro Esquerdo", "Zagueiro Direito", "Volante Central", "Volante Esquerdo", "Volante Direito", "Meio-Campista Central", "Meio-Campista Esquerdo", "Meio-Campista Direito", "Meia Ofensivo Central", "Meia Ofensivo Esquerdo", "Meia Ofensivo Direito", "Atacante", "Goleiro"],
/* GR */	["Αμυντικός Κεντρικός", "Αμυντικός Αριστερός", "Αμυντικός Δεξιός", "Αμυντικός Μέσος Κεντρικός", "Αμυντικός Μέσος Αριστερός", "Αμυντικός Μέσος Δεξιός", "Μέσος Κεντρικός", "Μέσος Αριστερός", "Μέσος Δεξιός", "Επιθετικός μέσος Κεντρικός", "Επιθετικός μέσος Αριστερός", "Επιθετικός μέσος Δεξιός", "Επιθετικός", "Τερματοφύλακας"],
/* BG */	["Защитник Централен", "Защитник Ляв", "Защитник Десен", "Дефанзивен Халф Централен", "Дефанзивен Халф Ляв", "Дефанзивен Халф Десен", "Халф Централен", "Халф Ляв", "Халф Десен", "Атакуващ Халф Централен", "Атакуващ Халф Ляв", "Атакуващ Халф Десен", "Нападател"],
/* ID */	["Bek Tengah", "Bek Kiri", "Bek Kanan", "Gelandang Bertahan Tengah", "Gelandang Bertahan Kiri", "Gelandang Bertahan Kanan", "Gelandang Tengah", "Gelandang Kiri", "Gelandang Kanan", "Gelandang Serang Tengah", "Gelandang Serang Kiri", "Gelandang Serang Kanan", "Penyerang", "Penjaga Gawang"],
/* CL */	["Defensa Centre", "Defensa Esquerra", "Defensa Dreta", "Migcampista Defensiu Centre", "Migcampista Defensiu Esquerra", "Migcampista Defensiu Dreta", "Migcampista Centre", "Migcampista Esquerra", "Migcampista Dreta", "Migcampista Ofensiu Centre", "Migcampista Ofensiu Esquerra", "Migcampista Ofensiu Dreta", "Davanter", "Porter"],
/* CQ */	["後衛 中", "後衛 左", "後衛 右", "防守中場 中", "防守中場 左", "防守中場 右", "中場 中", "中場 左", "中場 右", "進攻中場 中", "進攻中場 左", "進攻中場 右", "前鋒", "龍門"],
/* EE */	["Kaitsja Kesk", "Kaitsja Vasak", "Kaitsja Parem", "Kaitsev Kesmängija Kesk", "Kaitsev Kesmängija Vasak", "Kaitsev Kesmängija Parem", "Keskmängija Kesk", "Keskmängija Vasak", "Keskmängija Parem", "Ründav Keskmängija Kesk", "Ründav Keskmängija Vasak", "Ründav Keskmängija Parem", "Ründaja", "Väravavaht"],
/* UA */	["Захисник Центральний","Захисник Лівий","Захисник Правий","Опорний півзахисник Центральний","Опорний півзахисник Лівий","Опорний півзахисник Правий","Півзахисник Центральний","Півзахисник Лівий","Півзахисник Правий","Атакувальний півзахисник Центральний","Атакувальний півзахисник Лівий","Атакувальний півзахисник Правий","Нападник","Воротар"],
];

var playerID = location.pathname.match(/\d+/g);
var skilltable = $("div.main_center div.column2_a table.skill_table");
var infotable = $("div.main_center div.column2_a table.info_table");
var MR = Math.round;
var MP = Math.pow;
var ML = Math.log;

if (location.href.indexOf("/players/") != -1) {
    document.findPositionIndex = function (position) {
        var index = -1;
        for (var i = 0; i < positionFullNames.length; i++) {
            for (var j = 0; j < positionFullNames[i].length; j++) {
                if (position.indexOf(positionFullNames[i][j]) == 0) return j;
            }
        }
        return index;
    };

    document.getSkills = function (table) {
        var skillArray = [];
        var tableData = table.getElementsByTagName("td");
        if (tableData.length > 1) {
            for (var i = 0; i < 2; i++) {
                for (var j = i; j < tableData.length; j += 2) {
                    if (tableData[j].innerHTML.indexOf("star.png") > 0) {
                        skillArray.push(20);
                    }
                    else if (tableData[j].innerHTML.indexOf("star_silver.png") > 0) {
                        skillArray.push(19);
                    }
                    else if (tableData[j].textContent.length != 0) {
                        skillArray.push(tableData[j].textContent);
                    }
                }
            }
        }
        return skillArray;
    };

    const funFix1 = (i) => {
        i = (MR(i * 10) / 10).toFixed(1);
        return i;
    }

    const funFix2 = (i) => {
        i = (MR(i * 100) / 100).toFixed(2);
        return i;
    }

    const funFix3 = (i) => {
        i = (MR(i * 1000) / 1000).toFixed(3);
        return i;
    }

    var en = new Intl.NumberFormat("en-US");

    function computeRating(table, skills) {
        var REREC = [[], [], []];
        var REREC2 = [];
        var FP = [];
        var positionCell = document.getElementsByClassName("favposition long")[0].childNodes;
        var positionArray = [];
        if (positionCell.length == 1) {
            positionArray[0] = positionCell[0].textContent;
        }
        else if (positionCell.length == 2) {
            positionArray[0] = positionCell[0].textContent + positionCell[1].textContent;
        }
        else if (positionCell[1].className == "split") {
            positionArray[0] = positionCell[0].textContent + positionCell[3].textContent;
            positionArray[1] = positionCell[2].textContent + positionCell[3].textContent;
        }
        else if (positionCell[3].className == "f") {
            positionArray[0] = positionCell[0].textContent + positionCell[1].textContent;
            positionArray[1] = positionCell[3].textContent;
        }
        else {
            positionArray[0] = positionCell[0].textContent + positionCell[1].textContent;
            positionArray[1] = positionCell[0].textContent + positionCell[3].textContent;
        }

        var positionFullnames2 = Array.prototype.concat.apply([], positionFullNames);
        var positionIndex2 = [];
        for (i = 0; i < positionArray.length; i++) {
            positionIndex2[i] = positionFullnames2.indexOf(positionArray[i]);
            while (positionIndex2[i] > 13) positionIndex2[i] -= 14;
        }

        var gettr = document.getElementsByTagName("tr");
        var SI = new String(gettr[6].getElementsByTagName("td")[0].innerHTML).replace(/,/g, "");
        var rou = gettr[8].getElementsByTagName("td")[0].innerHTML;
        var rou2 = (3 / 100) * (100 - (100) * MP(Math.E, -rou * 0.035));
        var rou3 = rou;
        rou = MP(5 / 3, Math.LOG2E * ML(rou * 10));
        for (var i = 0; i < positionArray.length; i++) {
            var positionIndex = document.findPositionIndex(positionArray[i]);
            FP[i] = positionIndex;
            FP[i + 1] = FP[i];
            if (positionIndex > -1) {
                REREC2[i] = document.calculateREREC2(positionIndex, skills, SI);
            }
            if (i == 0) {
                REREC = document.calculateREREC(positionIndex, skills, SI, rou2);
            }
        }

        const notGK = positionIndex != 13 ? true : false;

        if (notGK) {
            var phySum = skills[0] * 1 + skills[1] * 1 + skills[2] * 1 + skills[10] * 1;
            var tacSum = skills[3] * 1 + skills[4] * 1 + skills[5] * 1 + skills[6] * 1;
            var tecSum = skills[7] * 1 + skills[8] * 1 + skills[9] * 1 + skills[11] * 1 + skills[12] * 1 + skills[13] * 1;
            var weight = 263533760000;
        }
        else {
            var phySum = skills[0] * 1 + skills[1] * 1 + skills[2] * 1 + skills[7] * 1;
            var tacSum = skills[4] * 1 + skills[6] * 1 + skills[8] * 1;
            var tecSum = skills[3] * 1 + skills[5] * 1 + skills[9] * 1 + skills[10] * 1;
            var weight = 48717927500;
        }
        var allSum = phySum + tacSum + tecSum;
        var remainder = funFix1(MP(2, ML(weight * SI) / ML(MP(2, 7))) - allSum);

        var FP2 = [FP[0], FP[1]];
        for (i = 0; i < FP.length; i++) {
            for (j = 0; 2 + j <= FP[i]; j += 2) FP[i]--;
        }

        var goldstar = 0;
        var skillsB = [];
        for (j = 0; j < 2; j++) {
            for (i = 0; i < skills.length; i++) {
                if (j == 0 && skills[i] == 20) goldstar++;
                if (j == 1) {
                    if (skills[i] != 20) skillsB[i] = skills[i] * 1 + remainder / (skills.length - goldstar);
                    else skillsB[i] = skills[i];
                }
            }
        }
        var skillsB_rou = [];
        for (i = 0; i < skills.length; i++) {
            if (i == 1) skillsB_rou[1] = skillsB[1];
            else skillsB_rou[i] = skillsB[i] * 1 + rou2;
        }

        var { ageMonths, month, year } = calc_age();
        var { staPrice, maxPrice } = calc_SellToAgent();
        var { weight, session, newPlayer, TI, session2, wage } = calc_TI();
        var { R5FP0, R5FP1, posGain, posKeep, headerBonus, ckBonus, fkBonus, pkBonus, allBonus } = calc_R5bonus();
        var { bep, futureSTA } = bep();
        var { shotregular, shotlong, shothead } = finish_type();
        var { R5FP, minR } = calc_stamina_effect();
        var { peak, R5RECstar } = calc_R5REC();
        var { i, hidden, R5all, adap, aggr, prof, minR5Value, maxR5Value, minR5Value2, maxR5Value2, R5Value, R5Value2, nation } = calc_VALUE();
        var { cap, cap2, cap3, weightDefault } = calc_captaincy();

        var skilltable = document.getElementsByClassName("skill_table zebra")[0];
        var skillth = skilltable.getElementsByTagName("th");
        var skilltd = skilltable.getElementsByTagName("td");
        var skill2 = [];
        if (notGK) {
            var skill2array = [skillsB_rou[0], skillsB_rou[7], skillsB_rou[1], skillsB_rou[8], skillsB_rou[2], skillsB_rou[9], skillsB_rou[3], skillsB_rou[10], skillsB_rou[4], skillsB_rou[11], skillsB_rou[5], skillsB_rou[12], skillsB_rou[6], skillsB_rou[13]];
            for (i = 0; i < 14; i++) {
                skillth[i].style.width = "100px";
                skilltd[i].style.width = "40px";
                skill2[i] = document.createElement("small");
                skill2[i].setAttribute("style", "color: moccasin;");
                skill2[i].innerHTML = " (" + funFix2(skill2array[i]) + ")";
                skilltd[i].appendChild(skill2[i]);
            }
        }
        else {
            var skill2array = [skillsB_rou[0], skillsB_rou[3], skillsB_rou[1], skillsB_rou[4], skillsB_rou[2], skillsB_rou[5], "", skillsB_rou[6], "", skillsB_rou[7], "", skillsB_rou[8], "", skillsB_rou[9], "", skillsB_rou[10]];
            for (i = 0; i < 16; i++) {
                skillth[i].style.width = "100px";
                skilltd[i].style.width = "40px";
                skill2[i] = document.createElement("small");
                skill2[i].setAttribute("style", "color: moccasin;");
                if (skill2array[i] != "") skill2[i].innerHTML = " (" + funFix2(skill2array[i]) + ")";
                skilltd[i].appendChild(skill2[i]);
            }
        }

        //	### infotable ###
        if (FP[0] != FP[1]) {
            var RERECb = "<tr id=\"tr_RERECb\" style=\"color:gold;\"><th><b>RERECb</b></th><td>" + REREC[0][FP[0]] + "/" + REREC[0][FP[1]] + "</td></tr>";
            var R5 = "<tr id=\"tr_R5\" style=\"color:gold;\"><th><b>RatingR5</b></th><td>" + R5FP0 + "/" + R5FP1 + "</td></tr>";
        }
        else {
            var RERECb = "<tr id=\"tr_RERECb0\" style=\"color:gold;\"><th><b>RERECb</b></th><td>" + REREC[0][FP[0]] + "</td></tr>";
            var R5 = "<tr id=\"tr_R5\" style=\"color:gold;\"><th><b>RatingR5</b></th><td>" + R5FP0 + "</td></tr>";
        }
        if (newPlayer == 0) var seasonTI = "<tr id=\"tr_seasonTI\"><th><b>Season TI</b></th><td id=\"td_seasonTI\">" + TI + " (" + funFix1(TI / session) + " x " + session2 + ")</td></tr>";
        else {
            var seasonTI = "<tr id=\"tr_seasonTI\"><th><b>Season TI</b></th><td>---</td></tr>";
            if (wage == 30000) var newPlayerTI = "<tr id=\"tr_newPlayerSI\"><th><b>New Player TI</b></th><td>---</td></tr>";
            else {
                wage_rate = 23.75;
                var TI2 = MP(2, ML(weight * SI) / ML(MP(2, 7))) - MP(2, ML(weight * wage / (wage_rate)) / ML(MP(2, 7)));
                var newPlayerTI = "<tr id=\"tr_newPlayerSI\"><th><b>New Player TI</b></th><td>" + MR(TI2 * 10) + "</td></tr>";
            }
        }
        infotable.find("tr").eq(0).append("<th>PlayerID</th><td>" + playerID[0] + "</td>");
        infotable.find("tr").eq(5).after(RERECb);
        infotable.find("tr").eq(6).after(R5);
        infotable.find("tr").eq(8).after(seasonTI);
        if (newPlayer == 1) infotable.find("tr").eq(9).after(newPlayerTI);
        infotable.find("td").eq(0).attr("rowspan", infotable.find("tr").length);
        infotable.find("th").css("font-weight", "bold");
        infotable.find("tr").removeClass();
        infotable.find("tr:odd").addClass("odd");

        //	### R5table ###
        var table_border = "border-left:solid 1px; border-right:solid 1px; border-top:solid 1px; border-bottom:solid 1px";
        var R5table =   "<div class=\"std\" id=\"R5table_div\">"+
                            "<div id=\"R5table1_div\">"+
                                "<table id=\"R5table1\" style=\"margin-top:10px; margin-bottom:10px; border-left:solid 1px; border-right:solid 1px; border-bottom:solid 1px\" cellspascing=\"0\" cellpadding=\"0\">"+
                                    "<tbody></tbody>"+
                                "</table>"+
                            "</div>"+
                        "</div>";
        if (hidden[0].innerHTML != "") $("#hidden_skill_table").after(R5table);
        else $("div.hidden_skills_text.align_center").after(R5table);
        var R5tbody1 = $("#R5table1 > tbody");
        var R5_header = [];
        var R5_row = [];
        var R5pure_row = [];
        var RouEffect_row = [];
        var gain_row = [];
        var keep_row = [];
        var headerbonus_row = [];
        var ckbonus_row = [];
        var fkbonus_row = [];
        var pkbonus_row = [];
        var R5stamina_row = [];
        var R5ave_row = [];
        var flg_btn = [];

        for (i = 0; i < positionArray.length; i++) {
            R5_header[i] = "<tr style=\"background-color: #333333;\"><td colspan=\"9\" style=\"border-bottom:solid 1px; border-top:solid 1px; padding-left:5px\" id=\"tdPosName\"><b>Position : " + positionArray[i] + "</b></td></tr>";
            R5_row[i] = "<tr><td style=\"padding-left:5px\">RatingR5 : </td></td><td><td align=\"right\">" + R5FP[i] + "</td></td><td></td><td><td></td><td></td><td align=\"right\" colspan=\"2\"><span class=\"button\" style=\"width:80px\" id=\"detail_btn" + i + "\"><span id=\"btn_text" + i + "\" class=\"button_border\" style=\"width:78px; padding: 0;\">Detail</span></span></td></tr>";
            R5stamina_row[i] = "<tr class=\"odd\"><td align=\"right\">Stamina Effect</td><td align=\"right\" width=\"42px\">65\'</td><td width=\"48px\" align=\"right\">" + minR[i][1] + "</td><td align=\"right\" width=\"42px\">75\'</td><td width=\"48px\" align=\"right\">" + minR[i][2] + "</td><td align=\"right\" width=\"42px\">85\'</td><td width=\"48px\" align=\"right\">" + minR[i][3] + "</td><td align=\"right\" width=\"42px\">95'</td><td width=\"48px\" align=\"right\">" + minR[i][4] + "</td></tr>";
            R5ave_row[i] = "<tr><td align=\"right\">Average</td><td align=\"right\">1\'-74\'</td><td align=\"right\">" + funFix2((R5FP[i] * 64 + minR[i][1] * 10) / 74) + "</td><td align=\"right\">1\'-84\'</td><td align=\"right\">" + funFix2((R5FP[i] * 64 + minR[i][1] * 10 + minR[i][2] * 10) / 84) + "</td><td align=\"right\">1\'-94\'</td><td align=\"right\">" + funFix2((R5FP[i] * 64 + minR[i][1] * 10 + minR[i][2] * 10 + minR[i][3] * 10) / 94) + "</td></td><td><td></td></tr>";
            R5pure_row[i] = "<tr class=\"detail" + i + "\" style=\"background-color:#649024;\"><td align=\"right\" colspan=\"2\">R5pure</td><td align=\"right\">" + REREC[1][FP[i]] + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            RouEffect_row[i] = "<tr class=\"detail" + i + "\"><td align=\"right\" colspan=\"2\">Routine Effect</td><td align=\"right\">" + funFix2(REREC[2][FP[i]] * 1 - REREC[1][FP[i]] * 1) + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            gain_row[i] = "<tr class=\"detail" + i + "\" style=\"background-color:#649024;\"><td align=\"right\" colspan=\"2\">Gain Bonus</td><td align=\"right\">" + funFix2(posGain[FP[i]]) + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            keep_row[i] = "<tr class=\"detail" + i + "\"><td align=\"right\" colspan=\"2\">Keep Bonus</td><td align=\"right\">" + funFix2(posKeep[FP[i]]) + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            headerbonus_row[i] = "<tr class=\"detail" + i + "\" style=\"background-color:#649024;\"><td align=\"right\" colspan=\"2\">Header Bonus</td><td align=\"right\">" + headerBonus + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            ckbonus_row[i] = "<tr class=\"detail" + i + "\"><td align=\"right\" colspan=\"2\">CK Bonus</td><td align=\"right\">" + ckBonus + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            fkbonus_row[i] = "<tr class=\"detail" + i + "\" style=\"background-color:#649024;\"><td align=\"right\" colspan=\"2\">FK Bonus</td><td align=\"right\">" + fkBonus + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            pkbonus_row[i] = "<tr class=\"detail" + i + "\"><td align=\"right\" colspan=\"2\">PK Bonus</td><td align=\"right\">" + pkBonus + "</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";
            if (notGK) R5tbody1.append(R5_header[i], R5_row[i], R5pure_row[i], RouEffect_row[i], gain_row[i], keep_row[i], headerbonus_row[i], ckbonus_row[i], fkbonus_row[i], pkbonus_row[i], R5stamina_row[i], R5ave_row[i]);
            else R5tbody1.append(R5_header[i], R5_row[i], R5pure_row[i], RouEffect_row[i], R5stamina_row[i], R5ave_row[i]);
            $(".detail" + i).hide();
            flg_btn[i] = "hide";
        }
        var btn_functions = [];
        for (let i = 0; i < positionArray.length; i++) {
            (function () {
                $("#detail_btn" + i).click(function () {
                    if (flg_btn[i] == "hide") {
                        flg_btn[i] = "show";
                        $("#btn_text" + i).text("Hide Detail");
                    }
                    else {
                        flg_btn[i] = "hide";
                        $("#btn_text" + i).text("Show Detail");
                    }
                    $(".detail" + i).slideToggle();
                });
                btn_functions.push(function () { });
            })();
            btn_functions[i]();
        }

        if (positionArray.length == 2 && FP[0] == FP[1]) {
            var newPosName = "<b>Position : " + positionCell[0].textContent + " " + positionCell[1].textContent + "/" + positionCell[3].textContent + "</b>";
            $("#tdPosName").html(newPosName);
            $("#R5table1 > tbody > tr:gt(11)").remove();
        }

        if (notGK) {
            for (i = 0; i < 9; i++) {
                REREC[0][i] = funFix3(REREC[0][i] * 1);
                REREC[2][i] = funFix2(REREC[2][i] * 1 + allBonus * 1 + posGain[i] * 1 + posKeep[i] * 1);
                if (REREC[2][i] >= 100) REREC[2][i] = funFix1(REREC[2][i]);
            }

            var ADir = funFix2((skillsB_rou[1] * 0.125 + skillsB_rou[2] * 0.29166666 + (skillsB_rou[5] + skillsB_rou[6]) * 0.08333333 + skillsB_rou[7] * 0.25 + skillsB_rou[9] * 0.16666666) * 5);
            var AWin = funFix2((skillsB_rou[0] * 0.04347826 + (skillsB_rou[1] + skillsB_rou[5]) * 0.08695652 + skillsB_rou[2] * 0.26086956 + skillsB_rou[8] * 0.34782608 + skillsB_rou[9] * 0.17391304) * 5);
            var ASho = funFix2(((skillsB_rou[1] + skillsB_rou[2] + skillsB_rou[5] + skillsB_rou[6]) * 0.09523809 + skillsB_rou[7] * 0.33333333 + skillsB_rou[9] * 0.28571428) * 5);
            var ALon = funFix2(((skillsB_rou[1] + skillsB_rou[5] + skillsB_rou[6]) * 0.08333333 + skillsB_rou[7] * 0.33333333 + skillsB_rou[8] * 0.25 + skillsB_rou[9] * 0.16666666) * 5);
            var AThr = funFix2(((skillsB_rou[1] + skillsB_rou[5] + skillsB_rou[6] + skillsB_rou[8] + skillsB_rou[9]) * 0.1 + (skillsB_rou[2] + skillsB_rou[7]) * 0.25) * 5);
            var DDir = funFix2((skillsB_rou[1] * 0.052631579 + (skillsB_rou[2] + skillsB_rou[6]) * 0.105263158 + skillsB_rou[3] * 0.421052632 + (skillsB_rou[4] + skillsB_rou[5]) * 0.157894737) * 5);
            var DWin = funFix2(((skillsB_rou[0] + skillsB_rou[1] + skillsB_rou[5] + skillsB_rou[6]) * 0.045454545 + (skillsB_rou[2] + skillsB_rou[3]) * 0.227272727 + skillsB_rou[4] * 0.363636364) * 5);
            var DSho = funFix2(((skillsB_rou[1] + skillsB_rou[2]) * 0.05 + skillsB_rou[3] * 0.25 + skillsB_rou[4] * 0.4 + skillsB_rou[5] * 0.1 + skillsB_rou[6] * 0.15) * 5);
            var DLon = funFix2(((skillsB_rou[0] + skillsB_rou[3] + skillsB_rou[10]) * 0.2 + skillsB_rou[1] * 0.04 + (skillsB_rou[2] + skillsB_rou[5] + skillsB_rou[6]) * 0.08 + skillsB_rou[4] * 0.12) * 5);
            var DThr = funFix2(((skillsB_rou[1] + skillsB_rou[5] + skillsB_rou[6]) * 0.071428571 + skillsB_rou[2] * 0.357142857 + (skillsB_rou[3] + skillsB_rou[4]) * 0.214285714) * 5);

            var SSho = funFix2((shotregular * 0.534 + shotlong * 0.339 + shothead * 0.127) * 5);
            var SThr = funFix2((shotregular * 0.703 + shotlong * 0.151 + shothead * 0.146) * 5);
            var SWin = funFix2((shotregular * 0.252 + shotlong * 0.035 + shothead * 0.713) * 5);
            var SDir = funFix2((shotregular * 0.339 + shotlong * 0.342 + shothead * 0.319) * 5);
            var SLon = funFix2((shotregular * 0.271 + shotlong * 0.037 + shothead * 0.692) * 5);

            var R5table2 =  "<div id=\"R5table2_div\">"+
                                "<table id=\"R5table2\" style=\"margin-bottom:10px; " + table_border + "\" cellspascing=\"0\" cellpadding=\"0\">"+
                                    "<tbody></tbody>"+
                                "</table>"+
                            "</div>";
            $("#R5table_div").append(R5table2);
            var R5table2_header = "<thead><tr style=\"background-color: #333333\"><th colspan=\"10\">All Positions Rating : NOT applied Adaptability</th></tr><tr style=\"background-color: #333333\"><th></th><th>DC</th><th>DLR</th><th>DMC</th><th>DMLR</th><th>MC</th><th>MLR</th><th>OMC</th><th>OMLR</th><th>F</th></tr></thead>";
            var RERECb_row = "<tr id=\"RERECb_row\"><td style=\"padding-left:5px\">RERECb</td></tr>";
            var R5all_row = "<tr id=\"R5all_row\" class=\"odd\"><td style=\"padding-left:5px\">R5</td></tr>";
            $("#R5table2 > tbody").before(R5table2_header);
            $("#R5table2").find("th").attr("align", "center");
            $("#R5table2").find("th").attr("style", "border-bottom:solid 1px");
            $("#R5table2 > tbody").append(RERECb_row, R5all_row);
            for (i = 0; i < 9; i++) {
                $("#R5table2 > tbody > tr:eq(0)").append("<td align=\"center\">" + REREC[0][i] + "</td>");
                $("#R5table2 > tbody > tr:eq(1)").append("<td align=\"center\">" + REREC[2][i] + "</td>");
            }

            var R5table2b = "<div id=\"R5table2b_div\">"+
                                "<table id=\"R5table2b\" style=\"margin-bottom:10px; " + table_border + "\" cellspascing=\"0\" cellpadding=\"0\">"+
                                    "<tbody></tbody>"+
                                "</table>"+
                            "</div>";
            var R5table2b_header = "<thead><tr style=\"background-color: #333333\"><th colspan=\"10\">RatingR5 by Attacking Style</th></tr><tr style=\"background-color: #333333\"><th></th><th>Short</th><th>Through</th><th>Wings</th><th>Direct</th><th>Long</th></tr></thead>";
            var assist_row = "<tr><td style=\"padding-left:5px\">Assist</td><td>" + ASho + "</td><td>" + AThr + "</td><td>" + AWin + "</td><td>" + ADir + "</td><td>" + ALon + "</td></tr>";
            var defence_row = "<tr class=\"odd\"><td style=\"padding-left:5px\">Defence</td><td>" + DSho + "</td><td>" + DThr + "</td><td>" + DWin + "</td><td>" + DDir + "</td><td>" + DLon + "</td></tr>";
            var shooting_row = "<tr><td style=\"padding-left:5px\">Shooting</td><td>" + SSho + "</td><td>" + SThr + "</td><td>" + SWin + "</td><td>" + SDir + "</td><td>" + SLon + "</td></tr>";
            $("#R5table_div").append(R5table2b);
            $("#R5table2b > tbody").before(R5table2b_header);
            $("#R5table2b").find("th").attr("align", "center");
            $("#R5table2b").find("th").attr("style", "border-bottom:solid 1px");
            $("#R5table2b > tbody").append(assist_row, defence_row, shooting_row);
            $("#R5table2b > tbody > tr").eq(0).children("td:gt(0)").attr("style", "padding-right:20px;");
            $("#R5table2b > tbody > tr").eq(0).children("td:gt(0)").attr("align", "right");
            $("#R5table2b > tbody > tr").eq(1).children("td:gt(0)").attr("style", "padding-right:20px;");
            $("#R5table2b > tbody > tr").eq(1).children("td:gt(0)").attr("align", "right");
            $("#R5table2b > tbody > tr").eq(2).children("td:gt(0)").attr("style", "padding-right:20px;");
            $("#R5table2b > tbody > tr").eq(2).children("td:gt(0)").attr("align", "right");

            var R5AS = [];
            var R5AT = [];
            var R5AW = [];
            var R5AD = [];
            var R5AL = [];
            var R5AB = [];
            var R5AS2 = [];
            var R5AT2 = [];
            var R5AW2 = [];
            var R5AD2 = [];
            var R5AL2 = [];
            var R5AB2 = [];
            var R5DS = [];
            var R5DT = [];
            var R5DW = [];
            var R5DD = [];
            var R5DL = [];
            var R5DB = [];
            var R5DS2 = [];
            var R5DT2 = [];
            var R5DW2 = [];
            var R5DD2 = [];
            var R5DL2 = [];
            var R5DB2 = [];
            const sB = skillsB;
            const wAS = weightASho;
            const wAS2 = weightASho2;
            const wAT = weightAThr;
            const wAT2 = weightAThr2;
            const wAW = weightAWin;
            const wAW2 = weightAWin2;
            const wAD = weightADir;
            const wAD2 = weightADir2;
            const wAL = weightALon;
            const wAL2 = weightALon2;
            const wAB = weightABal;
            const wAB2 = weightABal2;
            const wDS = weightDSho;
            const wDS2 = weightDSho2;
            const wDT = weightDThr;
            const wDT2 = weightDThr2;
            const wDW = weightDWin;
            const wDW2 = weightDWin2;
            const wDD = weightDDir;
            const wDD2 = weightDDir2;
            const wDL = weightDLon;
            const wDL2 = weightDLon2;
            const wDB = weightDBal;
            const wDB2 = weightDBal2;
            var tr_ASho = [];
            var tr_AThr = [];
            var tr_AWin = [];
            var tr_ADir = [];
            var tr_ALon = [];
            var tr_ABal = [];
            var tr_DSho = [];
            var tr_DThr = [];
            var tr_DWin = [];
            var tr_DDir = [];
            var tr_DLon = [];
            var tr_DBal = [];
            for (i = 0; i < 9; i++) {
                R5AS[i] = funFix2((sB[0] * wAS[[i]][0] + sB[1] * wAS[[i]][1] + sB[2] * wAS[[i]][2] + sB[5] * wAS[[i]][5] + sB[6] * wAS[[i]][6] + sB[7] * wAS[[i]][7] + sB[8] * wAS[[i]][8] + sB[9] * wAS[[i]][9] + rou2) * 5);
                R5AT[i] = funFix2((sB[0] * wAT[[i]][0] + sB[1] * wAT[[i]][1] + sB[2] * wAT[[i]][2] + sB[5] * wAT[[i]][5] + sB[6] * wAT[[i]][6] + sB[7] * wAT[[i]][7] + sB[8] * wAT[[i]][8] + sB[9] * wAT[[i]][9] + rou2) * 5);
                R5AW[i] = funFix2((sB[0] * wAW[[i]][0] + sB[1] * wAW[[i]][1] + sB[2] * wAW[[i]][2] + sB[5] * wAW[[i]][5] + sB[6] * wAW[[i]][6] + sB[7] * wAW[[i]][7] + sB[8] * wAW[[i]][8] + sB[9] * wAW[[i]][9] + rou2) * 5);
                R5AD[i] = funFix2((sB[0] * wAD[[i]][0] + sB[1] * wAD[[i]][1] + sB[2] * wAD[[i]][2] + sB[5] * wAD[[i]][5] + sB[6] * wAD[[i]][6] + sB[7] * wAD[[i]][7] + sB[8] * wAD[[i]][8] + sB[9] * wAD[[i]][9] + rou2) * 5);
                R5AL[i] = funFix2((sB[0] * wAL[[i]][0] + sB[1] * wAL[[i]][1] + sB[2] * wAL[[i]][2] + sB[5] * wAL[[i]][5] + sB[6] * wAL[[i]][6] + sB[7] * wAL[[i]][7] + sB[8] * wAL[[i]][8] + sB[9] * wAL[[i]][9] + rou2) * 5);
                R5AB[i] = funFix2((sB[0] * wAB[[i]][0] + sB[1] * wAB[[i]][1] + sB[2] * wAB[[i]][2] + sB[5] * wAB[[i]][5] + sB[6] * wAB[[i]][6] + sB[7] * wAB[[i]][7] + sB[8] * wAB[[i]][8] + sB[9] * wAB[[i]][9] + rou2) * 5);
                R5DS[i] = funFix2((sB[0] * wDS[[i]][0] + sB[1] * wDS[[i]][1] + sB[2] * wDS[[i]][2] + sB[3] * wDS[[i]][3] + sB[4] * wDS[[i]][4] + sB[5] * wDS[[i]][5] + sB[6] * wDS[[i]][6] + sB[10] * wDS[[i]][10] + rou2) * 5);
                R5DT[i] = funFix2((sB[0] * wDT[[i]][0] + sB[1] * wDT[[i]][1] + sB[2] * wDT[[i]][2] + sB[3] * wDT[[i]][3] + sB[4] * wDT[[i]][4] + sB[5] * wDT[[i]][5] + sB[6] * wDT[[i]][6] + sB[10] * wDT[[i]][10] + rou2) * 5);
                R5DW[i] = funFix2((sB[0] * wDW[[i]][0] + sB[1] * wDW[[i]][1] + sB[2] * wDW[[i]][2] + sB[3] * wDW[[i]][3] + sB[4] * wDW[[i]][4] + sB[5] * wDW[[i]][5] + sB[6] * wDW[[i]][6] + sB[10] * wDW[[i]][10] + rou2) * 5);
                R5DD[i] = funFix2((sB[0] * wDD[[i]][0] + sB[1] * wDD[[i]][1] + sB[2] * wDD[[i]][2] + sB[3] * wDD[[i]][3] + sB[4] * wDD[[i]][4] + sB[5] * wDD[[i]][5] + sB[6] * wDD[[i]][6] + sB[10] * wDD[[i]][10] + rou2) * 5);
                R5DL[i] = funFix2((sB[0] * wDL[[i]][0] + sB[1] * wDL[[i]][1] + sB[2] * wDL[[i]][2] + sB[3] * wDL[[i]][3] + sB[4] * wDL[[i]][4] + sB[5] * wDL[[i]][5] + sB[6] * wDL[[i]][6] + sB[10] * wDL[[i]][10] + rou2) * 5);
                R5DB[i] = funFix2((sB[0] * wDB[[i]][0] + sB[1] * wDB[[i]][1] + sB[2] * wDB[[i]][2] + sB[3] * wDB[[i]][3] + sB[4] * wDB[[i]][4] + sB[5] * wDB[[i]][5] + sB[6] * wDB[[i]][6] + sB[10] * wDB[[i]][10] + rou2) * 5);
                R5AS2[i] = funFix2((sB[0] * wAS2[[i]][0] + sB[1] * wAS2[[i]][1] + sB[2] * wAS2[[i]][2] + sB[5] * wAS2[[i]][5] + sB[6] * wAS2[[i]][6] + sB[7] * wAS2[[i]][7] + sB[8] * wAS2[[i]][8] + sB[9] * wAS2[[i]][9] + rou2) * 5);
                R5AT2[i] = funFix2((sB[0] * wAT2[[i]][0] + sB[1] * wAT2[[i]][1] + sB[2] * wAT2[[i]][2] + sB[5] * wAT2[[i]][5] + sB[6] * wAT2[[i]][6] + sB[7] * wAT2[[i]][7] + sB[8] * wAT2[[i]][8] + sB[9] * wAT2[[i]][9] + rou2) * 5);
                R5AW2[i] = funFix2((sB[0] * wAW2[[i]][0] + sB[1] * wAW2[[i]][1] + sB[2] * wAW2[[i]][2] + sB[5] * wAW2[[i]][5] + sB[6] * wAW2[[i]][6] + sB[7] * wAW2[[i]][7] + sB[8] * wAW2[[i]][8] + sB[9] * wAW2[[i]][9] + rou2) * 5);
                R5AD2[i] = funFix2((sB[0] * wAD2[[i]][0] + sB[1] * wAD2[[i]][1] + sB[2] * wAD2[[i]][2] + sB[5] * wAD2[[i]][5] + sB[6] * wAD2[[i]][6] + sB[7] * wAD2[[i]][7] + sB[8] * wAD2[[i]][8] + sB[9] * wAD2[[i]][9] + rou2) * 5);
                R5AL2[i] = funFix2((sB[0] * wAL2[[i]][0] + sB[1] * wAL2[[i]][1] + sB[2] * wAL2[[i]][2] + sB[5] * wAL2[[i]][5] + sB[6] * wAL2[[i]][6] + sB[7] * wAL2[[i]][7] + sB[8] * wAL2[[i]][8] + sB[9] * wAL2[[i]][9] + rou2) * 5);
                R5AB2[i] = funFix2((sB[0] * wAB2[[i]][0] + sB[1] * wAB2[[i]][1] + sB[2] * wAB2[[i]][2] + sB[5] * wAB2[[i]][5] + sB[6] * wAB2[[i]][6] + sB[7] * wAB2[[i]][7] + sB[8] * wAB2[[i]][8] + sB[9] * wAB2[[i]][9] + rou2) * 5);
                R5DS2[i] = funFix2((sB[0] * wDS2[[i]][0] + sB[1] * wDS2[[i]][1] + sB[2] * wDS2[[i]][2] + sB[3] * wDS2[[i]][3] + sB[4] * wDS2[[i]][4] + sB[5] * wDS2[[i]][5] + sB[6] * wDS2[[i]][6] + sB[10] * wDS2[[i]][10] + rou2) * 5);
                R5DT2[i] = funFix2((sB[0] * wDT2[[i]][0] + sB[1] * wDT2[[i]][1] + sB[2] * wDT2[[i]][2] + sB[3] * wDT2[[i]][3] + sB[4] * wDT2[[i]][4] + sB[5] * wDT2[[i]][5] + sB[6] * wDT2[[i]][6] + sB[10] * wDT2[[i]][10] + rou2) * 5);
                R5DW2[i] = funFix2((sB[0] * wDW2[[i]][0] + sB[1] * wDW2[[i]][1] + sB[2] * wDW2[[i]][2] + sB[3] * wDW2[[i]][3] + sB[4] * wDW2[[i]][4] + sB[5] * wDW2[[i]][5] + sB[6] * wDW2[[i]][6] + sB[10] * wDW2[[i]][10] + rou2) * 5);
                R5DD2[i] = funFix2((sB[0] * wDD2[[i]][0] + sB[1] * wDD2[[i]][1] + sB[2] * wDD2[[i]][2] + sB[3] * wDD2[[i]][3] + sB[4] * wDD2[[i]][4] + sB[5] * wDD2[[i]][5] + sB[6] * wDD2[[i]][6] + sB[10] * wDD2[[i]][10] + rou2) * 5);
                R5DL2[i] = funFix2((sB[0] * wDL2[[i]][0] + sB[1] * wDL2[[i]][1] + sB[2] * wDL2[[i]][2] + sB[3] * wDL2[[i]][3] + sB[4] * wDL2[[i]][4] + sB[5] * wDL2[[i]][5] + sB[6] * wDL2[[i]][6] + sB[10] * wDL2[[i]][10] + rou2) * 5);
                R5DB2[i] = funFix2((sB[0] * wDB2[[i]][0] + sB[1] * wDB2[[i]][1] + sB[2] * wDB2[[i]][2] + sB[3] * wDB2[[i]][3] + sB[4] * wDB2[[i]][4] + sB[5] * wDB2[[i]][5] + sB[6] * wDB2[[i]][6] + sB[10] * wDB2[[i]][10] + rou2) * 5);
            }
            var R5Assist_ShoAll = [R5AS[1], R5AS[0], R5AS[1], R5AS[3], R5AS[2], R5AS[3], R5AS[5], R5AS[4], R5AS[5], R5AS[7], R5AS[6], R5AS[7], R5AS[8]];
            var R5Assist_ThrAll = [R5AT[1], R5AT[0], R5AT[1], R5AT[3], R5AT[2], R5AT[3], R5AT[5], R5AT[4], R5AT[5], R5AT[7], R5AT[6], R5AT[7], R5AT[8]];
            var R5Assist_WinAll = [R5AW[1], R5AW[0], R5AW[1], R5AW[3], R5AW[2], R5AW[3], R5AW[5], R5AW[4], R5AW[5], R5AW[7], R5AW[6], R5AW[7], R5AW[8]];
            var R5Assist_DirAll = [R5AD[1], R5AD[0], R5AD[1], R5AD[3], R5AD[2], R5AD[3], R5AD[5], R5AD[4], R5AD[5], R5AD[7], R5AD[6], R5AD[7], R5AD[8]];
            var R5Assist_LonAll = [R5AL[1], R5AL[0], R5AL[1], R5AL[3], R5AL[2], R5AL[3], R5AL[5], R5AL[4], R5AL[5], R5AL[7], R5AL[6], R5AL[7], R5AL[8]];
            var R5Assist_BalAll = [R5AB[1], R5AB[0], R5AB[1], R5AB[3], R5AB[2], R5AB[3], R5AB[5], R5AB[4], R5AB[5], R5AB[7], R5AB[6], R5AB[7], R5AB[8]];
            var R5Defence_ShoAll = [R5DS[1], R5DS[0], R5DS[1], R5DS[3], R5DS[2], R5DS[3], R5DS[5], R5DS[4], R5DS[5], R5DS[7], R5DS[6], R5DS[7], R5DS[8]];
            var R5Defence_ThrAll = [R5DT[1], R5DT[0], R5DT[1], R5DT[3], R5DT[2], R5DT[3], R5DT[5], R5DT[4], R5DT[5], R5DT[7], R5DT[6], R5DT[7], R5DT[8]];
            var R5Defence_WinAll = [R5DW[1], R5DW[0], R5DW[1], R5DW[3], R5DW[2], R5DW[3], R5DW[5], R5DW[4], R5DW[5], R5DW[7], R5DW[6], R5DW[7], R5DW[8]];
            var R5Defence_DirAll = [R5DD[1], R5DD[0], R5DD[1], R5DD[3], R5DD[2], R5DD[3], R5DD[5], R5DD[4], R5DD[5], R5DD[7], R5DD[6], R5DD[7], R5DD[8]];
            var R5Defence_LonAll = [R5DL[1], R5DL[0], R5DL[1], R5DL[3], R5DL[2], R5DL[3], R5DL[5], R5DL[4], R5DL[5], R5DL[7], R5DL[6], R5DL[7], R5DL[8]];
            var R5Defence_BalAll = [R5DB[1], R5DB[0], R5DB[1], R5DB[3], R5DB[2], R5DB[3], R5DB[5], R5DB[4], R5DB[5], R5DB[7], R5DB[6], R5DB[7], R5DB[8]];
            var R5Assist_Sho2All = [R5AS2[1], R5AS2[0], R5AS2[1], R5AS2[3], R5AS2[2], R5AS2[3], R5AS2[5], R5AS2[4], R5AS2[5], R5AS2[7], R5AS2[6], R5AS2[7], R5AS2[8]];
            var R5Assist_Thr2All = [R5AT2[1], R5AT2[0], R5AT2[1], R5AT2[3], R5AT2[2], R5AT2[3], R5AT2[5], R5AT2[4], R5AT2[5], R5AT2[7], R5AT2[6], R5AT2[7], R5AT2[8]];
            var R5Assist_Win2All = [R5AW2[1], R5AW2[0], R5AW2[1], R5AW2[3], R5AW2[2], R5AW2[3], R5AW2[5], R5AW2[4], R5AW2[5], R5AW2[7], R5AW2[6], R5AW2[7], R5AW2[8]];
            var R5Assist_Dir2All = [R5AD2[1], R5AD2[0], R5AD2[1], R5AD2[3], R5AD2[2], R5AD2[3], R5AD2[5], R5AD2[4], R5AD2[5], R5AD2[7], R5AD2[6], R5AD2[7], R5AD2[8]];
            var R5Assist_Lon2All = [R5AL2[1], R5AL2[0], R5AL2[1], R5AL2[3], R5AL2[2], R5AL2[3], R5AL2[5], R5AL2[4], R5AL2[5], R5AL2[7], R5AL2[6], R5AL2[7], R5AL2[8]];
            var R5Assist_Bal2All = [R5AB2[1], R5AB2[0], R5AB2[1], R5AB2[3], R5AB2[2], R5AB2[3], R5AB2[5], R5AB2[4], R5AB2[5], R5AB2[7], R5AB2[6], R5AB2[7], R5AB2[8]];
            var R5Defence_Sho2All = [R5DS2[1], R5DS2[0], R5DS2[1], R5DS2[3], R5DS2[2], R5DS2[3], R5DS2[5], R5DS2[4], R5DS2[5], R5DS2[7], R5DS2[6], R5DS2[7], R5DS2[8]];
            var R5Defence_Thr2All = [R5DT2[1], R5DT2[0], R5DT2[1], R5DT2[3], R5DT2[2], R5DT2[3], R5DT2[5], R5DT2[4], R5DT2[5], R5DT2[7], R5DT2[6], R5DT2[7], R5DT2[8]];
            var R5Defence_Win2All = [R5DW2[1], R5DW2[0], R5DW2[1], R5DW2[3], R5DW2[2], R5DW2[3], R5DW2[5], R5DW2[4], R5DW2[5], R5DW2[7], R5DW2[6], R5DW2[7], R5DW2[8]];
            var R5Defence_Dir2All = [R5DD2[1], R5DD2[0], R5DD2[1], R5DD2[3], R5DD2[2], R5DD2[3], R5DD2[5], R5DD2[4], R5DD2[5], R5DD2[7], R5DD2[6], R5DD2[7], R5DD2[8]];
            var R5Defence_Lon2All = [R5DL2[1], R5DL2[0], R5DL2[1], R5DL2[3], R5DL2[2], R5DL2[3], R5DL2[5], R5DL2[4], R5DL2[5], R5DL2[7], R5DL2[6], R5DL2[7], R5DL2[8]];
            var R5Defence_Bal2All = [R5DB2[1], R5DB2[0], R5DB2[1], R5DB2[3], R5DB2[2], R5DB2[3], R5DB2[5], R5DB2[4], R5DB2[5], R5DB2[7], R5DB2[6], R5DB2[7], R5DB2[8]];
            var posGainAll = [posGain[1], posGain[0], posGain[1], posGain[3], posGain[2], posGain[3], posGain[5], posGain[4], posGain[5], posGain[7], posGain[6], posGain[7], posGain[8]];
            var posKeepAll = [posKeep[1], posKeep[0], posKeep[1], posKeep[3], posKeep[2], posKeep[3], posKeep[5], posKeep[4], posKeep[5], posKeep[7], posKeep[6], posKeep[7], posKeep[8]];
            var R5adapt = [];
            var RERECall = [REREC[0][1], REREC[0][0], REREC[0][1], REREC[0][3], REREC[0][2], REREC[0][3], REREC[0][5], REREC[0][4], REREC[0][5], REREC[0][7], REREC[0][6], REREC[0][7], REREC[0][8]];
            var RERECadapt = [];

            if (hidden[0].innerHTML != "") {
                for (i = 0; i < 13; i++) {
                    if (positionsAll[FP2[0]][i] > positionsAll[FP2[1]][i]) positionsAll[FP2[0]][i] = positionsAll[FP2[1]][i];
                    R5adapt[i] = funFix2((R5all[i] * 1 + allBonus * 1 + posGainAll[i] * 1 + posKeepAll[i] * 1) * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    RERECadapt[i] = funFix2(RERECall[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_ShoAll[i] = funFix2(R5Assist_ShoAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_ThrAll[i] = funFix2(R5Assist_ThrAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_WinAll[i] = funFix2(R5Assist_WinAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_DirAll[i] = funFix2(R5Assist_DirAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_LonAll[i] = funFix2(R5Assist_LonAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_BalAll[i] = funFix2(R5Assist_BalAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_ShoAll[i] = funFix2(R5Defence_ShoAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_ThrAll[i] = funFix2(R5Defence_ThrAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_WinAll[i] = funFix2(R5Defence_WinAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_DirAll[i] = funFix2(R5Defence_DirAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_LonAll[i] = funFix2(R5Defence_LonAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_BalAll[i] = funFix2(R5Defence_BalAll[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_Sho2All[i] = funFix2(R5Assist_Sho2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_Thr2All[i] = funFix2(R5Assist_Thr2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_Win2All[i] = funFix2(R5Assist_Win2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_Dir2All[i] = funFix2(R5Assist_Dir2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_Lon2All[i] = funFix2(R5Assist_Lon2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Assist_Bal2All[i] = funFix2(R5Assist_Bal2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_Sho2All[i] = funFix2(R5Defence_Sho2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_Thr2All[i] = funFix2(R5Defence_Thr2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_Win2All[i] = funFix2(R5Defence_Win2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_Dir2All[i] = funFix2(R5Defence_Dir2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_Lon2All[i] = funFix2(R5Defence_Lon2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                    R5Defence_Bal2All[i] = funFix2(R5Defence_Bal2All[i] * (1 - (20 - adap) * positionsAll[FP2[0]][i] / 200));
                }
              
                var R5table3 =  "<div id=\"R5table3_div\">"+
                                    "<table id=\"R5table3\" style=\"" + table_border + "\" align=\"center\">"+
                                        "<tbody>"+
                                            "<tr>"+
                                                "<td colspan=\"3\" align=\"center\" style=\"border-bottom:solid 1px; background-color: #333333;\"><b>RatingR5 All Positions</b></td>"+
                                            "</tr>"+
                                        "</tbody>"+
                                    "</table>"+
                                "</div>";
                var tr_F = "<tr><td></td><td align=\"center\" id=\"cell_12\" class=\"R5cell\">" + R5adapt[12] + "</td><td></td></tr>";
                var tr_OM = "<tr><td id=\"cell_9\">" + R5adapt[9] + "</td><td id=\"cell_10\">" + R5adapt[10] + "</td><td id=\"cell_11\">" + R5adapt[11] + "</td></tr>";
                var tr_M = "<tr><td id=\"cell_6\">" + R5adapt[6] + "</td><td id=\"cell_7\">" + R5adapt[7] + "</td><td id=\"cell_8\">" + R5adapt[8] + "</td></tr>";
                var tr_DM = "<tr><td id=\"cell_3\">" + R5adapt[3] + "</td><td id=\"cell_4\">" + R5adapt[4] + "</td><td id=\"cell_5\">" + R5adapt[5] + "</td></tr>";
                var tr_D = "<tr><td id=\"cell_0\">" + R5adapt[0] + "</td><td id=\"cell_1\">" + R5adapt[1] + "</td><td id=\"cell_2\">" + R5adapt[2] + "</td></tr>";
                $("#R5table_div").append(R5table3);
                $("#R5table3 > tbody").append(tr_F, tr_OM, tr_M, tr_DM, tr_D);
                $("#R5table3 > tbody > tr:eq(0)").nextAll("tr").attr("align", "center");
                $("#R5table3 > tbody > tr:odd").addClass("odd");
                $("#R5table3").find("td:gt(4)").addClass("R5cell");
                var table3_note = "click each number to show detail";
                $("#R5table_div").append(table3_note);

                var R5table3b = [];
                var flg_table3b = [];
                for (i = 0; i < 13; i++) {
                    R5table3b[i] =  "<div id=\"R5table3b_div\">"+
                                        "<table id=\"R5table3b_" + i + "\" style=\"display:none; " + table_border + "\">"+
                                            "<tbody>"+
                                                "<tr style=\"background-color:darkslategray\">"+
                                                    "<td><b>" + positionNames3[i] + "</b></td>"+
                                                    "<td></td>"+
                                                    "<td></td>"+
                                                    "<td></td>"+
                                                    "<td></td>"+
                                                    "<td></td>"+
                                                "</tr>"+
                                            "</tbody>"+
                                        "</table>"+
                                    "</div>";
                    tr_ASho[i] = "<tr><td width=\"30px\"></td><td width=\"120px\"><b>R5 Assist</b></td><td width=\"70px\">pure</td><td width=\"70px\">by position</td><td width=\"70px\">composite</td><td></td></tr><tr><td></td><td>Shortpassing : </td><td>" + ASho + "</td><td>" + R5Assist_ShoAll[i] + "</td><td>" + R5Assist_Sho2All[i] + "</td><td></td></tr>";
                    tr_AThr[i] = "<tr class=\"odd\"><td></td><td>Through Balls : </td><td>" + AThr + "</td><td>" + R5Assist_ThrAll[i] + "</td><td>" + R5Assist_Thr2All[i] + "</td><td></td></tr>";
                    tr_AWin[i] = "<tr><td></td><td>Wings Attack : </td><td>" + AWin + "</td><td>" + R5Assist_WinAll[i] + "</td><td>" + R5Assist_Win2All[i] + "</td><td></td></tr>";
                    tr_ADir[i] = "<tr class=\"odd\"><td></td><td>Direct/Counter : </td><td>" + ADir + "</td><td>" + R5Assist_DirAll[i] + "</td><td>" + R5Assist_Dir2All[i] + "</td><td></td></tr>";
                    tr_ALon[i] = "<tr><td></td><td>Long Balls : </td><td>" + ALon + "</td><td>" + R5Assist_LonAll[i] + "</td><td>" + R5Assist_Lon2All[i] + "</td><td></td></tr>";
                    tr_ABal[i] = "<tr class=\"odd\"><td></td><td>Balanced : </td><td>-----</td><td>" + R5Assist_BalAll[i] + "</td><td>" + R5Assist_Bal2All[i] + "</td><td></td></tr>";
                    tr_DSho[i] = "<tr><td>&nbsp;</td></tr><tr><td></td><td><b>R5 Defence</b></td><td>pure</td><td>by position</td><td>composite</td></tr><tr><td></td><td>Shortpassing : </td><td>" + DSho + "</td><td>" + R5Defence_ShoAll[i] + "</td><td>" + R5Defence_Sho2All[i] + "</td><td></td></tr>";
                    tr_DThr[i] = "<tr class=\"odd\"><td></td><td>Through Balls : </td><td>" + DThr + "</td><td>" + R5Defence_ThrAll[i] + "</td><td>" + R5Defence_Thr2All[i] + "</td><td></td></tr>";
                    tr_DWin[i] = "<tr><td></td><td>Wings Attack : </td><td>" + DWin + "</td><td>" + R5Defence_WinAll[i] + "</td><td>" + R5Defence_Win2All[i] + "</td><td></td></tr>";
                    tr_DDir[i] = "<tr class=\"odd\"><td></td><td>Direct/Counter : </td><td>" + DDir + "</td><td>" + R5Defence_DirAll[i] + "</td><td>" + R5Defence_Dir2All[i] + "</td><td></td></tr>";
                    tr_DLon[i] = "<tr><td></td><td>Long Balls : </td><td>" + DLon + "</td><td>" + R5Defence_LonAll[i] + "</td><td>" + R5Defence_Lon2All[i] + "</td><td></td></tr>";
                    tr_DBal[i] = "<tr class=\"odd\"><td></td><td>Balanced : </td><td>-----</td><td>" + R5Defence_BalAll[i] + "</td><td>" + R5Defence_Bal2All[i] + "</td><td></td></tr>";
                    $("#R5table_div").append(R5table3b[i]);
                    $("#R5table3b_" + i).find("tbody").append(tr_ASho[i], tr_AThr[i], tr_AWin[i], tr_ADir[i], tr_ALon[i], tr_ABal[i], tr_DSho[i], tr_DThr[i], tr_DWin[i], tr_DDir[i], tr_DLon[i], tr_DBal[i]);
                    $("#R5table3b_" + i).find("td").attr("style", "padding-left:5px");
                    flg_table3b[i] = "hide";
                }
                var table3b_functions = [];
                for (let i = 0; i < 13; i++) {
                    (function () {
                        $("#cell_" + i).click(function () {
                            if (flg_table3b[i] == "hide") {
                                flg_table3b[i] = "show";
                                $(this).attr("style", "color: yellow; text-shadow: 0px 0px 2px black");
                            }
                            else {
                                flg_table3b[i] = "hide";
                                $(this).removeAttr("style");
                            }
                            $("#R5table3b_" + i).slideToggle();
                        });
                        table3b_functions.push(function () { });
                    })();
                    table3b_functions[i]();
                }
            }            
            else {
                var R5table5 = [];
                var R5table5_array = [1, 0, 2, 4, 3, 5, 7, 6, 8, 10, 9, 11, 12];
                var R5table5_index = [];
                var flg_R5AS = [];
                for (i = 0; i < positionArray.length; i++) {
                    R5table5_index[i] = R5table5_array.indexOf(positionIndex2[i]);
                    R5table5[i] = "<div id=\"R5table5_div\"><table id=\"R5table5_" + i + "\" style=\"margin-top:1px;"+ table_border + "\"><tbody><tr id=\"R5AS" + i + "\" style=\"background-color:darkslategray\"><td colspan=\"2\"><b>" + positionNames[positionIndex2[i]] + "</b></td><td></td><td></td><td align=\"right\" colspan=\"2\"><span class=\"button\" style=\"width:80px; line-height:19px;\" id=\"R5ASdetail_btn" + i + "\"><span id=\"R5ASbtn_text" + i + "\" class=\"button_border\" style=\"width:78px; line-height:19px; padding: 0;\">Show Detail</span></span></td></tr></tbody></table></div>";
                    tr_ASho[i] = "<tr class=\"R5AS" + i + "\"><td width=\"30px\"></td><td width=\"120px\"><b>R5 Assist</b></td><td width=\"70px\">pure</td><td width=\"70px\">by position</td><td width=\"70px\">composite</td><td></td></tr><tr class=\"R5AS" + i + "\"><td></td><td>Shortpassing : </td><td>" + ASho + "</td><td>" + R5Assist_ShoAll[R5table5_index[i]] + "</td><td>" + R5Assist_Sho2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_AThr[i] = "<tr class=\"odd R5AS" + i + "\"><td></td><td>Through Balls : </td><td>" + AThr + "</td><td>" + R5Assist_ThrAll[R5table5_index[i]] + "</td><td>" + R5Assist_Thr2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_AWin[i] = "<tr class=\"R5AS" + i + "\"><td></td><td>Wings Attack : </td><td>" + AWin + "</td><td>" + R5Assist_WinAll[R5table5_index[i]] + "</td><td>" + R5Assist_Win2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_ADir[i] = "<tr class=\"odd R5AS" + i + "\"><td></td><td>Direct/Counter : </td><td>" + ADir + "</td><td>" + R5Assist_DirAll[R5table5_index[i]] + "</td><td>" + R5Assist_Dir2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_ALon[i] = "<tr class=\"R5AS" + i + "\"><td></td><td>Long Balls : </td><td>" + ALon + "</td><td>" + R5Assist_LonAll[R5table5_index[i]] + "</td><td>" + R5Assist_Lon2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_ABal[i] = "<tr class=\"odd R5AS" + i + "\"><td></td><td>Balanced : </td><td>-----</td><td>" + R5Assist_BalAll[R5table5_index[i]] + "</td><td>" + R5Assist_Bal2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_DSho[i] = "<tr class=\"R5AS" + i + "\"><td>&nbsp;</td></tr><tr class=\"R5AS" + i + "\"><td></td><td><b>R5 Defence</b></td><td>pure</td><td>by position</td><td>composite</td></tr><tr class=\"R5AS" + i + "\"><td></td><td>Shortpassing : </td><td>" + DSho + "</td><td>" + R5Defence_ShoAll[R5table5_index[i]] + "</td><td>" + R5Defence_Sho2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_DThr[i] = "<tr class=\"odd R5AS" + i + "\"><td></td><td>Through Balls : </td><td>" + DThr + "</td><td>" + R5Defence_ThrAll[R5table5_index[i]] + "</td><td>" + R5Defence_Thr2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_DWin[i] = "<tr class=\"R5AS" + i + "\"><td></td><td>Wings Attack : </td><td>" + DWin + "</td><td>" + R5Defence_WinAll[R5table5_index[i]] + "</td><td>" + R5Defence_Win2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_DDir[i] = "<tr class=\"odd R5AS" + i + "\"><td></td><td>Direct/Counter : </td><td>" + DDir + "</td><td>" + R5Defence_DirAll[R5table5_index[i]] + "</td><td>" + R5Defence_Dir2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_DLon[i] = "<tr class=\"R5AS" + i + "\"><td></td><td>Long Balls : </td><td>" + DLon + "</td><td>" + R5Defence_LonAll[R5table5_index[i]] + "</td><td>" + R5Defence_Lon2All[R5table5_index[i]] + "</td><td></td></tr>";
                    tr_DBal[i] = "<tr class=\"odd R5AS" + i + "\"><td></td><td>Balanced : </td><td>-----</td><td>" + R5Defence_BalAll[R5table5_index[i]] + "</td><td>" + R5Defence_Bal2All[R5table5_index[i]] + "</td><td></td></tr>";
					$("#R5table_div").append(R5table5[i]);
                    $("#R5table5_" + i).find("tbody").append(tr_ASho[i], tr_AThr[i], tr_AWin[i], tr_ADir[i], tr_ALon[i], tr_ABal[i], tr_DSho[i], tr_DThr[i], tr_DWin[i], tr_DDir[i], tr_DLon[i], tr_DBal[i]);
                    $("#R5table5_" + i).find("td").attr("style", "padding-left:5px");
                    $(".R5AS" + i).hide();
                    flg_R5AS[i] = "hide";
				}
                var R5ASbtn_functions = [];
                for (let i = 0; i < positionArray.length; i++) {
                    (function () {
                        $("#R5ASdetail_btn" + i).click(function () {
                            if (flg_R5AS[i] == "hide") {
                                flg_R5AS[i] = "show";
                                $("#R5ASbtn_text" + i).text("Hide Detail");
                            }
                            else {
                                flg_R5AS[i] = "hide";
                                $("#R5ASbtn_text" + i).text("Show Detail");
                            }
                            $(".R5AS" + i).slideToggle();
                        });
                        R5ASbtn_functions.push(function () { });
                    })();
                    R5ASbtn_functions[i]();
                }
            }          
        }

        if (hidden[0].innerHTML != "") {
            var R5table4 = "<div id=\"R5table4_div\"><table id=\"R5table4\" style=\"margin-top:10px; margin-bottom:10px; border-left:solid 1px; border-right:solid 1px; border-top:solid 1px; border-bottom:solid 1px\" cellspascing=\"0\" cellpadding=\"0\"><tbody></tbody></table></div>";
            var capheader1 = "<tr style=\"background-color: #333333\"><td style=\"border-bottom:solid 1px\" align=\"center\" colspan=\"6\"><b>Captaincy</b></td></tr>";
            var capheader2 = "<tr style=\"background-color: #333333;\"><td style=\"padding-left:5px\">Leadership</td><td>Level 1</td><td>Level 2</td><td>Level 3</td><td>Level 4</td><td>Level 5</td></tr>";
            var cap_row = "<tr id=\"rva\"><td style=\"padding-left:5px\">Captaincy(RVA)</td></tr>";
            var cap_row2 = "<tr id=\"rva2\"><td style=\"padding-left:5px\">RVA:custom</td></tr>";
            var cap_row3 = "<tr id=\"tss\"><td style=\"padding-left:5px\">Captaincy(TSS)</td></tr>";
            $("#R5table_div").append(R5table4);
            $("#R5table4 > tbody").append(capheader1, capheader2, cap_row, cap_row3);
            for (i = 1; i < 6; i++) {
                $("#rva").append("<td align=\"right\" style=\"padding-right:15px\">" + cap[i] + "</td>");
                $("#tss").append("<td align=\"right\" style=\"padding-right:15px\">" + cap3[i] + "</td>");
            }
            if (weightDefault == "custom") {
                $("#R5table4 tr:eq(2)").after(cap_row2);
                for (i = 0; i < 6; i++) {
                    $("#rva2").append("<td align=\"right\" style=\"padding-right:15px\">" + cap2[i] + "</td>");
                }
            }
            $("#R5table4 > tbody > tr:eq(1) > td:eq(0)").nextAll().attr("align", "center");
            $("#R5table4 > tbody > tr:odd").addClass("odd");
        }

        //	### transfer info ###
        var R5Value_num = 0;
        var R5Value2_num = 0;
        var maxPrice_num = 0;
        var staPrice_num = 0;
        if (((newPlayer == 0 && year <= 24) && session <= month) || session > month) {
            if (minR5Value != maxR5Value) {
                R5Value_num = en.format(minR5Value) + " - " + "<span class=\"coin\">" + en.format(maxR5Value) + "</span>";
                R5Value2_num = en.format(minR5Value2) + " - " + "<span class=\"coin\">" + en.format(maxR5Value2) + "</span>";
            }
            else {
                R5Value_num = "<span class=\"coin\">" + en.format(maxR5Value) + "</span>";
                R5Value2_num = "<span class=\"coin\">" + en.format(maxR5Value2) + "</span>";
            }
        }
        else {
            R5Value_num = "<span class=\"coin\">" + en.format(R5Value) + "</span>";
            R5Value2_num = "<span class=\"coin\">" + en.format(R5Value2) + "</span>";
        }
        if (year >= 18) maxPrice_num = "<span class=\"coin\">" + en.format(maxPrice) + "</span>";
        else maxPrice_num = "---";
        if (year >= 18) staPrice_num = "<span class=\"coin\">" + en.format(staPrice) + "</span>";
        else staPrice_num = "---";
        var pricetable = "<div><table id=\"pricetable\" style=\"margin-right:25px; margin-top:5px; margin-bottom:5px\"><tbody></tbody></table></div>";
        var R5Value_row = "<tr><td align=\"left\">R5 VALUE</td><td align=\"right\">" + R5Value_num + "</td></tr>";
        var R5Value2_row = "<tr><td align=\"left\">R5VALUE+</td><td align=\"right\">" + R5Value2_num + "</td></tr>";
        var maxPrice_row = "<tr><td align=\"left\">Max Sell Price</td><td align=\"right\">" + maxPrice_num + "</td></tr>";
        var staPrice_row = "<tr><td align=\"left\">Sell-To-Agent</td><td align=\"right\">" + staPrice_num + "</td></tr>";
        var countryforum = "<br><a href = \"https://trophymanager.com/forum/" + nation + "/general/\" target = \"_blank\"><span class=\"button\" style=\"width:170px; text-align:left;\"><span class=\"button_border\" style=\"width:168px; padding: 0;\">&nbsp;<ib class=\"flag-img-" + nation + " \"></ib>&nbsp;Home Country Forum</span></span></a>";
        var transferforum = "<br><a href = \"https://trophymanager.com/forum/int/transfer/\" target = \"_blank\"><span class=\"button\" style=\"width:170px; text-align:left;\"><span class=\"button_border\" style=\"width:168px; padding: 0;\">&nbsp;<img src=\"/pics/flags/gradient/int.png\">&nbsp;Transfer Forum</span></span></a>";
        if (notGK) {
            var transferPosArray = ["de/", "de/", "dm/", "dm/", "mf/", "mf/", "om/", "om/", "fw/"];
            var transferSideArray = ["ce/", "le/ri/", "ce/", "le/ri/", "ce/", "le/ri/", "ce/", "le/ri/", "ce/"];
            var pos1 = transferPosArray[FP[0]];
            var pos2 = "";
            var side1 = transferSideArray[FP[0]];
            var side2 = "";
            if (FP[0] != FP[1]) {
                pos2 = transferPosArray[FP[1]];
                side2 = transferSideArray[FP[1]];
                if (pos1 == pos2) pos2 = "";
                if (side1 == side2) side2 = "";
            }
            var transferPos = pos1 + pos2;
            var transferSide = side1 + side2;
        }
        var amin = Math.max(year * 1 - 2, 18);
        var amax = Math.min(year * 1 + 1, 37);
        var skillsC = [];
        for (i = 0; i < skills.length; i++) {
            skillsC[i] = Math.floor(skills[i] * 1 - 2);
            if (skillsC[i] < 1) skillsC[i] = 1;
        }
        if (notGK) {
            if (R5FP0 < R5FP1) var skillselect = FP[1];
            else var skillselect = FP[0];
            var t_skills = ["/str/" + skillsC[0] + "/pac/" + skillsC[2] + "/mar/" + skillsC[3] + "/tac/" + skillsC[4] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/hea/" + skillsC[10],
            "/str/" + skillsC[0] + "/pac/" + skillsC[2] + "/mar/" + skillsC[3] + "/tac/" + skillsC[4] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/cro/" + skillsC[8] + "/hea/" + skillsC[10],
            "/str/" + skillsC[0] + "/pac/" + skillsC[2] + "/mar/" + skillsC[3] + "/tac/" + skillsC[4] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10],
            "/pac/" + skillsC[2] + "/mar/" + skillsC[3] + "/tac/" + skillsC[4] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/cro/" + skillsC[8] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10],
            "/pac/" + skillsC[2] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10] + "/fin/" + skillsC[11] + "/lon/" + skillsC[12],
            "/pac/" + skillsC[2] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/cro/" + skillsC[8] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10] + "/fin/" + skillsC[11] + "/lon/" + skillsC[12],
            "/pac/" + skillsC[2] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10] + "/fin/" + skillsC[11] + "/lon/" + skillsC[12],
            "/pac/" + skillsC[2] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/cro/" + skillsC[8] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10] + "/fin/" + skillsC[11],
            "/str/" + skillsC[0] + "/pac/" + skillsC[2] + "/wor/" + skillsC[5] + "/pos/" + skillsC[6] + "/pas/" + skillsC[7] + "/tec/" + skillsC[9] + "/hea/" + skillsC[10] + "/fin/" + skillsC[11] + "/lon/" + skillsC[12]];
            var similarplayer = "<br><a href=\"https://trophymanager.com/transfer/#/" + transferPos + transferSide + "for/amin/" + amin + "/amax/" + amax + t_skills[skillselect] + "/\" target = \"_blank\"><span class=\"button\" style=\"width:170px; text-align:left;\"><span class=\"button_border\" style=\"width:168px; padding: 0;\">&nbsp;<img src=\"/pics/binoc.png\">&nbsp;&nbsp;Similar Player</span></span></a>";
        }
        else {
            var similarplayer = "<br><a href=\"https://trophymanager.com/transfer/#/gk/for/amin/" + amin + "/amax/" + amax + "/str/" + skillsC[0] + "/pac/" + skillsC[2] + "/han/" + skillsC[3] + "/one/" + skillsC[4] + "/ref/" + skillsC[5] + "/ari/" + skillsC[6] + "/jum/" + skillsC[7] + "/\" target = \"_blank\"><span class=\"button\" style=\"width:170px; text-align:left;\"><span class=\"button_border\" style=\"width:168px; padding: 0;\">&nbsp;<img src=\"/pics/binoc.png\">&nbsp;&nbsp;Similar Player</span></span></a>";
        }
        
        $("div.std.align_center.transfer_box").attr("id", "transferbox");
        $("#transferbox").append("<div id=\"t_link\"></div>");
        $("#t_link").append(countryforum, transferforum, similarplayer, pricetable);
        $("#pricetable").append(R5Value_row);
        if (hidden[0].innerHTML != "") $("#pricetable").append(R5Value2_row);
        $("#pricetable").append(maxPrice_row, staPrice_row);
        if (testmode == 99) {
            var bep_row = "<tr><td align=\"left\">BEP</td><td align=\"right\">" + bep + "</td></tr>";
            var fstaPrice_row = "<tr><td align=\"left\">FutureSTA</td><td align=\"right\">" + en.format(futureSTA) + "</td></tr>";
            $("#pricetable").append(bep_row, fstaPrice_row);
        }
        $("#pricetable").find("tr:odd").addClass("odd");
        

        //	### R5 column ###
        var R5column = "<div class=\"box\"><div class=\"box_head\"><h2 class=\"std\">Rating R5</h2></div><div class=\"box_body\"><div class=\"box_shadow\"></div><div id=\"R5column_content\" class=\"content_menu\"></div></div><div class=\"box_footer\"><div></div></div></div>";
        $(".column1").append(R5column);
        if (notGK) {
            var goldstar = 0;
			for (j = 0; j < 2; j++) {
				for (i = 0; i < 14; i++) {
					if (j == 0 && skills[i] == 20) goldstar++;
					if (j == 1 && skills[i] != 20) skills[i] = skills[i] * 1 + remainder / (14 - goldstar);
				}
			}
			var CK = funFix2(skills[8] + skills[13] + skills[9] / 2 + rou2 * 2.5);
			var FK = funFix2(skills[12] + skills[13] + skills[9] / 2 + rou2 * 2.5);
			var PK = funFix2(skills[11] + skills[13] + skills[9] / 2 + rou2 * 2.5);

            var content1 = "<table><tr><td>PhySum: </td><td>" + phySum + " (" + MR(phySum / peak[0] * 5) + "%)</td></tr><tr><td>TacSum: </td><td>" + tacSum + " (" + MR(tacSum / peak[1] * 5) + "%)</td></tr><tr><td>TecSum: </td><td>" + tecSum + " (" + MR(tecSum / peak[2] * 5) + "%)</td></tr><tr><td>AllSum: </td><td>" + allSum + " + " + remainder + " </td></tr><tr><td></td><td>&nbsp;</td></tr><tr><td>Finish Type</td><td></td></tr><tr><td>Regular: </td><td>" + shotregular + "</td></tr><tr><td>Long: </td><td>" + shotlong + "</td></tr><tr><td>Header: </td><td>" + shothead + "</td></tr></tr><tr><td>&nbsp;</td></tr><tr><td>Set Pieces</td><td></td></tr><tr><td>Corner: </td><td>" + CK + "</td></tr><tr><td>Freekick: </td><td>" + FK + "</td></tr><tr><td>Penalty: </td><td>" + PK + "</td></tr></table>";
            var content2 = "<br><table><tr><td>Physique</td><td>" + R5RECstar[0] + "</td></tr><tr><td>Tactical</td><td>" + R5RECstar[1] + "</td></tr><tr><td>Technical</td><td>" + R5RECstar[2] + "</td></tr><tr><td>Assist</td><td>" + R5RECstar[3] + "</td></tr><tr><td>Defence</td><td>" + R5RECstar[4] + "</td></tr><tr><td>Shooting</td><td>" + R5RECstar[5] + "</td></tr>";
        }
        else {
            var content1 = "<table><tr><td>PhySum: </td><td>" + phySum + " (" + MR(phySum / peak[0] * 5) + "%)</td></tr><tr><td>TacSum: </td><td>" + tacSum + " (" + MR(tacSum / peak[1] * 5) + "%)</td></tr><tr><td>TecSum: </td><td>" + tecSum + " (" + MR(tecSum / peak[2] * 5) + "%)</td></tr><tr><td>AllSum: </td><td>" + allSum + " + " + remainder + " </td></tr></table>";
            var content2 = "<br><table><tr><td>Physique</td><td>" + R5RECstar[0] + "</td></tr><tr><td>Tactical</td><td>" + R5RECstar[1] + "</td></tr><tr><td>Technical</td><td>" + R5RECstar[2] + "</td></tr><tr><td>Saving</td><td>" + R5RECstar[6] + "</td></tr><tr><td>Counter</td><td>" + R5RECstar[7] + "</td></tr></table>";
        }
        $("#R5column_content").append(content1, content2);

        function calc_captaincy() {
            // WEIGHT(RVA's)
            var leadWeight = 0.5; // ## default Leadership weight 			DO NOT CHANGE
            var profWeight = 0.25; // ## default Professhionalism weight 		DO NOT CHANGE
            var rouWeight = 0.15; // ## default Routine weight 				DO NOT CHANGE
            var aggrWeight = 0.1; // ## default Aggression weight				DO NOT CHANGE
            if (leadWeight2 === 0.5 && profWeight2 === 0.25 && rouWeight2 === 0.15 && aggrWeight2 === 0.1)
                var weightDefault = "default";
            else
                var weightDefault = "custom";
            var cap = [];
            var cap2 = [];
            var cap3 = [];
            for (i = 1; i < 6; i++) {
                var leadWeight3 = [0, 0.131578947, 0.421052632, 0.657894737, 0.815789474, 1];
                if (leadWeight + profWeight + rouWeight + aggrWeight == 1)
                    cap[i] = funFix2(i * leadWeight3[i] * 20 * leadWeight + prof * 5 * profWeight + rou3 * rouWeight + (100 - aggr * 5) * aggrWeight);
                else
                    cap[i] = "---";
                if (leadWeight2 + profWeight2 + rouWeight2 + aggrWeight2 == 1)
                    cap2[i] = funFix2(i * leadWeight3[i] * 20 * leadWeight2 + prof * 5 * profWeight2 + rou3 * rouWeight2 + (100 - aggr * 5) * aggrWeight2);
                else
                    cap2[i] = "---";
                if (i * 4 + prof * 1 - aggr * 1 < 0)
                    cap3[i] = "neg.";
                else
                    cap3[i] = funFix2((i * 4 + prof * 1 - aggr * 1) / 39 * rou3);
            }
            return { cap, cap3, weightDefault, cap2 };
        }

        function calc_R5REC() {
            if (notGK)
                var peak = [4, 4, 6];
            else
                var peak = [4, 3, 4];
            var phyREC = funFix2((phySum / peak[0] + rou2) * 5 / 20);
            var tacREC = funFix2((tacSum / peak[1] + rou2) * 5 / 20);
            var tecREC = funFix2((tecSum / peak[2] + rou2) * 5 / 20);
            var assistREC = funFix2((skills[0] * 0.01 + skills[1] * 0.1 + skills[2] * 0.2 + skills[5] * 0.09 + skills[6] * 0.07 + skills[7] * 0.22 + skills[8] * 0.13 + skills[9] * 0.18 + rou2) / 4);
			var defenceREC = funFix2((skills[0] * 0.121481481 + skills[1] * 0.040740741 + skills[2] * 0.111111111 + skills[3] * 0.202962963 + skills[4] * 0.2 + skills[5] * 0.071111111 + skills[6] * 0.071111111 + skills[10] * 0.181481481 + rou2) / 4);
			var shootingREC = funFix2((skills[0] * 0.082813522 + skills[2] * 0.038541421 + skills[5] * 0.087757535 + skills[6] * 0.126339391 + skills[9] * 0.104203341 + skills[10] * 0.104949572 + skills[11] * 0.301067794 + skills[12] * 0.154327424 + rou2) / 4);
			var savingREC = funFix2((skills[0] * 0.092691271 + skills[1] * 0.007577625 + skills[2] * 0.104277679 + skills[3] * 0.278073812 + skills[4] * 0.069518453 + skills[5] * 0.278073812 + skills[6] * 0.069518453 + skills[7] * 0.092691271 + skills[8] * 0.007577625 + rou2) / 4);
			var counterREC = funFix2((skills[0] * 0.046345635 + skills[1] * 0.003788813 + skills[2] * 0.052138840 + skills[3] * 0.139036906 + skills[4] * 0.034759226 + skills[5] * 0.139036906 + skills[6] * 0.034759226 + skills[7] * 0.046345635 + skills[8] * 0.003788813 + skills[9] * 0.25 + skills[10] * 0.25 + rou2) / 4);
            var R5REC = [phyREC, tacREC, tecREC, assistREC, defenceREC, shootingREC, savingREC, counterREC];
            var star1 = ["", "", "", "", "", "", "", ""];
            var star2 = [];
            var star3 = ["", "", "", "", "", "", "", ""];
            var R5RECstar = [];
            var star = "<img src = \"/pics/star.png\">";
            var halfstar = "<img src = \"/pics/half_star.png\">";
            var darkstar = "<img src = \"/pics/dark_star.png\">";
            var eightstar = "<img src=\"/pics/eight_star_icon.png\">";
            for (i = 0; i < 8; i++) {
                for (j = 0; j < Math.floor(R5REC[i]); j++) {
                    star1[i] += star;
                }
                star2[i] = R5REC[i] - Math.floor(R5REC[i]);
                if (R5REC[i] < 5 && star2[i] >= 0.5)
                    star2[i] = halfstar;
                else
                    star2[i] = "";
                if (5 - MR(R5REC[i]) >= 1) {
                    for (k = 0; k < 5 - MR(R5REC[i]); k++) {
                        star3[i] += darkstar;
                    }
                }
                else if (R5REC[i] >= 5.25)
                    star3[i] = eightstar;
                else
                    star3[i] = "";
                R5RECstar[i] = star1[i] + star2[i] + star3[i];
            }
            return { peak, R5RECstar };
        }

        function calc_stamina_effect() {
            var minR = [];
            var minR0 = [];
            var minR1 = [];
            if (FP[0] != FP[1]) {
                for (i = 1; i < 5; i++) {
                    minR0[i] = funFix2(R5FP0 * (1 - (20 - skills[1]) * i / 200));
                    minR1[i] = funFix2(R5FP1 * (1 - (20 - skills[1]) * i / 200));
                }
                minR0[0] = funFix2(R5FP0 * (1 - (20 - skills[1]) * 62 / 93 / 200));
                minR1[0] = funFix2(R5FP1 * (1 - (20 - skills[1]) * 62 / 93 / 200));
            }
            else {
                if (skills.length == 11)
                    var staGK = 4; //	GK
                else
                    var staGK = 1;
                for (i = 1; i < 5; i++) {
                    minR0[i] = funFix2(R5FP0 * (1 - (20 - skills[1]) * i / staGK / 200));
                }
                minR0[0] = funFix2(R5FP0 * (1 - (20 - skills[1]) * 62 / 93 / staGK / 200));
            }
            var R5FP = [R5FP0, R5FP1];
            for (i = 0; i < positionArray.length; i++) {
                if (i == 0)
                    minR[i] = [minR0[0], minR0[1], minR0[2], minR0[3], minR0[4]];
                else
                    minR[i] = [minR1[0], minR1[1], minR1[2], minR1[3], minR1[4]];
            }
            return { R5FP, minR };
        }

        function finish_type() {
            var shotregular = funFix2(skillsB[11] * 0.5 + (skillsB[9] + skillsB[6] + skillsB[2]) / 3 * 0.4 + (skillsB[0] + skillsB[5]) / 2 * 0.1 + rou2);
            var shotlong = funFix2(skillsB[12] * 0.5 + (skillsB[9] + skillsB[11] + skillsB[6]) / 3 * 0.4 + (skillsB[0] + skillsB[5]) / 2 * 0.1 + rou2);
            var shothead = funFix2(skillsB[10] * 0.5 + (skillsB[0] * 2 + skillsB[6]) / 3 * 0.4 + (skillsB[2] + skillsB[5]) / 2 * 0.1 + rou2);
            return { shotregular, shotlong, shothead };
        }

        function bep() {
            if (newPlayer == 0) {
                if (notGK) {
                    var futureSI = parseInt(MP((funFix1(TI / session / 10 * 6 + allSum + remainder * 1)), 7) / (MP(2, 9) * MP(5, 4) * MP(7, 7)));
                    var futureSTA = parseInt(futureSI * 500 * MP(300 / (ageMonths + 6), 2.5));
                }
                else {
                    var futureSI = parseInt(MP(funFix1(TI / session / 10 * 6 + allSum + remainder * 1) / 11 * 14, 7) / (MP(2, 9) * MP(5, 4) * MP(7, 7)));
                    var futureSTA = parseInt(futureSI * 500 * MP(300 / (ageMonths + 6), 2.5) * 0.75);
                }
                var wage2 = SI * wage_rate;
                if (session < 5)
                    var bep = parseInt(futureSTA * 0.94 - wage * 7); // 移籍税6%　移籍不可期間6週＋1週分の給料
                else
                    var bep = parseInt(futureSTA * 0.94 - wage * (11 - session) - wage2 * (session - 4));
                if (session <= month)
                    bep = en.format(bep);
                else
                    bep = "(" + en.format(bep) + ")";
            }
            else {
                var futureSTA = 0;
                var bep = 0;
            }
            return { bep, futureSTA };
        }

        function calc_VALUE() {
            function calcR5V(i) {
                i = MR(R5Value_base * i);
                return i;
            }
            function calcR5V2(i) {
                i = MR(R5Value2_base * i);
                return i;
            }
            var ageValue = (1 / 50) * (100 - (100) * MP(Math.E, -1 * (443 - ageMonths) * 0.008)) * 240 / ageMonths;
            if (rou3 == 0)
                rou3 = 0.1;
            var rouValue = (1 / 80) * (100 - (100) * MP(Math.E, -rou3 / ((ageMonths - 179) * 0.283) * 1.529445597));
            var ratValue = R5FP0 > R5FP1 ? R5FP0 : R5FP1;
            var nation = document.getElementsByClassName("country_link ")[0].getAttribute("href").substring(16).replace(/\/$/, '');
            var nation_rank_number = nation_rank.indexOf(nation) + 1;
            var rankadapt = [1, 1.3, 1.2, 1.2, 1.15, 1.15, 1.15, 1.15, 1.15, 1.15, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.1, 1.05, 1.05, 1.05, 1.05, 1.05];
            var rankValue = rankadapt[nation_rank_number];
            if (document.getElementsByClassName("nt_icon").length) {
                var NTageValue = (400 - ageMonths) / 100;
                if (NTageValue < 1.1)
                    NTageValue = 1.1;
                var NTValue = NTageValue * rankValue;
            }
            else
                var NTValue = 1;
            //				DC    DL/R  DMC   DML/R MC   ML/R  OMC   OML/R F	GK
            var posValue = [1.2, 1.0, 1.1, 0.7, 1.2, 1.0, 0.9, 0.8, 1.2, 0.8];
            if (R5FP0 > R5FP1) {
                if (R5FP0 / R5FP1 > 1.05)
                    posValue = posValue[FP[0]] * 1;
                else
                    posValue = Math.max(posValue[FP[0]] * 1, posValue[FP[1]] * 1);
            }
            else if (R5FP0 < R5FP1) {
                if (R5FP1 / R5FP0 > 1.05)
                    posValue = posValue[FP[1]] * 1;
                else
                    posValue = Math.max(posValue[FP[0]] * 1, posValue[FP[1]] * 1);
            }
            else
                posValue = posValue[FP[0]] * 1;
            if (FP[0] != FP[1])
                var FPValue = 1.1;
            else
                var FPValue = 1;
            if (funFix2(REREC[1][FP[0]] * 1) < funFix2(REREC[1][FP[1]] * 1))
                var FPR5pure = funFix2(REREC[1][FP[1]] * 1);
            else
                var FPR5pure = funFix2(REREC[1][FP[0]] * 1);
            if (notGK)
                var skillMax = 280;
            else
                var skillMax = 220;
            var SIValue = SI * skillMax / allSum * FPR5pure / 100;
            if (session <= month) {
                if (newPlayer == 1) {
                    var aveTI = (27 - year) * 2;
                    var TIValue = ML(aveTI);
                }
                else {
                    var aveTI = TI / session2;
                    if (year <= 24) {
                        var TIValue = [];
                        if (year < 18)
                            TIValue = [ML(aveTI) * (18 - year), ML(aveTI) * (19 - year)];
                        else if (year == 18)
                            TIValue = [ML(aveTI) / 3, ML(aveTI)];
                        else if (year == 19)
                            TIValue = [ML(aveTI) / 2, ML(aveTI)];
                        else if (year == 20)
                            TIValue = [ML(aveTI), ML(aveTI) * 2];
                        else if (year == 21 || year == 22)
                            TIValue = [ML(aveTI), ML(aveTI) * ((25 - year) * 0.5)];
                        else
                            TIValue = [ML(aveTI), ML(aveTI) * 1.5];
                    }
                    else
                        var TIValue = ML(aveTI);
                    if (aveTI < 0) {
                        if (year <= 24)
                            TIValue = [1 + aveTI / 10, 1];
                        else
                            TIValue = 1 + aveTI / 10;
                    }
                    if (aveTI >= 0 && aveTI < 2.8) {
                        if (year <= 24)
                            TIValue = [1, 1.1];
                        else
                            TIValue = 1;
                    }
                }
            }
            else {
                var aveTI = [];
                var TIValue = [];
                if (newPlayer == 1) {
                    aveTI = [(27 - year) * 2 - 2, (27 - year) * 2];
                    TIValue = [ML(aveTI[0]), ML(aveTI[1])];
                }
                else if (year <= 24) {
                    if (year < 18) {
                        aveTI = [TI / session2 - 2, TI / ((session2 - month) / 2 + month)];
                        TIValue = [ML(aveTI[0]) * (18 - year), ML(aveTI[0]) * (19 - year), ML(aveTI[1]) * (18 - year), ML(aveTI[1]) * (19 - year)];
                    }
                    else if (year == 18) {
                        aveTI = [TI / ((session2 - month) * 1.5 + month), TI / ((session2 - month) / 1.5 + month)];
                        TIValue = [ML(aveTI[0]) / 3, ML(aveTI[0]), ML(aveTI[1]) / 3, ML(aveTI[1])];
                    }
                    else if (year == 19) {
                        aveTI = [TI / ((session2 - month) * 4 + month), TI / session2];
                        TIValue = [ML(aveTI[0]) / 2, ML(aveTI[0]), ML(aveTI[1]) / 2, ML(aveTI[1])];
                    }
                    else if (year == 20 || year == 21) {
                        aveTI = [TI / ((session2 - month) * 3 + month), TI / ((session2 - month) / 2 + month)];
                        if (year == 20)
                            TIValue = [ML(aveTI[0]), ML(aveTI[0]) * 2, ML(aveTI[1]), ML(aveTI[1]) * 2];
                        else
                            TIValue = [ML(aveTI[0]), ML(aveTI[0]) * ((25 - year) * 0.5), ML(aveTI[1]), ML(aveTI[1]) * ((25 - year) * 0.5)];
                    }
                    else {
                        aveTI = [TI / ((session2 - month) * 3 + month), TI / session2 - 1];
                        if (year == 22)
                            TIValue = [ML(aveTI[0]), ML(aveTI[0]) * ((25 - year) * 0.5), ML(aveTI[1]), ML(aveTI[1]) * ((25 - year) * 0.5)];
                        else
                            TIValue = [ML(aveTI[0]), ML(aveTI[0]) * 1.5, ML(aveTI[1]), ML(aveTI[1]) * 1.5];
                    }
                }
                else {
                    aveTI = [TI / session2 - 0.5, TI / session2];
                    TIValue = [ML(aveTI[0]), ML(aveTI[1])];
                }
                if (year <= 24) {
                    if (aveTI[0] < 0) {
                        TIValue[0] = 1 + aveTI[0] / 10;
                        TIValue[1] = 1 + aveTI[0] / 10;
                    }
                    if (aveTI[1] < 0) {
                        TIValue[2] = 1 + aveTI[1] / 10;
                        TIValue[3] = 1 + aveTI[1] / 10;
                    }
                    if (aveTI[0] >= 0 && aveTI[0] < 2.8) {
                        TIValue[0] = 1;
                        TIValue[1] = 1;
                    }
                    if (aveTI[1] >= 0 && aveTI[1] < 2.8) {
                        TIValue[2] = 1;
                        TIValue[3] = 1;
                    }
                }
                else {
                    if (aveTI[0] < 0)
                        TIValue[0] = 1 + aveTI[0] / 10;
                    if (aveTI[1] < 0)
                        TIValue[1] = 1 + aveTI[1] / 10;
                    if (aveTI[0] >= 0 && aveTI[0] < 2.8)
                        TIValue[0] = 1;
                    if (aveTI[1] >= 0 && aveTI[1] < 2.8)
                        TIValue[1] = 1;
                }
            }
            var bloom = 1;
            if (notGK) {
                SI = SI * 1;
                if (year == 18) {
                    if (SI >= 50000)
                        bloom = 0.3;
                    if (SI > 25000 && SI < 50000)
                        bloom = 0.4;
                }
                if (year == 19) {
                    if (SI >= 100000)
                        bloom = 0.4;
                    if (SI >= 75000 && SI < 100000)
                        bloom = 0.5;
                    if (SI > 50000 && SI < 75000)
                        bloom = 0.6;
                }
                if (year == 20) {
                    if (SI >= 150000)
                        bloom = 0.5;
                    if (SI >= 100000 && SI < 150000)
                        bloom = 0.6;
                    if (SI > 75000 && SI < 100000)
                        bloom = 0.7;
                }
                if (year == 21) {
                    if (SI >= 200000)
                        bloom = 0.6;
                    if (SI >= 150000 && SI < 200000)
                        bloom = 0.7;
                    if (SI > 100000 && SI < 150000)
                        bloom = 0.8;
                }
                if (year == 22) {
                    if (SI >= 250000)
                        bloom = 0.7;
                    if (SI >= 200000 && SI < 250000)
                        bloom = 0.8;
                    if (SI > 150000 && SI < 200000)
                        bloom = 0.9;
                }
                if (year == 23) {
                    if (SI >= 300000)
                        bloom = 0.8;
                    if (SI >= 250000 && SI < 300000)
                        bloom = 0.9;
                }
                if (year == 24 && SI >= 350000)
                    bloom = 0.9;
            }
            var R5Value_base = SIValue * wage_rate * ageValue * rouValue * ratValue * NTValue * FPValue * posValue * (1 + ((ratValue - 100) / 100)) * bloom;
            if (session <= month) {
                if (newPlayer == 0 && year <= 24) {
                    var R5Value = [calcR5V(TIValue[0]), calcR5V(TIValue[1])];
                    var maxR5Value = Math.max.apply(null, R5Value);
                    var minR5Value = Math.min.apply(null, R5Value);
                    maxR5Value = Math.max(maxR5Value, staPrice);
                    minR5Value = Math.max(minR5Value, staPrice);
                }
                else {
                    var R5Value = calcR5V(TIValue);
                    R5Value = Math.max(R5Value, staPrice);
                }
            }
            else {
                if (newPlayer == 0 && year <= 24)
                    var R5Value = [calcR5V(TIValue[0]), calcR5V(TIValue[1]), calcR5V(TIValue[2]), calcR5V(TIValue[3])];
                else
                    var R5Value = [calcR5V(TIValue[0]), calcR5V(TIValue[1])];
                var maxR5Value = Math.max.apply(null, R5Value);
                var minR5Value = Math.min.apply(null, R5Value);
                maxR5Value = Math.max(maxR5Value, staPrice);
                minR5Value = Math.max(minR5Value, staPrice);
            }
            var hidden = hidden_skill_table.getElementsByTagName("td");
            if (hidden[0].innerHTML != "") {
                var x;
                for (var i = 0; i < 4; i++) {
                    x = hidden[i].getAttribute("tooltip").match(/\d+/);
                    if (x < 10)
                        x = " " + x;
                    hidden[i].setAttribute("style", "white-space: nowrap;");
                    hidden[i].innerHTML += " (" + x + "/20)";
                }
                if (R5FP0 > R5FP1)
                    var valueFP = FP[0];
                else
                    var valueFP = FP[1];
                var inju = hidden[0].getAttribute("tooltip").match(/\d+/);
                var aggr = hidden[1].getAttribute("tooltip").match(/\d+/);
                var prof = hidden[2].getAttribute("tooltip").match(/\d+/);
                var adap = hidden[3].getAttribute("tooltip").match(/\d+/);
                var injuValue = [0, 0.050, 0.040, 0.030, 0.020, 0.010, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.010, -0.020, -0.030, -0.040, -0.050];
                var aggrValue = [[0, 0.100, 0.080, 0.060, 0.040, 0.020, 0, 0, 0, 0, 0, 0, 0, -0.020, -0.040, -0.060, -0.080, -0.100, -0.120, -0.140, -0.160],
                [0, 0.100, 0.080, 0.060, 0.040, 0.020, 0, 0, 0, 0, 0, 0, 0, -0.020, -0.040, -0.060, -0.080, -0.100, -0.120, -0.140, -0.160],
                [0, 0.100, 0.080, 0.060, 0.040, 0.020, 0, 0, 0, 0, 0, 0, 0, -0.020, -0.040, -0.060, -0.080, -0.100, -0.120, -0.140, -0.160],
                [0, 0.080, 0.060, 0.050, 0.030, 0.010, 0, 0, 0, 0, 0, 0, 0, -0.010, -0.020, -0.030, -0.040, -0.050, -0.060, -0.080, -0.100],
                [0, 0.080, 0.060, 0.050, 0.030, 0.010, 0, 0, 0, 0, 0, 0, 0, -0.010, -0.020, -0.030, -0.040, -0.050, -0.060, -0.080, -0.100],
                [0, 0.080, 0.060, 0.050, 0.030, 0.010, 0, 0, 0, 0, 0, 0, 0, -0.010, -0.020, -0.030, -0.040, -0.050, -0.060, -0.080, -0.100],
                [0, 0.040, 0.030, 0.020, 0.010, 0.005, 0, 0, 0, 0, 0, 0, 0, -0.005, -0.010, -0.010, -0.020, -0.020, -0.030, -0.030, -0.040],
                [0, 0.040, 0.030, 0.020, 0.010, 0.005, 0, 0, 0, 0, 0, 0, 0, -0.005, -0.010, -0.010, -0.020, -0.020, -0.030, -0.030, -0.040],
                [0, 0.040, 0.030, 0.020, 0.010, 0.005, 0, 0, 0, 0, 0, 0, 0, -0.005, -0.010, -0.010, -0.020, -0.020, -0.030, -0.030, -0.040],
                [0, 0.020, 0.015, 0.010, 0.005, 0.003, 0, 0, 0, 0, 0, 0, 0, -0.003, -0.005, -0.005, -0.010, -0.010, -0.015, -0.015, -0.020],
                [0, 0.020, 0.015, 0.010, 0.005, 0.003, 0, 0, 0, 0, 0, 0, 0, -0.003, -0.005, -0.005, -0.010, -0.010, -0.015, -0.015, -0.020],
                [0, 0.020, 0.015, 0.010, 0.005, 0.003, 0, 0, 0, 0, 0, 0, 0, -0.003, -0.005, -0.005, -0.010, -0.010, -0.015, -0.015, -0.020],
                [0, 0.010, 0.008, 0.006, 0.004, 0.002, 0, 0, 0, 0, 0, 0, 0, -0.002, -0.004, -0.004, -0.006, -0.006, -0.008, -0.008, -0.010]];
                var profValue = [0, -0.020, -0.015, -0.010, -0.005, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005, 0.010, 0.015, 0.020, 0.025, 0.030];
                var R5all = [REREC[2][1], REREC[2][0], REREC[2][1], REREC[2][3], REREC[2][2], REREC[2][3], REREC[2][5], REREC[2][4], REREC[2][5], REREC[2][7], REREC[2][6], REREC[2][7], REREC[2][8]];
                var maxR5 = Math.max.apply(null, R5all);
                var minR5 = Math.min.apply(null, R5all);
                var adapValue = [0, -0.020, -0.015, -0.010, -0.005, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005, 0.010, 0.015, 0.020, 0.025, 0.030];
                if (notGK) {
                    if (minR5 / maxR5 >= 0.9)
                        var hiddenValue = 1 + injuValue[inju] + aggrValue[valueFP][aggr] + profValue[prof] + adapValue[adap]; // R5の最大値と最小値の差が10%以上だった場合にはadapValueを加算しない。
                    else
                        var hiddenValue = 1 + injuValue[inju] + aggrValue[valueFP][aggr] + profValue[prof];
                }
                else
                    var hiddenValue = 1 + injuValue[inju] * 2 + profValue[prof];
                var R5Value2_base = R5Value_base * hiddenValue;
                if (session <= month) {
                    if (newPlayer == 0 && year <= 24) {
                        var R5Value2 = [calcR5V2(TIValue[0]), calcR5V2(TIValue[1])];
                        var maxR5Value2 = Math.max.apply(null, R5Value2);
                        var minR5Value2 = Math.min.apply(null, R5Value2);
                        maxR5Value2 = Math.max(maxR5Value2, staPrice);
                        minR5Value2 = Math.max(minR5Value2, staPrice);
                    }
                    else {
                        var R5Value2 = calcR5V2(TIValue);
                        R5Value2 = Math.max(R5Value2, staPrice);
                    }
                }
                else {
                    if (newPlayer == 0 && year <= 24)
                        var R5Value2 = [calcR5V2(TIValue[0]), calcR5V2(TIValue[1]), calcR5V2(TIValue[2]), calcR5V2(TIValue[3])];
                    else
                        var R5Value2 = [calcR5V2(TIValue[0]), calcR5V2(TIValue[1])];
                    var maxR5Value2 = Math.max.apply(null, R5Value2);
                    var minR5Value2 = Math.min.apply(null, R5Value2);
                    maxR5Value2 = Math.max(maxR5Value2, staPrice);
                    minR5Value2 = Math.max(minR5Value2, staPrice);
                }
            }
            return { i, hidden, R5all, adap, aggr, prof, minR5Value, maxR5Value, minR5Value2, maxR5Value2, R5Value, R5Value2, nation };
        }

        function calc_R5bonus() {
            var headerBonus = skillsB_rou[10] > 12 ? funFix2((MP(Math.E, (skillsB_rou[10] - 10) ** 3 / 1584.77) - 1) * 0.8 + MP(Math.E, (skillsB_rou[0] * skillsB_rou[0] * 0.007) / 8.73021) * 0.15 + MP(Math.E, (skillsB_rou[6] * skillsB_rou[6] * 0.007) / 8.73021) * 0.05) : 0;
            var fkBonus = funFix2(MP(Math.E, MP(skillsB_rou[13] + skillsB_rou[12] + skillsB_rou[9] * 0.5, 2) * 0.002) / 327.92526);
            var ckBonus = funFix2(MP(Math.E, MP(skillsB_rou[13] + skillsB_rou[8] + skillsB_rou[9] * 0.5, 2) * 0.002) / 983.65770);
            var pkBonus = funFix2(MP(Math.E, MP(skillsB_rou[13] + skillsB_rou[11] + skillsB_rou[9] * 0.5, 2) * 0.002) / 1967.31409);
            var gainBase = funFix2((skillsB_rou[0] ** 2 + skillsB_rou[1] ** 2 * 0.5 + skillsB_rou[2] ** 2 * 0.5 + skillsB_rou[3] ** 2 + skillsB_rou[4] ** 2 + skillsB_rou[5] ** 2 + skillsB_rou[6] ** 2) / 6 / 22.9 ** 2);
            var keepBase = funFix2((skillsB_rou[0] ** 2 * 0.5 + skillsB_rou[1] ** 2 * 0.5 + skillsB_rou[2] ** 2 + skillsB_rou[3] ** 2 + skillsB_rou[4] ** 2 + skillsB_rou[5] ** 2 + skillsB_rou[6] ** 2) / 6 / 22.9 ** 2);
            //	0:DC			1:DL/R			2:DMC			3:DML/R			4:MC			5:ML/R			6:OMC			7:OML/R			8:F							  	
            var posGain = [gainBase * 0.3, gainBase * 0.3, gainBase * 0.9, gainBase * 0.6, gainBase * 1.5, gainBase * 0.9, gainBase * 0.9, gainBase * 0.6, gainBase * 0.3];
            var posKeep = [keepBase * 0.3, keepBase * 0.3, keepBase * 0.9, keepBase * 0.6, keepBase * 1.5, keepBase * 0.9, keepBase * 0.9, keepBase * 0.6, keepBase * 0.3];
            var allBonus = skills.length == 11 ? 0 : headerBonus * 1 + fkBonus * 1 + ckBonus * 1 + pkBonus * 1;
            if (skills.length == 11) {
                var R5FP0 = funFix2(REREC[2][FP[0]] * 1 + allBonus * 1);
                var R5FP1 = funFix2(REREC[2][FP[1]] * 1 + allBonus * 1);
            }
            else {
                var R5FP0 = funFix2(REREC[2][FP[0]] * 1 + allBonus * 1 + posGain[FP[0]] * 1 + posKeep[FP[0]] * 1);
                var R5FP1 = funFix2(REREC[2][FP[1]] * 1 + allBonus * 1 + posGain[FP[1]] * 1 + posKeep[FP[1]] * 1);
            }
            return { R5FP0, R5FP1, posGain, posKeep, headerBonus, ckBonus, fkBonus, pkBonus, allBonus };
        }

        function calc_TI() {
            var wage = new String(gettr[4].getElementsByTagName("span")[0].innerHTML).replace(/,/g, "");
            var today = new Date();
            var day = (today.getTime() - training1.getTime()) / 1000 / 3600 / 24;
            while (day > 84 - 16 / 24)
                day -= 84;
            var session = Math.floor(day / 7) + 1;
            var check = today.getTime() - SS.getTime();
            var season = 84 * 24 * 3600 * 1000;
            var count = 0;
            var ageMax = 20.1 + session / 12;
            while (check > season) {
                check -= season;
                count++;
            }
            if (wage == 30000 || (playerID[0] > youthID && count == 0)) {
                var newPlayer = 1;
                wage_rate = 23.75;
            }
            else
                var newPlayer = 0;
            if (document.getElementsByClassName("gk")[0] == null)
                var weight = 263533760000;
            else
                var weight = 48717927500;
            var TI = MP(2, ML(weight * SI) / ML(MP(2, 7))) - MP(2, ML(weight * wage / (wage_rate)) / ML(MP(2, 7)));
            TI = MR(TI * 10);
            const session2 = session == 0 ? 12 : session;
            return { weight, session, newPlayer, TI, session2, wage };
        }

        function calc_SellToAgent() {
            if (notGK)
                var staPrice = parseInt(SI * 500 * MP(300 / ageMonths, 2.5));
            else
                var staPrice = parseInt(SI * 500 * MP(300 / ageMonths, 2.5) * 0.75);
            var maxPrice = parseInt(SI * (192400 / (ageMonths / 12) - 5200));
            if (maxPrice < staPrice)
                maxPrice = staPrice;
            return { staPrice, maxPrice };
        }

        function calc_age() {
            var age = gettr[2].getElementsByTagName("td")[0].innerHTML;
            var yearidx = age.search(/\d\d/);
            var year = age.substr(yearidx, 2);
            age = age.slice(yearidx + 2);
            var month = Number(age.replace(/\D+/g, ""));
            var ageMonths = year * 12 + month * 1;
            return { ageMonths, month, year };
        }
    }

    document.calculateREREC = function (positionIndex, skills, SI, rou) {
        if (positionIndex == 13) var weight = 48717927500;
        else var weight = 263533760000;
        var rec = [];			// RERECb
        var ratingR = [];		// RatingR5
        var ratingR5 = [];		// RatingR5 + routine
        var skillSum = 0;

        for (var i = 0; i < skills.length; i++) {
            skillSum += parseInt(skills[i]);
        }
        for (i = 0; 2 + i <= positionIndex; i += 2) {		// TrExMaとRECのweight表のずれ修正
            positionIndex--;
        }
        var remainder = MR((MP(2, ML(weight * SI) / ML(MP(2, 7))) - skillSum) * 10) / 10;		// RatingR5 remainder
        for (var i = 0; i < 10; i++) {
            rec[i] = 0;
            ratingR[i] = 0;
        }
        for (var j = 0; j < 9; j++) {		// All position
            var remainderWeight = 0;		// REREC remainder weight sum
            var remainderWeight2 = 0;		// RatingR5 remainder weight sum
            var not20 = 0;					// 20以外のスキル数
            if (positionIndex == 9) j = 9;	// GK

            for (var i = 0; i < weightR[positionIndex].length; i++) {
                rec[j] += skills[i] * weightRb[j][i];
                ratingR[j] += skills[i] * weightR5[j][i];
                if (skills[i] != 20) {
                    remainderWeight += weightRb[j][i];
                    remainderWeight2 += weightR5[j][i];
                    not20++;
                }
            }
            if (remainder / not20 > 0.9 || not20 == 0) {
                if (positionIndex == 9) not20 = 11;
                else not20 = 14;
                remainderWeight = 1;
                remainderWeight2 = 5;
            }
            rec[j] = funFix3((rec[j] + remainder * remainderWeight / not20 - 2) / 3);
            ratingR[j] += remainder * remainderWeight2 / not20;
            ratingR5[j] = funFix2(ratingR[j] + rou * 5);
            ratingR[j] = funFix2(ratingR[j]);
            if (positionIndex == 9) j = 9;		// Loop end
        }
        var recAndRating = [rec, ratingR, ratingR5];
        return recAndRating;
    };

    document.calculateREREC2 = function (positionIndex, skills, SI) {
        if (positionIndex == 13) {
            var skillWeightSum = MP(SI, 0.143) / 0.02979;			// GK Skillsum
            var weight = 48717927500;
        }
        else {
            var skillWeightSum = MP(SI, 1 / 6.99194) / 0.02336483;	// Other Skillsum
            var weight = 263533760000;
        }
        var skillSum = 0;
        for (var j = 0; j < skills.length; j++) {
            skillSum += parseInt(skills[j]);
        }
        var remainder = MR((MP(2, ML(weight * SI) / ML(MP(2, 7))) - skillSum) * 10) / 10;		// 正確な余り
        var rec = 0;
        var weightSum = 0;
        var not20 = 0;

        for (i = 0; 2 + i <= positionIndex; i += 2) {		// TrExMaとRECのweight表のずれ修正
            positionIndex--;
        }
        skillWeightSum -= skillSum;			// REREC remainder
        for (var i = 0; i < weightR[positionIndex].length; i++) {
            rec += skills[i] * weightR[positionIndex][i];
            if (skills[i] != 20) {
                weightSum += weightR[positionIndex][i];
                not20++;
            }
        }
        if (remainder / not20 > 0.9 || not20 == 0) {
            weightSum = 0;
            for (var i = 0; i < weightR[positionIndex].length; i++) weightSum += weightR[positionIndex][i];
            if (positionIndex == 9) not20 = 11;
            else not20 = 14;
        }
        rec += skillWeightSum * weightSum / not20;	// REREC Score
        if (positionIndex == 9) rec *= 1.27;					// GK
        rec = funFix2((rec - recLast[0][positionIndex]) / recLast[1][positionIndex]);

        return rec;
    };

    if (testmode == 99) {
        var prevID = playerID[0] * 1 - 1;
        var prev10ID = playerID[0] * 1 - 10;
        var prev100ID = playerID[0] * 1 - 100;
        var nextID = playerID[0] * 1 + 1;
        var next10ID = playerID[0] * 1 + 10;
        var next100ID = playerID[0] * 1 + 100;

        var id_select = "<div><a href=\"https://trophymanager.com/players/" + prev100ID + "/\"><<100</a>&nbsp;&nbsp;<a href=\"https://trophymanager.com/players/" + prev10ID + "/\"><<10</a>&nbsp;&nbsp;<a href=\"https://trophymanager.com/players/" + prevID + "/\"><<1</a>&nbsp;&nbsp;<a href=\"https://trophymanager.com/players/" + nextID + "/\">1>></a>&nbsp;&nbsp;<a href=\"https://trophymanager.com/players/" + next10ID + "/\">10>></a>&nbsp;&nbsp;<a href=\"https://trophymanager.com/players/" + next100ID + "/\">100>></a></div>";
        $("#top_menu_sub").html(id_select);
    }

    var CHU_CHI = document.createElement("div");
    CHU_CHI.innerHTML = "RatingR5 " + version + "&nbsp;&nbsp;&nbsp;&nbsp;RatingR5 is developed by <a href=\"/club/3415957/\">CHU-CHI</a>.&nbsp;&nbsp;&nbsp;&nbsp;official site: <a href =\"https://tmchuchi.web.fc2.com/\">https://tmchuchi.web.fc2.com/</a>";
    document.getElementsByClassName("body_end center small clear_both")[0].appendChild(CHU_CHI);

    (function () {
        var playerTable = document.getElementsByClassName("skill_table zebra")[0];
        var skillArray = document.getSkills(playerTable);
        computeRating(playerTable, skillArray);
    })();
}