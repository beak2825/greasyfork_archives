// ==UserScript==
// @name         waifulab储存多张图片
// @namespace    Hinata
// @version      0.1
// @description  在waifu labs网站中同一路径下储存多张图片
// @author       pikaqian
// @match        https://waifulabs.com/generate
// @license      MIT
// @icon         data:image/jpeg;base64,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
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/447234/waifulab%E5%82%A8%E5%AD%98%E5%A4%9A%E5%BC%A0%E5%9B%BE%E7%89%87.user.js
// @updateURL https://update.greasyfork.org/scripts/447234/waifulab%E5%82%A8%E5%AD%98%E5%A4%9A%E5%BC%A0%E5%9B%BE%E7%89%87.meta.js
// ==/UserScript==

(function() {
    'use strict';

    var api=document.createElement('script')
    api.innerText=`
    function createName(e,a,t=!0){const i=["Aka","Ake","Aki","Ara","Ari","Ashi","Ata","Atsu","Azu","Bai","Benji","Bo","Bunra","Chi","Cho","Dai","Do","Enno","Fu","Fuku","Fumi","Ge","Go","Ha","Hachi","Hara","Hi","Hide","Hiro","Hisa","Ho","Hoku","Hyo","Ichi","Ine","Iso","Ja","Jinza","Jo","Juni","Ka","Kage","Kama","Kanza","Katsu","Kawa","Kazu","Ke","Kei","Kiyo","Ko","Koju","Ku","Kuni","Kyo","Kyu","Ma","Mamo","Mana","Mare","Masa","Mata","Matsu","Mitsu","Miya","Mo","Monta","Moro","Moto","Mu","Mune","Na","Naga","Naka","Nari","Naru","No","Nobo","Nobu","Nori","Oka","Oki","Ori","Ra","Ri","Ryu","Sa","Sada","Saku","Sei","Sha","Shi","Shini","Shinza","Sho","Shu","So","Suke","Sumi","Ta","Tada","Tadi","Taka","Take","Tama","Tamu","Tatsu","To","Toki","Tomo","Toyo","Tsu","Tsuga","Tsune","Tsura","Uta","Ya","Yaka","Yasu","Yo","Yori","Yoshi","Yu","Yugo","Yusu"],r=["baru","bei","bo","boru","buchi","bumi","buro","busuke","chi","chiro","chu","daira","dao","dashi","dasu","don","fumi","fusa","gai","gawa","geru","ginori","goro","gumi","gumichi","hachi","haku","haru","hashi","hei","hhiko","hi","hide","hiko","hira","hiro","hisa","hito","jiro","juro","ka","kan","kao","kashi","kasu","kazu","ke","ken","keno","ki","kichi","kio","kira","kishi","kko","ko","koji","koto","kuhei","kumi","kumo","kuni","kuro","kusho","mao","mara","maro","masa","masu","matsu","mba","mei","meisetsu","michi","mio","mitsu","mochi","momi","mon","mori","moru","moto","muku","mune","muro","naga","naka","nao","nari","ne","nibu","nji","njiro","nkei","nmochi","nobu","nokoji","nore","nori","noru","npachi","npaku","nsei","nso","ntaro","pachi","rai","raku","rao","rata","razo","rei","reo","ri","rio","ro","robei","romao","ruki","ruko","rumi","sa","saburo","sai","sake","saki","saru","sashi","sato","sayuki","seki","shai","shi","shida","shige","shiki","shin","shiro","shisai","sho","sine","ssai","su","suke","sumu","tada","taka","take","tan","tane","taro","taru","teru","toki","tomi","tomo","tomu","tora","toru","toshi","tsu","tsugu","tsuna","tsune","tsuya","tsuzan","yaki","yasu","yori","yoshi","yuki","zan","zane","zen","zo","zushi"],o=["A","Ai","Aki","Ako","Ama","Ane","Ari","Asa","Asu","Atsu","Aya","Azu","Chi","China","Do","E","Emi","Etsu","Fu","Fumi","Fuyu","Gi","Ha","Hai","Hani","Haru","Hazu","Hi","Hika","Hime","Hiro","Ho","Hono","Hoshi","I","Ichi","Ima","Ina","Iri","Isa","Itsu","Jo","Ka","Kaho","Kai","Kame","Kami","Kane","Kasu","Katsu","Kaza","Kazu","Ki","Kimi","Kinu","Kio","Kira","Kiyo","Ko","Kochi","Koha","Koma","Kono","Koza","Ku","Kuki","Kuru","Kyo","Ma","Machi","Mae","Maki","Mari","Masu","Matsu","Mayo","Me","Michi","Mido","Miho","Mika","Mili","Mine","Misa","Mitsu","Natsu","Ni","No","Ori","Osa","Ra","Rai","Rei","Ri","Rina","Ru","Ruri","Ryo","Sa","Sai","Saki","Saku","Sana","Sawa","Sayo","Shi","Shiho","Shiru","Su","Sumi","Suzu","Ta","Tada","Taka","Tama","Tana","Tani","Tatsu","Te","To","Toki","Tomi","Tomo","Toshi","Tsu","Tsuki","U","Ume","Ura","Ure","Usa","Utsu","Wa","Waka","Ya","Yasu","Yoshi","Yu","Yumi"],s=["chi","chiko","chiru","diri","doka","dori","fumi","fuyu","gami","gi","gisa","hana","haru","ho","homi","hori","kari","kayo","kemi","keno","ki","kichi","kiko","ko","kumi","kura","kuri","machi","maki","mami","mari","me","meki","meko","mi","miju","mika","miko","mo","momi","na","nako","nami","nari","nase","natsu","ne","neko","ni","niko","no","nomi","noue","nri","nuye","ra","rabi","rako","rari","ri","riko","rime","risa","rise","ru","rumi","ruri","sa","sagi","sago","saki","sami","sato","se","shi","shiko","su","suki","sumi","tako","to","tomi","tori","tose","tsu","tsuki","tsumi","tsune","tsuyo","tu","wara","ya","yama","yoko","yomi","yoshi","yumi","ze","zomi","zu","zuka","zuki","zume","zumi"],n=["A","Ada","Aga","Ai","Aka","Aki","Ama","Ame","Ami","Ara","Ari","Asa","Ashi","Azu","Chi","De","Do","Ebi","Eda","Ena","Eno","Fu","Fuchi","Fuji","Fuku","Furu","Ha","Hagi","Hama","Hana","Hara","Hari","Hashi","Hata","Haya","Hi","Higa","Hira","Hiro","Hisa","Ho","Hori","Ichi","Iga","Ike","Ima","Ina","Ise","Ishi","Iso","Iwa","Izu","Ka","Kaga","Kagu","Kami","Kana","Kane","Kashi","Kata","Katsu","Kawa","Kaze","Ki","Kino","Kiri","Ko","Koba","Koda","Komo","Koni","Koya","Ku","Kuma","Kuri","Kuro","Kuwa","Ma","Maki","Mana","Maru","Masa","Masu","Matsu","Mawa","Mi","Mina","Mitsu","Miya","Mizu","Mo","Mochi","Mori","Moto","Mu","Mura","Na","Naga","Naka","Nari","Natsu","Ni","Nishi","No","Oga","Oha","Oka","Oki","Oku","Omo","Ona","Osa","Oshi","Oto","Otsu","Ra","Raku","Ri","Riki","Sa","Saka","Saki","Saku","Se","Seki","Shi","Shino","Shira","Sho","So","Su","Suga","Sugi","Sumi","Suzu","Ta","Taha","Taka","Take","Tani","Tate","Tatsu","To","Tomi","Tsu","Ubu","Uchi","Ume","Ura","Uye","Uzu","Wa","Waka","Waki","Waku","Ya","Yada","Yaku","Yama","Yana","Yashi","Yasu","Yori","Yoshi","Yu","Za","Zaka"],l=["ba","bara","baru","bashi","bata","be","bi","bira","bu","buki","buto","chi","da","date","dera","fumi","ga","gae","gai","gaki","gami","gata","gawa","gi","gimoto","giri","gisawa","gishi","gita","gome","guchi","gusa","hara","hata","haya","hei","hira","hisa","hoshi","jima","ka","kaga","kaki","kama","kami","kawa","kaze","ken","ki","kida","kino","kiri","kita","kite","kono","kuda","kuma","kura","kuro","kuwa","ma","machi","maki","mano","mari","maru","matsu","maya","me","mi","mida","mine","misu","mitsu","miya","mo","mori","moto","mura","muro","naba","naga","nagi","naha","naka","nari","nashi","nda","ndo","ne","nen","ni","nishi","no","nobu","noda","numa","ra","rada","ragi","raki","rano","rata","ri","rima","ro","roma","runo","ruta","saka","saki","sano","sari","sato","sawa","se","shi","shiba","shida","shige","shima","shino","shiro","shita","sho","sone","su","suchi","suda","sugi","ta","tagi","taka","take","taki","tanda","tani","tase","to","tomi","tsami","tsu","tsuka","tsuki","tsumi","wa","wagi","wara","wari","wata","ya","yama","yashi","yomi","yoshi","yuki","za","zaka","zaki","zato","zawa","ziwa","zora","zuki","zuma","zumi","zuno"],u=e,c=[];let d;for(let h=0;h<a;h++){const e=Math.random()*n.length|0,a=Math.random()*l.length|0;if(1===u){const i=Math.random()*o.length|0,r=Math.random()*s.length|0;d=t?o[i]+s[r]:n[e]+l[a]+" "+o[i]+s[r]}else{const o=Math.random()*i.length|0,s=Math.random()*r.length|0;d=t?i[o]+r[s]:n[e]+l[a]+" "+i[o]+r[s]}c.push(d)}return c}
    function addGirl(seed,name){
        if(name==''){
            name=createName(1,1,true)[0];
        }
        else{
            name=name;
        }
        var meta=document.getElementsByTagName('meta');
        var token='';
        for(var i=0;i<meta.length;i++){
            if(meta[i].getAttribute('name')=='csrf-token'){
                token=meta[i].getAttribute('content');
            }
        }
        fetch("https://waifulabs.com/generate/save_unauth",{
            headers: {
                "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",
                "content-type": "application/x-www-form-urlencoded",
                "x-csrf-token": token
            },
            'method':'POST',
            'body':'seeds='+seed+'&girlName='+name+'&_csrf_token='+token
        })
    }`
    document.body.appendChild(api)
})();