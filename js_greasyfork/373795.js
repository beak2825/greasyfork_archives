// ==UserScript==
// @namespace      virtonomica
// @name           Virtonomica: Percent of local sellers
// @description:en Percent of local sellers.
// @description:ru Percent of local sellers.
// @include        http*://*virtonomic*.*/*/main/unit/view/*/trading_hall*
// @version        0.43
// @description Percent of local sellers.
// @downloadURL https://update.greasyfork.org/scripts/373795/Virtonomica%3A%20Percent%20of%20local%20sellers.user.js
// @updateURL https://update.greasyfork.org/scripts/373795/Virtonomica%3A%20Percent%20of%20local%20sellers.meta.js
// ==/UserScript==
var run = function () {
    var CityList = {
       'Абовян': '303829/303830/424051',
'Агуаскальентес': '422607/422609/422626',
'Адлер': '2931/2945/423510',
'Акапулько': '422607/422609/422632',
'Актау': '7060/7065/7087',
'Актобе': '7060/7065/7084',
'Акюрейри': '423475/423476/423480',
'Алитус': '325650/325651/424286',
'Алмалык': '310392/310393/423031',
'Алматы': '7060/7063/7076',
'Алмере': '359837/359838/359845',
'Амстердам': '359837/359838/359839',
'Ангрен': '310392/310393/423508',
'Андерлехт': '424615/424618/424625',
'Андижан': '310392/310393/310397',
'Антверпен': '424615/424616/424619',
'Апатиты': '2931/331858/423533',
'Армавир': '2931/2945/424302',
'Архангельск': '2931/331858/331860',
'Асеновград': '303253/303254/424564',
'Астана': '7060/7062/7073',
'Астрахань': '2931/2945/423564',
'Атырау': '7060/7065/7086',
'Аугсбург': '15905/3042/424293',
'Афины': '422043/422044/422046',
'Ахарне': '422043/422044/424320',
'Байконур': '7060/7063/7081',
'Баку': '3054/3055/3056',
'Балашиха': '2931/2932/424551',
'Бари': '424325/424329/424338',
'Баркисимето': '375142/375143/375147',
'Барселона (Ve)': '375142/375143/375151',
'Баямо': '422187/422188/422942',
'Белая Церковь': '3010/3011/422996',
'Белен': '423837/423840/423854',
'Белосток': '423195/423196/424312',
'Белу-Оризонти': '423837/423841/423848',
'Бельско-Бяла': '423195/423198/424698',
'Берген': '335165/335166/335168',
'Берлин': '15905/3042/3043',
'Берум': '335165/335166/335171',
'Бирмингем': '15904/15916/15936',
'Биробиджан': '2931/2961/366263',
'Благовещенск': '2931/2961/424066',
'Благоевград': '303253/303254/424064',
'Бобруйск': '15734/15735/16322',
'Болонья': '424325/424327/424336',
'Бонн': '15905/3042/15955',
'Бор': '2931/2939/424569',
'Бордо': '15906/3030/3037',
'Борисов': '15734/15735/302146',
'Бохум': '15905/3042/424561',
'Брадфорд': '15904/15916/422981',
'Бразилиа': '423837/423838/423846',
'Бремен': '15905/3042/3052',
'Брест': '15734/15735/15737',
'Бристоль': '15904/15916/352886',
'Брюгге': '424615/424616/424626',
'Брюссель': '424615/424618/424623',
'Брянск': '2931/2932/424273',
'Бургас': '303253/303254/303257',
'Бурос': '424181/424182/424197',
'Бухара': '310392/310393/310399',
'Быдгощ': '423195/423197/423206',
'Вавуния': '423103/423105/423113',
'Вагаршапат': '303829/303830/423575',
'Валга': '325655/325656/424538',
'Валенсия (Ve)': '375142/375143/375146',
'Валка': '325645/325646/424539',
'Ванадзор': '303829/303830/303833',
'Ванкувер': '422362/422364/422367',
'Вантаа': '301309/301310/422978',
'Варна': '303253/303254/303256',
'Варшава': '423195/423196/423199',
'Великие Луки': '2931/331858/331870',
'Великий Новгород': '2931/331858/331866',
'Великий Устюг': '2931/331858/424020',
'Велико-Тырново': '303253/303254/423033',
'Венеция': '424325/424327/424340',
'Вентспилс': '325645/325646/422943',
'Верона': '424325/424327/424341',
'Вестерос': '424181/424183/424191',
'Вилейка': '15734/15735/422521',
'Виллахермоса': '422607/422611/422648',
'Вильнюс': '325650/325651/325652',
'Вильянди': '325655/325656/424050',
'Виннипег': '422362/422364/422372',
'Винница': '3010/3018/3022',
'Висбаден': '15905/3042/423027',
'Витебск': '15734/15735/15741',
'Владивосток': '2931/2961/2964',
'Владикавказ': '2931/2945/366652',
'Волгоград': '2931/2945/2947',
'Волгодонск': '2931/2945/424024',
'Вологда': '2931/331858/331864',
'Волос': '422043/422044/422051',
'Воркута': '2931/331858/331872',
'Воронеж': '2931/2932/2935',
'Вроцлав': '423195/423198/423202',
'Вупперталь': '15905/3042/422980',
'Выборг': '2931/331858/331873',
'Выру': '325655/325656/424544',
'Вышний Волочек': '2931/2932/366651',
'Гаага': '359837/359838/359840',
'Габрово': '303253/303254/423021',
'Гавана': '422187/422188/422189',
'Гавр': '15906/3030/3039',
'Галле': '423103/423105/424295',
'Гамбург': '15905/3042/3044',
'Гамильтон': '422362/422363/422373',
'Ганновер': '15905/3042/3053',
'Гатчина': '2931/331858/331871',
'Гвадалахара': '422607/422609/422614',
'Гданьск': '423195/423197/423204',
'Гдыня': '423195/423197/423807',
'Геленджик': '2931/2945/424301',
'Гент': '424615/424616/424620',
'Генуя': '424325/424326/424335',
'Гетеборг': '424181/424182/424186',
'Гомель': '15734/15735/15738',
'Гояния': '423837/423838/423853',
'Гродно': '15734/15735/15739',
'Грозный': '2931/2945/352279',
'Гронинген': '359837/359838/359846',
'Гуадалупе': '422607/422608/422633',
'Гуантанамо': '422187/422188/422193',
'Гуарульюс': '423837/423841/423855',
'Гулистан': '310392/310393/424063',
'Гюмри': '303829/303830/303832',
'Гянджа': '3054/3055/3057',
'Даугавпилс': '325645/325646/325648',
'Дербент': '2931/2945/424023',
'Дехивала-Маунт-Лавиния': '423103/423104/423108',
'Джизак': '310392/310393/423019',
'Днепропетровск': '3010/3011/3014',
'Добрич': '303253/303254/423022',
'Донецк': '3010/3011/3015',
'Дортмунд': '15905/3042/3049',
'Доха': '423554/423555/423557',
'Драммен': '335165/335166/422494',
'Дрезден': '15905/3042/15957',
'Дуйсбург': '15905/3042/422042',
'Дюссельдорф': '15905/3042/3051',
'Евле': '424181/424184/424201',
'Екатеринбург': '2931/2950/2951',
'Елабуга': '2931/2939/422530',
'Елгава': '325645/325646/422513',
'Ереван': '303829/303830/303831',
'Жанаозен': '7060/7065/422526',
'Жезказган': '7060/7061/7068',
'Железногорск': '2931/2956/424279',
'Жешув': '423195/423196/424697',
'Житомир': '3010/3018/3021',
'Запорожье': '3010/3011/3016',
'Зарафшан': '310392/310393/424004',
'Златоуст': '2931/2950/424546',
'Зыряновск': '7060/7064/422505',
'Ивано-Франковск': '3010/3018/3020',
'Иваново': '2931/2932/2938',
'Иксель': '424615/424618/424652',
'Индустриальный район Катара': '423554/423555/423558',
'Ираклион': '422043/422045/422049',
'Иркутск': '2931/2956/371340',
'Ирпень': '3010/3011/424257',
'Йенчепинг': '424181/424182/424194',
'Йорк': '15904/15916/422514',
'Йоэнсуу': '301309/301310/424688',
'Йювяскюлю': '301309/301310/424299',
'Казанлык': '303253/303254/422076',
'Казань': '2931/2939/2943',
'Калгари': '422362/422364/422368',
'Калининград': '2931/331858/331859',
'Калмунай': '423103/423105/423114',
'Камагуэй': '422187/422188/422191',
'Каменск-Уральский': '2931/2950/422963',
'Кампинас': '423837/423841/423856',
'Канди': '423103/423105/423112',
'Канкун': '422607/422611/422631',
'Канны': '15906/3030/422528',
'Капан': '303829/303830/424061',
'Караганда': '7060/7061/7066',
'Каракас': '375142/375143/375144',
'Карлсруэ': '15905/3042/422492',
'Карши': '310392/310393/423032',
'Катания': '424325/424329/424339',
'Катовице': '423195/423198/423208',
'Каунас': '325650/325651/325653',
'Квебек': '422362/422363/422371',
'Кельце': '423195/423196/424263',
'Кемерово': '2931/2956/2960',
'Кернозя': '423195/423196/424264',
'Киев': '3010/3011/3012',
'Киль': '15905/3042/422977',
'Киркконумми': '301309/301310/424667',
'Киров': '2931/2939/422077',
'Клайпеда': '325650/325651/325654',
'Ковентри': '15904/15916/15943',
'Ковров': '2931/2932/424027',
'Коканд': '310392/310393/422512',
'Кокшетау': '7060/7062/7071',
'Коломбо': '423103/423104/423107',
'Коломна': '2931/2932/422085',
'Комсомольск-на-Амуре': '2931/2961/423526',
'Копенгаген': '423255/423256/423257',
'Костанай': '7060/7062/7069',
'Кострома': '2931/2932/367968',
'Котлас': '2931/331858/424315',
'Коупавогюр': '423475/423476/423478',
'Кохтла-Ярве': '325655/325656/423548',
'Кошалин': '423195/423197/424565',
'Краков': '423195/423196/423200',
'Краснодар': '2931/2945/2948',
'Краснотурьинск': '2931/2950/423005',
'Красноярск': '2931/2956/2959',
'Кристиансанн': '335165/335166/422021',
'Кульякан': '422607/422608/422629',
'Куопио': '301309/301310/424687',
'Курган': '2931/2950/422086',
'Курессааре': '325655/325656/424255',
'Куритиба': '423837/423842/423850',
'Курск': '2931/2932/423527',
'Кызылорда': '7060/7063/7080',
'Кёльн': '15905/3042/3046',
'Ларисса': '422043/422044/422050',
'Лас Тунас': '422187/422188/422979',
'Лахти': '301309/301310/424671',
'Ле-Ман': '15906/3030/424294',
'Левен': '424615/424616/424649',
'Ленкорань ': '3054/3055/422527',
'Леон': '422607/422609/422618',
'Лестер': '15904/15916/375138',
'Ливерпуль': '15904/15916/373539',
'Лидс': '15904/15916/15938',
'Лиепая': '325645/325646/325649',
'Линчепинг': '424181/424182/424189',
'Лион': '15906/3030/3033',
'Липецк': '2931/2932/2937',
'Лодзь': '423195/423196/423201',
'Ломжа': '423195/423196/424696',
'Лондон': '15904/15916/15935',
'Лондон (CA)': '422362/422363/424270',
'Лоустофт': '15904/15916/422941',
'Луганск': '3010/3011/3017',
'Лулео': '424181/424184/424203',
'Лунд': '424181/424182/424196',
'Львов': '3010/3018/3019',
'Льеж': '424615/424617/424622',
'Любек': '15905/3042/422529',
'Люберцы': '2931/2932/371339',
'Люблин': '423195/423196/423207',
'Люксембург': '423581/423582/423583',
'Маарду': '325655/325656/424536',
'Маастрихт': '359837/359838/359844',
'Магнитогорск': '2931/2950/2954',
'Майкоп': '2931/2945/423566',
'Мальме': '424181/424182/424187',
'Манаус': '423837/423840/423849',
'Манчестер': '15904/15916/15941',
'Маракай': '375142/375143/375149',
'Маракайбо': '375142/375143/375145',
'Маргилан': '310392/310393/423020',
'Мариуполь': '3010/3011/422087',
'Марсель': '15906/3030/3032',
'Масейо': '423837/423839/423859',
'Матурин': '375142/375143/375150',
'Махачкала': '2931/2945/422506',
'Мерида': '422607/422611/422624',
'Мессина': '424325/424329/424342',
'Мехикали': '422607/422608/422630',
'Мехико': '422607/422610/422612',
'Милан': '424325/424326/424331',
'Минск': '15734/15735/15736',
'Могилёв': '15734/15735/15740',
'Моленбек-Сен-Жан': '424615/424618/424650',
'Молодечно': '15734/15735/302148',
'Монако': '422983/422984/422985',
'Монреаль': '422362/422363/422366',
'Монс': '424615/424617/424651',
'Монтеррей': '422607/422608/422620',
'Моратува': '423103/423104/423109',
'Москва': '2931/2932/2933',
'Мурманск': '2931/331858/331862',
'Мюнстер': '15905/3042/424702',
'Мюнхен': '15905/3042/3045',
'Навои': '310392/310393/424285',
'Накка': '424181/424183/424200',
'Наманган': '310392/310393/310395',
'Намюр': '424615/424617/424627',
'Нант': '15906/3030/3041',
'Нарва': '325655/325656/325659',
'Натал': '423837/423839/424032',
'Наукальпан': '422607/422610/422623',
'Неаполь': '424325/424329/424332',
'Негомбо': '423103/423104/423110',
'Несауалькойотль': '422607/422610/422621',
'Нижневартовск': '2931/2950/424025',
'Нижний Новгород': '2931/2939/2940',
'Нижний Тагил': '2931/2950/422955',
'Николаев': '3010/3023/3025',
'Никополь': '3010/3011/422998',
'Ницца': '15906/3030/3035',
'Новороссийск': '2931/2945/2949',
'Новосибирск': '2931/2956/2957',
'Норильск': '2931/2956/367967',
'Норрчепинг': '424181/424182/424193',
'Ноттингем': '15904/15916/423565',
'Нукус': '310392/310393/310400',
'Ньюпорт': '15904/15916/424300',
'Нюрнберг': '15905/3042/15954',
'Огре': '325645/325646/424049',
'Оденсе': '423255/423256/423259',
'Одесса': '3010/3023/3024',
'Ольборг': '423255/423256/423260',
'Ольгин': '422187/422188/422192',
'Ольштын': '423195/423196/424699',
'Омск': '2931/2956/2958',
'Ополе': '423195/423198/424695',
'Оренкль': '15906/3030/424558',
'Орхус': '423255/423256/423258',
'Осло': '335165/335166/335167',
'Оттава': '422362/422363/422369',
'Оулу': '301309/301310/422038',
'Павлодар': '7060/7062/7072',
'Падуя': '424325/424327/424343',
'Палдиски': '325655/325656/424256',
'Палермо': '424325/424329/424334',
'Паневежис': '325650/325651/424062',
'Париж': '15906/3030/3031',
'Патры': '422043/422045/422048',
'Перистери': '422043/422044/423553',
'Пермь': '2931/2939/2944',
'Петанж': '423581/423582/423585',
'Петрозаводск': '2931/331858/331863',
'Петропавловск': '7060/7062/7070',
'Петропавловск-Камчатский': '2931/2961/422543',
'Пинар-дель-Рио': '422187/422188/422195',
'Пирей': '422043/422044/422495',
'Плевен': '303253/303254/303261',
'Плимут': '15904/15916/424560',
'Пловдив': '303253/303254/303258',
'Познань': '423195/423197/423203',
'Полтава': '3010/3011/13055',
'Пори': '301309/301310/424548',
'Портсмут': '15904/15916/423547',
'Порту-Алегри': '423837/423842/423852',
'Потсдам': '15905/3042/422022',
'Прато': '424325/424328/424345',
'Псков': '2931/331858/331867',
'Пуэбла-де-Сарагоса': '422607/422610/422615',
'Пярну': '325655/325656/422019',
'Радом': '423195/423196/423808',
'Раквере': '325655/325656/424254',
'Резекне': '325645/325646/424540',
'Рейкьявик': '423475/423476/423477',
'Реймс': '15906/3030/3040',
'Ренн': '15906/3030/3038',
'Ресифи': '423837/423839/423851',
'Рига': '325645/325646/325647',
'Риддер': '7060/7064/422507',
'Рим': '424325/424328/424330',
'Рио-де-Жанейро': '423837/423841/423844',
'Рованиеми': '301309/301310/301315',
'Ровно': '3010/3018/424007',
'Родос': '422043/422045/422997',
'Ромбас': '15906/3030/423573',
'Ростов-на-Дону': '2931/2945/2946',
'Роттердам': '359837/359838/359841',
'Рудный': '7060/7062/7075',
'Русе': '303253/303254/303260',
'Рыльск': '2931/2932/423509',
'Рязань': '2931/2932/422040',
'Салвадор': '423837/423839/423845',
'Сало': '301309/301310/424668',
'Салоники': '422043/422044/422047',
'Сальтильо': '422607/422608/422627',
'Самара': '2931/2939/2941',
'Самарканд': '310392/310393/310396',
'Сан-Гонсалу': '423837/423841/423857',
'Сан-Луис': '423837/423839/423858',
'Сан-Луис-Потоси': '422607/422609/422628',
'Сан-Марино': '423084/423085/423086',
'Сан-Паулу': '423837/423841/423843',
'Санкт-Петербург': '2931/331858/2934',
'Саннефьорд': '335165/335166/424563',
'Санта-Клара': '422187/422188/422194',
'Сантьяго-де-Куба': '422187/422188/422190',
'Сапопан': '422607/422609/422619',
'Саратов': '2931/2939/423572',
'Севастополь': '3010/3023/3028',
'Северодвинск': '2931/331858/331868',
'Семипалатинск': '7060/7064/7083',
'Силламяэ': '325655/325656/424537',
'Симферополь': '3010/3023/3026',
'Сингапур': '401794/401812/401884',
'Сливен': '303253/303254/422496',
'Смолян': '303253/303254/423574',
'Советская Гавань': '2931/2961/424541',
'Сосновец': '423195/423198/423809',
'София': '303253/303254/303255',
'Сочи': '2931/2945/5033',
'Спа': '424615/424617/424662',
'Спарта': '422043/422045/422515',
'Ставангер': '335165/335166/335169',
'Стара-Загора': '303253/303254/303259',
'Стокгольм': '424181/424183/424185',
'Страсбург': '15906/3030/3036',
'Сумгаит': '3054/3055/3058',
'Сундсвалль': '424181/424184/424202',
'Сургут': '2931/2950/2955',
'Схарбек': '424615/424618/424624',
'Сыктывкар': '2931/331858/331865',
'Сьюдад-Гуаяна': '375142/375143/375148',
'Сьюдад-Хуарес': '422607/422608/422616',
'Таганрог': '2931/2945/423001',
'Таланс': '15906/3030/422018',
'Талдыкорган': '7060/7063/7079',
'Таллин': '325655/325656/325657',
'Тампере': '301309/301310/301313',
'Тараз': '7060/7063/7078',
'Тарту': '325655/325656/325658',
'Ташкент': '310392/310393/310394',
'Темиртау': '7060/7061/7067',
'Термез': '310392/310393/423567',
'Тихвин': '2931/331858/424271',
'Тихуана': '422607/422608/422617',
'Толука-де-Лердо': '422607/422610/424048',
'Томск': '2931/2956/10716',
'Торонто': '422362/422363/422365',
'Триест': '424325/424327/424344',
'Трикомали': '423103/423105/423111',
'Тромсё': '335165/335166/424562',
'Тронхейм': '335165/335166/335170',
'Тулон': '15906/3030/424313',
'Тулуза': '15906/3030/3034',
'Турин': '424325/424326/424333',
'Туркестан': '7060/7063/424017',
'Турку': '301309/301310/301314',
'Тустла-Гутьеррес': '422607/422611/424686',
'Тюмень': '2931/2950/2953',
'Ужгород': '3010/3018/423550',
'Умео': '424181/424184/424195',
'Умм-Салаль': '423554/423555/423563',
'Уппсала': '424181/424183/424188',
'Уральск': '7060/7065/7085',
'Ургенч': '310392/310393/423030',
'Урюпинск': '2931/2939/424014',
'Усть-Каменогорск': '7060/7064/7082',
'Утрехт': '359837/359838/359842',
'Уфа': '2931/2939/2942',
'Ухта': '2931/331858/331869',
'Фергана': '310392/310393/310398',
'Флоренция': '424325/424328/424337',
'Форталеза': '423837/423839/423847',
'Фос-сюр-Мер': '15906/3030/424003',
'Франкфурт': '15905/3042/3047',
'Фредрикстад': '335165/335166/424272',
'Хаапсалу': '325655/325656/424314',
'Хабаровск': '2931/2961/2962',
'Хабнарфьордюр': '423475/423476/423479',
'Ханья': '422043/422045/422052',
'Харлем': '359837/359838/422074',
'Харьков': '3010/3011/3013',
'Хасково': '303253/303254/424278',
'Хельсингборг': '424181/424182/424192',
'Хельсинки': '301309/301310/301311',
'Херсон': '3010/3023/3027',
'Хива': '310392/310393/424318',
'Хмельницкий': '3010/3018/424006',
'Худдинге': '424181/424183/424198',
'Хырдалан': '3054/3055/424005',
'Челябинск': '2931/2950/2952',
'Ченстохова': '423195/423198/423209',
'Череповец': '2931/331858/331861',
'Чернигов': '3010/3011/424028',
'Черновцы': '3010/3018/423532',
'Чирчик': '310392/310393/423029',
'Чиуауа': '422607/422608/422622',
'Чуст': '310392/310393/423576',
'Шарлеруа': '424615/424617/424621',
'Шауляй': '325650/325651/422940',
'Шахты': '2931/2945/423568',
'Шеллефтео': '424181/424184/424204',
'Шеффилд': '15904/15916/348029',
'Шиен': '335165/335166/424316',
'Шри-Джаяварденепура-Котте': '423103/423104/423106',
'Штутгарт': '15905/3042/3050',
'Шымкент': '7060/7063/7077',
'Щецин': '423195/423197/423205',
'Эбербах': '15905/3042/422493',
'Эверсвинкель': '15905/3042/424669',
'Эдмонтон': '422362/422364/422370',
'Эйндховен': '359837/359838/359843',
'Экатепек-де-Морелос': '422607/422610/422613',
'Экибастуз': '7060/7062/7074',
'Эль-Вакра': '423554/423555/423559',
'Эль-Дахира': '423554/423555/423561',
'Эль-Хор': '423554/423555/423562',
'Эль-Шахания': '423554/423555/423560',
'Энгельс': '2931/2939/423525',
'Эр-Райян': '423554/423555/423556',
'Эребру': '424181/424183/424190',
'Эрмосильо': '422607/422608/422625',
'Эскильстуна': '424181/424183/424199',
'Эспоо': '301309/301310/301312',
'Эссен': '15905/3042/3048',
'Эш-сюр-Альзетт': '423581/423582/423584',
'Южно-Сахалинск': '2931/2961/424013',
'Юрмала': '325645/325646/422037',
'Якутск': '2931/2961/2963',
'Ялта': '3010/3023/422089',
'Ярославль': '2931/2932/2936',
'Каир':'424899/424900/424901',
'Александрия':'424899/424900/424902',
'Гиза':'424899/424900/424902',
'Порт-Саид':'424899/424900/424905',
'Суэц':'424899/424900/424906',
'Танта':'424899/424900/424909',
'Шубра-эль-Хейма':'424899/424900/424904',
'Эль-Мансура':'424899/424900/424907',
'Эль-Махалла-эль-Кубра':'424899/424900/424908'

    };
    var $tbody = $('table.grid:eq(0) > tbody:eq(0)');
    var currentRealm = $('a[href*="by_trade_at_cities"]').attr('href').split('/') [3];
    var bee = $('.content .title').clone().children().remove().end().text().trim().split(' (Ve)') [0].trim() + ' (Ve)';

    if (typeof CityList[bee] === 'undefined') {
        var bee = $('.content .title').clone().children().remove().end().text().trim().split(' (') [0].trim();

    }
    var CityId = CityList[bee];
    $tbody.children('tr').each(function () {
        var $tr = $(this);
        var $first_td = $tr.children('td:eq(0)');
        var handler;
        if ($tr.children('td').length === 1) {
        } else if ($tr.children('td').length > 1) {
            var $td3 = $tr.children('td:eq(2)'); // image with link
            var $gg = $td3.children('a').attr('href');
            var url = new URL($gg);
            var product_id = url.searchParams.get('product_id');

            var link = 'https://virtonomica.ru/api/' + currentRealm + '/main/marketing/report/retail/shares?tpl=marketing%2Freport%2Fretail%2Fmetrics&app=adapter_vrt&format=json&product_id=' + product_id + '&geo=' + CityId + '&wrap=0';

            $.get(link, function (data) {
                var local_size = '0.00%';

                local_size = data.filter(function (obj) {
                    return obj.company_id === "-1";
                })[0].market_size + "%";

                //console.log(local_size);
                $tr.children('td:eq(10)').append('<br>м '+local_size);
                // console.log( "total volume: " + g );
            });
        }

    });
};
if (window.top == window) {
    var script = document.createElement('script');
    script.textContent = '(' + run.toString() + ')();';
    document.documentElement.appendChild(script);
}
