// ==UserScript==
// @name         tax-code-helper
// @namespace    https://kobayashilin1.run/
// @version      0.2.13
// @description  A script to check CN tax code!
// @author       kobayashilin1
// @match        https://mro-op.yzw.cn/portal/item/audit/view
// @grant        GM_xmlhttpRequest
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/449087/tax-code-helper.user.js
// @updateURL https://update.greasyfork.org/scripts/449087/tax-code-helper.meta.js
// ==/UserScript==

(function () {
  'use strict';

  const TAX_CODE = `1010103000000000000,1010103010000000000,1010103020000000000,1010103030000000000,1010103990000000000,1020200000000000000,1020201000000000000,1020201010000000000,1020201020000000000,1020201030000000000,1020206000000000000,1020206010000000000,1020206020000000000,1020206030000000000,1020206990000000000,1030105000000000000,1030105010000000000,1030105010100000000,1030105010200000000,1030105010300000000,1030105010400000000,1030105010500000000,1030105020000000000,1030105020100000000,1030105029900000000,1030105030000000000,1030105040000000000,1070100000000000000,1070101000000000000,1070101010000000000,1070101010100000000,1070101010200000000,1070101010300000000,1070101010400000000,1070101010500000000,1070101019900000000,1070101020000000000,1070101020100000000,1070101020200000000,1070101030000000000,1070101030100000000,1070101030200000000,1070101030300000000,1070101030400000000,1070101040000000000,1070101040100000000,1070101040200000000,1070101040300000000,1070101050000000000,1070101050100000000,1070101050200000000,1070101050300000000,1070101060000000000,1070101060100000000,1070101070000000000,1070101070100000000,1070101070300000000,1070101080000000000,1070101090000000000,1070101110000000000,1070101119900000000,1070101130000000000,1070101140000000000,1070101150000000000,1070101990000000000,1070102010000000000,1070102030000000000,1070103020000000000,1070103030000000000,1070209000000000000,1070209010000000000,1070209020000000000,1090202000000000000,1090202010000000000,1090202020000000000,1090202030000000000,1090202040000000000,1090202050000000000,1090202060000000000,1090202070000000000,1090202080000000000,1090202090000000000,1090626010100000000,1040110000000000000,1040110050000000000,1060103040000000000,1070101130100000000,1070215110000000000,1080108010000000000,1080108020000000000,1080108030000000000,1080127000000000000,1080127010100000000,1080127010200000000,1080127020000000000,1080130000000000000,1080130010000000000,1090204070000000000,1000000000000000000,1010000000000000000,1010100000000000000,1010101000000000000,1010102000000000000,1010103000000000000,1010104000000000000,1010107000000000000,1010108000000000000,1010109000000000000,1010111000000000000,1010112000000000000,1010113000000000000,1010114000000000000,1010114010000000000,1010115000000000000,1010115010000000000,1010115030000000000,1010116000000000000,1010119000000000000,1010200000000000000,1010202000000000000,1010203000000000000,1010204000000000000,1010300000000000000,1010301000000000000,1010302000000000000,1010303000000000000,1010303020000000000,1010303030000000000,1010304000000000000,1010400000000000000,1010500000000000000,1020000000000000000,1020100000000000000,1020200000000000000,1020201000000000000,1020206000000000000,1020300000000000000,1020400000000000000,1020401000000000000,1020402000000000000,1020403000000000000,1020403030000000000,1020404000000000000,1020499000000000000,1020500000000000000,1020501000000000000,1020502000000000000,1020503000000000000,1020504000000000000,1020505000000000000,1020506000000000000,1020511000000000000,1030000000000000000,1030100000000000000,1030101000000000000,1030102000000000000,1030102010000000000,1030103000000000000,1030104000000000000,1030105000000000000,1030105010000000000,1030105020000000000,1030106000000000000,1030107000000000000,1030107010000000000,1030108000000000000,1030109000000000000,1030110000000000000,1030111000000000000,1030112000000000000,1030112010000000000,1030113000000000000,1030114000000000000,1030200000000000000,1030201000000000000,1030202000000000000,1030202070000000000,1030203000000000000,1030204000000000000,1030205000000000000,1030206000000000000,1030207000000000000,1030208000000000000,1030209000000000000,1030210000000000000,1030211000000000000,1030212000000000000,1030300000000000000,1030301000000000000,1030303000000000000,1030307000000000000,1030308000000000000,1030309000000000000,1030400000000000000,1030401000000000000,1030402000000000000,1030402050000000000,1030402050100000000,1030402050101000000,1030402050101010000,1030402050101010100,1030403000000000000,1040000000000000000,1040100000000000000,1040101000000000000,1040102000000000000,1040103000000000000,1040104000000000000,1040105000000000000,1040106000000000000,1040107000000000000,1040108000000000000,1040109000000000000,1040110000000000000,1040111000000000000,1040112000000000000,1040113000000000000,1040114000000000000,1040199000000000000,1040200000000000000,1040201000000000000,1040202000000000000,1040203000000000000,1040204000000000000,1040205000000000000,1040300000000000000,1040302000000000000,1040303000000000000,1040304000000000000,1040305000000000000,1040306000000000000,1040307000000000000,1050000000000000000,1050100000000000000,1050101000000000000,1050102000000000000,1050103000000000000,1050104000000000000,1050105000000000000,1050105040000000000,1050106000000000000,1050107000000000000,1050108000000000000,1050109000000000000,1050110000000000000,1050200000000000000,1050201000000000000,1050202000000000000,1060000000000000000,1060100000000000000,1060101000000000000,1060102000000000000,1060103000000000000,1060104000000000000,1060105000000000000,1060200000000000000,1060201000000000000,1060201010000000000,1060202000000000000,1060204000000000000,1060205000000000000,1060300000000000000,1060301000000000000,1060301010000000000,1060301020000000000,1060301030000000000,1060400000000000000,1060401000000000000,1060402000000000000,1060402010000000000,1060403000000000000,1060404000000000000,1060405000000000000,1060406000000000000,1060406020000000000,1060407000000000000,1060408000000000000,1060409000000000000,1060410000000000000,1060500000000000000,1060501000000000000,1060502000000000000,1060503000000000000,1060504000000000000,1060505000000000000,1060506000000000000,1060507000000000000,1060508000000000000,1060509000000000000,1060509020000000000,1060510000000000000,1060510020000000000,1060511000000000000,1060512000000000000,1060513000000000000,1070000000000000000,1070100000000000000,1070101000000000000,1070101010000000000,1070101020000000000,1070101030000000000,1070101040000000000,1070101050000000000,1070101060000000000,1070101070000000000,1070101110000000000,1070101130000000000,1070102000000000000,1070102020000000000,1070102030000000000,1070103000000000000,1070200000000000000,1070201000000000000,1070201010000000000,1070201020000000000,1070202000000000000,1070202010000000000,1070202020000000000,1070202020100000000,1070203000000000000,1070203010000000000,1070203040000000000,1070203040100000000,1070203040200000000,1070203040300000000,1070203040400000000,1070203040500000000,1070203040600000000,1070203040700000000,1070203040800000000,1070203049900000000,1070204000000000000,1070205000000000000,1070206000000000000,1070207000000000000,1070208000000000000,1070209000000000000,1070210000000000000,1070211000000000000,1070212000000000000,1070213000000000000,1070213010000000000,1070214000000000000,1070215000000000000,1070216000000000000,1070217000000000000,1070217060000000000,1070218000000000000,1070219000000000000,1070220000000000000,1070221000000000000,1070222000000000000,1070223000000000000,1070224000000000000,1070226000000000000,1070299000000000000,1070300000000000000,1070301000000000000,1070302000000000000,1070303000000000000,1070304000000000000,1070305000000000000,1070306000000000000,1070307000000000000,1070307070000000000,1070308000000000000,1070400000000000000,1070401000000000000,1070402000000000000,1070403000000000000,1070404000000000000,1070500000000000000,1070501000000000000,1070504000000000000,1070505000000000000,1070506000000000000,1070507000000000000,1070508000000000000,1070509000000000000,1070510000000000000,1070600000000000000,1070601000000000000,1070601010000000000,1070602000000000000,1070603000000000000,1080000000000000000,1080100000000000000,1080101000000000000,1080102000000000000,1080103000000000000,1080104000000000000,1080104010000000000,1080104030000000000,1080105000000000000,1080105010000000000,1080105030000000000,1080106000000000000,1080107000000000000,1080108000000000000,1080109000000000000,1080110000000000000,1080110020000000000,1080111000000000000,1080112000000000000,1080114000000000000,1080115000000000000,1080120000000000000,1080121000000000000,1080122000000000000,1080124000000000000,1080125000000000000,1080127000000000000,1080127010000000000,1080128000000000000,1080129000000000000,1080130000000000000,1080199000000000000,1080200000000000000,1080204000000000000,1080207000000000000,1080300000000000000,1080302000000000000,1080306000000000000,1080310000000000000,1080311000000000000,1080311010000000000,1080312000000000000,1080312010000000000,1080312020000000000,1080312030000000000,1080313000000000000,1080313010000000000,1080313020000000000,1080314000000000000,1080314010000000000,1080314030000000000,1080314040000000000,1080315000000000000,1080316000000000000,1080317000000000000,1080318000000000000,1080319000000000000,1080320000000000000,1080321000000000000,1080322000000000000,1080323000000000000,1080324000000000000,1080400000000000000,1080401000000000000,1080402000000000000,1080403000000000000,1080404000000000000,1080405000000000000,1080407000000000000,1080411000000000000,1080412000000000000,1080413000000000000,1080414000000000000,1080415000000000000,1080418000000000000,1080419000000000000,1090000000000000000,1090100000000000000,1090101000000000000,1090102000000000000,1090103000000000000,1090104000000000000,1090105000000000000,1090106000000000000,1090107000000000000,1090108000000000000,1090110000000000000,1090111000000000000,1090112000000000000,1090113000000000000,1090114000000000000,1090115000000000000,1090116000000000000,1090117000000000000,1090119000000000000,1090120000000000000,1090121000000000000,1090122000000000000,1090123000000000000,1090124000000000000,1090126000000000000,1090127000000000000,1090128000000000000,1090129000000000000,1090130000000000000,1090131000000000000,1090132000000000000,1090133000000000000,1090134000000000000,1090135000000000000,1090136000000000000,1090137000000000000,1090200000000000000,1090201000000000000,1090202000000000000,1090203000000000000,1090204000000000000,1090205000000000000,1090206000000000000,1090207000000000000,1090208000000000000,1090209000000000000,1090210000000000000,1090211000000000000,1090214000000000000,1090215000000000000,1090216000000000000,1090217000000000000,1090218000000000000,1090219000000000000,1090220000000000000,1090221000000000000,1090222000000000000,1090223000000000000,1090224000000000000,1090225000000000000,1090226000000000000,1090227000000000000,1090228000000000000,1090229000000000000,1090230000000000000,1090231000000000000,1090231010000000000,1090232000000000000,1090233000000000000,1090235000000000000,1090236000000000000,1090236080000000000,1090237000000000000,1090238000000000000,1090239000000000000,1090240000000000000,1090242000000000000,1090243000000000000,1090244000000000000,1090245000000000000,1090246000000000000,1090247000000000000,1090248000000000000,1090249000000000000,1090250000000000000,1090251000000000000,1090252000000000000,1090253000000000000,1090254000000000000,1090255000000000000,1090256000000000000,1090300000000000000,1090301000000000000,1090305000000000000,1090305010000000000,1090305020000000000,1090306000000000000,1090307000000000000,1090308000000000000,1090310000000000000,1090310010000000000,1090310020000000000,1090312000000000000,1090314000000000000,1090318000000000000,1090321000000000000,1090323000000000000,1090324000000000000,1090324010000000000,1090325000000000000,1090325010000000000,1090326000000000000,1090327000000000000,1090328000000000000,1090400000000000000,1090401000000000000,1090402000000000000,1090403000000000000,1090404000000000000,1090405000000000000,1090406000000000000,1090407000000000000,1090408000000000000,1090409000000000000,1090410000000000000,1090411000000000000,1090412000000000000,1090413000000000000,1090413010000000000,1090413020000000000,1090414000000000000,1090415000000000000,1090416000000000000,1090417000000000000,1090418000000000000,1090419000000000000,1090420000000000000,1090421000000000000,1090422000000000000,1090423000000000000,1090424000000000000,1090425000000000000,1090426000000000000,1090500000000000000,1090501000000000000,1090502000000000000,1090503000000000000,1090504000000000000,1090505000000000000,1090506000000000000,1090507000000000000,1090508000000000000,1090509000000000000,1090510000000000000,1090511000000000000,1090512000000000000,1090513000000000000,1090514000000000000,1090515000000000000,1090516000000000000,1090519000000000000,1090522000000000000,1090600000000000000,1090601000000000000,1090602000000000000,1090603000000000000,1090604000000000000,1090605000000000000,1090606000000000000,1090607000000000000,1090608000000000000,1090609000000000000,1090610000000000000,1090611000000000000,1090612000000000000,1090613000000000000,1090614000000000000,1090615000000000000,1090616000000000000,1090617000000000000,1090618000000000000,1090619000000000000,1090620000000000000,1090621000000000000,1090622000000000000,1090623000000000000,1090624000000000000,1090625000000000000,1090626000000000000,1090626010000000000,1090627000000000000,1100000000000000000,1100100000000000000,1100101000000000000,1100101010000000000,1100101020000000000,1100102000000000000,1100102010000000000,1100102020000000000,1100200000000000000,1100201000000000000,1100202000000000000,1100300000000000000,1100301000000000000,1100302000000000000,2000000000000000000,2010000000000000000,3000000000000000000,3010000000000000000,3010100000000000000,3010101000000000000,3010101010000000000,3010101020000000000,3010101020100000000,3010101020101000000,3010101020200000000,3010102000000000000,3010102010000000000,3010102020000000000,3010102990000000000,3010200000000000000,3010201000000000000,3010202000000000000,3010203000000000000,3010204000000000000,3010300000000000000,3010301000000000000,3010301010000000000,3010301020000000000,3010301030000000000,3010400000000000000,3010401000000000000,3010402000000000000,3010403000000000000,3010499000000000000,3010500000000000000,3010502000000000000,3010502010000000000,3010502020000000000,3010503000000000000,3010504000000000000,3010506000000000000,3010599000000000000,3010600000000000000,3019900000000000000,3020000000000000000,3020100000000000000,3020101000000000000,3020300000000000000,3030000000000000000,3030100000000000000,3030200000000000000,3040000000000000000,3040100000000000000,3040104000000000000,3040104020000000000,3040200000000000000,3040201000000000000,3040202000000000000,3040300000000000000,3040301000000000000,3040303000000000000,3040303010000000000,3040304000000000000,3040400000000000000,3040401000000000000,3040401010000000000,3040401020000000000,3040402000000000000,3040403000000000000,3040405000000000000,3040407000000000000,3040409000000000000,3040500000000000000,3040501000000000000,3040502000000000000,3040502010000000000,3040502020000000000,3040502020100000000,3040502020300000000,3040502029900000000,3040600000000000000,3040602000000000000,3040603000000000000,3040700000000000000,3040701000000000000,3040702000000000000,3040703000000000000,3040703030000000000,3040800000000000000,3040801000000000000,3040802000000000000,3040802010000000000,3040802070000000000,3040803000000000000,3050000000000000000,3060000000000000000,3060100000000000000,3060109000000000000,3060110000000000000,3060300000000000000,3060301000000000000,3060302000000000000,3060400000000000000,3070000000000000000,3070100000000000000,3070200000000000000,3070201000000000000,3070300000000000000,3070400000000000000,3070500000000000000,4000000000000000000,4010000000000000000,4050000000000000000,4050100000000000000,5000000000000000000,5010000000000000000,5010100000000000000,5010200000000000000,6000000000000000000,1040105010000000000,1040105030000000000,1040105040000000000,1040105050000000000,1040105060000000000,1040105070000000000,1040105090000000000,1040105990000000000,1040106010000000000,1040106020000000000,1040106030000000000,1040106040000000000,1040106990000000000,1040107020000000000,1040109010000000000,1040109020000000000,1040113060000000000,1040113070000000000,1040114010000000000,1040114020000000000,1040114030000000000,1040201010000000000,1040201020000000000,1040201030000000000,1040201040000000000,1040201050000000000,1040201060000000000,1040201070000000000,1040201080000000000,1040201090000000000,1040201100000000000,1040201110000000000,1040201120000000000,1040201130000000000,1040201140000000000,1040201150000000000,1040201160000000000,1040201170000000000,1040201200000000000,1040201210000000000,1040201220000000000,1040201230000000000,1040201250000000000,1040201990000000000,1040204010000000000,1040204030000000000,1040204990000000000,1040205010000000000,1040205020000000000,1040303010000000000,1040303020000000000,1050108010000000000,1050108020000000000,1050110010000000000,1050201010000000000,1050201990000000000,1050201040000000000,1050201060000000000,1050202010000000000,1060103010000000000,1060103020000000000,1060103040000000000,1060105010000000000,1060105020000000000,1060105040000000000,1060105070000000000,1060105990000000000,1060201040000000000,1060201070000000000,1060201990000000000,1060202010000000000,1060401010000000000,1060401020000000000,1060401030000000000,1060401040000000000,1060401050000000000,1060401060000000000,1060401070000000000,1060401080000000000,1060401090000000000,1060401100000000000,1060401110000000000,1060402010100000000,1060402010200000000,1060402010300000000,1060402010400000000,1060402010500000000,1060402020000000000,1060403030000000000,1060403990000000000,1060404010000000000,1060406010000000000,1060406020100000000,1060406020200000000,1060406020300000000,1060406030000000000,1060406040000000000,1060501990000000000,1060502100000000000,1060507020000000000,1060512020000000000,1060512040000000000,1060512050000000000,1060512990000000000,1070218070000000000,1070222010000000000,1070222020000000000,1070223010000000000,1070223030000000000,1070224010000000000,1070299010000000000,1070308010000000000,1070504020000000000,1070506010000000000,1070508030000000000,1070601010200000000,1070601060000000000,1070601120000000000,1070601130000000000,1080114010000000000,1080114030000000000,1080121010000000000,1080401010000000000,1090627990000000000,1080404040000000000,1080404070000000000,1080404080000000000,1080407010000000000,1080407020000000000,1080407030000000000,1080410000000000000,1080412020000000000,1080414050000000000,1080416000000000000,1080419010000000000,1080419020000000000,1080423000000000000,1080424000000000000,1080499000000000000,1090116020000000000,1090123010000000000,1090127010000000000,1090129060000000000,1090130010000000000,1090130050000000000,1090131020000000000,1090134030000000000,1090214030000000000,1090218020000000000,1090232070000000000,1090253100000000000,1090407020000000000,1090407030000000000,1090409020000000000,1090409040000000000,1090409990000000000,1090410010000000000,1090413010100000000,1090413020400000000,1090414030000000000,1090415010000000000,1090415020000000000,1090415990000000000,1090416010000000000,1090416020000000000,1090417010000000000,1090417020000000000,1090417030000000000,1090417040000000000,1090417050000000000,1090417060000000000,1090417070000000000,1090418010000000000,1090418040000000000,1090418050000000000,1090419000000000000,1090419050000000000,1090420010000000000,1090420020000000000,1090421050000000000,1090422010000000000,1090424070000000000,1090501010000000000,1090502040000000000,1090503020000000000,1090505990000000000,1090507030000000000,1090509010000000000,1090510030000000000,1090511010000000000,1090511020000000000,1090511030000000000,1090511040000000000,1090512010000000000,1090512990000000000,1090519060000000000,1090522010000000000,1090522020000000000,1090522030000000000,1090522050000000000,1090602010000000000,1090602050000000000,1090603070000000000,1090604060000000000,1090611010000000000,1090618010000000000,1090620010000000000,1090621040000000000,1090624020000000000,1090625010000000000,1090625040000000000,1090626019900000000,1090626020000000000,1090627020000000000,1090627030000000000,1099900000000000000,1060512010000000000,1090222060000000000,1080422000000000000,1080421000000000000,1090245010000000000,1090248020000000000,1070508010000000000,1050201050000000000`;


  const GOODS_NAME = `医用,额温枪,止血带,骨折,绷带,呼吸器,药品,蟑螂药,老鼠药,蚂蚁药,苍蝇药,蚊香,藿香正气,清凉油,花露水,红花油,创可贴,面膜,大宝,sod蜜,消毒片,方便面,泡面,卤蛋,零食,矿泉水,可乐,枸杞,王老吉,饼干,茶叶,手册,证书,食用油,血压计,脉搏,血糖,暖宝宝,巧克力,白酒,听诊,红牛,雪碧,可乐,芬达,牛奶,酸奶,面包,汤达人,康师傅,怡宝,农夫山泉,脉动,维生素果汁饮料,十滴水,身体乳,精华乳,啤酒,江小白,红酒,葡萄酒,茅台,郎酒,红花郎,醪糟,佬米酒,酒酿,甜酒,月子酒,老干妈,调味品,料酒,盐,醋,酱油,辣椒,胡椒粉,十三香,食用醋,豆腐乳,干果,面包,汾酒,鸡尾酒,护手霜,清酒,氧气,碘酒,人丹,担架,手抓饼,火腿,今麦郎,康师傅,咖啡,汤达人,肉松饼,尘推油,氯化钙,杀虫,藿香正气,泡腾片,暖宝宝,饮料,明矾,减水剂,液压油,易燃易爆品,燃料,润滑剂,成品油,石蜡,石油沥青,汽油,喷气燃料,柴油,润滑脂,润滑油,石油焦,机油,液化气,甲醛,二氧化硫,硫化氢,氨气,一氧化碳,甲烷,乙醛,丙酮,甲醇,红磷,硫磺,硫氢化钙,苯酚钠,煤炭,无烟煤,农药,煤油,荣裕,傲博,德胜,安得祥,润宝,安力,固安特,林盾,环氧地坪漆,电解液,酚酞酒精溶液,酚酞试剂,固化剂,管道疏通剂,管道疏通剂,铝模脱模剂（厂家直供）,煤油,单组份丙烯酸金属漆,翻新漆,氟碳金属漆面漆,氟碳金属漆专用底漆,金属氟碳漆,水性金属防腐漆,涉水专用涂料,双组份丙烯酸金属漆,水性醇酸防锈漆（厂家直供）,水性醇酸调和漆,水性醇酸调和漆.,水性中黄管架漆,有机硅耐热漆,白厚漆,醇酸调和漆,酚醛调和漆,环氧封闭底漆.,环氧调和漆,环氧云铁中间漆,水性丙烯酸面漆,水性醇酸调和漆,酯胶调合漆,冷底子油,磁悬液,自喷漆,丙烯酸磁漆,醇酸磁漆,酚醛磁漆,高光磁漆,丙烯酸聚氨酯银粉漆,丙烯酸聚硅氧烷面漆（厂家直供）,醇酸银粉漆,防腐漆,氟碳防腐面漆,氟碳面漆（厂家直供）,氟碳银粉漆,环保净味沥青防腐涂料,环氧富锌底漆,环氧富锌面漆,环氧云铁中涂（厂家直供）,聚氨酯磁漆（面漆）（厂家直供）,聚氨酯面漆,沥青漆,沥青清漆（厂家直供）,无机富锌底漆（厂家直供）,绝缘油漆,醇酸防锈漆,酚醛防锈漆,钢结构专用漆,环氧防锈漆,油性防锈漆,丙烯酸马路划线漆,道路反光漆,荧光漆,石材干挂胶,自喷漆,发泡胶,万能胶,保温钉专用胶水,草酸,乳化沥青氯丁胶,PVC给水管专用胶水,PVC排水管专用胶水,钢铁除锈剂,万能除锈剂,钢铁除锈剂.,钢铁除锈剂,环氧地坪漆.,环氧自流平地坪漆,聚氨酯地坪漆,环氧树脂,环氧树脂灌浆料,环氧树脂.,松香水,环氧稀料,醇酸稀料,硝基稀料,松香水（厂家直供）,香蕉水（厂家直供）,醇酸稀释剂（厂家直供）,丙烯酸聚氨酯稀释剂（厂家直供）,环氧稀释剂（厂家直供）,环保I型稀释剂（厂家直供）,环氧面漆稀释剂（厂家直供）,稀释剂,醇酸稀料.,硝基稀料.,环氧稀料.,自喷漆.,醇酸磁漆.,醇酸调和漆.,酚醛调和漆.,环氧富锌底漆.,环氧云铁中间漆.,聚氨酯面漆.,防腐木蜡油,环氧富锌底漆（厂家直供）,乳化沥青油,沥青漆.,醇酸防锈漆.,丙烯酸马路划线漆.,水性中黄管架漆（厂家直供）,氟碳金属漆面漆.,床单,褥子,床褥,枕套,被套,被罩,床罩,毯子,被子,枕头,被芯,枕芯,棉被,冬被,夏被,座垫,空调被,床垫,席梦思,靠垫,枕巾,被褥,床上三件套,床上四件套,桌布,毛巾,浴巾,洗脸巾,方巾,百洁布,洗碗布,窗帘,抹布,收纳袋,包装袋,扎带,水槽过滤网,篮球网,乒乓球网,羽毛球网,渔网,袜子,针织手套,围巾,领带,手帕,女内衣,男内衣,女睡衣,男睡衣,女浴衣,男浴衣,女衬衫,男衬衫,女T恤衫,男T恤衫,女上衣,女冲锋衣,女夹克,女防风衣,男上衣,男冲锋衣,男夹克,男防风衣,女裤子,男裤子,裙子,女大衣,女风衣,男大衣,男风衣,女毛衣,男毛衣,冬装,棉大衣,羽绒服,防寒服,军大衣,棉袄,棉服,登山服,篮球服,健身服,跑步服,足球服,球衣,防护服,迷彩服,白大褂,焊接防护服,潜水服,工作服,工装,厨师服,安全鞋,劳保鞋,雨靴,雨鞋,工作鞋,帽子,帽衬,安全帽内衬,行李箱,拉杆箱,公文包,手提袋,背包,事务包,会议包,双肩包,木筷子,一次性筷子,棕垫,木质会议桌,木质电脑桌,木质凳子,木质茶几,木质屏风,木质书柜,木质洽谈桌,木质书桌,木质员工桌,木质培训桌,木质老板桌,木质长条桌,木质展示柜,木质衣柜,木质折叠桌,木质更衣柜,木质长桌,折叠椅,餐椅,培训椅,木质主管桌,木鞋柜,木床头柜,木挂衣架,木衣帽架,电脑椅,转椅,老板椅,钢制书架,弓形椅,网椅,高低床,床,单人床,实木床,上下床,双层床,铁床,双人床,铁架床,沙发,折叠床,工学椅,椅子,木质桌子,座椅,办公椅子,电竞椅,木质经理桌,桌椅,床板,美纹纸,凭证纸,打印纸,道林纸,皮纹纸,复印纸,A4纸,小票纸,封面纸,标签打印纸,收银纸,热敏纸,A3纸,双胶纸,纸盒,纸杯,纸箱,纸巾盒,一次性纸杯,红包,信封,凭证盒,纸制文件夹,纸制文件袋,纸制资料册,纸制文件盒,纸制资料盒,纸制文件包,纸制文件套,纸制档案袋,纸制整理夹,纸制管理夹,纸制档案盒,纸巾,卷纸,手帕纸,抽纸,面巾纸,卫生纸,软抽纸,擦手纸,湿纸巾,餐巾纸,厕纸,卷筒纸,大盘纸,无芯卷纸,卫生巾,湿巾,便条纸,报事贴,标签,标签纸,便签纸,标签贴纸,标签贴,贴纸,标签带,N次贴,便利贴,卡纸,地图,明信片,日历,挂历,晴雨表,皮面本,送货单,草稿纸,财务手写单据,费用报销单,记账凭证,记事本,笔记本,软抄本,收据,日记本,施工日志,出门证,放行单,安全日志,登记表,记账本,笔筒,卡套,文件保护套,文件夹板,拉杆夹,档案盒,风琴包,收纳册,证件套,名片册,文件夹,文件袋,资料册,文件盒,资料盒,抽杆夹,资料夹,报告夹,文件册,文件包,收纳夹,文件套,档案袋,书写板夹,板夹,整理夹,管理夹,文件盘,文件收纳框,文件栏,文件架,文件筐,资料架,公文篮,资料框,文件篮,订书针,订书钉,大头针,夹条,订本钉,长尾夹,燕尾夹,强力夹,文件板,票据夹,夹垫板,票夹,铁夹子,山形夹,回形针,曲别针,凤尾夹,修正带,涂改液,修正贴,改正带,修正液,改正液,涂改带,橡皮擦,浆糊,胶水,液体胶,固体胶,胶棒,固体胶水,印台,印章,印油,印泥,水笔,钢笔,走珠笔,墨水笔,中性笔,圆珠笔,宝珠笔,按动笔,会议笔,啫喱笔,铅笔,自动铅笔,勾线笔,粉笔,水彩笔,签字笔,记号笔,白板笔,荧光笔,马克笔,大头笔,标记笔,油漆笔,替芯,中性笔芯,笔芯,水笔芯,笔头,笔杆,写字板,白板,黑板,电子白板,磁钉,白板擦,黑板擦,教鞭棍,墨水,篮球,乒乓球拍,网球拍,羽毛球拍,乒乓球桌,跑步机,雕塑摆件,胸牌,地垫,牙刷,拖把,拖布,扫把,清洁桶,扫帚,簸箕,雨伞,太阳伞,晴雨伞,口罩,挂钩,保温壶,理线带,粘钩,整理箱,刻录光盘,洗衣皂,肥皂,香皂,透明皂,消毒水,洗衣液,清洁剂,消毒液,洗衣粉,洗洁精,清洗剂,空气清新剂,洁厕灵,洁厕液,洁厕剂,洁厕宝,洗手液,洗发露,洗发水,沐浴露,沐浴乳,护发素,牙膏,漱口水,香氛,酒精棉片,创可贴,透明胶带,胶带,胶布,双面胶,宽胶带,胶圈,橡皮筋,塑封膜,过塑膜,护卡膜,垃圾袋,拉链袋,塑料袋,自封袋,鞋套,塑料收纳箱,塑料垃圾桶,收纳盒,塑料杯,塑料纸篓,一次性饭盒,塑料晾衣架,塑料篮,保鲜盒,玻璃杯,玻璃烟灰缸,陶瓷水杯,陶瓷茶具,陶瓷茶杯,陶瓷餐具,陶瓷茶盘,陶瓷盘,陶瓷碗,不锈钢操作台,起钉器,扳手,钻头,切割器,剪刀,剪子,裁纸刀,刀片,壁纸刀,美工刀,剃须刀,保温杯,不锈钢保温桶,双绞线,图钉,密码锁,储物柜,办公矮柜,铁皮柜,员工柜,保险柜,钱柜,保管箱,保密柜,保险箱,办公柜,凭证柜,资料柜,落地式文件柜,落地式档案柜,非落地式文件柜,非落地式档案柜,不锈钢快餐盘,合金筷子,不锈钢垃圾桶,不锈钢托盘,报刊展示架,书刊展示架,人字梯,不锈钢晾衣架,不锈钢置物架,金属纸篓,领带夹,钢丝球,不锈钢盆,不锈钢抽纸盒,不锈钢晾衣杆,不锈钢工作台,开水器底座,开水器支架,意见箱,货架,储物架,轴承,暖风机,蒸饭柜,净水器,滤芯,冰柜,塑封机,过塑机,封箱器,和面机,绞肉机,纽扣电池,摄像机,监控器,开关,插座,插排,插线板,接线板,排插,拖线板,插头,HDMI转VGA转换器,电源线,网线,延长线,VGA线,网络线,音频线,光纤跳线,7号电池,5号电池,充电宝,冰箱,冷柜,空调,壁挂式空调,柜机,除湿机,加湿器,空气净化器,吊扇,壁扇,落地扇,抽油烟机,电磁炉,电饭煲,电饭锅,电炒锅,电饼铛,电煎锅,电烤箱,电烧烤炉,电热水壶,饮水机,电水壶,烧水壶,热水壶,养生壶,咖啡机,茶吧机,烧水器,微波炉,电磁灶,豆浆机,破壁机,电动绞肉机,榨汁机,洗碗机,消毒柜,消毒碗柜,直饮机,洗衣机,开水器,电热水器,空气能热水器,吸尘器,电动牙刷,按摩器,取暖器,电暖器,电热毯,电褥子,电暖气,挂烫机,开水器电热管,开水器发热管,开水器加热棒,燃气灶,手电筒,光纤收发器,光电转换器,电话线,电话机,座机,对讲机,无人机,轻薄本,台式电脑主机,笔记本电脑,计算机,分流器,连接线,路由器,交换机,数据线,分线器,显示器,显示屏,摄像头,扫描仪,高拍仪,扫描枪,打卡机,扫码枪,读卡器,扫码器,考勤机,打印机,喷墨打印机,U盘,移动硬盘,硬盘,录音笔,优盘,存储卡,SSD固态硬盘,机械硬盘,内存,内存卡,显卡,内存条,无线网卡,墨粉,墨粉盒,扩展坞,硒鼓,墨盒,碳粉,碳粉盒,色带,鼠标,色带架,键盘,墨粉筒,色带芯,键鼠套装,IC卡,感光鼓,耳机,音箱,麦克风,耳麦,喇叭,扬声器,电视机,电视,录像机,音响,话筒,扩音器,低音炮,家庭影院,视频线,HDMI线,充电器,快充,温度计,温湿度计,测温枪,记录仪,电源,直尺,尺子,钢卷尺,测温仪,闹钟,护目镜,屏幕,幕布,投影机,投影仪,多功能一体机,复印机,输稿器,计算器,点钞机,验钞机,卷笔刀,削笔机,削笔器,转笔刀,财务装订机,订书机,打孔机,订书器,亚克力展示牌,切纸刀,切纸机,激光笔,粉碎机,碎纸机,办公椅,办公桌,会议椅,职员椅,翻页笔,投影笔,鞋套机,耳套,镜子,装订机铆管,炒锅,抽水器,不锈钢洗手池,动感单车,瑜伽垫,哑铃架,仰卧板,史密斯机,单功能训练器,划船器,立式健身车,椭圆机,电油汀,拳击沙袋,羽毛球架,篮球架,体温计,耳温枪,担架,橡胶手套,监控摄像头,塑料凳子,铝合金折叠凳,移动电视支架,锡箔纸,压面机,空气炸锅,烟灰缸,收纳箱,垃圾桶,纸篓,晾衣架,凳,筷子,会议桌,电脑桌,茶几,屏风,书柜,洽谈桌,书桌,员工桌,培训桌,老板桌,长条桌,展示柜,衣柜,折叠桌,长桌,主管桌,鞋柜,床头柜,挂衣架,衣帽架,经理桌,操作台,保温桶,快餐盘,托盘,置物架,盆,抽纸盒,晾衣杆,工作台,洗手池,展示牌,文件柜,档案柜,文件夹,文件袋,资料册,文件盒,资料盒,文件包,文件套,档案袋,整理夹,管理夹,档案盒,电池,内衣,睡衣,浴衣,衬衫,T恤衫,上衣,冲锋衣,夹克,防风衣,裤子,大衣,风衣,毛衣,水杯,碗,茶杯,茶盘,茶具,餐具,电脑,纸杯,饭盒,铆管,展示架,装订机,单据,报销单`;

  function strWithin(code) {
    let codes = getTaxCode();
    let indexNum = codes.indexOf(code);
    return indexNum > -1 ? true : false;
  }

  function susceptibleWords(htmlContent){
    const names = GOODS_NAME.split(",");
    for(let i = 0; i < names.length; i++){
      if( htmlContent.indexOf(names[i]) > -1 ){
        return [true, names[i]];
      }
    }
  }

  function susceptibleRender(htmlContent){
    let [isSusceptible, goodsName] = susceptibleWords(htmlContent);
    console.log(isSusceptible);
    if(isSusceptible && isSusceptible === true){
      let susceptibleEle = document.evaluate(`//*[contains(text(), '${goodsName}')]`, document.body, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
      susceptibleEle.style.color = "#FF0000";
      susceptibleEle.onclick = () => {
        console.log(goodsName);
        alert(`出现敏感词：${goodsName}，请注意是否为违禁词汇，或者税编是否正确！`);
      };
    };
  }

  function resetter(isSusceptible, goodsName){
    let lastPageEle = document.evaluate(`//*[contains(text(), '上一条')]`, document.body, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.parentNode;
    lastPageEle.isSusceptible = isSusceptible;
    lastPageEle.goodsName = goodsName;
    let nextPageEle = document.evaluate(`//*[contains(text(), '下一条')]`, document.body, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue.parentNode;
    nextPageEle.isSusceptible = isSusceptible;
    nextPageEle.goodsName = goodsName;
    if(lastPageEle !== undefined && nextPageEle !== undefined){
      lastPageEle.addEventListener("click", (e) => {
        e.currentTarget.isSusceptible = false;
        e.currentTarget.goodsName = undefined;
      });
      nextPageEle.addEventListener("click", () => {
        e.currentTarget.isSusceptible = false;
        e.currentTarget.goodsName = undefined;
      });
    }
  }

  function taxCodeRender(taxCodes, taxCodeRegexp){
    for (let code of taxCodes) {
      let taxCodeEle = document.evaluate(`//*[contains(text(), '${code}')]`, document.body, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
      // console.log(taxCodeEle);

      if (taxCodeRegexp.test(taxCodeEle.innerText) !== false && strWithin() === true) {
        taxCodeEle.style.color = "#FF0000";
        taxCodeEle.onclick = () => {
          console.log(code);
          alert(`编码${code} 需要更改！`);
        };
      } else {
        taxCodeEle.style.color = "#136AF2";
        taxCodeEle.onclick = () => {
          console.log(code);
          alert(`编码${code} 无需更改。`);
        }
      }
    };
  }


  function getTaxCode() {
    let arr = TAX_CODE.split(",");
    return arr
  }


  window.addEventListener("scroll", ()=>{
    const taxCodeRegexp = /\d{18,}/g

    // pageReloader();
    let htmlContent = document.querySelector("body").innerText;
    let taxCodes = htmlContent.match(taxCodeRegexp);
    taxCodeRender(taxCodes, taxCodeRegexp);
    susceptibleRender(htmlContent);
    // let [isSusceptible, goodsName] = susceptibleWords;
    taxCodeRegexp = null;
    taxCodes = null;

  })
})();