// ==UserScript==
// @name         NovelAI è‡ªåŠ¨ç‚¹å‡»ä¸Žä¿å­˜
// @namespace    http://tampermonkey.net/
// @version      3.3
// @description  naiç”Ÿæˆå™¨.
// @author       BK927 5sigmaäºŒæ¬¡ä¿®æ”¹
// @match        https://novelai.net/image
// @icon         https://www.google.com/s2/favicons?sz=64&domain=novelai.net
// @grant        none
// @license MIT
// @downloadURL https://update.greasyfork.org/scripts/484714/NovelAI%20%E8%87%AA%E5%8A%A8%E7%82%B9%E5%87%BB%E4%B8%8E%E4%BF%9D%E5%AD%98.user.js
// @updateURL https://update.greasyfork.org/scripts/484714/NovelAI%20%E8%87%AA%E5%8A%A8%E7%82%B9%E5%87%BB%E4%B8%8E%E4%BF%9D%E5%AD%98.meta.js
// ==/UserScript==

(function(){'use strict';const _0x1='//*[@id="__next"]/div[2]/div[3]/div[3]/div[1]/div[1]/div[5]/button',_0x2='//*[@id="__next"]/div[2]/div[3]/div[3]/div[1]/div[2]/div[3]/div[4]/div/div[3]/div/div[3]/button/div',_0x3=1,_0x4=3;let _0x5=0,_0x6=0;function _0x7(_0x8){let _0x9=document.createElement('style');_0x9.textContent=_0x8,document.head.appendChild(_0x9)};_0x7('#autoClickerContainer{position:fixed;display:flex;flex-direction:column;bottom:10px;right:10px;z-index:1000;border:1px solid black;padding:10px;border-radius:10px;box-shadow:0px 0px 10px rgba(0,0,0,0.5);white-space:nowrap;user-select:none;font-size:1rem;color:#666;backdrop-filter:blur(10px);background-color:rgba(255,255,255,0.7)}#autoClickerContainer:hover,#autoClickerContainer:active{cursor:move}#autoClickerContainer>*{margin:5px}#checkboxContainer{display:flex;justify-content:space-around}#checkboxContainer>label{font-size:1rem}#checkboxContainer>label>input{width:1rem;appearance:none;background-color:#fafafa;border:1px solid #cacece;padding:0.5rem;border-radius:50%;display:inline-block;position:relative}#checkboxContainer>label>input:active,#checkboxContainer>label>input:checked:active{box-shadow:0 0 0 2px #ededed,0 0 0 4px #cacece}#checkboxContainer>label>input:checked{background-color:#99ee90;border:0.5px solid green}.inputField{margin:0 5px;width:50px;padding:3px;border:1px solid #ccc;border-radius:3px;font-size:0.8em}#executionContainer{display:flex;justify-content:space-between;align-items:center}');var _0xa=document.createElement('div');_0xa.id='autoClickerContainer';var _0xb=document.createElement('div');_0xb.id='checkboxContainer';var _0xc=document.createElement('label');_0xc.textContent='ðŸ”„è‡ªåŠ¨ç”Ÿæˆ ';var _0xd=document.createElement('input');_0xd.type='checkbox';_0xc.appendChild(_0xd);var _0xe=document.createElement('label');_0xe.textContent='ðŸ’¾è‡ªåŠ¨ä¿å­˜ ';var _0xf=document.createElement('input');_0xf.type='checkbox';_0xe.appendChild(_0xf);_0xb.appendChild(_0xc),_0xb.appendChild(_0xe),_0xa.appendChild(_0xb);var _0x10=document.createElement('div');_0x10.id='countdownContainer';var _0x11=document.createElement('span');_0x11.textContent='å‰©ä½™æ—¶é—´: 0.0ç§’';_0x10.appendChild(_0x11);var _0x12=document.createElement('input');_0x12.className='inputField';_0x12.type='number';_0x12.min='0';_0x12.value=_0x3;_0x12.placeholder='æœ€å°ç­‰å¾…æ—¶é—´';var _0x13=document.createElement('input');_0x13.className='inputField';_0x13.type='number';_0x13.min='0';_0x13.value=_0x4;_0x13.placeholder='æœ€å¤§ç­‰å¾…æ—¶é—´';_0x10.appendChild(_0x12),_0x10.appendChild(_0x13),_0xa.appendChild(_0x10);var _0x14=document.createElement('div');_0x14.id='executionContainer';var _0x15=document.createElement('span');_0x15.textContent='ç”Ÿæˆé˜Ÿåˆ—: âˆž';var _0x16=document.createElement('input');_0x16.className='inputField';_0x16.type='number';_0x16.min='0';_0x16.placeholder='æ‰§è¡Œæ¬¡æ•°';_0x14.appendChild(_0x15),_0x14.appendChild(_0x16),_0xa.appendChild(_0x14);var _0x17=document.createElement('button');_0x17.textContent='éšè—/æ˜¾ç¤º';_0x17.style.cssText='border-radius:5px;background-color:#007aff;color:white;border:none;padding:5px 10px;';_0xa.appendChild(_0x17);var _0x18=document.createElement('div');_0x18.style.cssText='position:absolute;right:10px;bottom:10px;font-size:0.8em;';_0x18.textContent='5sigma ver3.0';_0xa.appendChild(_0x18),document.body.appendChild(_0xa);let _0x19=false,_0x1a,_0x1b,_0x1c=0,_0x1d=0;function _0x1e(_0x1f){const _0x20=_0x1f.type.startsWith('touch')?_0x1f.touches[0]:_0x1f;_0x1a=_0x20.clientX-_0x1c,_0x1b=_0x20.clientY-_0x1d,_0x1f.target.closest('#autoClickerContainer')&&(_0x19=true)}function _0x21(_0x22){if(!_0x19)return;_0x22.preventDefault();const _0x23=_0x22.type.startsWith('touch')?_0x22.touches[0]:_0x22;_0x1c=_0x23.clientX-_0x1a,_0x1d=_0x23.clientY-_0x1b,_0xa.style.transform=`translate3d(${_0x1c}px,${_0x1d}px,0)`}function _0x24(){_0x19=false}_0xa.addEventListener('mousedown',_0x1e),document.addEventListener('mousemove',_0x21),document.addEventListener('mouseup',_0x24),_0xa.addEventListener('touchstart',_0x1e),document.addEventListener('touchmove',_0x21),document.addEventListener('touchend',_0x24);_0x17.addEventListener('click',()=>{Array.from(_0xa.children).forEach(_0x25=>{_0x25!==_0x17&&(_0x25.style.display=_0x25.style.display==='none'?'':'none')})});_0x12.addEventListener('change',()=>{let _0x26=parseFloat(_0x12.value)||0,_0x27=parseFloat(_0x13.value)||0;_0x26>_0x27&&(_0x13.value=_0x26)});function _0x28(_0x29){return document.evaluate(_0x29,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let _0x2a=false;function _0x2b(){let _0x2c=_0x28(_0x1);if(_0x2c&&!_0x2c.disabled&&_0xd.checked){_0x2c.click(),_0x5++,_0x41();_0x2a=false}};let _0x42,_0x2e;let _0x2f=0,_0x30=false;function _0x31(){_0x2f-=0.1;_0x2f<0&&(_0x2f=0,clearInterval(_0x2e)),_0x11.textContent=`å‰©ä½™æ—¶é—´: ${_0x2f.toFixed(1)}ç§’`}function _0x32(_0x33){_0x2f=_0x33/1000,clearInterval(_0x2e),_0x2e=setInterval(_0x31,100),setTimeout(()=>{_0x30=false,_0x2b()},_0x33)}function _0x34(){const _0x35=_0x28(_0x1);if(_0xd.checked&&_0x35&&!_0x35.disabled&&!_0x2a&&_0x12.value&&_0x13.value){_0x2a=true;let _0x36=parseFloat(_0x12.value)*1000,_0x37=parseFloat(_0x13.value)*1000,_0x38=Math.random()*(_0x37-_0x36)+_0x36;_0x32(_0x38)}if(_0xf.checked&&_0x35&&!_0x35.disabled&&!_0x30){let _0x39=_0x28(_0x2);_0x39&&(_0x39.click(),_0x30=true)}}_0xd.addEventListener('change',()=>{if(_0xd.checked){_0x6=parseInt(_0x16.value)||0,_0x5=0,_0x41(),_0x2b(),_0x42=setInterval(_0x34,500)}else clearInterval(_0x42)});function _0x41(){_0x15.textContent='ç”Ÿæˆé˜Ÿåˆ—: '+((_0x6>0)?_0x6-_0x5:'âˆž');if(_0x6>0&&_0x5>=_0x6){clearInterval(_0x42),_0xd.checked=false,console.log('å·²å®Œæˆ '+_0x5+' æ¬¡ç‚¹å‡»ï¼Œè‡ªåŠ¨ç‚¹å‡»åœæ­¢ã€‚')}}const _0x3a=window.matchMedia('(prefers-color-scheme: dark)');function _0x3b(_0x3c){_0xa.style.backgroundColor=_0x3c?'rgba(0,0,0,0.7)':'rgba(255,255,255,0.7)',_0xa.style.color=_0x3c?'white':'black'};_0x3b(_0x3a.matches),_0x3a.addEventListener('change',e=>_0x3b(e.matches))})();

