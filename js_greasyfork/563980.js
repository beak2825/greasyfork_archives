// ==UserScript==
// @name          Restore YouTube Search Filters
// @description   Restores removed YouTube search filters
// @version       1.0.1
// @author        aubymori
// @namespace     aubymori
// @license       GPL-3.0
// @icon          https://www.youtube.com/favicon.ico
// @run-at        document-start
// @match         www.youtube.com/*
// @grant         GM_getValue
// @grant         GM_setValue
// @downloadURL https://update.greasyfork.org/scripts/563980/Restore%20YouTube%20Search%20Filters.user.js
// @updateURL https://update.greasyfork.org/scripts/563980/Restore%20YouTube%20Search%20Filters.meta.js
// ==/UserScript==
var P=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ft=P((Fe,ut)=>{"use strict";ut.exports=be;function be(r,e){for(var i=new Array(arguments.length-1),c=0,u=2,a=!0;u<arguments.length;)i[c++]=arguments[u++];return new Promise(function(s,t){i[c]=function(l){if(a)if(a=!1,l)t(l);else{for(var h=new Array(arguments.length-1),d=0;d<h.length;)h[d++]=arguments[d];s.apply(null,h)}};try{r.apply(e||null,i)}catch(n){a&&(a=!1,t(n))}})}});var Pt=P(dt=>{"use strict";var G=dt;G.length=function(e){var i=e.length;if(!i)return 0;for(var c=0;--i%4>1&&e.charAt(i)==="=";)++c;return Math.ceil(e.length*3)/4-c};var F=new Array(64),ht=new Array(123);for(D=0;D<64;)ht[F[D]=D<26?D+65:D<52?D+71:D<62?D-4:D-59|43]=D++;var D;G.encode=function(e,i,c){for(var u=null,a=[],o=0,s=0,t;i<c;){var n=e[i++];switch(s){case 0:a[o++]=F[n>>2],t=(n&3)<<4,s=1;break;case 1:a[o++]=F[t|n>>4],t=(n&15)<<2,s=2;break;case 2:a[o++]=F[t|n>>6],a[o++]=F[n&63],s=0;break}o>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,a)),o=0)}return s&&(a[o++]=F[t],a[o++]=61,s===1&&(a[o++]=61)),u?(o&&u.push(String.fromCharCode.apply(String,a.slice(0,o))),u.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var pt="invalid encoding";G.decode=function(e,i,c){for(var u=c,a=0,o,s=0;s<e.length;){var t=e.charCodeAt(s++);if(t===61&&a>1)break;if((t=ht[t])===void 0)throw Error(pt);switch(a){case 0:o=t,a=1;break;case 1:i[c++]=o<<2|(t&48)>>4,o=t,a=2;break;case 2:i[c++]=(o&15)<<4|(t&60)>>2,o=t,a=3;break;case 3:i[c++]=(o&3)<<6|t,a=0;break}}if(a===1)throw Error(pt);return c-u};G.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var _t=P((xe,Ot)=>{"use strict";Ot.exports=Y;function Y(){this._listeners={}}Y.prototype.on=function(e,i,c){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:i,ctx:c||this}),this};Y.prototype.off=function(e,i){if(e===void 0)this._listeners={};else if(i===void 0)this._listeners[e]=[];else for(var c=this._listeners[e],u=0;u<c.length;)c[u].fn===i?c.splice(u,1):++u;return this};Y.prototype.emit=function(e){var i=this._listeners[e];if(i){for(var c=[],u=1;u<arguments.length;)c.push(arguments[u++]);for(u=0;u<i.length;)i[u].fn.apply(i[u++].ctx,c)}return this}});var gt=P((Ie,Et)=>{"use strict";Et.exports=St(St);function St(r){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),i=new Uint8Array(e.buffer),c=i[3]===128;function u(t,n,l){e[0]=t,n[l]=i[0],n[l+1]=i[1],n[l+2]=i[2],n[l+3]=i[3]}function a(t,n,l){e[0]=t,n[l]=i[3],n[l+1]=i[2],n[l+2]=i[1],n[l+3]=i[0]}r.writeFloatLE=c?u:a,r.writeFloatBE=c?a:u;function o(t,n){return i[0]=t[n],i[1]=t[n+1],i[2]=t[n+2],i[3]=t[n+3],e[0]}function s(t,n){return i[3]=t[n],i[2]=t[n+1],i[1]=t[n+2],i[0]=t[n+3],e[0]}r.readFloatLE=c?o:s,r.readFloatBE=c?s:o})():(function(){function e(c,u,a,o){var s=u<0?1:0;if(s&&(u=-u),u===0)c(1/u>0?0:2147483648,a,o);else if(isNaN(u))c(2143289344,a,o);else if(u>34028234663852886e22)c((s<<31|2139095040)>>>0,a,o);else if(u<11754943508222875e-54)c((s<<31|Math.round(u/1401298464324817e-60))>>>0,a,o);else{var t=Math.floor(Math.log(u)/Math.LN2),n=Math.round(u*Math.pow(2,-t)*8388608)&8388607;c((s<<31|t+127<<23|n)>>>0,a,o)}}r.writeFloatLE=e.bind(null,bt),r.writeFloatBE=e.bind(null,Tt);function i(c,u,a){var o=c(u,a),s=(o>>31)*2+1,t=o>>>23&255,n=o&8388607;return t===255?n?NaN:s*(1/0):t===0?s*1401298464324817e-60*n:s*Math.pow(2,t-150)*(n+8388608)}r.readFloatLE=i.bind(null,Dt),r.readFloatBE=i.bind(null,wt)})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),i=new Uint8Array(e.buffer),c=i[7]===128;function u(t,n,l){e[0]=t,n[l]=i[0],n[l+1]=i[1],n[l+2]=i[2],n[l+3]=i[3],n[l+4]=i[4],n[l+5]=i[5],n[l+6]=i[6],n[l+7]=i[7]}function a(t,n,l){e[0]=t,n[l]=i[7],n[l+1]=i[6],n[l+2]=i[5],n[l+3]=i[4],n[l+4]=i[3],n[l+5]=i[2],n[l+6]=i[1],n[l+7]=i[0]}r.writeDoubleLE=c?u:a,r.writeDoubleBE=c?a:u;function o(t,n){return i[0]=t[n],i[1]=t[n+1],i[2]=t[n+2],i[3]=t[n+3],i[4]=t[n+4],i[5]=t[n+5],i[6]=t[n+6],i[7]=t[n+7],e[0]}function s(t,n){return i[7]=t[n],i[6]=t[n+1],i[5]=t[n+2],i[4]=t[n+3],i[3]=t[n+4],i[2]=t[n+5],i[1]=t[n+6],i[0]=t[n+7],e[0]}r.readDoubleLE=c?o:s,r.readDoubleBE=c?s:o})():(function(){function e(c,u,a,o,s,t){var n=o<0?1:0;if(n&&(o=-o),o===0)c(0,s,t+u),c(1/o>0?0:2147483648,s,t+a);else if(isNaN(o))c(0,s,t+u),c(2146959360,s,t+a);else if(o>17976931348623157e292)c(0,s,t+u),c((n<<31|2146435072)>>>0,s,t+a);else{var l;if(o<22250738585072014e-324)l=o/5e-324,c(l>>>0,s,t+u),c((n<<31|l/4294967296)>>>0,s,t+a);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),l=o*Math.pow(2,-h),c(l*4503599627370496>>>0,s,t+u),c((n<<31|h+1023<<20|l*1048576&1048575)>>>0,s,t+a)}}}r.writeDoubleLE=e.bind(null,bt,0,4),r.writeDoubleBE=e.bind(null,Tt,4,0);function i(c,u,a,o,s){var t=c(o,s+u),n=c(o,s+a),l=(n>>31)*2+1,h=n>>>20&2047,d=4294967296*(n&1048575)+t;return h===2047?d?NaN:l*(1/0):h===0?l*5e-324*d:l*Math.pow(2,h-1075)*(d+4503599627370496)}r.readDoubleLE=i.bind(null,Dt,0,4),r.readDoubleBE=i.bind(null,wt,4,0)})(),r}function bt(r,e,i){e[i]=r&255,e[i+1]=r>>>8&255,e[i+2]=r>>>16&255,e[i+3]=r>>>24}function Tt(r,e,i){e[i]=r>>>24,e[i+1]=r>>>16&255,e[i+2]=r>>>8&255,e[i+3]=r&255}function Dt(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function wt(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var Rt=P((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var Lt=P(vt=>{"use strict";var J=vt;J.length=function(e){for(var i=0,c=0,u=0;u<e.length;++u)c=e.charCodeAt(u),c<128?i+=1:c<2048?i+=2:(c&64512)===55296&&(e.charCodeAt(u+1)&64512)===56320?(++u,i+=4):i+=3;return i};J.read=function(e,i,c){var u=c-i;if(u<1)return"";for(var a=null,o=[],s=0,t;i<c;)t=e[i++],t<128?o[s++]=t:t>191&&t<224?o[s++]=(t&31)<<6|e[i++]&63:t>239&&t<365?(t=((t&7)<<18|(e[i++]&63)<<12|(e[i++]&63)<<6|e[i++]&63)-65536,o[s++]=55296+(t>>10),o[s++]=56320+(t&1023)):o[s++]=(t&15)<<12|(e[i++]&63)<<6|e[i++]&63,s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};J.write=function(e,i,c){for(var u=c,a,o,s=0;s<e.length;++s)a=e.charCodeAt(s),a<128?i[c++]=a:a<2048?(i[c++]=a>>6|192,i[c++]=a&63|128):(a&64512)===55296&&((o=e.charCodeAt(s+1))&64512)===56320?(a=65536+((a&1023)<<10)+(o&1023),++s,i[c++]=a>>18|240,i[c++]=a>>12&63|128,i[c++]=a>>6&63|128,i[c++]=a&63|128):(i[c++]=a>>12|224,i[c++]=a>>6&63|128,i[c++]=a&63|128);return c-u}});var Ut=P((He,Ct)=>{"use strict";Ct.exports=Te;function Te(r,e,i){var c=i||8192,u=c>>>1,a=null,o=c;return function(t){if(t<1||t>u)return r(t);o+t>c&&(a=r(c),o=0);var n=e.call(a,o,o+=t);return o&7&&(o=(o|7)+1),n}}});var At=P((Ge,mt)=>{"use strict";mt.exports=S;var x=L();function S(r,e){this.lo=r>>>0,this.hi=e>>>0}var m=S.zero=new S(0,0);m.toNumber=function(){return 0};m.zzEncode=m.zzDecode=function(){return this};m.length=function(){return 1};var De=S.zeroHash="\0\0\0\0\0\0\0\0";S.fromNumber=function(e){if(e===0)return m;var i=e<0;i&&(e=-e);var c=e>>>0,u=(e-c)/4294967296>>>0;return i&&(u=~u>>>0,c=~c>>>0,++c>4294967295&&(c=0,++u>4294967295&&(u=0))),new S(c,u)};S.from=function(e){if(typeof e=="number")return S.fromNumber(e);if(x.isString(e))if(x.Long)e=x.Long.fromString(e);else return S.fromNumber(parseInt(e,10));return e.low||e.high?new S(e.low>>>0,e.high>>>0):m};S.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var i=~this.lo+1>>>0,c=~this.hi>>>0;return i||(c=c+1>>>0),-(i+c*4294967296)}return this.lo+this.hi*4294967296};S.prototype.toLong=function(e){return x.Long?new x.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var v=String.prototype.charCodeAt;S.fromHash=function(e){return e===De?m:new S((v.call(e,0)|v.call(e,1)<<8|v.call(e,2)<<16|v.call(e,3)<<24)>>>0,(v.call(e,4)|v.call(e,5)<<8|v.call(e,6)<<16|v.call(e,7)<<24)>>>0)};S.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};S.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};S.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};S.prototype.length=function(){var e=this.lo,i=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?i===0?e<16384?e<128?1:2:e<2097152?3:4:i<16384?i<128?5:6:i<2097152?7:8:c<128?9:10}});var L=P(Z=>{"use strict";var p=Z;p.asPromise=ft();p.base64=Pt();p.EventEmitter=_t();p.float=gt();p.inquire=Rt();p.utf8=Lt();p.pool=Ut();p.LongBits=At();p.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);p.global=p.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Z;p.emptyArray=Object.freeze?Object.freeze([]):[];p.emptyObject=Object.freeze?Object.freeze({}):{};p.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};p.isString=function(e){return typeof e=="string"||e instanceof String};p.isObject=function(e){return e&&typeof e=="object"};p.isset=p.isSet=function(e,i){var c=e[i];return c!=null&&e.hasOwnProperty(i)?typeof c!="object"||(Array.isArray(c)?c.length:Object.keys(c).length)>0:!1};p.Buffer=(function(){try{var r=p.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}})();p._Buffer_from=null;p._Buffer_allocUnsafe=null;p.newBuffer=function(e){return typeof e=="number"?p.Buffer?p._Buffer_allocUnsafe(e):new p.Array(e):p.Buffer?p._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};p.Array=typeof Uint8Array<"u"?Uint8Array:Array;p.Long=p.global.dcodeIO&&p.global.dcodeIO.Long||p.global.Long||p.inquire("long");p.key2Re=/^true|false|0|1$/;p.key32Re=/^-?(?:0|[1-9][0-9]*)$/;p.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;p.longToHash=function(e){return e?p.LongBits.from(e).toHash():p.LongBits.zeroHash};p.longFromHash=function(e,i){var c=p.LongBits.fromHash(e);return p.Long?p.Long.fromBits(c.lo,c.hi,i):c.toNumber(!!i)};function Bt(r,e,i){for(var c=Object.keys(e),u=0;u<c.length;++u)(r[c[u]]===void 0||!i)&&(r[c[u]]=e[c[u]]);return r}p.merge=Bt;p.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function kt(r){function e(i,c){if(!(this instanceof e))return new e(i,c);Object.defineProperty(this,"message",{get:function(){return i}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),c&&Bt(this,c)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}p.newError=kt;p.ProtocolError=kt("ProtocolError");p.oneOfGetter=function(e){for(var i={},c=0;c<e.length;++c)i[e[c]]=1;return function(){for(var u=Object.keys(this),a=u.length-1;a>-1;--a)if(i[u[a]]===1&&this[u[a]]!==void 0&&this[u[a]]!==null)return u[a]}};p.oneOfSetter=function(e){return function(i){for(var c=0;c<e.length;++c)e[c]!==i&&delete this[e[c]]}};p.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};p._configure=function(){var r=p.Buffer;if(!r){p._Buffer_from=p._Buffer_allocUnsafe=null;return}p._Buffer_from=r.from!==Uint8Array.from&&r.from||function(i,c){return new r(i,c)},p._Buffer_allocUnsafe=r.allocUnsafe||function(i){return new r(i)}}});var it=P((qe,It)=>{"use strict";It.exports=y;var T=L(),K,q=T.LongBits,Ft=T.base64,Mt=T.utf8;function I(r,e,i){this.fn=r,this.len=e,this.next=void 0,this.val=i}function Q(){}function we(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function y(){this.len=0,this.head=new I(Q,0,0),this.tail=this.head,this.states=null}var xt=function(){return T.Buffer?function(){return(y.create=function(){return new K})()}:function(){return new y}};y.create=xt();y.alloc=function(e){return new T.Array(e)};T.Array!==Array&&(y.alloc=T.pool(y.alloc,T.Array.prototype.subarray));y.prototype._push=function(e,i,c){return this.tail=this.tail.next=new I(e,i,c),this.len+=i,this};function tt(r,e,i){e[i]=r&255}function Ee(r,e,i){for(;r>127;)e[i++]=r&127|128,r>>>=7;e[i]=r}function et(r,e){this.len=r,this.next=void 0,this.val=e}et.prototype=Object.create(I.prototype);et.prototype.fn=Ee;y.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new et((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};y.prototype.int32=function(e){return e<0?this._push(rt,10,q.fromNumber(e)):this.uint32(e)};y.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function rt(r,e,i){for(;r.hi;)e[i++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[i++]=r.lo&127|128,r.lo=r.lo>>>7;e[i++]=r.lo}y.prototype.uint64=function(e){var i=q.from(e);return this._push(rt,i.length(),i)};y.prototype.int64=y.prototype.uint64;y.prototype.sint64=function(e){var i=q.from(e).zzEncode();return this._push(rt,i.length(),i)};y.prototype.bool=function(e){return this._push(tt,1,e?1:0)};function X(r,e,i){e[i]=r&255,e[i+1]=r>>>8&255,e[i+2]=r>>>16&255,e[i+3]=r>>>24}y.prototype.fixed32=function(e){return this._push(X,4,e>>>0)};y.prototype.sfixed32=y.prototype.fixed32;y.prototype.fixed64=function(e){var i=q.from(e);return this._push(X,4,i.lo)._push(X,4,i.hi)};y.prototype.sfixed64=y.prototype.fixed64;y.prototype.float=function(e){return this._push(T.float.writeFloatLE,4,e)};y.prototype.double=function(e){return this._push(T.float.writeDoubleLE,8,e)};var ge=T.Array.prototype.set?function(e,i,c){i.set(e,c)}:function(e,i,c){for(var u=0;u<e.length;++u)i[c+u]=e[u]};y.prototype.bytes=function(e){var i=e.length>>>0;if(!i)return this._push(tt,1,0);if(T.isString(e)){var c=y.alloc(i=Ft.length(e));Ft.decode(e,c,0),e=c}return this.uint32(i)._push(ge,i,e)};y.prototype.string=function(e){var i=Mt.length(e);return i?this.uint32(i)._push(Mt.write,i,e):this._push(tt,1,0)};y.prototype.fork=function(){return this.states=new we(this),this.head=this.tail=new I(Q,0,0),this.len=0,this};y.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new I(Q,0,0),this.len=0),this};y.prototype.ldelim=function(){var e=this.head,i=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=e.next,this.tail=i,this.len+=c),this};y.prototype.finish=function(){for(var e=this.head.next,i=this.constructor.alloc(this.len),c=0;e;)e.fn(e.val,i,c),c+=e.len,e=e.next;return i};y._configure=function(r){K=r,y.create=xt(),K._configure()}});var Gt=P((je,Ht)=>{"use strict";Ht.exports=R;var Nt=it();(R.prototype=Object.create(Nt.prototype)).constructor=R;var C=L();function R(){Nt.call(this)}R._configure=function(){R.alloc=C._Buffer_allocUnsafe,R.writeBytesBuffer=C.Buffer&&C.Buffer.prototype instanceof Uint8Array&&C.Buffer.prototype.set.name==="set"?function(e,i,c){i.set(e,c)}:function(e,i,c){if(e.copy)e.copy(i,c,0,e.length);else for(var u=0;u<e.length;)i[c++]=e[u++]}};R.prototype.bytes=function(e){C.isString(e)&&(e=C._Buffer_from(e,"base64"));var i=e.length>>>0;return this.uint32(i),i&&this._push(R.writeBytesBuffer,i,e),this};function Re(r,e,i){r.length<40?C.utf8.write(r,e,i):e.utf8Write?e.utf8Write(r,i):e.write(r,i)}R.prototype.string=function(e){var i=C.Buffer.byteLength(e);return this.uint32(i),i&&this._push(Re,i,e),this};R._configure()});var ct=P((Ve,zt)=>{"use strict";zt.exports=_;var w=L(),ot,jt=w.LongBits,ve=w.utf8;function E(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function _(r){this.buf=r,this.pos=0,this.len=r.length}var Yt=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new _(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new _(e);throw Error("illegal buffer")},Vt=function(){return w.Buffer?function(i){return(_.create=function(u){return w.Buffer.isBuffer(u)?new ot(u):Yt(u)})(i)}:Yt};_.create=Vt();_.prototype._slice=w.Array.prototype.subarray||w.Array.prototype.slice;_.prototype.uint32=(function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,E(this,10);return e}})();_.prototype.int32=function(){return this.uint32()|0};_.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function nt(){var r=new jt(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw E(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw E(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}_.prototype.bool=function(){return this.uint32()!==0};function j(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}_.prototype.fixed32=function(){if(this.pos+4>this.len)throw E(this,4);return j(this.buf,this.pos+=4)};_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw E(this,4);return j(this.buf,this.pos+=4)|0};function qt(){if(this.pos+8>this.len)throw E(this,8);return new jt(j(this.buf,this.pos+=4),j(this.buf,this.pos+=4))}_.prototype.float=function(){if(this.pos+4>this.len)throw E(this,4);var e=w.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};_.prototype.double=function(){if(this.pos+8>this.len)throw E(this,4);var e=w.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};_.prototype.bytes=function(){var e=this.uint32(),i=this.pos,c=this.pos+e;if(c>this.len)throw E(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(i,c);if(i===c){var u=w.Buffer;return u?u.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,i,c)};_.prototype.string=function(){var e=this.bytes();return ve.read(e,0,e.length)};_.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw E(this,e);this.pos+=e}else do if(this.pos>=this.len)throw E(this);while(this.buf[this.pos++]&128);return this};_.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};_._configure=function(r){ot=r,_.create=Vt(),ot._configure();var e=w.Long?"toLong":"toNumber";w.merge(_.prototype,{int64:function(){return nt.call(this)[e](!1)},uint64:function(){return nt.call(this)[e](!0)},sint64:function(){return nt.call(this).zzDecode()[e](!1)},fixed64:function(){return qt.call(this)[e](!0)},sfixed64:function(){return qt.call(this)[e](!1)}})}});var Zt=P((ze,Jt)=>{"use strict";Jt.exports=A;var $t=ct();(A.prototype=Object.create($t.prototype)).constructor=A;var Wt=L();function A(r){$t.call(this,r)}A._configure=function(){Wt.Buffer&&(A.prototype._slice=Wt.Buffer.prototype.slice)};A.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};A._configure()});var Xt=P((We,Kt)=>{"use strict";Kt.exports=N;var at=L();(N.prototype=Object.create(at.EventEmitter.prototype)).constructor=N;function N(r,e,i){if(typeof r!="function")throw TypeError("rpcImpl must be a function");at.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!e,this.responseDelimited=!!i}N.prototype.rpcCall=function r(e,i,c,u,a){if(!u)throw TypeError("request must be specified");var o=this;if(!a)return at.asPromise(r,o,e,i,c,u);if(!o.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return o.rpcImpl(e,i[o.requestDelimited?"encodeDelimited":"encode"](u).finish(),function(t,n){if(t)return o.emit("error",t,e),a(t);if(n===null){o.end(!0);return}if(!(n instanceof c))try{n=c[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(l){return o.emit("error",l,e),a(l)}return o.emit("data",n,e),a(null,n)})}catch(s){o.emit("error",s,e),setTimeout(function(){a(s)},0);return}};N.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var te=P(Qt=>{"use strict";var Le=Qt;Le.Service=Xt()});var re=P((Je,ee)=>{"use strict";ee.exports={}});var oe=P(ne=>{"use strict";var b=ne;b.build="minimal";b.Writer=it();b.BufferWriter=Gt();b.Reader=ct();b.BufferReader=Zt();b.util=L();b.rpc=te();b.roots=re();b.configure=ie;function ie(){b.util._configure(),b.Writer._configure(b.BufferWriter),b.Reader._configure(b.BufferReader)}ie()});var ae=P((Ke,ce)=>{"use strict";ce.exports=oe()});var ue=P((Xe,le)=>{"use strict";var B=ae(),U=B.Reader,se=B.Writer,f=B.util,O=B.roots.default||(B.roots.default={});O.youtube=(function(){var r={};return r.api=(function(){var e={};return e.innertube=(function(){var i={};return i.SearchParams=(function(){function c(a){if(a)for(var o=Object.keys(a),s=0;s<o.length;++s)a[o[s]]!=null&&(this[o[s]]=a[o[s]])}c.prototype.sortType=null,c.prototype.filterOptions=null,c.prototype.index=null,c.prototype.something=null;var u;return Object.defineProperty(c.prototype,"_sortType",{get:f.oneOfGetter(u=["sortType"]),set:f.oneOfSetter(u)}),Object.defineProperty(c.prototype,"_filterOptions",{get:f.oneOfGetter(u=["filterOptions"]),set:f.oneOfSetter(u)}),Object.defineProperty(c.prototype,"_index",{get:f.oneOfGetter(u=["index"]),set:f.oneOfSetter(u)}),Object.defineProperty(c.prototype,"_something",{get:f.oneOfGetter(u=["something"]),set:f.oneOfSetter(u)}),c.create=function(o){return new c(o)},c.encode=function(o,s){return s||(s=se.create()),o.sortType!=null&&Object.hasOwnProperty.call(o,"sortType")&&s.uint32(8).int32(o.sortType),o.filterOptions!=null&&Object.hasOwnProperty.call(o,"filterOptions")&&O.youtube.api.innertube.SearchParams.FilterOptions.encode(o.filterOptions,s.uint32(18).fork()).ldelim(),o.index!=null&&Object.hasOwnProperty.call(o,"index")&&s.uint32(72).int32(o.index),o.something!=null&&Object.hasOwnProperty.call(o,"something")&&s.uint32(490).string(o.something),s},c.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},c.decode=function(o,s,t){o instanceof U||(o=U.create(o));for(var n=s===void 0?o.len:o.pos+s,l=new O.youtube.api.innertube.SearchParams;o.pos<n;){var h=o.uint32();if(h===t)break;switch(h>>>3){case 1:{l.sortType=o.int32();break}case 2:{l.filterOptions=O.youtube.api.innertube.SearchParams.FilterOptions.decode(o,o.uint32());break}case 9:{l.index=o.int32();break}case 61:{l.something=o.string();break}default:o.skipType(h&7);break}}return l},c.decodeDelimited=function(o){return o instanceof U||(o=new U(o)),this.decode(o,o.uint32())},c.verify=function(o){if(typeof o!="object"||o===null)return"object expected";var s={};if(o.sortType!=null&&o.hasOwnProperty("sortType"))switch(s._sortType=1,o.sortType){default:return"sortType: enum value expected";case 0:case 1:case 2:case 3:break}if(o.filterOptions!=null&&o.hasOwnProperty("filterOptions")){s._filterOptions=1;{var t=O.youtube.api.innertube.SearchParams.FilterOptions.verify(o.filterOptions);if(t)return"filterOptions."+t}}return o.index!=null&&o.hasOwnProperty("index")&&(s._index=1,!f.isInteger(o.index))?"index: integer expected":o.something!=null&&o.hasOwnProperty("something")&&(s._something=1,!f.isString(o.something))?"something: string expected":null},c.fromObject=function(o){if(o instanceof O.youtube.api.innertube.SearchParams)return o;var s=new O.youtube.api.innertube.SearchParams;switch(o.sortType){default:if(typeof o.sortType=="number"){s.sortType=o.sortType;break}break;case"BY_RELEVANCE":case 0:s.sortType=0;break;case"BY_RATING":case 1:s.sortType=1;break;case"BY_DATE":case 2:s.sortType=2;break;case"BY_VIEW_COUNT":case 3:s.sortType=3;break}if(o.filterOptions!=null){if(typeof o.filterOptions!="object")throw TypeError(".youtube.api.innertube.SearchParams.filterOptions: object expected");s.filterOptions=O.youtube.api.innertube.SearchParams.FilterOptions.fromObject(o.filterOptions)}return o.index!=null&&(s.index=o.index|0),o.something!=null&&(s.something=String(o.something)),s},c.toObject=function(o,s){s||(s={});var t={};return o.sortType!=null&&o.hasOwnProperty("sortType")&&(t.sortType=s.enums===String?O.youtube.api.innertube.SearchParams.SearchResultsSortType[o.sortType]===void 0?o.sortType:O.youtube.api.innertube.SearchParams.SearchResultsSortType[o.sortType]:o.sortType,s.oneofs&&(t._sortType="sortType")),o.filterOptions!=null&&o.hasOwnProperty("filterOptions")&&(t.filterOptions=O.youtube.api.innertube.SearchParams.FilterOptions.toObject(o.filterOptions,s),s.oneofs&&(t._filterOptions="filterOptions")),o.index!=null&&o.hasOwnProperty("index")&&(t.index=o.index,s.oneofs&&(t._index="index")),o.something!=null&&o.hasOwnProperty("something")&&(t.something=o.something,s.oneofs&&(t._something="something")),t},c.prototype.toJSON=function(){return this.constructor.toObject(this,B.util.toJSONOptions)},c.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/youtube.api.innertube.SearchParams"},c.SearchResultsSortType=(function(){var a={},o=Object.create(a);return o[a[0]="BY_RELEVANCE"]=0,o[a[1]="BY_RATING"]=1,o[a[2]="BY_DATE"]=2,o[a[3]="BY_VIEW_COUNT"]=3,o})(),c.FilterOptions=(function(){function a(s){if(this.restrictUsernames=[],s)for(var t=Object.keys(s),n=0;n<t.length;++n)s[t[n]]!=null&&(this[t[n]]=s[t[n]])}a.prototype.restrictUploadDate=null,a.prototype.restrictResultType=null,a.prototype.restrictDuration=null,a.prototype.restrictHighDefinition=null,a.prototype.restrictClosedCaption=null,a.prototype.restrictCreativeCommons=null,a.prototype.restrictThreed=null,a.prototype.restrictLive=null,a.prototype.restrictPurchased=null,a.prototype.restrictUsernames=f.emptyArray,a.prototype.restrictSafeSearch=null,a.prototype.restrictEdu=null,a.prototype.restrictFourk=null,a.prototype.restrictSpherical=null,a.prototype.restrictSpacecast=null,a.prototype.restrictPaidContent=null,a.prototype.restrictFullMoviePage=null,a.prototype.restrictContentOwner=null,a.prototype.restrictLocation=null,a.prototype.restrictLocationPlaceId=null,a.prototype.restrictHighDynamicRange=null,a.prototype.restrictPartialSpherical=null,a.prototype.restrictPremiumTvfilmMoviePage=null,a.prototype.restrictUnwatched=null,a.prototype.restrictPaidProductPlacement=null,a.prototype.restrictEightk=null;var o;return Object.defineProperty(a.prototype,"_restrictUploadDate",{get:f.oneOfGetter(o=["restrictUploadDate"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictResultType",{get:f.oneOfGetter(o=["restrictResultType"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictDuration",{get:f.oneOfGetter(o=["restrictDuration"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictHighDefinition",{get:f.oneOfGetter(o=["restrictHighDefinition"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictClosedCaption",{get:f.oneOfGetter(o=["restrictClosedCaption"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictCreativeCommons",{get:f.oneOfGetter(o=["restrictCreativeCommons"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictThreed",{get:f.oneOfGetter(o=["restrictThreed"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictLive",{get:f.oneOfGetter(o=["restrictLive"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictPurchased",{get:f.oneOfGetter(o=["restrictPurchased"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictSafeSearch",{get:f.oneOfGetter(o=["restrictSafeSearch"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictEdu",{get:f.oneOfGetter(o=["restrictEdu"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictFourk",{get:f.oneOfGetter(o=["restrictFourk"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictSpherical",{get:f.oneOfGetter(o=["restrictSpherical"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictSpacecast",{get:f.oneOfGetter(o=["restrictSpacecast"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictPaidContent",{get:f.oneOfGetter(o=["restrictPaidContent"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictFullMoviePage",{get:f.oneOfGetter(o=["restrictFullMoviePage"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictContentOwner",{get:f.oneOfGetter(o=["restrictContentOwner"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictLocation",{get:f.oneOfGetter(o=["restrictLocation"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictLocationPlaceId",{get:f.oneOfGetter(o=["restrictLocationPlaceId"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictHighDynamicRange",{get:f.oneOfGetter(o=["restrictHighDynamicRange"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictPartialSpherical",{get:f.oneOfGetter(o=["restrictPartialSpherical"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictPremiumTvfilmMoviePage",{get:f.oneOfGetter(o=["restrictPremiumTvfilmMoviePage"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictUnwatched",{get:f.oneOfGetter(o=["restrictUnwatched"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictPaidProductPlacement",{get:f.oneOfGetter(o=["restrictPaidProductPlacement"]),set:f.oneOfSetter(o)}),Object.defineProperty(a.prototype,"_restrictEightk",{get:f.oneOfGetter(o=["restrictEightk"]),set:f.oneOfSetter(o)}),a.create=function(t){return new a(t)},a.encode=function(t,n){if(n||(n=se.create()),t.restrictUploadDate!=null&&Object.hasOwnProperty.call(t,"restrictUploadDate")&&n.uint32(8).int32(t.restrictUploadDate),t.restrictResultType!=null&&Object.hasOwnProperty.call(t,"restrictResultType")&&n.uint32(16).int32(t.restrictResultType),t.restrictDuration!=null&&Object.hasOwnProperty.call(t,"restrictDuration")&&n.uint32(24).int32(t.restrictDuration),t.restrictHighDefinition!=null&&Object.hasOwnProperty.call(t,"restrictHighDefinition")&&n.uint32(32).bool(t.restrictHighDefinition),t.restrictClosedCaption!=null&&Object.hasOwnProperty.call(t,"restrictClosedCaption")&&n.uint32(40).bool(t.restrictClosedCaption),t.restrictCreativeCommons!=null&&Object.hasOwnProperty.call(t,"restrictCreativeCommons")&&n.uint32(48).bool(t.restrictCreativeCommons),t.restrictThreed!=null&&Object.hasOwnProperty.call(t,"restrictThreed")&&n.uint32(56).bool(t.restrictThreed),t.restrictLive!=null&&Object.hasOwnProperty.call(t,"restrictLive")&&n.uint32(64).bool(t.restrictLive),t.restrictPurchased!=null&&Object.hasOwnProperty.call(t,"restrictPurchased")&&n.uint32(72).bool(t.restrictPurchased),t.restrictUsernames!=null&&t.restrictUsernames.length)for(var l=0;l<t.restrictUsernames.length;++l)n.uint32(82).string(t.restrictUsernames[l]);return t.restrictSafeSearch!=null&&Object.hasOwnProperty.call(t,"restrictSafeSearch")&&n.uint32(88).int32(t.restrictSafeSearch),t.restrictEdu!=null&&Object.hasOwnProperty.call(t,"restrictEdu")&&n.uint32(96).bool(t.restrictEdu),t.restrictFourk!=null&&Object.hasOwnProperty.call(t,"restrictFourk")&&n.uint32(112).bool(t.restrictFourk),t.restrictSpherical!=null&&Object.hasOwnProperty.call(t,"restrictSpherical")&&n.uint32(120).bool(t.restrictSpherical),t.restrictSpacecast!=null&&Object.hasOwnProperty.call(t,"restrictSpacecast")&&n.uint32(128).bool(t.restrictSpacecast),t.restrictPaidContent!=null&&Object.hasOwnProperty.call(t,"restrictPaidContent")&&n.uint32(160).bool(t.restrictPaidContent),t.restrictFullMoviePage!=null&&Object.hasOwnProperty.call(t,"restrictFullMoviePage")&&n.uint32(168).bool(t.restrictFullMoviePage),t.restrictContentOwner!=null&&Object.hasOwnProperty.call(t,"restrictContentOwner")&&n.uint32(178).string(t.restrictContentOwner),t.restrictLocation!=null&&Object.hasOwnProperty.call(t,"restrictLocation")&&n.uint32(184).bool(t.restrictLocation),t.restrictLocationPlaceId!=null&&Object.hasOwnProperty.call(t,"restrictLocationPlaceId")&&n.uint32(194).string(t.restrictLocationPlaceId),t.restrictHighDynamicRange!=null&&Object.hasOwnProperty.call(t,"restrictHighDynamicRange")&&n.uint32(200).bool(t.restrictHighDynamicRange),t.restrictPartialSpherical!=null&&Object.hasOwnProperty.call(t,"restrictPartialSpherical")&&n.uint32(208).bool(t.restrictPartialSpherical),t.restrictPremiumTvfilmMoviePage!=null&&Object.hasOwnProperty.call(t,"restrictPremiumTvfilmMoviePage")&&n.uint32(224).bool(t.restrictPremiumTvfilmMoviePage),t.restrictUnwatched!=null&&Object.hasOwnProperty.call(t,"restrictUnwatched")&&n.uint32(232).bool(t.restrictUnwatched),t.restrictPaidProductPlacement!=null&&Object.hasOwnProperty.call(t,"restrictPaidProductPlacement")&&n.uint32(256).bool(t.restrictPaidProductPlacement),t.restrictEightk!=null&&Object.hasOwnProperty.call(t,"restrictEightk")&&n.uint32(264).bool(t.restrictEightk),n},a.encodeDelimited=function(t,n){return this.encode(t,n).ldelim()},a.decode=function(t,n,l){t instanceof U||(t=U.create(t));for(var h=n===void 0?t.len:t.pos+n,d=new O.youtube.api.innertube.SearchParams.FilterOptions;t.pos<h;){var $=t.uint32();if($===l)break;switch($>>>3){case 1:{d.restrictUploadDate=t.int32();break}case 2:{d.restrictResultType=t.int32();break}case 3:{d.restrictDuration=t.int32();break}case 4:{d.restrictHighDefinition=t.bool();break}case 5:{d.restrictClosedCaption=t.bool();break}case 6:{d.restrictCreativeCommons=t.bool();break}case 7:{d.restrictThreed=t.bool();break}case 8:{d.restrictLive=t.bool();break}case 9:{d.restrictPurchased=t.bool();break}case 10:{d.restrictUsernames&&d.restrictUsernames.length||(d.restrictUsernames=[]),d.restrictUsernames.push(t.string());break}case 11:{d.restrictSafeSearch=t.int32();break}case 12:{d.restrictEdu=t.bool();break}case 14:{d.restrictFourk=t.bool();break}case 15:{d.restrictSpherical=t.bool();break}case 16:{d.restrictSpacecast=t.bool();break}case 20:{d.restrictPaidContent=t.bool();break}case 21:{d.restrictFullMoviePage=t.bool();break}case 22:{d.restrictContentOwner=t.string();break}case 23:{d.restrictLocation=t.bool();break}case 24:{d.restrictLocationPlaceId=t.string();break}case 25:{d.restrictHighDynamicRange=t.bool();break}case 26:{d.restrictPartialSpherical=t.bool();break}case 28:{d.restrictPremiumTvfilmMoviePage=t.bool();break}case 29:{d.restrictUnwatched=t.bool();break}case 32:{d.restrictPaidProductPlacement=t.bool();break}case 33:{d.restrictEightk=t.bool();break}default:t.skipType($&7);break}}return d},a.decodeDelimited=function(t){return t instanceof U||(t=new U(t)),this.decode(t,t.uint32())},a.verify=function(t){if(typeof t!="object"||t===null)return"object expected";var n={};if(t.restrictUploadDate!=null&&t.hasOwnProperty("restrictUploadDate"))switch(n._restrictUploadDate=1,t.restrictUploadDate){default:return"restrictUploadDate: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(t.restrictResultType!=null&&t.hasOwnProperty("restrictResultType"))switch(n._restrictResultType=1,t.restrictResultType){default:return"restrictResultType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:break}if(t.restrictDuration!=null&&t.hasOwnProperty("restrictDuration"))switch(n._restrictDuration=1,t.restrictDuration){default:return"restrictDuration: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(t.restrictHighDefinition!=null&&t.hasOwnProperty("restrictHighDefinition")&&(n._restrictHighDefinition=1,typeof t.restrictHighDefinition!="boolean"))return"restrictHighDefinition: boolean expected";if(t.restrictClosedCaption!=null&&t.hasOwnProperty("restrictClosedCaption")&&(n._restrictClosedCaption=1,typeof t.restrictClosedCaption!="boolean"))return"restrictClosedCaption: boolean expected";if(t.restrictCreativeCommons!=null&&t.hasOwnProperty("restrictCreativeCommons")&&(n._restrictCreativeCommons=1,typeof t.restrictCreativeCommons!="boolean"))return"restrictCreativeCommons: boolean expected";if(t.restrictThreed!=null&&t.hasOwnProperty("restrictThreed")&&(n._restrictThreed=1,typeof t.restrictThreed!="boolean"))return"restrictThreed: boolean expected";if(t.restrictLive!=null&&t.hasOwnProperty("restrictLive")&&(n._restrictLive=1,typeof t.restrictLive!="boolean"))return"restrictLive: boolean expected";if(t.restrictPurchased!=null&&t.hasOwnProperty("restrictPurchased")&&(n._restrictPurchased=1,typeof t.restrictPurchased!="boolean"))return"restrictPurchased: boolean expected";if(t.restrictUsernames!=null&&t.hasOwnProperty("restrictUsernames")){if(!Array.isArray(t.restrictUsernames))return"restrictUsernames: array expected";for(var l=0;l<t.restrictUsernames.length;++l)if(!f.isString(t.restrictUsernames[l]))return"restrictUsernames: string[] expected"}if(t.restrictSafeSearch!=null&&t.hasOwnProperty("restrictSafeSearch"))switch(n._restrictSafeSearch=1,t.restrictSafeSearch){default:return"restrictSafeSearch: enum value expected";case 0:case 1:case 2:case 3:break}return t.restrictEdu!=null&&t.hasOwnProperty("restrictEdu")&&(n._restrictEdu=1,typeof t.restrictEdu!="boolean")?"restrictEdu: boolean expected":t.restrictFourk!=null&&t.hasOwnProperty("restrictFourk")&&(n._restrictFourk=1,typeof t.restrictFourk!="boolean")?"restrictFourk: boolean expected":t.restrictSpherical!=null&&t.hasOwnProperty("restrictSpherical")&&(n._restrictSpherical=1,typeof t.restrictSpherical!="boolean")?"restrictSpherical: boolean expected":t.restrictSpacecast!=null&&t.hasOwnProperty("restrictSpacecast")&&(n._restrictSpacecast=1,typeof t.restrictSpacecast!="boolean")?"restrictSpacecast: boolean expected":t.restrictPaidContent!=null&&t.hasOwnProperty("restrictPaidContent")&&(n._restrictPaidContent=1,typeof t.restrictPaidContent!="boolean")?"restrictPaidContent: boolean expected":t.restrictFullMoviePage!=null&&t.hasOwnProperty("restrictFullMoviePage")&&(n._restrictFullMoviePage=1,typeof t.restrictFullMoviePage!="boolean")?"restrictFullMoviePage: boolean expected":t.restrictContentOwner!=null&&t.hasOwnProperty("restrictContentOwner")&&(n._restrictContentOwner=1,!f.isString(t.restrictContentOwner))?"restrictContentOwner: string expected":t.restrictLocation!=null&&t.hasOwnProperty("restrictLocation")&&(n._restrictLocation=1,typeof t.restrictLocation!="boolean")?"restrictLocation: boolean expected":t.restrictLocationPlaceId!=null&&t.hasOwnProperty("restrictLocationPlaceId")&&(n._restrictLocationPlaceId=1,!f.isString(t.restrictLocationPlaceId))?"restrictLocationPlaceId: string expected":t.restrictHighDynamicRange!=null&&t.hasOwnProperty("restrictHighDynamicRange")&&(n._restrictHighDynamicRange=1,typeof t.restrictHighDynamicRange!="boolean")?"restrictHighDynamicRange: boolean expected":t.restrictPartialSpherical!=null&&t.hasOwnProperty("restrictPartialSpherical")&&(n._restrictPartialSpherical=1,typeof t.restrictPartialSpherical!="boolean")?"restrictPartialSpherical: boolean expected":t.restrictPremiumTvfilmMoviePage!=null&&t.hasOwnProperty("restrictPremiumTvfilmMoviePage")&&(n._restrictPremiumTvfilmMoviePage=1,typeof t.restrictPremiumTvfilmMoviePage!="boolean")?"restrictPremiumTvfilmMoviePage: boolean expected":t.restrictUnwatched!=null&&t.hasOwnProperty("restrictUnwatched")&&(n._restrictUnwatched=1,typeof t.restrictUnwatched!="boolean")?"restrictUnwatched: boolean expected":t.restrictPaidProductPlacement!=null&&t.hasOwnProperty("restrictPaidProductPlacement")&&(n._restrictPaidProductPlacement=1,typeof t.restrictPaidProductPlacement!="boolean")?"restrictPaidProductPlacement: boolean expected":t.restrictEightk!=null&&t.hasOwnProperty("restrictEightk")&&(n._restrictEightk=1,typeof t.restrictEightk!="boolean")?"restrictEightk: boolean expected":null},a.fromObject=function(t){if(t instanceof O.youtube.api.innertube.SearchParams.FilterOptions)return t;var n=new O.youtube.api.innertube.SearchParams.FilterOptions;switch(t.restrictUploadDate){default:if(typeof t.restrictUploadDate=="number"){n.restrictUploadDate=t.restrictUploadDate;break}break;case"UPLOAD_DATE_ANY":case 0:n.restrictUploadDate=0;break;case"UPLOAD_DATE_LAST_HOUR":case 1:n.restrictUploadDate=1;break;case"UPLOAD_DATE_TODAY":case 2:n.restrictUploadDate=2;break;case"UPLOAD_DATE_THIS_WEEK":case 3:n.restrictUploadDate=3;break;case"UPLOAD_DATE_THIS_MONTH":case 4:n.restrictUploadDate=4;break;case"UPLOAD_DATE_THIS_YEAR":case 5:n.restrictUploadDate=5;break}switch(t.restrictResultType){default:if(typeof t.restrictResultType=="number"){n.restrictResultType=t.restrictResultType;break}break;case"RESULT_TYPE_ANY":case 0:n.restrictResultType=0;break;case"RESULT_TYPE_VIDEO":case 1:n.restrictResultType=1;break;case"RESULT_TYPE_CHANNEL":case 2:n.restrictResultType=2;break;case"RESULT_TYPE_PLAYLIST":case 3:n.restrictResultType=3;break;case"RESULT_TYPE_MOVIE":case 4:n.restrictResultType=4;break;case"RESULT_TYPE_SHOW":case 5:n.restrictResultType=5;break;case"RESULT_TYPE_SCENE":case 6:n.restrictResultType=6;break;case"RESULT_TYPE_GAME":case 7:n.restrictResultType=7;break;case"RESULT_TYPE_EVENT":case 8:n.restrictResultType=8;break;case"RESULT_TYPE_SHORTS":case 9:n.restrictResultType=9;break}switch(t.restrictDuration){default:if(typeof t.restrictDuration=="number"){n.restrictDuration=t.restrictDuration;break}break;case"DURATION_ANY":case 0:n.restrictDuration=0;break;case"DURATION_SHORT":case 1:n.restrictDuration=1;break;case"DURATION_LONG":case 2:n.restrictDuration=2;break;case"DURATION_MEDIUM":case 3:n.restrictDuration=3;break;case"DURATION_SHORT_V2":case 4:n.restrictDuration=4;break;case"DURATION_MEDIUM_V2":case 5:n.restrictDuration=5;break}if(t.restrictHighDefinition!=null&&(n.restrictHighDefinition=!!t.restrictHighDefinition),t.restrictClosedCaption!=null&&(n.restrictClosedCaption=!!t.restrictClosedCaption),t.restrictCreativeCommons!=null&&(n.restrictCreativeCommons=!!t.restrictCreativeCommons),t.restrictThreed!=null&&(n.restrictThreed=!!t.restrictThreed),t.restrictLive!=null&&(n.restrictLive=!!t.restrictLive),t.restrictPurchased!=null&&(n.restrictPurchased=!!t.restrictPurchased),t.restrictUsernames){if(!Array.isArray(t.restrictUsernames))throw TypeError(".youtube.api.innertube.SearchParams.FilterOptions.restrictUsernames: array expected");n.restrictUsernames=[];for(var l=0;l<t.restrictUsernames.length;++l)n.restrictUsernames[l]=String(t.restrictUsernames[l])}switch(t.restrictSafeSearch){default:if(typeof t.restrictSafeSearch=="number"){n.restrictSafeSearch=t.restrictSafeSearch;break}break;case"DEFAULT":case 0:n.restrictSafeSearch=0;break;case"NO_FILTERING":case 1:n.restrictSafeSearch=1;break;case"MODERATE_FILTERING":case 2:n.restrictSafeSearch=2;break;case"STRICT_FILTERING":case 3:n.restrictSafeSearch=3;break}return t.restrictEdu!=null&&(n.restrictEdu=!!t.restrictEdu),t.restrictFourk!=null&&(n.restrictFourk=!!t.restrictFourk),t.restrictSpherical!=null&&(n.restrictSpherical=!!t.restrictSpherical),t.restrictSpacecast!=null&&(n.restrictSpacecast=!!t.restrictSpacecast),t.restrictPaidContent!=null&&(n.restrictPaidContent=!!t.restrictPaidContent),t.restrictFullMoviePage!=null&&(n.restrictFullMoviePage=!!t.restrictFullMoviePage),t.restrictContentOwner!=null&&(n.restrictContentOwner=String(t.restrictContentOwner)),t.restrictLocation!=null&&(n.restrictLocation=!!t.restrictLocation),t.restrictLocationPlaceId!=null&&(n.restrictLocationPlaceId=String(t.restrictLocationPlaceId)),t.restrictHighDynamicRange!=null&&(n.restrictHighDynamicRange=!!t.restrictHighDynamicRange),t.restrictPartialSpherical!=null&&(n.restrictPartialSpherical=!!t.restrictPartialSpherical),t.restrictPremiumTvfilmMoviePage!=null&&(n.restrictPremiumTvfilmMoviePage=!!t.restrictPremiumTvfilmMoviePage),t.restrictUnwatched!=null&&(n.restrictUnwatched=!!t.restrictUnwatched),t.restrictPaidProductPlacement!=null&&(n.restrictPaidProductPlacement=!!t.restrictPaidProductPlacement),t.restrictEightk!=null&&(n.restrictEightk=!!t.restrictEightk),n},a.toObject=function(t,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.restrictUsernames=[]),t.restrictUploadDate!=null&&t.hasOwnProperty("restrictUploadDate")&&(l.restrictUploadDate=n.enums===String?O.youtube.api.innertube.SearchParams.FilterOptions.UploadDateRestrictType[t.restrictUploadDate]===void 0?t.restrictUploadDate:O.youtube.api.innertube.SearchParams.FilterOptions.UploadDateRestrictType[t.restrictUploadDate]:t.restrictUploadDate,n.oneofs&&(l._restrictUploadDate="restrictUploadDate")),t.restrictResultType!=null&&t.hasOwnProperty("restrictResultType")&&(l.restrictResultType=n.enums===String?O.youtube.api.innertube.SearchParams.FilterOptions.ResultTypeRestrictType[t.restrictResultType]===void 0?t.restrictResultType:O.youtube.api.innertube.SearchParams.FilterOptions.ResultTypeRestrictType[t.restrictResultType]:t.restrictResultType,n.oneofs&&(l._restrictResultType="restrictResultType")),t.restrictDuration!=null&&t.hasOwnProperty("restrictDuration")&&(l.restrictDuration=n.enums===String?O.youtube.api.innertube.SearchParams.FilterOptions.DurationRestrictType[t.restrictDuration]===void 0?t.restrictDuration:O.youtube.api.innertube.SearchParams.FilterOptions.DurationRestrictType[t.restrictDuration]:t.restrictDuration,n.oneofs&&(l._restrictDuration="restrictDuration")),t.restrictHighDefinition!=null&&t.hasOwnProperty("restrictHighDefinition")&&(l.restrictHighDefinition=t.restrictHighDefinition,n.oneofs&&(l._restrictHighDefinition="restrictHighDefinition")),t.restrictClosedCaption!=null&&t.hasOwnProperty("restrictClosedCaption")&&(l.restrictClosedCaption=t.restrictClosedCaption,n.oneofs&&(l._restrictClosedCaption="restrictClosedCaption")),t.restrictCreativeCommons!=null&&t.hasOwnProperty("restrictCreativeCommons")&&(l.restrictCreativeCommons=t.restrictCreativeCommons,n.oneofs&&(l._restrictCreativeCommons="restrictCreativeCommons")),t.restrictThreed!=null&&t.hasOwnProperty("restrictThreed")&&(l.restrictThreed=t.restrictThreed,n.oneofs&&(l._restrictThreed="restrictThreed")),t.restrictLive!=null&&t.hasOwnProperty("restrictLive")&&(l.restrictLive=t.restrictLive,n.oneofs&&(l._restrictLive="restrictLive")),t.restrictPurchased!=null&&t.hasOwnProperty("restrictPurchased")&&(l.restrictPurchased=t.restrictPurchased,n.oneofs&&(l._restrictPurchased="restrictPurchased")),t.restrictUsernames&&t.restrictUsernames.length){l.restrictUsernames=[];for(var h=0;h<t.restrictUsernames.length;++h)l.restrictUsernames[h]=t.restrictUsernames[h]}return t.restrictSafeSearch!=null&&t.hasOwnProperty("restrictSafeSearch")&&(l.restrictSafeSearch=n.enums===String?O.youtube.api.innertube.SearchParams.FilterOptions.SafeSearchRestrictType[t.restrictSafeSearch]===void 0?t.restrictSafeSearch:O.youtube.api.innertube.SearchParams.FilterOptions.SafeSearchRestrictType[t.restrictSafeSearch]:t.restrictSafeSearch,n.oneofs&&(l._restrictSafeSearch="restrictSafeSearch")),t.restrictEdu!=null&&t.hasOwnProperty("restrictEdu")&&(l.restrictEdu=t.restrictEdu,n.oneofs&&(l._restrictEdu="restrictEdu")),t.restrictFourk!=null&&t.hasOwnProperty("restrictFourk")&&(l.restrictFourk=t.restrictFourk,n.oneofs&&(l._restrictFourk="restrictFourk")),t.restrictSpherical!=null&&t.hasOwnProperty("restrictSpherical")&&(l.restrictSpherical=t.restrictSpherical,n.oneofs&&(l._restrictSpherical="restrictSpherical")),t.restrictSpacecast!=null&&t.hasOwnProperty("restrictSpacecast")&&(l.restrictSpacecast=t.restrictSpacecast,n.oneofs&&(l._restrictSpacecast="restrictSpacecast")),t.restrictPaidContent!=null&&t.hasOwnProperty("restrictPaidContent")&&(l.restrictPaidContent=t.restrictPaidContent,n.oneofs&&(l._restrictPaidContent="restrictPaidContent")),t.restrictFullMoviePage!=null&&t.hasOwnProperty("restrictFullMoviePage")&&(l.restrictFullMoviePage=t.restrictFullMoviePage,n.oneofs&&(l._restrictFullMoviePage="restrictFullMoviePage")),t.restrictContentOwner!=null&&t.hasOwnProperty("restrictContentOwner")&&(l.restrictContentOwner=t.restrictContentOwner,n.oneofs&&(l._restrictContentOwner="restrictContentOwner")),t.restrictLocation!=null&&t.hasOwnProperty("restrictLocation")&&(l.restrictLocation=t.restrictLocation,n.oneofs&&(l._restrictLocation="restrictLocation")),t.restrictLocationPlaceId!=null&&t.hasOwnProperty("restrictLocationPlaceId")&&(l.restrictLocationPlaceId=t.restrictLocationPlaceId,n.oneofs&&(l._restrictLocationPlaceId="restrictLocationPlaceId")),t.restrictHighDynamicRange!=null&&t.hasOwnProperty("restrictHighDynamicRange")&&(l.restrictHighDynamicRange=t.restrictHighDynamicRange,n.oneofs&&(l._restrictHighDynamicRange="restrictHighDynamicRange")),t.restrictPartialSpherical!=null&&t.hasOwnProperty("restrictPartialSpherical")&&(l.restrictPartialSpherical=t.restrictPartialSpherical,n.oneofs&&(l._restrictPartialSpherical="restrictPartialSpherical")),t.restrictPremiumTvfilmMoviePage!=null&&t.hasOwnProperty("restrictPremiumTvfilmMoviePage")&&(l.restrictPremiumTvfilmMoviePage=t.restrictPremiumTvfilmMoviePage,n.oneofs&&(l._restrictPremiumTvfilmMoviePage="restrictPremiumTvfilmMoviePage")),t.restrictUnwatched!=null&&t.hasOwnProperty("restrictUnwatched")&&(l.restrictUnwatched=t.restrictUnwatched,n.oneofs&&(l._restrictUnwatched="restrictUnwatched")),t.restrictPaidProductPlacement!=null&&t.hasOwnProperty("restrictPaidProductPlacement")&&(l.restrictPaidProductPlacement=t.restrictPaidProductPlacement,n.oneofs&&(l._restrictPaidProductPlacement="restrictPaidProductPlacement")),t.restrictEightk!=null&&t.hasOwnProperty("restrictEightk")&&(l.restrictEightk=t.restrictEightk,n.oneofs&&(l._restrictEightk="restrictEightk")),l},a.prototype.toJSON=function(){return this.constructor.toObject(this,B.util.toJSONOptions)},a.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/youtube.api.innertube.SearchParams.FilterOptions"},a.UploadDateRestrictType=(function(){var s={},t=Object.create(s);return t[s[0]="UPLOAD_DATE_ANY"]=0,t[s[1]="UPLOAD_DATE_LAST_HOUR"]=1,t[s[2]="UPLOAD_DATE_TODAY"]=2,t[s[3]="UPLOAD_DATE_THIS_WEEK"]=3,t[s[4]="UPLOAD_DATE_THIS_MONTH"]=4,t[s[5]="UPLOAD_DATE_THIS_YEAR"]=5,t})(),a.ResultTypeRestrictType=(function(){var s={},t=Object.create(s);return t[s[0]="RESULT_TYPE_ANY"]=0,t[s[1]="RESULT_TYPE_VIDEO"]=1,t[s[2]="RESULT_TYPE_CHANNEL"]=2,t[s[3]="RESULT_TYPE_PLAYLIST"]=3,t[s[4]="RESULT_TYPE_MOVIE"]=4,t[s[5]="RESULT_TYPE_SHOW"]=5,t[s[6]="RESULT_TYPE_SCENE"]=6,t[s[7]="RESULT_TYPE_GAME"]=7,t[s[8]="RESULT_TYPE_EVENT"]=8,t[s[9]="RESULT_TYPE_SHORTS"]=9,t})(),a.DurationRestrictType=(function(){var s={},t=Object.create(s);return t[s[0]="DURATION_ANY"]=0,t[s[1]="DURATION_SHORT"]=1,t[s[2]="DURATION_LONG"]=2,t[s[3]="DURATION_MEDIUM"]=3,t[s[4]="DURATION_SHORT_V2"]=4,t[s[5]="DURATION_MEDIUM_V2"]=5,t})(),a.SafeSearchRestrictType=(function(){var s={},t=Object.create(s);return t[s[0]="DEFAULT"]=0,t[s[1]="NO_FILTERING"]=1,t[s[2]="MODERATE_FILTERING"]=2,t[s[3]="STRICT_FILTERING"]=3,t})(),a})(),c})(),i})(),e})(),r})();le.exports=O});var st=P((Qe,fe)=>{var V={en:{uploadDateLastHour:"Last hour",uploadDateLastHourTooltip:"Search for Last hour",durationShort:"Under 4 minutes",durationShortTooltip:"Search for Under 4 minutes",durationMedium:"4 - 20 minutes",durationMediumTooltip:"Search for 4 - 20 minutes",sortByGroup:"Sort by",sortByViewCount:"View count",sortByRelevanceTooltipOld:"Sort by relevance",sortByPopularityTooltipOld:"Sort by popularity",sortByViewCountTooltip:"Prioritize by view count",sortByViewCountTooltipOld:"Sort by view count",sortByDate:"Upload date",sortByDateTooltip:"Prioritize by upload date",sortByDateTooltipOld:"Sort by upload date",sortByRating:"Rating",sortByRatingTooltip:"Prioritize by rating",sortByRatingTooltipOld:"Sort by rating",restoreUploadDateLastHourDesc:'Restores the "Last hour" filter in the "Upload date" group.',restoreUploadDateLastHourLabel:"Last hour filter",oldGroupOrderDesc:"Re-orders the groups to match the old order.",oldGroupOrderLabel:"Old group order",removeShortsTypeFilterDesc:'Removes the "Shorts" filter from the "Type" group.',removeShortsTypeFilterLabel:"No Shorts filter",restoreFourMinuteDurationFiltersDesc:'Restores the "Under 4 minutes" and "4 - 20 minutes" filters in the "Duration" group.',restoreFourMinuteDurationFiltersLabel:"4 minute filters",removeThreeMinuteDurationFiltersDesc:'Removes the "Under 3 minutes" and "3 - 20 minutes" filters in the "Duration" group.',removeThreeMinuteDurationFiltersLabel:"No 3 minute filters",renameSortByGroupDesc:'Renames the "Prioritize" group back to "Sort by".',renameSortByGroupLabel:"Rename Prioritize group",restoreSortByUploadDateDesc:'Restores the "Upload date" filter in the "Sort by"/"Prioritize" group.',restoreSortByUploadDateLabel:"Upload date filter",renameViewCountFilterDesc:'Renames the "Popularity" filter back to "View count".',renameViewCountFilterLabel:"Rename Prioritize filter",restoreSortByRatingFilterDesc:'Restores the "Rating" filter in the "Sort by"/"Prioritize" group.',restoreSortByRatingFilterLabel:"Rating filter",settingsPanelTitle:"Search filter settings",settingsPanelBack:"Back",settingsPanelMessage:"Settings will apply next time you make a search"}},Ce={get hl(){let r="en";return yt&&"config_"in yt&&(r=yt.config_.HL),Object.defineProperty(this,"hl",{value:r}),r},get(r){if(!(r in V.en))return`<${r}>`;let e=this.hl;return(!(e in V)||!(r in V[e]))&&(e="en"),V[e][r]}};fe.exports=Ce});var lt=P((tr,he)=>{var pe={restoreUploadDateLastHour:!0,oldGroupOrder:!0,removeShortsTypeFilter:!0,restoreFourMinuteDurationFilters:!0,removeThreeMinuteDurationFilters:!0,renameSortByGroup:!0,restoreSortByUploadDate:!0,renameViewCountFilter:!0,restoreSortByRatingFilter:!0},Ue={_settings:pe,get(r){return this._settings[r]},set(r,e){this._settings[r]=e,console.log(`Set setting ${r} to ${e}`),GM_setValue(r,e)},init(){for(let r in pe){let e=GM_getValue(r,void 0);e!==void 0&&(this._settings[r]=e),Object.defineProperty(this,r,{get:function(){return this.get(r)},set:function(i){return this.set(r,i)}})}}};he.exports=Ue});var Pe=P((er,ye)=>{var z=lt(),M=st(),de={_builtSettingsPanel:null,_actionsRegistered:!1,getSignalName(r,e){return"RSF_TOGGLE_"+r.replace(/([A-Z])/g,"_$1").toUpperCase()+(e?"_ON":"_OFF")},getActionName(r,e){return"yt-signal-action-rsf-toggle-"+r.replace(/([A-Z])/g,"-$1").toLowerCase()+(e?"-on":"-off")},buildSettingsPanel(){if(this._builtSettingsPanel)return this._builtSettingsPanel;let r=null;for(let c in default_kevlar_base){let u=default_kevlar_base[c];if(u&&typeof u=="function"&&u.prototype&&u.prototype.registerActionHandler){r=u.getInstance();break}}if(!r)throw new Error("Failed to get the action handler registrar :(");let e=[];for(let c in z._settings){e.push({toggleItemRenderer:{toggled:!!z[c],label:{runs:[{text:M.get(c+"Label")}]},descriptionLines:[{runs:[{text:M.get(c+"Desc")}]}],toggleOnActions:[{signalAction:{signal:this.getSignalName(c,!0)}}],toggleOffActions:[{signalAction:{signal:this.getSignalName(c,!1)}}]}});let u=new Map;u.set(c,function(){z[c]=!0}),r.actionRoutingMap.set(this.getActionName(c,!0),u),u=new Map,u.set(c,function(){z[c]=!1}),r.actionRoutingMap.set(this.getActionName(c,!1),u)}let i={compactLinkRenderer:{icon:{iconType:"SEARCH"},secondaryIcon:{iconType:"CHEVRON_RIGHT"},title:{runs:[{text:M.get("settingsPanelTitle")}]},serviceEndpoint:{signalServiceEndpoint:{signal:"CLIENT_SIGNAL",actions:[{getMultiPageMenuAction:{menu:{multiPageMenuRenderer:{header:{simpleMenuHeaderRenderer:{backButton:{buttonRenderer:{style:"STYLE_BLACK",size:"SIZE_DEFAULT",isDisabled:!1,icon:{iconType:"BACK"},acessibilityData:{acessibilityData:{label:M.get("settingsPanelBack")}}}},title:{runs:[{text:M.get("settingsPanelTitle")}]}}},sections:[{multiPageMenuSectionRenderer:{items:[{messageRenderer:{subtext:{messageSubtextRenderer:{text:{runs:[{text:M.get("settingsPanelMessage")}]}}}}}]}}].concat(e)}}}}]}}}};return this._builtSettingsPanel=i,i},injectSettingsPanel(r){let e=this.buildSettingsPanel(),i=r.data;i.items.push(e),r.data={},r.data=i},onPopupOpened(r){let e=r.detail;if(e.tagName=="YTD-MULTI-PAGE-MENU-RENDERER"){let i=!1;try{i="/youtubei/v1/account/account_menu"==e.__shady.parentNode.__data.positionTarget.data.menuRequest.commandMetadata.webCommandMetadata.apiUrl}catch{}if(i){let c=async function(a,o){let s=e.querySelector("#sections");if(s){let t=NaN;try{t=e.data.sections.length}catch{}t==s.childElementCount&&(de.injectSettingsPanel(s.children[yt.config_.LOGGED_IN?3:1]),o.disconnect())}};new MutationObserver(c).observe(e,{subtree:!0,childList:!0,characterData:!0})}}},init(){document.addEventListener("yt-popup-opened",this.onPopupOpened)}};ye.exports=de});var _e=P((rr,Oe)=>{var me={_urlEncode(r){return r.replaceAll("+","-").replaceAll("/","_").replaceAll("=","%3D")},_urlDecode(r){return r.replaceAll("-","+").replaceAll("_","/").replaceAll(/%3D/ig,"=")},fromString(r){return this._urlEncode(btoa(r))},toString(r){return atob(this._urlDecode(r))},fromBytes(r){return this._urlEncode(btoa(String.fromCharCode.apply(null,r)))},toBytes(r){return new Uint8Array(atob(this._urlDecode(r)).split("").map(e=>e.charCodeAt(0)))}};Oe.exports=me});var Ae=ue(),k=st(),g=lt(),Be=Pe(),Se=_e(),W=Ae.youtube.api.innertube.SearchParams;g.init();Be.init();document.addEventListener("DOMContentLoaded",function(){let r=document.createElement("style");r.textContent=`#sections.ytd-multi-page-menu-renderer {
    display: flex;
    flex-direction: column;
}`,document.head.appendChild(r)});function H(r,e,i,c,u){let a=c?Se.fromBytes(W.encode(W.fromObject(c)).finish()):null;return{searchFilterRenderer:{label:{simpleText:k.get(r)},tooltip:k.get(e),status:u?"FILTER_STATUS_SELECTED":"FILTER_STATUS_NONE",navigationEndpoint:c?{commandMetadata:{webCommandMetadata:{rootVe:4724,url:`/results?search_query=${encodeURIComponent(i)}&sp=${encodeURIComponent(a)}`,webPageType:"WEB_PAGE_TYPE_SEARCH"}},searchEndpoint:{query:i,params:a}}:null}}}document.addEventListener("yt-page-data-updated",function(r){if(r.detail.pageType=="search"){let e=new URLSearchParams(location.search).get("sp"),i={};if(e!==null)try{let u=W.decode(Se.toBytes(e));i=W.toObject(u,{enums:String})}catch(u){console.log(u)}console.log(i);let c=document.querySelector("#filter-button.ytd-search-header-renderer > ytd-button-renderer");if(c){let u=c.data,a=u.command.openPopupAction.popup.searchFilterOptionsDialogRenderer.groups,o=new URLSearchParams(location.search).get("search_query");g.removeShortsTypeFilter&&a[0].searchFilterGroupRenderer.filters.splice(1,1);let s=a[1].searchFilterGroupRenderer.filters;if(g.restoreFourMinuteDurationFilters){let l,h=structuredClone(i);i.filterOptions&&i.filterOptions.restrictDuration=="DURATION_SHORT"?(l=!0,delete h.filterOptions.restrictDuration):(l=!1,h.filterOptions=h.filterOptions||{},h.filterOptions.restrictDuration="DURATION_SHORT"),s.splice(1,0,H("durationShort","durationShortTooltip",o,h,l));let d=structuredClone(i);i.filterOptions&&i.filterOptions.restrictDuration=="DURATION_MEDIUM"?(l=!0,delete h.filterOptions.restrictDuration):(l=!1,d.filterOptions=d.filterOptions||{},d.filterOptions.restrictDuration="DURATION_MEDIUM"),s.splice(3,0,H("durationMedium","durationMediumTooltip",o,d,l))}if(g.removeThreeMinuteDurationFilters&&(s.splice(0,1),s.splice(g.restoreFourMinuteDurationFilters?1:0,1)),g.restoreUploadDateLastHour){let l=!1,h=structuredClone(i);i.filterOptions&&i.filterOptions.restrictUploadDate=="UPLOAD_DATE_LAST_HOUR"?(l=!0,delete h.filterOptions.restrictUploadDate):(h.filterOptions=h.filterOptions||{},h.filterOptions.restrictUploadDate="UPLOAD_DATE_LAST_HOUR"),a[2].searchFilterGroupRenderer.filters.splice(0,0,H("uploadDateLastHour","uploadDateLastHourTooltip",o,h,l))}let t=g.renameSortByGroup,n=g.renameViewCountFilter;if(t&&(a[4].searchFilterGroupRenderer.title={simpleText:k.get("sortByGroup")},a[4].searchFilterGroupRenderer.filters[0].searchFilterRenderer.tooltip=k.get("sortByRelevanceTooltipOld"),a[4].searchFilterGroupRenderer.filters[1].searchFilterRenderer.tooltip=k.get(n?"sortByViewCountTooltipOld":"sortByPopularityTooltipOld")),n&&(t||(a[4].searchFilterGroupRenderer.filters[1].searchFilterRenderer.tooltip=k.get("sortByViewCountTooltip")),a[4].searchFilterGroupRenderer.filters[1].searchFilterRenderer.label={simpleText:k.get("sortByViewCount")}),g.restoreSortByUploadDate){let l=!1,h=structuredClone(i);i.sortType=="BY_DATE"?(l=!0,h=null):h.sortType="BY_DATE",a[4].searchFilterGroupRenderer.filters.splice(1,0,H("sortByDate","sortByDateTooltip"+(t?"Old":""),o,h,l))}if(g.restoreSortByUploadDate){let l=!1,h=structuredClone(i);i.sortType=="BY_RATING"?(l=!0,h=null):h.sortType="BY_RATING",a[4].searchFilterGroupRenderer.filters.push(H("sortByRating","sortByRatingTooltip"+(t?"Old":""),o,h,l))}g.oldGroupOrder&&([a[0],a[1],a[2]]=[a[2],a[0],a[1]]),c.data={},c.data=u}}});
