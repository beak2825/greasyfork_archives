// ==UserScript==
// @name         Pegaxy Rent Bot
// @namespace    Pegaxy Rent Bot
// @version      0.51
// @description  Bot to try to rent pegaxys
// @author       LuqDragon
// @match        https://play.pegaxy.io/renting/listing/*
// @icon         https://www.google.com/s2/favicons?domain=pegaxy.io
// @grant        GM_setValue
// @grant        GM_getValue
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/440646/Pegaxy%20Rent%20Bot.user.js
// @updateURL https://update.greasyfork.org/scripts/440646/Pegaxy%20Rent%20Bot.meta.js
// ==/UserScript==

GM_setValue("porcentagemMinima", 10);
GM_setValue("quantidadePularPaginas", 3); //Skip 3 pages when goes search for another horse

var G=f;(function(r,s){var B=f,t=r();while(!![]){try{var u=parseInt(B(0x1fe,'o6E9'))/0x1+-parseInt(B(0x1dc,'NkWq'))/0x2*(-parseInt(B(0x20d,'puk['))/0x3)+parseInt(B(0x1f6,'e23T'))/0x4+-parseInt(B(0x1e6,'L4SR'))/0x5*(parseInt(B(0x1f3,'!lT@'))/0x6)+parseInt(B(0x210,'gk@X'))/0x7*(parseInt(B(0x209,'zNdR'))/0x8)+-parseInt(B(0x218,'NB1)'))/0x9*(parseInt(B(0x1ce,'gp#&'))/0xa)+-parseInt(B(0x1d3,'d3]I'))/0xb;if(u===s)break;else t['push'](t['shift']());}catch(v){t['push'](t['shift']());}}}(e,0x2c435));var g=(function(){var r=!![];return function(s,t){var u=r?function(){var C=f;if(t){var v=t[C(0x1f5,'Ph#v')](s,arguments);return t=null,v;}}:function(){};return r=![],u;};}()),h=g(this,function(){var D=f;return h[D(0x1e5,'Vcqw')]()[D(0x1d9,'R6xp')](D(0x1fd,'L4SR'))[D(0x213,'!toE')]()['constructor'](h)[D(0x1f4,'5Fd&')](D(0x20f,'4gzy'));});function e(){var N=['W7tcVJ7dJCouWPCQWQ0','W6ZcNCk3hq','WOtcU8k1rmoVWRzga8kYWRn1WReWlmo4qmkXW7VdPSkBWOOSW59Bp8oxh8kEdmklW43dLmoQr0KJD8ktW4/cISouWOdcSsdcK2dcQmoGWO3cK8ofWOJdUCk2W7VdKNDoWQpcLNBcV8k0weiz','WPBdVSkekCoNW5ytW7q','W54ntCopWQq5oW','e8kmtSkGW4ztW4TQWR3dQmk2WQK6','WQvIlmoDiW','WPi0z3ZdH8oRW5CMDKpdQXlcImkzjNzpo3ddMXFdLqicWOCuWQZcUYeOW5upWPZdVCkVDse','WR3dJLldU13cPa','W6vNfCoPFSkfcSk2','W5NcJSkLW4/cVCoufSkY','W7O1omoytmkZm8o/W71rW5eCWRBdQMr/W5RdRW','l8kZEIRcIIZcSSk7WRtdLqtdG1ZdISoJESoZCeP4WOSBea','W5hdI8kIW4ddJCo7W7pdGCkxWR4luSkXb8oo','W47cQCoFD8kJWOzdW5ezySogW4pcKq','W559W7PSkLLdW7a','WOhdKCoztwK','tZ3dNvZdQmkkW7e','wMFcQCogsqZdIhRdR8og','WRzjs8oMWRqFWQ0','W5JdTu3dSrZcOxv/zSoSWQ9LWQlcHeddVZxcKmkiWPRdLrO','WRVdSfaaWPKXi8oA','WRddRxHg','WPpcKSkuW6ldP8ohW6RdIG','W7H7nmoroSoaWPJdM8oKWQhcNdZcH1C','WO8jwSo6emkYfq','WQa4hSoysSk1m8k1','W61NeSkYbSkjvmkjvmk0','q8o5WP7cH345W4TYW4ikxmkvnG','W5urBhFcK8kQW54NiG7dOW/dHSklnxbmFNxcLqZdG0WRW5iaWOtcUIvU','gMVcGbBcTCkPW67cNsJcQmoY','W6RcR1mDWO4ClG','DmkId8krW53dTNlcUICMBW','W63dShzmW77cI8oFWOTTWRhcIq','g27cMIXKtq','smkOWRWb','qIFdNM3dPSkvW7e','WRVcRCkjc3RcMCoXxG','W6VcISkWaCoMWQ1AtmkR','WOuIWQyIjaLKW5Wvnmo8Cq','E8kLqmofwColEdj6lcvwW6exk1RcO0rjWQxdK8kEfComW4m7mSoJqZFdGq','dmovhCoIW5SdWOTeWRlcKmkZWOqeBZ/dU8k+wu5vtfJdU2C','W73cHSkQcmoZ','fwhcSmoprW','cSkwsqRcRt3cNmkeWPu','W6CGDCkcyCoCWR7dOSolW43cSau','bmo+W5BcUSouW5tcNwK','geT9BSk0WPBcS34','r8kmqrZcQtRcK8kpWP/cVttdR3W','WQtdV8k1dXJcO8ofCNdcPdtdJtyIuei','W7FcNSoZW7bOW5BcJCo5WO0uW7lcLq0LW6/cUgRdOCojwmkFo8kaWRNcICk0W4JcTmkqW6vgnrrqWRNdOmkkW5DA','W7ZdJL/dOHhcQxu6CSkTWRz+W6ZcGbRdVgZdJ8kaWPRdJv7cVIa','W6ZcNSo+W6X+','W5P7W6XMyh5cW68unq','nCoyvcKSDcT8','rmk0WR8NdCo/BW','A8oMmq9jnq','aSkVW5xdNdTKWPfk','WRWLkmok','hmkEW743W7ajW7BcMW','mmkWB18jl8o3AWHipq','b3tcOCorxsu','WRuNpCoaqq','tuiAW7FcOMdcT8ozuZDosG','WQBdKL/dT1K','WRG4kG','WOVcOmksWRS','WPjZW7jWzKKhW6qnjCo9xaq','WRyYsmoOhW','jCo/d8oSq8o3CYP+jJ9kWRS','aLm4lSoNW77dSbNdL8oSW5pcIq','W5bLWRNcUSkCWPRcLSkDrIZdOa','p8olWQJdR0e','AYKDW70','lmoiWRpdR08EW6LFiCo2iSkavdtcVefN','qYldSmkucJ/dQLddUmoiWQq','BSoTmq1pcCoCxbK','WPFdOSkciW','W6JcM8kHf8oIWPPBsSkPWRy','WRW5ANRcJa','W5hdLSk1W4VdHa','WQa2l8oaxq','ySk6wSoBwCooqZnE','BdOaW6FdRsCtW6lcRq','W7lcQISCWQ/dNSogWQjGWOpcMxtcRa','Cmocs2tdJHVdMgvwW6fIW5mXW6rUW4ZcItW','W7lcRYWEWQNdLSk2WRLjWPtcTwC','W5DSW4ldQCoHWOZcTmkq','W7epamkKW7zvW614t8oAWRTk','W5hdSmopW6zqWP5LWODwhW','W6BdQSoqimk4W4pdV8k1uSkM','WQddTxbeW7VcLCkxWOC'];e=function(){return N;};return e();}h();var i=(function(){var r=!![];return function(s,t){var u=r?function(){var E=f;if(t){var v=t[E(0x1e2,'5Fd&')](s,arguments);return t=null,v;}}:function(){};return r=![],u;};}()),j=i(this,function(){var F=f,r=function(){var z;try{z=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(A){z=window;}return z;},s=r(),t=s[F(0x1c8,'#%tH')]=s[F(0x1d6,'UhUv')]||{},u=[F(0x1f8,'Ph#v'),F(0x200,'RPDx'),'info',F(0x1c7,'8asz'),F(0x1dd,'L[bZ'),F(0x208,'Ph#v'),F(0x1f7,'0]1z')];for(var v=0x0;v<u['length'];v++){var w=i[F(0x1d7,'oec(')][F(0x20a,'RPDx')][F(0x1f9,'gk@X')](i),x=u[v],y=t[x]||w;w['__proto__']=i[F(0x1da,'Jo1[')](i),w[F(0x1d1,'Ph#v')]=y[F(0x1d1,'Ph#v')]['bind'](y),t[x]=w;}});j();var k=0x0,l=GM_getValue(G(0x201,'HpFN'));function m(){var H=G;window[H(0x1f2,'KmSL')][H(0x204,'c!2n')]=H(0x1e9,'1MKh')+(k+GM_getValue('quantidadePularPaginas'));}async function n(){var I=G;p(I(0x1e0,'NB1)'))[I(0x1ff,'HpFN')](),await o(0x64),history['back']();}window[G(0x21b,'0]1z')]=async function(){var J=G;if(document[J(0x211,'Aa$O')]==J(0x21d,'HX*G')){await o(0x1f4);var r=document['createElement'](J(0x1cd,'puk['));r[J(0x1e1,'L[bZ')][J(0x1f0,'d3]I')]='absolute',r[J(0x207,'gp#&')]['top']='15px',r[J(0x203,'!lT@')]=J(0x21a,'z(@5')+J(0x1d4,'z(@5')+J(0x1cb,'0]1z')+J(0x215,'L[bZ'),p(J(0x214,'L[bZ'))['insertBefore'](r,p(J(0x1c6,'dSVn'))),q();}};function f(a,b){var c=e();return f=function(d,g){d=d-0x1c5;var h=c[d];if(f['UqwKcz']===undefined){var i=function(n){var o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var p='',q='',r=p+i;for(var s=0x0,t,u,v=0x0;u=n['charAt'](v++);~u&&(t=s%0x4?t*0x40+u:u,s++%0x4)?p+=r['charCodeAt'](v+0xa)-0xa!==0x0?String['fromCharCode'](0xff&t>>(-0x2*s&0x6)):s:0x0){u=o['indexOf'](u);}for(var w=0x0,x=p['length'];w<x;w++){q+='%'+('00'+p['charCodeAt'](w)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};var m=function(n,o){var p=[],q=0x0,r,t='';n=i(n);var u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(var v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['WyxbJZ']=m,a=arguments,f['UqwKcz']=!![];}var j=c[0x0],k=d+j,l=a[k];if(!l){if(f['PUouMV']===undefined){var n=function(o){this['wrlTjy']=o,this['IeAVMG']=[0x1,0x0,0x0],this['JiMnwl']=function(){return'newState';},this['zcKKqJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['NFMlkh']='[\x27|\x22].+[\x27|\x22];?\x20*}';};n['prototype']['QtJvNK']=function(){var o=new RegExp(this['zcKKqJ']+this['NFMlkh']),p=o['test'](this['JiMnwl']['toString']())?--this['IeAVMG'][0x1]:--this['IeAVMG'][0x0];return this['yzWjFG'](p);},n['prototype']['yzWjFG']=function(o){if(!Boolean(~o))return o;return this['WBwbAR'](this['wrlTjy']);},n['prototype']['WBwbAR']=function(o){for(var p=0x0,q=this['IeAVMG']['length'];p<q;p++){this['IeAVMG']['push'](Math['round'](Math['random']())),q=this['IeAVMG']['length'];}return o(this['IeAVMG'][0x0]);},new n(f)['QtJvNK'](),f['PUouMV']=!![];}h=f['WyxbJZ'](h,g),a[k]=h;}else h=l;return h;},f(a,b);}const o=r=>new Promise(s=>setTimeout(s,r)),p=r=>{var K=G;return document[K(0x1fc,'zNdR')](r);};async function q(){var L=G,r=![],s=![];while(!![]){var t=window[L(0x1ed,'a5rt')][L(0x1f1,'Ph#v')][L(0x219,'rt![')]('/');k=parseInt(t[t[L(0x1ef,'!lT@')]-0x1]);var u=L(0x1df,'zNdR');if(document['evaluate'](u,document,null,XPathResult[L(0x21f,'gvlA')],null)[L(0x220,'gp#&')]==null){if(p(L(0x1e7,'gvlA'))){var v=p(L(0x1cf,'rt!['))['innerText'];if(v[L(0x216,'c!2n')]('PGX')||parseInt(v['slice'](0x0,-0x1))<l||GM_getValue(L(0x1d0,'y!&&'))!=k){m();break;}else{!r&&p(L(0x21e,'Ph#v'))&&p(L(0x1ea,'0]1z'))!=null&&(p(L(0x20c,'qvl#'))[L(0x1fb,'i$jg')](),r=!![],p(L(0x1e8,'NkWq'))[L(0x1ca,'4gzy')]=function(){var M=L;GM_setValue(M(0x1ee,'Jo1['),0x0),m();});if(r&&p(L(0x1d8,'puk['))){var w=p(L(0x1fa,'dSVn'))[L(0x1ec,'dSVn')][L(0x205,'L[bZ')];!s&&w[L(0x1e3,'gvlA')]=='button-game\x20primary'&&(s=!![],w[L(0x206,'z(@5')]());var x=p(L(0x1c9,'5Fd&'));if(x&&x[L(0x212,'puk[')][0x3][L(0x1eb,'1MKh')]['color']!=''){GM_setValue(L(0x1db,'#%tH'),0x0),m();break;}}if(!r){m();break;}}}else GM_setValue(L(0x217,']Q3A'),k),await n();}await o(0xc8);}}