/* Update

ver 1.4
; ê²Œì‹œê¸€ ë³¸ë¬¸ ë° ëŒ“ê¸€ í°íŠ¸ì²´, êµµê¸°, í¬ê¸° ë³€ê²½ ê°€ëŠ¥í•œ í•¨ìˆ˜ ì‚½ì…(ì£¼ì„ ì²˜ë¦¬)
; ë¸”ë™ë¦¬ìŠ¤íŠ¸ì˜ ê¸€, ëŒ“ê¸€ ì¼ê´„ ë¹„ì¶” ê¸°ëŠ¥ ì¶”ê°€. ì¼ê´„ ë¹„ì¶” ë²„íŠ¼ í´ë¦­ì‹œ ì‘ì€ íŒì—…ì°½ ìƒì„±ë¨. 2ì´ˆ í›„ ìë™ìœ¼ë¡œ ì‚¬ë¼ì§. í´ë¦­í•œ í›„ ë¹„ì¶”ê°€ ì•ˆ ì˜¬ë¼ê°”ì–´ë„ ì„œë²„ì—ëŠ” ë“±ë¡ì´ ëê¸° ë•Œë¬¸ì— ìƒˆë¡œê³ ì¹¨í•˜ë©´ í™”ë©´ìƒì—ë„ ê°±ì‹ ì´ ë¨.
; 'ë¸”ë™ ì¼ê´„ ë¹„ì¶”' ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•Šìœ¼ë©´ í¬ë¡¬ ë¸Œë¼ìš°ì € ê¸°ì¤€, 'ì„¤ì • - íŒì—… ë° ë¦¬ë””ë ‰ì…˜ - íŒì—… ì „ì†¡ ë° ë¦¬ë””ë ‰ì…˜ ì‚¬ìš©ì´ í—ˆìš©ë¨' í•­ëª©ì—ì„œ 'http://www.etoland.co.kr/*' ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ë¨.
;ë¸”ë™ ë¹„ì¶”ì™€ ë°˜ëŒ€ ê°œë…ì¸, ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì™¸ ëª¨ë‘ ì¶”ì²œ ê¸°ëŠ¥ ì¶”ê°€. í•´ë‹¹ ê¸€ì—ì„œ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ë“±ë¡ë˜ì–´ ìˆì§€ ì•Šì€ ìœ ì €ê°€ ì‘ì„±í•œ ê¸€, ëŒ“ê¸€ ëª¨ë‘ì— ì¶”ì²œì„ ëˆ„ë¦„.
; ìº¡ì³3ì¢… ì—…ë°ì´íŠ¸. ê° ìº¡ì³ë²„íŠ¼ í´ë¦­ì‹œ ë‹‰ë„¤ì„, í”„ì‚¬ê°€ ë§ˆí‚¹ëœ ìº¡ì³ ì´ë¯¸ì§€ì™€ ë§ˆí‚¹ë˜ì§€ ì•Šì€ ì›ë³¸ ìº¡ì³ì´ë¯¸ì§€ê°€ í•œ ë²ˆì— ì €ì¥ë¨.
; ìœ„ ìº¡ì³ê¸°ëŠ¥ í†µí•©ìœ¼ë¡œ ë§ˆí‚¹ë²„íŠ¼ì€ í•„ìš”ê°€ ì—†ì„ ê²ƒìœ¼ë¡œ íŒë‹¨ë˜ë‚˜ ë§ˆí‚¹ í›„ ëŒ“ê¸€ ì¼ë¶€ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìº¡ì³í•˜ëŠ” ê²Œ í•„ìš”í•œ ìœ ì €ê°€ ìˆì„ì§€ ëª°ë¼ì„œ ë²„íŠ¼ ì‚­ì œëŠ” ë³´ë¥˜.
; ê¸°ì¡´ì— ë©”ëª¨ ë°ì´í„°ê°€ ìˆì„ ë•Œ, ìƒˆë¡œ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì§€ ì•Šê³  ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê¸°ì¡´ ë©”ëª¨ê°€ ì§€ì›Œì¡ŒëŠ”ë°, ê¸°ì¡´ì— ë©”ëª¨ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ë©”ëª¨ë¥¼ ì…ë ¥ì°½ì— ê¸°ë³¸ê°’ìœ¼ë¡œ ì…ë ¥ë˜ê²Œ í•˜ì—¬ ì¶”ê°€ ì…ë ¥ì—†ì´ ì €ì¥ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ê¸°ì¡´ ë©”ëª¨ê°€ ì§€ì›Œì§€ì§€ ì•Šê²Œ ìˆ˜ì •.

â€» ì—…ë°ì´íŠ¸ ê²€í†  ì¤‘ì¸ ì‚¬í•­
-í…”ë ˆê·¸ë¨ ì „ì†¡
; ìº¡ì³ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìì‹ ì´ ìƒì„±í•œ í…”ë ˆê·¸ë¨ ë´‡ ì±„íŒ…ë°©ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì „ì†¡. ë§ë¶™ì—¬ ìº¡ì³í•œ ì´ë¯¸ì§€ì˜ í•´ë‹¹ ê²Œì‹œê¸€ Urlê³¼ ì œëª©, ì‘ì„±ì ID, ì‘ì„±ì ë‹‰ë„¤ì„, ì‘ì„±ì ipë¥¼ í•¨ê»˜ ì „ì†¡í•˜ëŠ” ê¸°ëŠ¥

- ê³¼ê±° í™œë™ ì´ë ¥
; 'ê¹€ì¬ê·œ'ë‹˜ì´ ë§Œë“œì‹  ì—‘ì…€ì˜ ì›¹ë²„ì ¼.

í•˜ì§€ë§Œ ì–´ë””ê¹Œì§€ë‚˜ ê²€í† ì¤‘ì¸ ì‚¬í•­ì´ê³ , ì‹¤ë ¥ì˜ í•œê³„ë¡œ ì˜ì›íˆ ë¶ˆê°€ëŠ¥í•  ìˆ˜ ìˆìŒ.
*/


  // ==UserScript==
  // @name         EtoLand Memo&Black
  // @namespace    http://tampermonkey.net/
  // @version      1.4
  // @description  Etoland memo and blacklist function
  // @author       etouser
  // @match          http://www.etoland.co.kr/bbs/board.php?bo_table=*
  // @require      https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js
  // @require      https://code.jquery.com/jquery-3.2.1.min.js
  // @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
  // @grant        GM_xmlhttpRequest
// @downloadURL https://update.greasyfork.org/scripts/431910/EtoLand%20MemoBlack.user.js
// @updateURL https://update.greasyfork.org/scripts/431910/EtoLand%20MemoBlack.meta.js
  // ==/UserScript==

  (function() {
      'use strict';


      // ê²Œì‹œê¸€ ìº¡ì³ ë° ì´ë¯¸ì§€ ì €ì¥ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ë° ì ìš©
      GM_xmlhttpRequest({
          method : "GET",
          url : "https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js",
          onload : (ev) =>
          {
              let e = document.createElement('script');
              e.innerText = ev.responseText;
              document.head.appendChild(e);
          }
      });


      // ê¸°ë³¸ ì œì´ì¿¼ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ë° ì ìš©
      //*
      GM_xmlhttpRequest({
          method : "GET",
          url : "https://code.jquery.com/jquery-3.2.1.min.js",
          onload : (ev) =>
          {
              let e = document.createElement('script');
              e.innerText = ev.responseText;
              document.head.appendChild(e);
          }
      });

      // ë§¨ ì•„ë˜ë¡œ ê°€ê¸° ë²„íŠ¼ ë™ì‘ì„ ìœ„í•œ ìœ„ì¹˜ í‘œì‹œ
      $('body').append('<div id="des_bottom"></div>');

      // ë“œëë‹¤ìš´ë©”ë‰´ íƒœê·¸ ì‚½ì…
      $('body').append(`<div class="toolMenu" style="width: 10%;text-align:center;position:fixed;right:2%;top:20%;z-index:10000;">
    <a href="#"><font size="7em" color="hotpink">â–²</font></a>&nbsp;&nbsp;&nbsp;
    <a href="#des_bottom"><font size="7em" color="blueviolet">â–¼</font></a>
    <br>
  <button class="dropbtn">Dropdown</button>
  <div class="toolMenu-content">
    <br>
    <input type="button" id="captureMarkingBt" value="ë§ˆ í‚¹" onclick="" style="font-weight: bold;">
    <br>
    <input type="button" id="captureArticleBt" value="ë³¸ë¬¸ ğŸ“·" onclick="" style="font-weight: bold;">
    <br>
    <input type="button" id="captureCommentBt" value="ëŒ“ê¸€ ğŸ“·" onclick="" style="font-weight: bold;">
    <br>
    <input type="button" id="captureAllBt" value="ë³¸ë¬¸+ëŒ“ê¸€ ğŸ“·" onclick="" style="font-weight: bold;">

    <br><hr color="black" width="90%"><br>

    <input type="button" id="blackDislikeBt" value="ë¸”ë™ ë¹„ì¶”" onclick="" style="font-weight: bold;">
    <br>

    <input type="button" id="notBlacklikeBt" value="ì•ˆë¸”ë™ ì¶”ì²œ" onclick="" style="font-weight: bold;">
    <br>

    <input type="button" id="blankCommentBt" value="ë¹ˆ ëŒ“ê¸€" onclick="" style="font-weight: bold;">

    <br><!--
    <hr color="black" width="90%"><br>
    <input type="button" id="historyRecordBt" value="í™œë™ë‚´ì—­" onclick="" style="font-weight: bold;">
    <br>-->
  </div>
</div>`);

      // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°, ë“œëë‹¤ìš´ ë©”ë‰´ ìŠ¤íƒ€ì¼ ì„¤ì •
      $('head').append(`<style type="text/css">

@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Nanum+Gothic+Coding&display=swap');
// *{font-weight:bold;font-family:'Nanum Gothic Coding','Nanum Gothic','Malgun Gothic';}

/* ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°í‘œì‹œ (ê²Œì‹œê¸€ ë° ëŒ“ê¸€ ì¤‘ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì ìš©) */
td.blacked {
  background: rgb(138,196,247);
background: linear-gradient(90deg, rgba(138,196,247,1) 22%, rgba(245,178,136,0.9235135196300035) 56%, rgba(251,128,236,1) 100%);
}

/* ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°í‘œì‹œ (ê²Œì‹œê¸€ ë° ëŒ“ê¸€ ì¤‘ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì ìš©)  */
td.blacked span {
  color: black;
  font-weight: bold;
}

/* ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°í‘œì‹œ (ê²Œì‹œíŒ ê¸€ëª©ë¡ ì¤‘ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì ìš©)  */
tr.blacked {
  background: rgb(138,196,247);
background: linear-gradient(90deg, rgba(138,196,247,1) 22%, rgba(245,178,136,0.9235135196300035) 56%, rgba(251,128,236,1) 100%);
}

/* ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°í‘œì‹œ (ê²Œì‹œíŒ ê¸€ëª©ë¡ ì¤‘ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì ìš©) */
tr.blacked * {
  color: black;
  font-weight: bold;
}

/* Dropdown Button */
.dropbtn {
  background-color: #04AA6D;
  color: white;
  padding: 10px;
  margin: 5px 0 0 0;
  font-size: 16px;
  border: none;
  margin: 0 auto;
  width: 80%;
}

/* The container <div> - needed to position the dropdown content */
.toolMenu {
  position: relative;
  display: inline-block;
}

/* Dropdown Content (Hidden by Default) */
.toolMenu-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  width: 100%;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
/*.toolMenu-content a {*/
.toolMenu-content input {
  color: black;
  padding: 3px;
  width: 90%;
  text-decoration: none;
  display: block;
  font-weight: bold;
  font-size: 1em;
  margin: 0 auto;
  border-radius: 10px;
  /*border-color: orangered;*/
  border-color: #c14b76;
}

/* Change color of dropdown links on hover */
.toolMenu-content input:hover {background: #004FF9;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #FFF94C, #004FF9);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #FFF94C, #004FF9); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
font-weight: bold;color: white;transform: scale(1.2);}
/*.toolMenu-content a:hover {background-color: #f8f300;}*/

/* Show the dropdown menu on hover */
.toolMenu:hover .toolMenu-content {display: block;transform: scale(1.2);}

/* Change the background color of the dropdown button when the dropdown content is shown */
.toolMenu:hover .dropbtn {background-color: #3e8e41;}

</style>

`);


      // ê²Œì‹œê¸€ ë³¸ë¬¸, ëŒ“ê¸€ í°íŠ¸ì²´, í°íŠ¸ êµµê¸°, í¬ê¸° ë°”ê¾¸ëŠ” í•¨ìˆ˜
      function fontChn(){
          var dd = document.querySelectorAll('div[id^="view_"]');
          if (dd.length > 0){
              for (var i=0;i<dd.length;i++){
                dd[i].style.fontFamily = 'Nanum Gothic Coding';
                dd[i].style.fontWeight = 'bold'
                dd[i].style.fontSize = '150%'
                dd[i].style.lineHeight = '150%'
              };
          };
      };

      // ë§ˆí‚¹ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
      $("input#captureMarkingBt").click(function(){
        // ë‹‰ë„¤ì„ ë§ˆí‚¹
        var nickList = document.querySelectorAll('span.member, span.cmt_name');
        Array.from(nickList).forEach((elem, index) => {
            elem.innerText = elem.innerText[0] + "****";
          });

        // í”„ë¡œí•„ ì‚¬ì§„ ë§ˆí‚¹
        var ppp = document.querySelectorAll('img[src*="mw.basic.comment.image"]');
        Array.from(ppp).forEach((elem, index) => {
            elem.setAttribute('src','../skin/board/free.etoboard03/img/noimage.gif');
            // elem.style.visibility="hidden";
          });
        });


      $(document).ready(function(){

        // fontChn();

        // ìº¡ì³ ì´ë¯¸ì§€ íŒŒì¼ ì´ë¦„ì— ì‚¬ìš©í•  ë³€ìˆ˜
        var timestamp = document.querySelector("span.mw_basic_view_datetime").innerText.slice(0,10);
        var writterId = document.querySelectorAll(".mw_basic_view_name > a")[1].getAttribute('onclick').split(',')[1].replace(/\s|'/g,"");
        var writterNick = document.querySelectorAll(".mw_basic_view_name > a")[1].getAttribute('onclick').split(',')[2].replace(/\s|'/g,"");
        var usrIp = /\d.+\d/.exec(document.querySelector('span.mw_basic_view_name').innerText);
        var articleTitle = document.querySelector(".mw_basic_view_subject").innerText;
        function fn_tail(){
          if (document.querySelector('span.member').innerText.includes('***')){
            var markingJudge = " (ë§ˆí‚¹).jpg";
          }else{
            var markingJudge = ".jpg";
          };
          return markingJudge;
        };


        // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê¸€, ì‘ì„±ê¸€ ì¼ê´„ ë¹„ì¶” í´ë¦­ì„ ìœ„í•œ ë³€ìˆ˜
        var memoList = JSON.parse(localStorage.getItem("MEMO_BLACK")); // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ë°ì´í„° í˜¸ì¶œ
        if (memoList == null){ //ì €ì¥ëœ ë©”ëª¨,ë¸”ë™ë¦¬ìŠ¤íŠ¸ê°€ ì—†ì„ ë•Œ
            var memoList = [{'userID':'0','memeo':'','black':false}];
            // memoList.push(saveItem);
            localStorage.setItem("MEMO_BLACK", JSON.stringify(memoList));
            var memoList = JSON.parse(localStorage.getItem("MEMO_BLACK"));
          };
        var blackin = memoList.map((v) => { // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°ë¥¼ ìœ„í•œ ì°¸ì¡°ë°ì´í„°
          return v['userID']
          });



        // ë³¸ë¬¸ìº¡ì³ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#captureArticleBt").click(function(){
          var dd = document.querySelectorAll('td.blacked, tr.blacked');
          // ë¸”ë™ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ì œê±°
          for(var i=0;i<dd.length;i++){
            dd[i].setAttribute('class', 'pause');
            };

          //ë…¸ëª¨ ìº¡ì³
          html2canvas(document.querySelector('table.view_table'),{scale: 2.5,allowTaint: true,useCORS: true}).then(canvas => {
            var base64ImageData=canvas.toDataURL("image/jpeg"),
            filename="Capture ("+timestamp+ ") ("+writterId+") (" + writterNick + ") (" + usrIp + ") "+articleTitle+" (ë³¸ë¬¸ ìº¡ì³).jpg",
            a=document.createElement("a");
            a.download=filename,a.href=base64ImageData,a.click()
            });
          
          // ìœ ëª¨ ìº¡ì³ë¥¼ ìœ„í•œ ë‹‰ë„¤ì„ ë§ˆí‚¹
          var nickList = document.querySelectorAll('span.member, span.cmt_name');
          var orgNick = $.map(nickList, function(val,i){
            return val.innerText;
          });
          Array.from(nickList).forEach((elem, index) => {
              elem.innerText = elem.innerText[0] + "****";
            });
          // ìœ ëª¨ ìº¡ì³ë¥¼ ìœ„í•œ í”„ì‚¬ ë§ˆí‚¹
          var ppp = document.querySelectorAll('img[src*="mw.basic.comment.image"]');
          var ooo = $.map(ppp, function(val,i){
            return val.getAttribute('src');
          });
          Array.from(ppp).forEach((elem, index) => {
              elem.setAttribute('src','../skin/board/free.etoboard03/img/noimage.gif');
            });
          // ìœ ëª¨ ìº¡ì³
          html2canvas(document.querySelector('table.view_table'),{scale: 2.5,allowTaint: true,useCORS: true}).then(canvas => {
            var base64ImageData=canvas.toDataURL("image/jpeg"),
            filename="Capture ("+timestamp+ ") ("+writterId+") (" + writterNick + ") (" + usrIp + ") "+articleTitle+" (ë³¸ë¬¸ ìº¡ì³) (ë§ˆí‚¹).jpg",
            a=document.createElement("a");
            a.download=filename,a.href=base64ImageData,a.click()
            });

          // ìœ ëª¨ ì œê±°
          Array.from(nickList).forEach((elem, index) => {
            elem.innerText = orgNick[index];
          });
          Array.from(ppp).forEach((elem, index) => {
            elem.setAttribute('src',ooo[index]);
          });
          // ë¸”ë™ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ë³µì›
          for(var i=0;i<dd.length;i++){
            dd[i].setAttribute('class', 'blacked');
            };
          });



        // ëŒ“ê¸€ìº¡ì³ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#captureCommentBt").click(function(){
          var dd = document.querySelectorAll('td.blacked, tr.blacked');
          for(var i=0;i<dd.length;i++){
            dd[i].setAttribute('class', 'pause');
            };

          //ë…¸ëª¨ ìº¡ì³
          html2canvas(document.querySelector('div#cocoment_main'),{scale: 2.5,allowTaint: true,useCORS: true}).then(canvas => {
            var base64ImageData=canvas.toDataURL("image/jpeg"),
            filename="Capture ("+timestamp+ ") ("+writterId+") (" + writterNick + ") (" + usrIp + ") "+articleTitle+" (ëŒ“ê¸€ ìº¡ì³).jpg",
            a=document.createElement("a");
            a.download=filename,a.href=base64ImageData,a.click()
            });

          // ìœ ëª¨ ìº¡ì³ë¥¼ ìœ„í•œ ë‹‰ë„¤ì„ ë§ˆí‚¹
          var nickList = document.querySelectorAll('span.member, span.cmt_name');
          var orgNick = $.map(nickList, function(val,i){
            return val.innerText;
          });
          Array.from(nickList).forEach((elem, index) => {
              elem.innerText = elem.innerText[0] + "****";
            });
          // ìœ ëª¨ ìº¡ì³ë¥¼ ìœ„í•œ í”„ì‚¬ ë§ˆí‚¹
          var ppp = document.querySelectorAll('img[src*="mw.basic.comment.image"]');
          var ooo = $.map(ppp, function(val,i){
            return val.getAttribute('src');
          });
          Array.from(ppp).forEach((elem, index) => {
              elem.setAttribute('src','../skin/board/free.etoboard03/img/noimage.gif');
              });

          //ìœ ëª¨ ìº¡ì³
          html2canvas(document.querySelector('div#cocoment_main'),{scale: 2.5,allowTaint: true,useCORS: true}).then(canvas => {
            var base64ImageData=canvas.toDataURL("image/jpeg"),
            filename="Capture ("+timestamp+ ") ("+writterId+") (" + writterNick + ") (" + usrIp + ") "+articleTitle+" (ëŒ“ê¸€ ìº¡ì³) (ë§ˆí‚¹).jpg",
            a=document.createElement("a");
            a.download=filename,a.href=base64ImageData,a.click()
            });

          // ìœ ëª¨ ì œê±°
          Array.from(nickList).forEach((elem, index) => {
            elem.innerText = orgNick[index];
          });
          Array.from(ppp).forEach((elem, index) => {
            elem.setAttribute('src',ooo[index]);
          });
          // ë¸”ë™ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ë³µì›
          for(var i=0;i<dd.length;i++){
            dd[i].setAttribute('class', 'blacked');
            };
          });

        // ë³¸ë¬¸+ëŒ“ê¸€ìº¡ì³ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#captureAllBt").click(function(){
          var dd = document.querySelectorAll('td.blacked, tr.blacked');
          for(var i=0;i<dd.length;i++){
            dd[i].setAttribute('class', 'pause');
            };

          //ë…¸ëª¨ ìº¡ì³
          html2canvas(document.querySelector('td#mw_basic'),{scale: 2.5,allowTaint: true,useCORS: true}).then(canvas => {
            var base64ImageData=canvas.toDataURL("image/jpeg"),
            filename="Capture ("+timestamp+ ") ("+writterId+") (" + writterNick + ") (" + usrIp + ") "+articleTitle+" (ë³¸ë¬¸+ëŒ“ê¸€ ìº¡ì³).jpg",
            a=document.createElement("a");
            a.download=filename,a.href=base64ImageData,a.click()
            });

          // ìœ ëª¨ ìº¡ì³ë¥¼ ìœ„í•œ ë‹‰ë„¤ì„ ë§ˆí‚¹
          var nickList = document.querySelectorAll('span.member, span.cmt_name');
          var orgNick = $.map(nickList, function(val,i){
            return val.innerText;
          });
          Array.from(nickList).forEach((elem, index) => {
              elem.innerText = elem.innerText[0] + "****";
            });
          // ìœ ëª¨ ìº¡ì³ë¥¼ ìœ„í•œ í”„ì‚¬ ë§ˆí‚¹
          var ppp = document.querySelectorAll('img[src*="mw.basic.comment.image"]');
          var ooo = $.map(ppp, function(val,i){
            return val.getAttribute('src');
          });
          Array.from(ppp).forEach((elem, index) => {
              elem.setAttribute('src','../skin/board/free.etoboard03/img/noimage.gif');
              });

          //ìœ ëª¨ ìº¡ì³
          html2canvas(document.querySelector('td#mw_basic'),{scale: 2.5,allowTaint: true,useCORS: true}).then(canvas => {
            var base64ImageData=canvas.toDataURL("image/jpeg"),
            filename="Capture ("+timestamp+ ") ("+writterId+") (" + writterNick + ") (" + usrIp + ") "+articleTitle+" (ë³¸ë¬¸+ëŒ“ê¸€ ìº¡ì³) (ë§ˆí‚¹).jpg",
            a=document.createElement("a");
            a.download=filename,a.href=base64ImageData,a.click()
            });

          // ìœ ëª¨ ì œê±°
          Array.from(nickList).forEach((elem, index) => {
            elem.innerText = orgNick[index];
          });
          Array.from(ppp).forEach((elem, index) => {
            elem.setAttribute('src',ooo[index]);
          });
          // ë¸”ë™ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ë³µì›
          for(var i=0;i<dd.length;i++){
            dd[i].setAttribute('class', 'blacked');
            };
          });



        // ë¸”ë™ë¹„ì¶”ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#blackDislikeBt").click(function(){
          var answer = 'nogood'
          var dislike = [];
          var like = [];
          var articleId = /\d{5,}/.exec(location.href)[0];

          $('a[href*=singo]').each(function(aa,bb){
              // ëŒ“ê¸€ë€ì— ê¸€ì“´ì´ê°€ ëŒ“ê¸€ì„ ë‹¬ë©´ í•´ë‹¹ì„¹ì…˜ì—ì„  ì•„ì´ë”” ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—  ì¶”ì²œ ë¹„ì¶”ì²œ ì„ íƒì„ í•  ìˆ˜ ì—†ìŒ. ê·¸ë˜ì„œ ë§¨ ì²˜ìŒ ì•„ì´ë””(ê¸€ì“´ì´) ì •ë³´ë¥¼ ê°€ì ¸ì™€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ í•„ìš”í•¨.
              var wrElem = $($('a[href*=singo]')[0]).prevAll('span[class*=name]').find('a[onclick]'); //ì²« ì•„ì´ë”” ì •ë³´ ìš”ì†Œ
              var wrId = /(?<=')(.+?(?='))/.exec(wrElem.attr('onclick'))[0]; // ê¸€ì“´ì´ ì•„ì´ë”” ì¶”ì¶œ
              // var qq = blackin.includes(wrId) ? true : false; // ê¸€ì“´ì´ê°€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì—¬ë¶€ì¸ì§€ í™•ì¸
              
              var commentId = /(\d{7}).+(\d{7})/.exec(bb.getAttribute('href'))[1]; // ëŒ“ê¸€ ë„˜ë²„
              var cc, dd; // ì•„ì´ë”” ê°ì²´ë¥¼ ë‹´ì„ ë³€ìˆ˜, ì¶”ì¶œí•œ ì•„ì´ë””ë¥¼ ë‹´ì„ ë³€ìˆ˜ 

              try{ // ëŒ“ê¸€ë€ì— ê¸€ì“´ì´ê°€ ëŒ“ê¸€ì„ ì“°ë©´ ì•„ì´ë”” ì •ë³´ë¥¼ êµ¬í•  ìˆ˜ ì—†ì–´ì„œ null ì—ëŸ¬ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— try ì²˜ë¦¬í•´ì„œ ìœ„ì—ì„œ êµ¬í•œ ê¸€ì“´ì´ ì•„ì´ë”” ì •ë³´ë¥¼ ì ìš©.
                  var cc = $(bb).prevAll('span[class*=name]').find('a[onclick]');
                  var dd = /(?<=')(.+?(?='))/.exec(cc.attr('onclick'))[0];

                  if (blackin.includes(dd)){
                      dislike.push(commentId);
                  }else{
                      like.push(commentId);
                  };
              }catch{
                  if (blackin.includes(wrId)){
                      dislike.push(commentId);
                  }else{
                      like.push(commentId);
                  };
                };
              });

          console.log('like : ',like);
          console.log('dislike : ',dislike);

          if (answer == 'good'){
              for (var i=0;i<like.length;i++){
                  if (like[i] == articleId){
                      atcGoodUrl(answer);
                  }else{
                      cmtGoodUrl(like[i],answer);
                  };
              };
          }else{
              for (var i=0;i<dislike.length;i++){
                  if (dislike[i] == articleId){
                    console.log('ì‘ì„±ì ê¸€ - ', dislike[i]);
                      atcGoodUrl(answer);
                  }else{
                    console.log(dislike[i]," - ",answer);
                      cmtGoodUrl(dislike[i],answer);
                  };
                  setTimeout(function() {
                    console.log(i,"/",dislike.length);
                    }, 2000);
                  
                };
            };

          // ëŒ“ê¸€ ì¶”ì²œ ë¹„ì¶”ì²œ URL
          function cmtGoodUrl(cmtid,good){
              var dd;
              $("script").each(function(index, value) {
                  if (value.text.indexOf("mw_comment_good") > 0) {
                      dd = /skin.+\d{6,}/.exec(value.text)[0];
                      };
                  });
              var result = 'http://www.etoland.co.kr/' + dd + '&wr_id=' + cmtid + '&good=' + good
              console.log(result);
              var child1;
              child1 = window.open(result,"_blank", "top=50,right=50,width=100,height=100");
              setTimeout(function() {
                  child1.close();
              }, 2000);
          };

          // ë³¸ë¬¸ ì¶”ì²œ ë¹„ì¶”ì²œ URL
          function atcGoodUrl(good){
              var dd;
              $("script").each(function(index, value) {
                  if (value.text.indexOf("mw_good_act") > 0) {
                      dd = /skin.+act.+\d{6,}/.exec(value.text)[0];
                      };
                  });
              var result = 'http://www.etoland.co.kr/' + dd + '&good=' + good
              var child;
              child = window.open(result,"_blank", "top=50,right=50,width=100,height=100");
              setTimeout(function() {
                  child.close();
              }, 2000);
          };
        });

        // ì•ˆë¸”ë™ ì¶”ì²œ ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#notBlacklikeBt").click(function(){
          var answer = 'good'
          var dislike = [];
          var like = [];
          var articleId = /\d{5,}/.exec(location.href)[0];

          $('a[href*=singo]').each(function(aa,bb){
              // ëŒ“ê¸€ë€ì— ê¸€ì“´ì´ê°€ ëŒ“ê¸€ì„ ë‹¬ë©´ í•´ë‹¹ì„¹ì…˜ì—ì„  ì•„ì´ë”” ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—  ì¶”ì²œ ë¹„ì¶”ì²œ ì„ íƒì„ í•  ìˆ˜ ì—†ìŒ. ê·¸ë˜ì„œ ë§¨ ì²˜ìŒ ì•„ì´ë””(ê¸€ì“´ì´) ì •ë³´ë¥¼ ê°€ì ¸ì™€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ í•„ìš”í•¨.
              var wrElem = $($('a[href*=singo]')[0]).prevAll('span[class*=name]').find('a[onclick]'); //ì²« ì•„ì´ë”” ì •ë³´ ìš”ì†Œ
              var wrId = /(?<=')(.+?(?='))/.exec(wrElem.attr('onclick'))[0]; // ê¸€ì“´ì´ ì•„ì´ë”” ì¶”ì¶œ
              // var qq = blackin.includes(wrId) ? true : false; // ê¸€ì“´ì´ê°€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì—¬ë¶€ì¸ì§€ í™•ì¸
              
              var commentId = /(\d{7}).+(\d{7})/.exec(bb.getAttribute('href'))[1]; // ëŒ“ê¸€ ë„˜ë²„
              var cc, dd; // ì•„ì´ë”” ê°ì²´ë¥¼ ë‹´ì„ ë³€ìˆ˜, ì¶”ì¶œí•œ ì•„ì´ë””ë¥¼ ë‹´ì„ ë³€ìˆ˜ 

              try{ // ëŒ“ê¸€ë€ì— ê¸€ì“´ì´ê°€ ëŒ“ê¸€ì„ ì“°ë©´ ì•„ì´ë”” ì •ë³´ë¥¼ êµ¬í•  ìˆ˜ ì—†ì–´ì„œ null ì—ëŸ¬ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— try ì²˜ë¦¬í•´ì„œ ìœ„ì—ì„œ êµ¬í•œ ê¸€ì“´ì´ ì•„ì´ë”” ì •ë³´ë¥¼ ì ìš©.
                  var cc = $(bb).prevAll('span[class*=name]').find('a[onclick]');
                  var dd = /(?<=')(.+?(?='))/.exec(cc.attr('onclick'))[0];

                  if (blackin.includes(dd)){
                      dislike.push(commentId);
                  }else{
                      like.push(commentId);
                  };
              }catch{
                  if (blackin.includes(wrId)){
                      dislike.push(commentId);
                  }else{
                      like.push(commentId);
                  };
                };
              });

          console.log('like : ',like);
          console.log('dislike : ',dislike);

          if (answer == 'good'){
              for (var i=0;i<like.length;i++){
                  if (like[i] == articleId){
                      atcGoodUrl(answer);
                  }else{
                      cmtGoodUrl(like[i],answer);
                  };
              };
          }else{
              for (var i=0;i<dislike.length;i++){
                  if (dislike[i] == articleId){
                    console.log('ì‘ì„±ì ê¸€ - ', dislike[i]);
                      atcGoodUrl(answer);
                  }else{
                    console.log(dislike[i]," - ",answer);
                      cmtGoodUrl(dislike[i],answer);
                  };
                  setTimeout(function() {
                    console.log(i,"/",dislike.length);
                    }, 2000);
                  
                };
            };

          // ëŒ“ê¸€ ì¶”ì²œ ë¹„ì¶”ì²œ URL
          function cmtGoodUrl(cmtid,good){
              var dd;
              $("script").each(function(index, value) {
                  if (value.text.indexOf("mw_comment_good") > 0) {
                      dd = /skin.+\d{6,}/.exec(value.text)[0];
                      };
                  });
              var result = 'http://www.etoland.co.kr/' + dd + '&wr_id=' + cmtid + '&good=' + good
              console.log(result);
              var child1;
              child1 = window.open(result,"_blank", "top=50,right=50,width=100,height=100");
              setTimeout(function() {
                  child1.close();
              }, 2000);
          };

          // ë³¸ë¬¸ ì¶”ì²œ ë¹„ì¶”ì²œ URL
          function atcGoodUrl(good){
              var dd;
              $("script").each(function(index, value) {
                  if (value.text.indexOf("mw_good_act") > 0) {
                      dd = /skin.+act.+\d{6,}/.exec(value.text)[0];
                      };
                  });
              var result = 'http://www.etoland.co.kr/' + dd + '&good=' + good
              var child;
              child = window.open(result,"_blank", "top=50,right=50,width=100,height=100");
              setTimeout(function() {
                  child.close();
              }, 2000);
          };
        });

        // ë¹ˆëŒ“ê¸€ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#blankCommentBt").click(function(){
          document.querySelector('.mw_basic_textarea.chk_area').value = "&nbsp";
          document.querySelector('button#btn_comment_submit').click();
            });

        // í™œë™ë‚´ì—­ë²„íŠ¼ í•¨ìˆ˜ ë°°ë‹¹
        $("input#historyRecordBt").click(function(){
          document.querySelector('.mw_basic_textarea.chk_area').value = "&nbsp";
          document.querySelector('button#btn_comment_submit').click();
            });

        // ë©”ëª¨ë°•ìŠ¤ ë²„íŠ¼ì— í† ê¸€ ê¸°ëŠ¥ ì ìš©
        $("span.mw_basic_view_name .callMemoInputBox, span.mw_basic_comment_name .callMemoInputBox").click(function(){
            $(this).closest('td').find('.memoBox').toggle();
        });

        // ë©”ëª¨, ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬ ë°ì´í„° ì €ì¥ ê¸°ëŠ¥ ì ìš©
        $(".memoBox input[name='saveBt']").click(function(){
            var memo = $(this).prevAll('.memo_input')[0].value;
            var bCheck = $(this).prev()[0].checked;
            var usrId = $(this).attr('usrid')
            console.log(memo);
            console.log(bCheck);
            console.log(usrId);
            var saveItem = {};

            saveItem['userID'] = usrId;
            saveItem['memo'] = memo;
            saveItem['black'] = bCheck

            var memoList = JSON.parse(localStorage.getItem("MEMO_BLACK"))

            if (memoList == null){ //ì €ì¥ëœ ë©”ëª¨,ë¸”ë™ë¦¬ìŠ¤íŠ¸ê°€ ì—†ì„ ë•Œ
                // var memoList = [{'userID':'0','memeo':'','black':false}];
                var memoList = [];
                memoList.push(saveItem);
                localStorage.setItem("MEMO_BLACK", JSON.stringify(memoList));
                var memoList = JSON.parse(localStorage.getItem("MEMO_BLACK"));
            }else{ // ì €ì¥ëœ ë©”ëª¨, ë¸”ë™ë¦¬ìŠ¤íŠ¸ê°€ ìˆì„ ë•Œ
              var addSave = true; // ì €ì¥í•˜ëŠ” ì•„ì´ë””ê°€ ê¸°ì¡´ì— ì €ì¥ëœ ì•„ì´ë””ì¸ì§€ ì•„ë‹Œì§€ ì—¬ë¶€ í™•ì¸ì„ ìœ„í•œ ë³€ìˆ˜.
              for (var i = 0; i < memoList.length; i++){
                if (saveItem['userID'] == memoList[i]['userID']){
                  memoList[i] = saveItem; //ì…ë ¥í•˜ë ¤ëŠ” ì•„ì´ë””ê°€ ê¸°ì¡´ì— ìˆìœ¼ë©´ ë³€ê²½ëœ ë‚´ìš©ìœ¼ë¡œ êµì²´
                  localStorage.setItem("MEMO_BLACK", JSON.stringify(memoList));
                  addSave = false; // ê¸°ì¡´ì— ì €ì¥ëœ ì•„ì´ë””ì´ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ë‚´ìš©ë§Œ êµì²´.
                  break;
                };
              };

              if(addSave){ // ìƒˆë¡œ ì…ë ¥í•˜ëŠ” ì•„ì´ë””ë©´ ë‚´ìš© ì¶”ê°€
                memoList.push(saveItem);
                localStorage.setItem("MEMO_BLACK", JSON.stringify(memoList));
              };
            };
          }); //$(".memoBox input[name='saveBt']").click(function() ë
        }); // $(document).ready(function() ë


      // ì´í† ëœë“œ ì½”ë“œ
      (function() {

        var memoList = JSON.parse(localStorage.getItem("MEMO_BLACK")); // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ë°ì´í„° í˜¸ì¶œ

        if (memoList == null){ //ì €ì¥ëœ ë©”ëª¨,ë¸”ë™ë¦¬ìŠ¤íŠ¸ê°€ ì—†ì„ ë•Œ
            var memoList = [{'userID':'0','memeo':'','black':false}];
            // memoList.push(saveItem);
            localStorage.setItem("MEMO_BLACK", JSON.stringify(memoList));
            var memoList = JSON.parse(localStorage.getItem("MEMO_BLACK"));
          };

        var blackin = memoList.map((v) => { // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ê°•ì¡°ë¥¼ ìœ„í•œ ì°¸ì¡°ë°ì´í„°
          return v['userID']
          });

        var ggg = "wr_id" // ê²Œì‹œê¸€ì— ì§„ì…í–ˆì„ ë•Œì™€ ê²Œì‹œíŒ ëª©ë¡ì— ìˆì„ ë•Œì˜ ë™ì‘ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ì¸ìˆ˜ / URL ë‚´ 'wr_id' ê°€ ìˆìœ¼ë©´ ê²Œì‹œê¸€ì„ í´ë¦­í•œ ìƒíƒœ. ì—†ìœ¼ë©´ ê²Œì‹œíŒ ëª©ë¡ì— ìˆëŠ” ìƒíƒœ.
        if(location.href.includes(ggg)){
          var article = document.querySelector('td#mw_basic');
          var list3 = article.querySelectorAll('span.mw_basic_view_name a[onclick^="show"], span.mw_basic_comment_name a[onclick^="show"]'); //ê²Œì‹œê¸€ ë‚´ ë‹‰ë„¤ì„ ìš”ì†Œê°ì²´ ë¦¬ìŠ¤íŠ¸

          function addButton(jnode){ // ê° ì•„ì´ë”” ì•ì— ë©”ëª¨ë°•ìŠ¤ í† ê¸€ ë²„íŠ¼ ìƒì„±/ë©”ëª¨í‘œì‹œ í…Œì´ë¸”/ë©”ëª¨ ë° ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬ ì…ë ¥ë¶€ë¶„ ìƒì„± í•¨ìˆ˜
            var elem1 = jnode.querySelector('a[onclick^="show"]'); // ì•„ì´ë”” ì •ë³´ê°€ ìˆëŠ” a íƒœê·¸ ê°ì²´
            var usrAccount = jnode.getAttribute('onclick').split(',')[1].replace(/\s|'/g,""); // ì‹¤ì œ ì•„ì´ë”” ì¶”ì¶œ

            for(var i=0;i<memoList.length;i++){ // ë©”ëª¨ë¦¬ìŠ¤íŠ¸ë¡œ forë¬¸ ì§„í–‰
              if(usrAccount == memoList[i]['userID']){ // ìœ ì € ì•„ì´ë””ì™€ ë©”ëª¨ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´ë””ê°€ ì¼ì¹˜í•˜ë©´,
                var memoInsert = memoList[i]['memo']; // ë©”ëª¨ ì¶”ì¶œ
                var blackJudge = memoList[i]['black']; // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì—¬ë¶€ ì¶”ì¶œ
                break;
              }else{
                var memoInsert = "" // ë©”ëª¨ ì¶”ì¶œ
                var blackJudge = false // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì—¬ë¶€ ì¶”ì¶œ
                };
              };

            // ë©”ëª¨í† ê¸€ë²„íŠ¼
            $(jnode).closest('span').prepend('<a href="javascript:;" class="callMemoInputBox"><font size=3; color="black">&nbspğŸ“&nbsp</font></a>');
            // ë©”ëª¨í‘œì‹œí…Œì´ë¸”/ë©”ëª¨ì…ë ¥ë¶€ ì‚½ì… ì½”ë“œ
            $(jnode).closest('span').parent().append('<table data-html2canvas-ignore style="display:none;border-spacing: 0;border-collapse: collapse;margin:5px 0 0 0;padding:0px;border:0px solid;width:100%;height: auto;background-color:yellow;" name="memoTable"><tbody><tr><td style="border:0px solid black;width:10%;background-color:#d5d5d5;color:black;font-weight:bold;font-size:0,8em;text-align:center;"> ë©”ëª¨ : </td><td name="memoOutput" style="border:0px solid black;background-color:#ffff00;color:#392f31;font-weight:bold;padding:0px 3px;padding:5px 10px">' + memoInsert + '</td></tr></tbody></table><div class="memoBox" style="display: none;" data-html2canvas-ignore><input type="text" class="memo_input" name="memo" value="" placeholder="ë©”ëª¨ ì…ë ¥" style="width:50%;"><span style=" font: italic bold 1.5em/1em Georgia, serif ; color: #FF0000;">&nbsp; &nbsp; black list </span><input type="checkbox" name="chk_black" value="1" style="zoom:1.5; vertical-align:-15%;">&nbsp; <input type="button" name="saveBt" value="ì €ì¥" usrid='+ usrAccount +'></div>');

            if (memoInsert.length > 0){ // ë©”ëª¨ê°€ ìˆìœ¼ë©´ ë©”ëª¨í…Œì´ë¸” ìˆ¨ê¹€ í•´ì œ
              jnode.closest('span').parentElement.querySelector('table[name="memoTable"]').style.display = "";
              jnode.closest('span').parentElement.querySelector('input.memo_input').value = memoInsert;
              };

            if (blackJudge){ // ë¸”ë™ë¦¬ìŠ¤íŠ¸ë©´ í•´ë‹¹ìš”ì†Œì˜ ìƒìœ„ìš”ì†Œ ë°°ê²½ìƒ‰ì„ ê²€ì •ìƒ‰ìœ¼ë¡œ ë³€ê²½
              jnode.closest('span').parentElement.querySelector('input[name="chk_black"]').checked = "true";
              jnode.closest('span').parentElement.setAttribute("class","blacked");
              };

          };

          Array.from(list3).forEach((elem, index) => { // ë©”ëª¨ë°•ìŠ¤ í† ê¸€ ë²„íŠ¼ ì¶”ê°€
            addButton(elem);
            });

          // ê²Œì‹œíŒ ëª©ë¡ì—ì„œ ê¸€ì‘ì„±ì ì•„ì´ë”” ë¦¬ìŠ¤íŠ¸
          var articleList = document.querySelectorAll('td#mw_basic')[1];
          var list4 = document.querySelectorAll('nobr.mw_basic_list_name > a'); // ì‹¤ì œ ì•„ì´ë”” ì¶”ì¶œì„ ìœ„í•œ ìš”ì†Œê°ì²´ ë¦¬ìŠ¤íŠ¸
          // ì•„ì´ë”” ì¶”ì¶œ / list4[0].getAttribute('onclick').split(',')[1].replace(/\s|'/g,"")

          Array.from(list4).forEach((elem, index) => { // ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ë“±ë¡ëœ ì•„ì´ë””ê°€ ì‘ì„±í•œ ê²Œì‹œê¸€ì— ê°•ì¡°í‘œì‹œí•˜ëŠ” ì½”ë“œ
            var usrAccount = elem.getAttribute('onclick').split(',')[1].replace(/\s|'/g,""); // ì‹¤ì œ ì•„ì´ë”” ì¶”ì¶œ
            // console.log(usrAccount);
            if (blackin.includes(usrAccount)){ //ë¸”ë™ë¦¬ìŠ¤íŠ¸ì™€ ì•„ì´ë”” ë¹„êµ
              // console.log(usrAccount);
              elem.closest('tr').setAttribute("class","blacked"); // ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì•„ì´ë””ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ í•´ë‹¹ ê²Œì‹œê¸€ ë°°ê²½ìƒ‰ì„ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½
              };
            });

          } else { // ê²Œì‹œê¸€ì— ì§„ì…í•˜ì§€ ì•Šì€, ê²Œì‹œíŒ ëª©ë¡ì— ìˆì„ ë•Œ, ë¸”ë™ë¦¬ìŠ¤íŠ¸ê°€ ì‘ì„±í•œ ê¸€ì— ê°•ì¡°í‘œì‹œí•˜ëŠ” ì½”ë“œ / ìœ„ì™€ ë™ì¼
          var articleList = document.querySelectorAll('td#mw_basic')[1];
          var list4 = document.querySelectorAll('nobr.mw_basic_list_name > a'); // ì‹¤ì œ ì•„ì´ë”” ì¶”ì¶œì„ ìœ„í•œ ìš”ì†Œê°ì²´ ë¦¬ìŠ¤íŠ¸

          Array.from(list4).forEach((elem, index) => { // ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ë“±ë¡ëœ ì•„ì´ë””ê°€ ì‘ì„±í•œ ê²Œì‹œê¸€ì— ê°•ì¡°í‘œì‹œí•˜ëŠ” ì½”ë“œ
            var usrAccount = elem.getAttribute('onclick').split(',')[1].replace(/\s|'/g,""); // ì‹¤ì œ ì•„ì´ë”” ì¶”ì¶œ
            // console.log(usrAccount);
            if (blackin.includes(usrAccount)){ //ë¸”ë™ë¦¬ìŠ¤íŠ¸ì™€ ì•„ì´ë”” ë¹„êµ
              // console.log(index);
              elem.closest('tr').setAttribute("class","blacked"); // ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì•„ì´ë””ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ í•´ë‹¹ ê²Œì‹œê¸€ ë°°ê²½ìƒ‰ì„ ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½
              };
            });
          };
        })();
    })();