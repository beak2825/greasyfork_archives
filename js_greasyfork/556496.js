// ==UserScript==
// @name         TuxunHelper
// @namespace    http://tampermonkey.net/
// @version      1.2.2
// @description  获取题目信息，适用于百度与腾讯街景
// @license      BSD
// @author       Hkr_reimu
// @match        *://tuxun.fun/*
// @grant        GM_xmlhttpRequest
// @icon         data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8ZyBjbGFzcz0ibGF5ZXIiIGRpc3BsYXk9ImlubGluZSI+CiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogIDxnIGlkPSJTVkdSZXBvX2JnQ2FycmllciIgc3Ryb2tlLXdpZHRoPSIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC41IDApIi8+CiAgPGcgaWQ9IlNWR1JlcG9fdHJhY2VyQ2FycmllciIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC41IDApIi8+CiAgPGcgaWQ9IlNWR1JlcG9faWNvbkNhcnJpZXIiPgogICA8dGl0bGU+NzAgQmFzaWMgaWNvbnMgYnkgWGljb25zLmNvPC90aXRsZT4KICAgPHBhdGggZD0ibTI0LDEuMzJjLTkuOTIsMCAtMTgsNy44IC0xOCwxNy4zOGExNi44MywxNi44MyAwIDAgMCAzLjU3LDEwLjM5bDEyLjg0LDE2LjhhMiwyIDAgMCAwIDMuMTgsMGwxMi44NCwtMTYuOGExNi44NCwxNi44NCAwIDAgMCAzLjU3LC0xMC4zOWMwLC05LjU4IC04LjA4LC0xNy4zOCAtMTgsLTE3LjM4eiIgZmlsbD0iI2ZmOTQyNyIgaWQ9InN2Z18xIi8+CiAgIDxwYXRoIGQ9Im0yNS4zNywxMi4xM2E3LDcgMCAxIDAgNS41LDUuNWE3LDcgMCAwIDAgLTUuNSwtNS41eiIgZmlsbD0iI2ZmZmZmZiIgaWQ9InN2Z18yIi8+CiAgPC9nPgogIDx0ZXh0IGZpbGw9IiNmZjAwMDAiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiIGZvbnQtc2l6ZT0iMTUiIGZvbnQtd2VpZ2h0PSJib2xkIiBpZD0ic3ZnXzQiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDAgMCkiIHg9IjI5IiB4bWw6c3BhY2U9InByZXNlcnZlIiB5PSI0NSI+U3A8L3RleHQ+CiAgPGxpbmUgZmlsbD0ibm9uZSIgaWQ9InN2Z18xMyIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjMiIHgxPSIxIiB4Mj0iOCIgeTE9IjQ3IiB5Mj0iNDAiLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjM2IiBmaWxsPSJub25lIiBpZD0ic3ZnXzE1IiByPSI1LjgyIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iNCIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwIDApIi8+CiAgPHRleHQgZmlsbD0iIzAwMDBmZiIgZm9udC1mYW1pbHk9IkhlbHZldGljYSIgZm9udC1zaXplPSIxNSIgZm9udC13ZWlnaHQ9ImJvbGQiIGlkPSJzdmdfMTYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeT0iNDUiPnk8L3RleHQ+CiA8L2c+Cgo8L3N2Zz4=
// @downloadURL https://update.greasyfork.org/scripts/556496/TuxunHelper.user.js
// @updateURL https://update.greasyfork.org/scripts/556496/TuxunHelper.meta.js
// ==/UserScript==

(function () {
  "use strict";

  const buttonContainer = document.createElement("div");
  buttonContainer.style.position = "fixed";
  buttonContainer.style.top = "150px";
  buttonContainer.style.right = "20px";
  buttonContainer.style.display = "flex";
  buttonContainer.style.flexDirection = "column";
  buttonContainer.style.gap = "10px";
  buttonContainer.style.width = "150px";

  function createButton(text) {
    const button = document.createElement("button");
    button.textContent = text;
    button.style.padding = "2px 10px";
    button.style.backgroundColor = "#ffffff";
    button.style.color = "black";
    button.style.opacity = 0.5;
    button.style.border = "none";
    button.style.borderRadius = "4px";
    button.style.cursor = "pointer";
    button.style.width = "100%";
    button.style.whiteSpace = "normal";
    button.style.wordWrap = "break-word";
    button.style.textAlign = "center";
    button.style.minHeight = "20px";

    return button;
  }

  const button1 = createButton("显示答案");
  const button2 = createButton("经度");
  const button3 = createButton("纬度");
  const button4 = createButton("地区推导");
  const button5 = createButton("地址");

  buttonContainer.appendChild(button1);
  buttonContainer.appendChild(button2);
  buttonContainer.appendChild(button3);
  buttonContainer.appendChild(button4);
  buttonContainer.appendChild(button5);

  function createSlider(label, min, max, step, defaultValue) {
    const sliderContainer = document.createElement("div");
    sliderContainer.style.display = "flex";
    sliderContainer.style.flexDirection = "column";
    sliderContainer.style.gap = "5px";
    sliderContainer.style.width = "100%";

    const labelContainer = document.createElement("div");
    labelContainer.style.display = "flex";
    labelContainer.style.justifyContent = "space-between";
    labelContainer.style.alignItems = "center";
    labelContainer.style.fontSize = "12px";
    labelContainer.style.color = "red";
    labelContainer.style.opacity = 0.7;

    const labelElement = document.createElement("span");
    labelElement.textContent = label;

    const valueElement = document.createElement("span");
    valueElement.textContent = defaultValue;
    valueElement.style.fontWeight = "bold";

    labelContainer.appendChild(labelElement);
    labelContainer.appendChild(valueElement);

    const slider = document.createElement("input");
    slider.type = "range";
    slider.min = min;
    slider.max = max;
    slider.step = step;
    slider.value = defaultValue;

    slider.style.padding = "2px 0";
    slider.style.backgroundColor = "#ffffff";
    slider.style.border = "none";
    slider.style.borderRadius = "4px";
    slider.style.cursor = "pointer";
    slider.style.width = "100%";
    slider.style.accentColor = "#666666";

    slider.addEventListener("input", function () {
      valueElement.textContent = parseFloat(this.value).toFixed(2);
    });

    sliderContainer.appendChild(labelContainer);
    sliderContainer.appendChild(slider);

    return {
      container: sliderContainer,
      slider: slider,
      valueElement: valueElement,
    };
  }
  const offsetConstant1Slider = createSlider("偏移常数1", 0, 10, 0.01, 2);
  const offsetConstant2Slider = createSlider("偏移常数2", 0, 4, 0.01, 1);

  buttonContainer.appendChild(offsetConstant1Slider.container);
  buttonContainer.appendChild(offsetConstant2Slider.container);

  document.body.appendChild(buttonContainer);

  let OffsetConstant1 = parseFloat(offsetConstant1Slider.slider.value);
  let OffsetConstant2 = parseFloat(offsetConstant2Slider.slider.value);

  offsetConstant1Slider.slider.addEventListener("input", function () {
    OffsetConstant1 = parseFloat(this.value);
    console.log("OffsetConstant1:", OffsetConstant1);
  });

  offsetConstant2Slider.slider.addEventListener("input", function () {
    OffsetConstant2 = parseFloat(this.value);
    console.log("OffsetConstant2:", OffsetConstant2);
  });

  const Baidu_pano_pos = [
    [1, "无锡"],
    [2, "武汉"],
    [3, "上海"],
    [4, "吉林"],
    [5, "白城"],
    [6, "长春"],
    [7, "辽源"],
    [8, "白山"],
    [9, "四平"],
    [10, "松原"],
    [11, "通化"],
    [12, "延边"],
    [13, "莆田"],
    [14, "南平"],
    [15, "龙岩"],
    [16, "宁德"],
    [17, "泉州"],
    [18, "三明"],
    [19, "厦门"],
    [20, "漳州"],
    [21, "福州"],
    [22, "北京"],
    [23, "淮安"],
    [24, "常州"],
    [25, "南京"],
    [26, "南通"],
    [27, "连云港"],
    [28, "徐州"],
    [29, "苏州"],
    [30, "宿迁"],
    [31, "泰州"],
    [32, "盐城"],
    [33, "扬州"],
    [34, "镇江"],
    [35, "九江"],
    [36, "吉安"],
    [37, "景德镇"],
    [38, "萍乡"],
    [39, "南昌"],
    [40, "新余"],
    [41, "上饶"],
    [42, "宜春"],
    [43, "鹰潭"],
    [44, "赣州"],
    [45, "抚州"],
    [46, "江门"],
    [47, "揭阳"],
    [48, "广州"],
    [49, "汕头"],
    [50, "茂名"],
    [51, "梅州"],
    [52, "清远"],
    [53, "佛山"],
    [56, "汕头"],
    [57, "深圳"],
    [58, "韶关"],
    [59, "阳江"],
    [60, "湛江"],
    [61, "云浮"],
    [62, "中山"],
    [63, "珠海"],
    [64, "肇庆"],
    [65, "河源"],
    [66, "东莞"],
    [67, "惠州"],
    [68, "桂林"],
    [69, "贵港"],
    [70, "崇左"],
    [71, "防城港"],
    [72, "南宁"],
    [73, "来宾"],
    [74, "柳州"],
    [75, "钦州"],
    [76, "梧州"],
    [77, "北海"],
    [78, "玉林"],
    [79, "河池"],
    [80, "贺州"],
    [81, "百色"],
    [82, "贵阳"],
    [83, "安顺"],
    [84, "六盘水"],
    [85, "黔南"],
    [86, "黔东南"],
    [87, "黔西南"],
    [88, "毕节"],
    [89, "铜仁"],
    [90, "遵义"],
    [91, "安庆"],
    [92, "巢湖"],
    [93, "池州"],
    [94, "滁州"],
    [95, "黄山"],
    [96, "马鞍山"],
    [97, "淮南"],
    [98, "六安"],
    [99, "宣城"],
    [100, "淮北"],
    [101, "宿州"],
    [102, "铜陵"],
    [103, "芜湖"],
    [104, "蚌埠"],
    [105, "合肥"],
    [106, "亳州"],
    [107, "澳门"],
    [108, "本溪"],
    [109, "锦州"],
    [110, "朝阳"],
    [111, "辽阳"],
    [112, "盘锦"],
    [113, "阜新"],
    [114, "鞍山"],
    [115, "抚顺"],
    [116, "丹东"],
    [117, "沈阳"],
    [118, "铁岭"],
    [119, "大连"],
    [120, "营口"],
    [121, "葫芦岛"],
    [122, "赤峰"],
    [123, "银川"],
    [124, "乌兰浩特"],
    [125, "通辽"],
    [126, "巴彦淖尔"],
    [127, "乌兰察布"],
    [128, "乌海"],
    [129, "锡林郭勒"],
    [130, "呼伦贝尔"],
    [131, "呼和浩特"],
    [132, "鄂尔多斯"],
    [133, "包头"],
    [134, "固原"],
    [135, "石嘴山"],
    [136, "吴忠"],
    [137, "中卫"],
    [138, "银川"],
    [139, "果洛"],
    [140, "黄南"],
    [141, "西宁"],
    [142, "海北"],
    [143, "海南"],
    [144, "海西"],
    [145, "玉树"],
    [146, "海东"],
    [147, "哈密"],
    [148, "博尔塔拉"],
    [149, "昌吉"],
    [150, "阿勒泰"],
    [151, "阿拉尔"],
    [152, "喀什"],
    [153, "克拉玛依"],
    [154, "阿克苏"],
    [155, "克州"],
    [156, "塔城"],
    [157, "吐鲁番"],
    [158, "巴音郭楞"],
    [159, "乌鲁木齐"],
    [160, "伊犁"],
    [161, "和田"],
    [162, "济南"],
    [163, "济宁"],
    [164, "莱芜"],
    [165, "聊城"],
    [166, "德州"],
    [167, "临沂"],
    [168, "青岛"],
    [169, "日照"],
    [170, "淄博"],
    [171, "泰安"],
    [172, "潍坊"],
    [173, "威海"],
    [174, "烟台"],
    [175, "东营"],
    [176, "枣庄"],
    [177, "菏泽"],
    [178, "滨州"],
    [179, "晋城"],
    [180, "晋中"],
    [181, "长治"],
    [182, "吕梁"],
    [183, "临汾"],
    [184, "忻州"],
    [185, "朔州"],
    [186, "太原"],
    [187, "阳泉"],
    [188, "运城"],
    [189, "大同"],
    [190, "广安"],
    [191, "广元"],
    [192, "成都"],
    [193, "眉山"],
    [194, "凉山"],
    [195, "绵阳"],
    [196, "攀枝花"],
    [197, "南充"],
    [198, "德阳"],
    [199, "乐山"],
    [200, "泸州"],
    [201, "内江"],
    [202, "甘孜"],
    [203, "遂宁"],
    [204, "资阳"],
    [205, "巴中"],
    [206, "达州"],
    [207, "雅安"],
    [208, "自贡"],
    [209, "阿坝"],
    [210, "宜宾"],
    [211, "宝鸡"],
    [212, "安康"],
    [213, "商洛"],
    [214, "渭南"],
    [215, "西安"],
    [216, "铜川"],
    [217, "咸阳"],
    [218, "延安"],
    [219, "汉中"],
    [220, "榆林"],
    [221, "酒泉"],
    [222, "金昌"],
    [223, "嘉峪关"],
    [224, "兰州"],
    [225, "陇南"],
    [226, "平凉"],
    [227, "临夏"],
    [228, "庆阳"],
    [229, "甘南"],
    [230, "武威"],
    [231, "定西"],
    [232, "天水"],
    [233, "张掖"],
    [234, "白银"],
    [235, "昌都"],
    [236, "那曲"],
    [237, "拉萨"],
    [238, "阿里"],
    [239, "林芝"],
    [240, "山南"],
    [241, "日喀则"],
    [242, "香港"],
    [243, "天津"],
    [244, "金华"],
    [245, "嘉兴"],
    [246, "衢州"],
    [247, "丽水"],
    [248, "宁波"],
    [249, "绍兴"],
    [250, "温州"],
    [251, "台州"],
    [252, "杭州"],
    [253, "舟山"],
    [254, "湖州"],
    [255, "楚雄"],
    [256, "怒江"],
    [257, "昆明"],
    [258, "普洱"],
    [259, "丽江"],
    [260, "德宏"],
    [261, "临沧"],
    [262, "曲靖"],
    [263, "保山"],
    [264, "文山"],
    [265, "迪庆"],
    [266, "西双版纳"],
    [267, "大理"],
    [268, "红河"],
    [269, "玉溪"],
    [270, "昭通"],
    [271, "三亚"],
    [272, "海南直辖"],
    [273, "海口"],
    [274, "焦作"],
    [275, "济源"],
    [276, "安阳"],
    [277, "开封"],
    [278, "洛阳"],
    [279, "漯河"],
    [280, "平顶山"],
    [281, "驻马店"],
    [282, "南阳"],
    [283, "濮阳"],
    [284, "新乡"],
    [285, "信阳"],
    [286, "许昌"],
    [287, "商丘"],
    [288, "三门峡"],
    [289, "郑州"],
    [290, "鹤壁"],
    [291, "周口"],
    [292, "重庆"],
    [293, "沧州"],
    [294, "承德"],
    [295, "廊坊"],
    [296, "秦皇岛"],
    [297, "邢台"],
    [298, "石家庄"],
    [299, "保定"],
    [300, "唐山"],
    [301, "张家口"],
    [302, "邯郸"],
    [303, "衡水"],
    [304, "鸡西"],
    [305, "佳木斯"],
    [306, "哈尔滨"],
    [307, "牡丹江"],
    [308, "齐齐哈尔"],
    [309, "七台河"],
    [310, "绥化"],
    [311, "双鸭山"],
    [312, "伊春"],
    [313, "大庆"],
    [314, "大兴安岭"],
    [315, "鹤岗"],
    [316, "黑河"],
    [317, "常德"],
    [318, "长沙"],
    [319, "怀化"],
    [320, "郴州"],
    [321, "娄底"],
    [322, "邵阳"],
    [323, "湘潭"],
    [324, "湘西"],
    [325, "张家界"],
    [326, "益阳"],
    [327, "衡阳"],
    [328, "岳阳"],
    [329, "永州"],
    [330, "株洲"],
    [331, "荆门"],
    [332, "荆州"],
    [333, "黄石"],
    [334, "黄冈"],
    [335, "孝感"],
    [336, "随州"],
    [337, "恩施"],
    [338, "十堰"],
    [339, "襄阳"],
    [340, "咸宁"],
    [341, "宜昌"],
    [342, "鄂州"],
    [343, "江汉地区"],
    [344, "阜阳"],
    [54, "未知"],
    [55, "汕尾"],
  ];
  const Tencent_pano_pos = [
    [121012, "临汾市"],
    [221210, "临沂市"],
    [221211, "临沂市"],
    [102410, "临高县"],
    [140610, "丹东市"],
    [181010, "丽水市"],
    [300610, "丽江市"],
    [301310, "丽江市"],
    [130910, "乌兰察布市"],
    [130911, "乌兰察布市"],
    [130310, "乌海市"],
    [350110, "乌鲁木齐市"],
    [350111, "乌鲁木齐市"],
    [280910, "乐山市"],
    [280911, "乐山市"],
    [280912, "乐山市"],
    [210410, "九江市"],
    [210411, "九江市"],
    [261910, "云浮市"],
    [350110, "五家渠市"],
    [191510, "亳州市"],
    [241610, "仙桃市"],
    [160710, "伊春市"],
    [351210, "伊犁哈萨克自治州"],
    [351211, "伊犁哈萨克自治州"],
    [100610, "佛山市"],
    [260410, "佛山市"],
    [260411, "佛山市"],
    [261510, "佛山市"],
    [261610, "佛山市"],
    [160110, "佳木斯市"],
    [160111, "佳木斯市"],
    [160810, "佳木斯市"],
    [160811, "佳木斯市"],
    [100110, "保定市"],
    [110610, "保定市"],
    [231510, "信阳市"],
    [102310, "儋州市"],
    [102311, "儋州市"],
    [350210, "克拉玛依市"],
    [190110, "六安市"],
    [191410, "六安市"],
    [191411, "六安市"],
    [320110, "兰州市"],
    [320111, "兰州市"],
    [131010, "兴安盟"],
    [280810, "内江市"],
    [282010, "凉山彝族自治州"],
    [130210, "包头市"],
    [130211, "包头市"],
    [100110, "北京市"],
    [100111, "北京市"],
    [100112, "北京市"],
    [100115, "北京市"],
    [101310, "北京市"],
    [110610, "北京市"],
    [110810, "北京市"],
    [111010, "北京市"],
    [351410, "北屯市"],
    [351411, "北屯市"],
    [270510, "北海市"],
    [240210, "十堰市"],
    [240211, "十堰市"],
    [240212, "十堰市"],
    [101010, "南京市"],
    [101011, "南京市"],
    [101012, "南京市"],
    [101013, "南京市"],
    [101014, "南京市"],
    [101016, "南京市"],
    [170910, "南京市"],
    [190510, "南京市"],
    [281010, "南充市"],
    [281011, "南充市"],
    [270110, "南宁市"],
    [270111, "南宁市"],
    [200610, "南平市"],
    [210110, "南昌市"],
    [210111, "南昌市"],
    [210112, "南昌市"],
    [211110, "南昌市"],
    [100210, "南通市"],
    [101210, "南通市"],
    [170410, "南通市"],
    [170411, "南通市"],
    [231310, "南阳市"],
    [231311, "南阳市"],
    [101510, "厦门市"],
    [101511, "厦门市"],
    [160510, "双鸭山市"],
    [160511, "双鸭山市"],
    [180110, "台州市"],
    [180910, "台州市"],
    [180911, "台州市"],
    [180912, "台州市"],
    [190110, "合肥市"],
    [190111, "合肥市"],
    [190114, "合肥市"],
    [190120, "合肥市"],
    [210810, "吉安市"],
    [150110, "吉林市"],
    [150111, "吉林市"],
    [150210, "吉林市"],
    [150211, "吉林市"],
    [150214, "吉林市"],
    [350310, "吐鲁番市"],
    [350311, "吐鲁番市"],
    [121110, "吕梁市"],
    [340310, "吴忠市"],
    [231610, "周口市"],
    [130710, "呼伦贝尔市"],
    [130711, "呼伦贝尔市"],
    [131010, "呼伦贝尔市"],
    [161310, "呼伦贝尔市"],
    [130110, "呼和浩特市"],
    [130111, "呼和浩特市"],
    [101410, "咸宁市"],
    [101411, "咸宁市"],
    [241010, "咸宁市"],
    [101610, "咸阳市"],
    [310310, "咸阳市"],
    [310311, "咸阳市"],
    [310313, "咸阳市"],
    [150110, "哈尔滨市"],
    [160110, "哈尔滨市"],
    [160111, "哈尔滨市"],
    [160112, "哈尔滨市"],
    [160113, "哈尔滨市"],
    [160114, "哈尔滨市"],
    [101310, "唐山市"],
    [110210, "唐山市"],
    [110211, "唐山市"],
    [110212, "唐山市"],
    [140110, "唐山市"],
    [231410, "商丘市"],
    [310910, "商洛市"],
    [100210, "嘉兴市"],
    [100910, "嘉兴市"],
    [101210, "嘉兴市"],
    [180110, "嘉兴市"],
    [180310, "嘉兴市"],
    [180311, "嘉兴市"],
    [180410, "嘉兴市"],
    [320210, "嘉峪关市"],
    [320910, "嘉峪关市"],
    [140110, "四平市"],
    [150110, "四平市"],
    [150310, "四平市"],
    [340410, "固原市"],
    [340411, "固原市"],
    [161310, "大兴安岭地区"],
    [120210, "大同市"],
    [120211, "大同市"],
    [160610, "大庆市"],
    [160611, "大庆市"],
    [300110, "大理白族自治州"],
    [300910, "大理白族自治州"],
    [301310, "大理白族自治州"],
    [140210, "大连市"],
    [140211, "大连市"],
    [140212, "大连市"],
    [140610, "大连市"],
    [320510, "天水市"],
    [100110, "天津市"],
    [101310, "天津市"],
    [101311, "天津市"],
    [101312, "天津市"],
    [101313, "天津市"],
    [110210, "天津市"],
    [111010, "天津市"],
    [101410, "天门市"],
    [120110, "太原市"],
    [120111, "太原市"],
    [120112, "太原市"],
    [120710, "太原市"],
    [101110, "威海市"],
    [101111, "威海市"],
    [101112, "威海市"],
    [220510, "威海市"],
    [220910, "威海市"],
    [220911, "威海市"],
    [251310, "娄底市"],
    [251311, "娄底市"],
    [101410, "孝感市"],
    [240710, "孝感市"],
    [240711, "孝感市"],
    [200110, "宁德市"],
    [200112, "宁德市"],
    [100910, "宁波市"],
    [180110, "宁波市"],
    [180111, "宁波市"],
    [180120, "宁波市"],
    [190810, "安庆市"],
    [190811, "安庆市"],
    [310810, "安康市"],
    [230510, "安阳市"],
    [230511, "安阳市"],
    [230512, "安阳市"],
    [290410, "安顺市"],
    [321110, "定西市"],
    [281210, "宜宾市"],
    [281211, "宜宾市"],
    [240310, "宜昌市"],
    [240311, "宜昌市"],
    [240312, "宜昌市"],
    [210110, "宜春市"],
    [210510, "宜春市"],
    [210910, "宜春市"],
    [310210, "宝鸡市"],
    [190210, "宣城市"],
    [191710, "宣城市"],
    [191712, "宣城市"],
    [191210, "宿州市"],
    [191211, "宿州市"],
    [191212, "宿州市"],
    [171110, "宿迁市"],
    [171111, "宿迁市"],
    [100510, "山南市"],
    [360210, "山南市"],
    [250110, "岳阳市"],
    [250610, "岳阳市"],
    [250612, "岳阳市"],
    [350110, "巴音郭楞蒙古自治州"],
    [101010, "常州市"],
    [101210, "常州市"],
    [170210, "常州市"],
    [170211, "常州市"],
    [170212, "常州市"],
    [170310, "常州市"],
    [250710, "常德市"],
    [250712, "常德市"],
    [320810, "平凉市"],
    [320811, "平凉市"],
    [230410, "平顶山市"],
    [280610, "广元市"],
    [281310, "广安市"],
    [100610, "广州市"],
    [100611, "广州市"],
    [260410, "广州市"],
    [260910, "广州市"],
    [261510, "广州市"],
    [100110, "廊坊市"],
    [101310, "廊坊市"],
    [111010, "廊坊市"],
    [111011, "廊坊市"],
    [111012, "廊坊市"],
    [310510, "延安市"],
    [150210, "延边朝鲜族自治州"],
    [150910, "延边朝鲜族自治州"],
    [150911, "延边朝鲜族自治州"],
    [230110, "开封市"],
    [230210, "开封市"],
    [230211, "开封市"],
    [100110, "张家口市"],
    [110710, "张家口市"],
    [250810, "张家界市"],
    [250811, "张家界市"],
    [320210, "张掖市"],
    [320710, "张掖市"],
    [320711, "张掖市"],
    [320910, "张掖市"],
    [170110, "徐州市"],
    [220710, "徐州市"],
    [220110, "德州市"],
    [221310, "德州市"],
    [100710, "德阳市"],
    [100711, "德阳市"],
    [280410, "德阳市"],
    [280411, "德阳市"],
    [120910, "忻州市"],
    [120911, "忻州市"],
    [251210, "怀化市"],
    [251211, "怀化市"],
    [251410, "怀化市"],
    [100810, "恩施土家族苗族自治州"],
    [100410, "惠州市"],
    [260910, "惠州市"],
    [260911, "惠州市"],
    [260912, "惠州市"],
    [261510, "惠州市"],
    [100710, "成都市"],
    [100711, "成都市"],
    [100712, "成都市"],
    [100713, "成都市"],
    [281810, "成都市"],
    [101010, "扬州市"],
    [170810, "扬州市"],
    [170811, "扬州市"],
    [100110, "承德市"],
    [110710, "承德市"],
    [110810, "承德市"],
    [110811, "承德市"],
    [110812, "承德市"],
    [110813, "承德市"],
    [211010, "抚州市"],
    [211011, "抚州市"],
    [140110, "抚顺市"],
    [140410, "抚顺市"],
    [140411, "抚顺市"],
    [100510, "拉萨市"],
    [100515, "拉萨市"],
    [360410, "拉萨市"],
    [260310, "揭阳市"],
    [261810, "揭阳市"],
    [261811, "揭阳市"],
    [280210, "攀枝花市"],
    [301110, "文山壮族苗族自治州"],
    [101810, "文昌市"],
    [101811, "文昌市"],
    [230110, "新乡市"],
    [230112, "新乡市"],
    [230710, "新乡市"],
    [230711, "新乡市"],
    [230713, "新乡市"],
    [230715, "新乡市"],
    [210510, "新余市"],
    [210511, "新余市"],
    [101010, "无锡市"],
    [101210, "无锡市"],
    [170210, "无锡市"],
    [170310, "无锡市"],
    [170311, "无锡市"],
    [100510, "日喀则市"],
    [360210, "日喀则市"],
    [360310, "日喀则市"],
    [360311, "日喀则市"],
    [221010, "日照市"],
    [221011, "日照市"],
    [300110, "昆明市"],
    [300111, "昆明市"],
    [300112, "昆明市"],
    [300119, "昆明市"],
    [300120, "昆明市"],
    [300210, "昆明市"],
    [350110, "昌吉回族自治州"],
    [102810, "昌江黎族自治县"],
    [301610, "昌都市"],
    [360110, "昌都市"],
    [300510, "昭通市"],
    [120110, "晋中市"],
    [120111, "晋中市"],
    [120710, "晋中市"],
    [120711, "晋中市"],
    [120510, "晋城市"],
    [120511, "晋城市"],
    [230710, "晋城市"],
    [230810, "晋城市"],
    [210210, "景德镇市"],
    [211110, "景德镇市"],
    [300110, "曲靖市"],
    [300210, "曲靖市"],
    [120210, "朔州市"],
    [120610, "朔州市"],
    [120910, "朔州市"],
    [140710, "朝阳市"],
    [141310, "朝阳市"],
    [140310, "本溪市"],
    [140510, "本溪市"],
    [140520, "本溪市"],
    [140610, "本溪市"],
    [100910, "杭州市"],
    [100911, "杭州市"],
    [100912, "杭州市"],
    [150110, "松原市"],
    [150710, "松原市"],
    [150712, "松原市"],
    [160110, "松原市"],
    [100510, "林芝市"],
    [360110, "林芝市"],
    [360610, "林芝市"],
    [220310, "枣庄市"],
    [220311, "枣庄市"],
    [220710, "枣庄市"],
    [270210, "柳州市"],
    [250110, "株洲市"],
    [250210, "株洲市"],
    [250211, "株洲市"],
    [250310, "株洲市"],
    [270310, "桂林市"],
    [270311, "桂林市"],
    [261010, "梅州市"],
    [261011, "梅州市"],
    [300110, "楚雄彝族自治州"],
    [300910, "楚雄彝族自治州"],
    [310710, "榆林市"],
    [310711, "榆林市"],
    [320610, "武威市"],
    [320710, "武威市"],
    [101410, "武汉市"],
    [101411, "武汉市"],
    [101412, "武汉市"],
    [101413, "武汉市"],
    [101420, "武汉市"],
    [240110, "武汉市"],
    [240510, "武汉市"],
    [240910, "武汉市"],
    [251110, "永州市"],
    [251111, "永州市"],
    [310610, "汉中市"],
    [310611, "汉中市"],
    [260310, "汕头市"],
    [260910, "汕尾市"],
    [261110, "汕尾市"],
    [260210, "江门市"],
    [260410, "江门市"],
    [260510, "江门市"],
    [260511, "江门市"],
    [261610, "江门市"],
    [191610, "池州市"],
    [191611, "池州市"],
    [140110, "沈阳市"],
    [140111, "沈阳市"],
    [140112, "沈阳市"],
    [140410, "沈阳市"],
    [140510, "沈阳市"],
    [101310, "沧州市"],
    [110910, "沧州市"],
    [260910, "河源市"],
    [261210, "河源市"],
    [101510, "泉州市"],
    [200410, "泉州市"],
    [200411, "泉州市"],
    [220110, "泰安市"],
    [220810, "泰安市"],
    [220811, "泰安市"],
    [220812, "泰安市"],
    [220813, "泰安市"],
    [220814, "泰安市"],
    [170310, "泰州市"],
    [170811, "泰州市"],
    [171010, "泰州市"],
    [171011, "泰州市"],
    [280310, "泸州市"],
    [230110, "洛阳市"],
    [230310, "洛阳市"],
    [230311, "洛阳市"],
    [220110, "济南市"],
    [220111, "济南市"],
    [220112, "济南市"],
    [220113, "济南市"],
    [220810, "济南市"],
    [220710, "济宁市"],
    [220711, "济宁市"],
    [220713, "济宁市"],
    [220810, "济宁市"],
    [330110, "海东市"],
    [330110, "海北藏族自治州"],
    [330111, "海北藏族自治州"],
    [330112, "海北藏族自治州"],
    [330110, "海南藏族自治州"],
    [330112, "海南藏族自治州"],
    [101710, "海口市"],
    [101711, "海口市"],
    [100510, "海西蒙古族藏族自治州"],
    [330110, "海西蒙古族藏族自治州"],
    [220210, "淄博市"],
    [220211, "淄博市"],
    [170110, "淮北市"],
    [190610, "淮北市"],
    [190611, "淮北市"],
    [190410, "淮南市"],
    [170610, "淮安市"],
    [170611, "淮安市"],
    [100410, "深圳市"],
    [100411, "深圳市"],
    [100413, "深圳市"],
    [100414, "深圳市"],
    [260910, "深圳市"],
    [261511, "深圳市"],
    [100610, "清远市"],
    [261410, "清远市"],
    [261411, "清远市"],
    [180210, "温州市"],
    [180211, "温州市"],
    [180910, "温州市"],
    [101610, "渭南市"],
    [310410, "渭南市"],
    [100910, "湖州市"],
    [101210, "湖州市"],
    [170310, "湖州市"],
    [180310, "湖州市"],
    [180410, "湖州市"],
    [180411, "湖州市"],
    [250110, "湘潭市"],
    [250210, "湘潭市"],
    [250310, "湘潭市"],
    [250311, "湘潭市"],
    [250313, "湘潭市"],
    [100810, "湘西土家族苗族自治州"],
    [250810, "湘西土家族苗族自治州"],
    [251410, "湘西土家族苗族自治州"],
    [260610, "湛江市"],
    [101010, "滁州市"],
    [191010, "滁州市"],
    [220110, "滨州市"],
    [221510, "滨州市"],
    [221511, "滨州市"],
    [221512, "滨州市"],
    [231110, "漯河市"],
    [101510, "漳州市"],
    [200510, "漳州市"],
    [200511, "漳州市"],
    [200512, "漳州市"],
    [101110, "潍坊市"],
    [101111, "潍坊市"],
    [220610, "潍坊市"],
    [220611, "潍坊市"],
    [241810, "潜江市"],
    [260310, "潮州市"],
    [261710, "潮州市"],
    [261711, "潮州市"],
    [101710, "澄迈县"],
    [102510, "澄迈县"],
    [230910, "濮阳市"],
    [230911, "濮阳市"],
    [230913, "濮阳市"],
    [101110, "烟台市"],
    [220510, "烟台市"],
    [220511, "烟台市"],
    [220520, "烟台市"],
    [230110, "焦作市"],
    [230810, "焦作市"],
    [230811, "焦作市"],
    [160110, "牡丹江市"],
    [161010, "牡丹江市"],
    [161011, "牡丹江市"],
    [270910, "玉林市"],
    [100510, "玉树藏族自治州"],
    [300110, "玉溪市"],
    [300310, "玉溪市"],
    [260210, "珠海市"],
    [260211, "珠海市"],
    [260212, "珠海市"],
    [260510, "珠海市"],
    [261610, "珠海市"],
    [101910, "琼海市"],
    [101911, "琼海市"],
    [301610, "甘孜藏族自治州"],
    [150810, "白城市"],
    [150110, "白山市"],
    [150210, "白山市"],
    [150610, "白山市"],
    [250910, "益阳市"],
    [250912, "益阳市"],
    [170710, "盐城市"],
    [170711, "盐城市"],
    [170716, "盐城市"],
    [140110, "盘锦市"],
    [141110, "盘锦市"],
    [141111, "盘锦市"],
    [100710, "眉山市"],
    [281110, "眉山市"],
    [340110, "石嘴山市"],
    [340210, "石嘴山市"],
    [100110, "石家庄市"],
    [110110, "石家庄市"],
    [110111, "石家庄市"],
    [110112, "石家庄市"],
    [200110, "福州市"],
    [200111, "福州市"],
    [200112, "福州市"],
    [200113, "福州市"],
    [200114, "福州市"],
    [110310, "秦皇岛市"],
    [110311, "秦皇岛市"],
    [110312, "秦皇岛市"],
    [140110, "秦皇岛市"],
    [100910, "绍兴市"],
    [180110, "绍兴市"],
    [180111, "绍兴市"],
    [180310, "绍兴市"],
    [180510, "绍兴市"],
    [180511, "绍兴市"],
    [160110, "绥化市"],
    [160111, "绥化市"],
    [160610, "绥化市"],
    [161210, "绥化市"],
    [280510, "绵阳市"],
    [280511, "绵阳市"],
    [280512, "绵阳市"],
    [220110, "聊城市"],
    [221410, "聊城市"],
    [100610, "肇庆市"],
    [260410, "肇庆市"],
    [260810, "肇庆市"],
    [280110, "自贡市"],
    [100210, "舟山市"],
    [180110, "舟山市"],
    [180810, "舟山市"],
    [190210, "芜湖市"],
    [190211, "芜湖市"],
    [190217, "芜湖市"],
    [100210, "苏州市"],
    [101210, "苏州市"],
    [101211, "苏州市"],
    [170310, "苏州市"],
    [180410, "苏州市"],
    [260710, "茂名市"],
    [260711, "茂名市"],
    [101410, "荆州市"],
    [240810, "荆州市"],
    [240811, "荆州市"],
    [240812, "荆州市"],
    [101410, "荆门市"],
    [240610, "荆门市"],
    [200110, "莆田市"],
    [200210, "莆田市"],
    [200211, "莆田市"],
    [200410, "莆田市"],
    [221610, "菏泽市"],
    [221611, "菏泽市"],
    [140210, "营口市"],
    [140810, "营口市"],
    [140811, "营口市"],
    [110310, "葫芦岛市"],
    [140110, "葫芦岛市"],
    [140710, "葫芦岛市"],
    [141410, "葫芦岛市"],
    [141411, "葫芦岛市"],
    [190310, "蚌埠市"],
    [190311, "蚌埠市"],
    [190312, "蚌埠市"],
    [190313, "蚌埠市"],
    [111110, "衡水市"],
    [111111, "衡水市"],
    [250410, "衡阳市"],
    [250411, "衡阳市"],
    [250412, "衡阳市"],
    [250413, "衡阳市"],
    [100910, "衢州市"],
    [180710, "衢州市"],
    [180711, "衢州市"],
    [240410, "襄阳市"],
    [240411, "襄阳市"],
    [240412, "襄阳市"],
    [301210, "西双版纳傣族自治州"],
    [330110, "西宁市"],
    [330111, "西宁市"],
    [101610, "西安市"],
    [101611, "西安市"],
    [101612, "西安市"],
    [101613, "西安市"],
    [101614, "西安市"],
    [310210, "西安市"],
    [310410, "西安市"],
    [230110, "许昌市"],
    [230111, "许昌市"],
    [231010, "许昌市"],
    [231012, "许昌市"],
    [270810, "贵港市"],
    [290110, "贵阳市"],
    [290111, "贵阳市"],
    [290112, "贵阳市"],
    [290114, "贵阳市"],
    [281710, "资阳市"],
    [210710, "赣州市"],
    [210711, "赣州市"],
    [210712, "赣州市"],
    [130410, "赤峰市"],
    [130411, "赤峰市"],
    [130412, "赤峰市"],
    [150410, "辽源市"],
    [150411, "辽源市"],
    [140110, "辽阳市"],
    [140310, "辽阳市"],
    [141010, "辽阳市"],
    [281410, "达州市"],
    [120810, "运城市"],
    [120811, "运城市"],
    [170510, "连云港市"],
    [170511, "连云港市"],
    [300610, "迪庆藏族自治州"],
    [301610, "迪庆藏族自治州"],
    [150110, "通化市"],
    [150111, "通化市"],
    [150510, "通化市"],
    [150511, "通化市"],
    [130510, "通辽市"],
    [130511, "通辽市"],
    [280710, "遂宁市"],
    [290110, "遵义市"],
    [290310, "遵义市"],
    [110510, "邢台市"],
    [100510, "那曲市"],
    [360410, "那曲市"],
    [110410, "邯郸市"],
    [110411, "邯郸市"],
    [110412, "邯郸市"],
    [110413, "邯郸市"],
    [120410, "邯郸市"],
    [230110, "郑州市"],
    [230111, "郑州市"],
    [230112, "郑州市"],
    [230113, "郑州市"],
    [230114, "郑州市"],
    [230115, "郑州市"],
    [230210, "郑州市"],
    [130210, "鄂尔多斯市"],
    [130610, "鄂尔多斯市"],
    [130611, "鄂尔多斯市"],
    [101410, "鄂州市"],
    [240110, "鄂州市"],
    [240510, "鄂州市"],
    [240910, "鄂州市"],
    [320210, "酒泉市"],
    [320910, "酒泉市"],
    [320911, "酒泉市"],
    [100810, "重庆城区"],
    [100811, "重庆城区"],
    [100812, "重庆城区"],
    [100815, "重庆城区"],
    [100810, "重庆郊县"],
    [100910, "金华市"],
    [180610, "金华市"],
    [180611, "金华市"],
    [320310, "金昌市"],
    [320311, "金昌市"],
    [320710, "金昌市"],
    [270110, "钦州市"],
    [270710, "钦州市"],
    [140110, "铁岭市"],
    [100810, "铜仁市"],
    [290510, "铜仁市"],
    [290513, "铜仁市"],
    [190810, "铜陵市"],
    [190812, "铜陵市"],
    [340110, "银川市"],
    [110710, "锡林郭勒盟"],
    [131110, "锡林郭勒盟"],
    [131111, "锡林郭勒盟"],
    [140110, "锦州市"],
    [140710, "锦州市"],
    [140711, "锦州市"],
    [140714, "锦州市"],
    [101010, "镇江市"],
    [170310, "镇江市"],
    [170810, "镇江市"],
    [170910, "镇江市"],
    [170911, "镇江市"],
    [170912, "镇江市"],
    [150110, "长春市"],
    [150111, "长春市"],
    [150112, "长春市"],
    [150120, "长春市"],
    [160110, "长春市"],
    [250110, "长沙市"],
    [250111, "长沙市"],
    [250112, "长沙市"],
    [250113, "长沙市"],
    [250310, "长沙市"],
    [120410, "长治市"],
    [120411, "长治市"],
    [120413, "长治市"],
    [140710, "阜新市"],
    [140910, "阜新市"],
    [191110, "阜阳市"],
    [191112, "阜阳市"],
    [270610, "防城港市"],
    [270611, "防城港市"],
    [260510, "阳江市"],
    [261310, "阳江市"],
    [261311, "阳江市"],
    [120310, "阳泉市"],
    [120311, "阳泉市"],
    [351410, "阿勒泰地区"],
    [281810, "阿坝藏族羌族自治州"],
    [130310, "阿拉善盟"],
    [131210, "阿拉善盟"],
    [360310, "阿里地区"],
    [360510, "阿里地区"],
    [100310, "陵水黎族自治县"],
    [103110, "陵水黎族自治县"],
    [240710, "随州市"],
    [101110, "青岛市"],
    [101111, "青岛市"],
    [221010, "青岛市"],
    [140110, "鞍山市"],
    [140210, "鞍山市"],
    [140310, "鞍山市"],
    [140311, "鞍山市"],
    [100610, "韶关市"],
    [260110, "韶关市"],
    [260111, "韶关市"],
    [370110, "香港特别行政区"],
    [370111, "香港特别行政区"],
    [101010, "马鞍山市"],
    [190210, "马鞍山市"],
    [190211, "马鞍山市"],
    [190510, "马鞍山市"],
    [190511, "马鞍山市"],
    [231710, "驻马店市"],
    [231712, "驻马店市"],
    [160310, "鸡西市"],
    [230610, "鹤壁市"],
    [160410, "鹤岗市"],
    [160411, "鹤岗市"],
    [210610, "鹰潭市"],
    [210611, "鹰潭市"],
    [101410, "黄冈市"],
    [240110, "黄冈市"],
    [240910, "黄冈市"],
    [240911, "黄冈市"],
    [240912, "黄冈市"],
    [240913, "黄冈市"],
    [100910, "黄山市"],
    [190210, "黄山市"],
    [190910, "黄山市"],
    [190911, "黄山市"],
    [240110, "黄石市"],
    [240111, "黄石市"],
    [240115, "黄石市"],
    [240117, "黄石市"],
    [161110, "黑河市"],
    [290810, "黔东南苗族侗族自治州"],
    [290110, "黔南布依族苗族自治州"],
    [160210, "齐齐哈尔市"],
    [160211, "齐齐哈尔市"],
    [200710, "龙岩市"],
    [200711, "龙岩]"],
  ];

  function derivationFromPano(panoId) {
    let possible_pos = "";
    if (panoId.length === 27) {
      for (var j0 = 0; j0 <= Baidu_pano_pos.length - 1; j0 += 1) {
        if (parseInt(panoId.substring(3, 6)) === Baidu_pano_pos[j0][0]) {
          possible_pos = possible_pos + Baidu_pano_pos[j0][1] + "|";
        }
      }
      return possible_pos.slice(0, -1);
    } else if (panoId.length === 23) {
      for (var j1 = 0; j1 <= Tencent_pano_pos.length - 1; j1 += 1) {
        if (parseInt(panoId.substring(0, 6)) === Tencent_pano_pos[j1][0]) {
          possible_pos = possible_pos + Tencent_pano_pos[j1][1] + "|";
        }
      }
      return possible_pos.slice(0, -1);
    }
  }

  var panoInfoRequests = [];
  var observer = new PerformanceObserver((list) => {
    list.getEntries().forEach((entry) => {
      if (
        entry.initiatorType === "xmlhttprequest" ||
        entry.initiatorType === "fetch"
      ) {
        if (
          entry.name.includes("getQQPanoInfo") ||
          entry.name.includes("getPanoInfo")
        ) {
          if (panoInfoRequests.length >= 0) {
            panoInfoRequests.push(entry);
            if (entry.name.includes("getQQPanoInfo")) {
              var currentPano = entry.name.slice(-23);
            } else {
              var currentPano = entry.name.slice(-27);
            }
            button4.textContent = derivationFromPano(currentPano);
            button3.textContent = "纬度";
            button2.textContent = "经度";
          }
        }
      }
    });
  });
  var fixedlat, fixedlng;

  function getInfo() {
    if (panoInfoRequests.length === 0) {
      console.log("failed");
      return;
    }
    var CurrentRequest = panoInfoRequests[panoInfoRequests.length - 1];
    GM_xmlhttpRequest({
      method: "GET",
      url: CurrentRequest.name,
      onload: function (response) {
        var content1 = response.responseText;
        var data = JSON.parse(content1);
        button2.textContent = "经度:" + data.data.lat.toFixed(3);
        button3.textContent = "纬度:" + data.data.lng.toFixed(3);
        fixedlat = String(parseFloat(data.data.lat).toFixed(5));
        fixedlng = String(parseFloat(data.data.lng).toFixed(5));
        var locationUrl = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${fixedlat}&lon=${fixedlng}&addressdetails=1&accept-language=cn`;
        fetch(locationUrl)
          .then((response) => response.json())
          .then((data) => {
            if (data.display_name) {
              //console.log(data.display_name);
              button5.textContent = data.display_name;
            } else {
              //console.log("未知");
              button5.textContent = "未知";
            }
          })
          .catch((error) => {
            console.error("Error fetching address:", error);
            console.log(error);
          });
      },
      onerror: function (error) {
        console.log("error:", error);
      },
    });
  }

  function GetGameId() {
    var currentURL = window.location.href;
    if (currentURL.startsWith("https://tuxun.fun/solo/")) {
      return currentURL.substring(23);
    }
  }

  const GameType = ["game", "infinity", "challenge", "streak"];

  function guess(url) {
    GM_xmlhttpRequest({
      method: "GET",
      url: url,
    });
  }

  document.addEventListener("keydown", function (event) {
    if (event.ctrlKey && event.key === "1") {
      var CurrentRequest = panoInfoRequests[panoInfoRequests.length - 1];
      event.preventDefault();
      console.log(CurrentRequest);
      GM_xmlhttpRequest({
        method: "GET",
        url: CurrentRequest.name,
        onload: function (response) {
          var content1 = response.responseText;
          var data = JSON.parse(content1);
          var lat = data.data.lat;
          var lng = data.data.lng;
          var gameID = GetGameId();
          for (var i0 = 0; i0 <= GameType.length; i0++) {
            var gameType = GameType[i0];
            var guessURL = `https://tuxun.fun/api/v0/tuxun/${gameType}/guess?gameId=${gameID}&lat=${lat}&lng=${lng}`;
            guess(guessURL);
          }
          showAlert("已5K!");
        },
      });
    }
  });

  document.addEventListener("keydown", function (event) {
    if (event.ctrlKey && event.key === "2") {
      var CurrentRequest2 = panoInfoRequests[panoInfoRequests.length - 1];
      event.preventDefault();
      console.log(CurrentRequest2);
      GM_xmlhttpRequest({
        method: "GET",
        url: CurrentRequest2.name,
        onload: function (response) {
          var content1 = response.responseText;
          var data = JSON.parse(content1);
          var lat =
            data.data.lat +
            OffsetConstant1 *
              (Math.random() + OffsetConstant2) *
              0.5 *
              (Math.round(Math.random()) * 2 - 1);
          var lng =
            data.data.lng +
            OffsetConstant1 *
              (Math.random() + OffsetConstant2) *
              0.5 *
              (Math.round(Math.random()) * 2 - 1);
          var gameID = GetGameId();
          for (var i0 = 0; i0 <= GameType.length; i0++) {
            var gameType = GameType[i0];
            var guessURL = `https://tuxun.fun/api/v0/tuxun/${gameType}/guess?gameId=${gameID}&lat=${lat}&lng=${lng}`;
            guess(guessURL);
          }
          showAlert("已偏移!");
        },
      });
    }
  });

  function showAlert(message) {
    var alertBox = document.createElement("div");
    alertBox.style.position = "fixed";
    alertBox.style.top = "50%";
    alertBox.style.left = "50%";
    alertBox.style.transform = "translate(-50%, -50%)";
    alertBox.style.padding = "20px";
    alertBox.style.borderRadius = "10px";
    alertBox.style.backdropFilter = "blur(20px)";
    alertBox.style.background = "rgba(94, 94, 94, 0.7)";
    alertBox.style.zIndex = "9999";
    alertBox.textContent = message;
    alertBox.style.color = "white";
    alertBox.style.fontSize = "18px";

    document.body.appendChild(alertBox);

    setTimeout(function () {
      document.body.removeChild(alertBox);
    }, 2000);
  }

  observer.observe({ type: "resource", buffered: true });
  button1.addEventListener("click", getInfo);
})();
