// ==UserScript==
// @name ğŸƒğŸ‘» THE BEST SCRIPT ğŸ‘»ğŸƒ Youtube Downloader (MP3-MP4-HD-FullHD)
// @name:da ğŸƒğŸ‘» THE BEST SCRIPT ğŸ‘»ğŸƒ Youtube Downloader (MP3-MP4-HD-FullHD)
// @name:fr ğŸƒğŸ‘» THE BEST SCRIPT ğŸ‘»ğŸƒ Youtube Downloader (MP3-MP4-HD-FullHD)
// @name:ru ğŸƒğŸ‘» THE BEST SCRIPT ğŸ‘»ğŸƒ Youtube Downloader (MP3-MP4-HD-FullHD)
// @name:uk ğŸƒğŸ‘» THE BEST SCRIPT ğŸ‘»ğŸƒ Youtube Downloader (MP3-MP4-HD-FullHD)
// @name:pt-BR ğŸƒğŸ‘» THE BEST SCRIPT ğŸ‘»ğŸƒ Youtube Downloader (MP3-MP4-HD-FullHD)
// @name:ja Youtube Downloaderï¼ˆMP3-MP4-HD-FullHD)
// @name:zh-CN YouTubeä¸‹è½½å™¨ï¼ˆMP3-MP4-HD-FullHDï¼‰
// @description Este es el mejor script para descargar videos y mÃºsica por YOUTUBE por ser rÃ¡pido , bueno y mejor que los demÃ¡s. Gracias RECOMENDACIÃ“N USAR ADBLOCK PARA MEJOR AUTONOMIA CON EL SCRIPT
// @description:da Dette script er en downloadknap til YouTube uden annoncer, der fungerer korrekt ANBEFALING TIL AT BRUGE ADBLOCK TIL BEDRE AUTONOMI MED SKRIPTET
// @description:fr Ce script est un bouton de tÃ©lÃ©chargement pour YouTube sans publicitÃ© fonctionnant correctement RECOMMANDATION D'UTILISER ADBLOCK POUR UNE MEILLEURE AUTONOMIE AVEC LE SCRIPT
// @description:ru Ğ­Ñ‚Ğ¾Ñ‚ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ´Ğ»Ñ YouTube Ğ±ĞµĞ· ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹ RECOMMANDATION D'UTILISER ADBLOCK POUR UNE MEILLEURE AUTONOMIE AVEC LE SCRIPT
// @description:uk Ğ¦ĞµĞ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹ Ñ” ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ñ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ»Ñ YouTube Ğ±ĞµĞ· Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¸, ÑĞºĞ° Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ½Ğ°Ğ»ĞµĞ¶Ğ½Ğ¸Ğ¼ Ñ‡Ğ¸Ğ½Ğ¾Ğ¼ Ğ Ğ•ĞšĞĞœĞ•ĞĞ”ĞĞ¦Ğ†Ğ¯ Ğ’Ğ˜ĞšĞĞ Ğ˜Ğ¡Ğ¢ĞĞ’Ğ£Ğ’ĞĞ¢Ğ˜ ADBLOCK Ğ”Ğ›Ğ¯ ĞšĞ ĞĞ©ĞĞ‡ ĞĞ’Ğ¢ĞĞĞĞœĞ†Ğ‡ Ğ¡Ğ¦Ğ•ĞĞĞ Ğ†Ğ®
// @description:pt-BR Este script Ã© um botÃ£o de download para o YouTube sem anÃºncios funcionando corretamente RECOMENDAÃ‡ÃƒO DE USO DE ADBLOCK PARA MELHOR AUTONOMIA COM O SCRIPT
// @description:ja ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€åºƒå‘ŠãŒæ­£ã—ãæ©Ÿèƒ½ã—ãªã„YouTubeã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã§ã™ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚ˆã‚Šè‰¯ã„è‡ªå¾‹æ€§ã®ãŸã‚ã«ADBLOCKã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™
// @description:zh-CN æ­¤è„šæœ¬æ˜¯YouTubeçš„ä¸‹è½½æŒ‰é’®ï¼Œå¹¿å‘Šæ— æ³•æ­£å¸¸è¿è¡Œ å»ºè®®ä½¿ç”¨ADBLOCKä¸è„šæœ¬æ›´å¥½åœ°è‡ªæ²»
// @namespace   https://ysenmanuel.github.io/Web/
// @version     6.0
// @date        2020-10-16
// @author      ysEnmanuel
// @homepage    https://y2mate.com/
// @icon        https://i.imgur.com/bu8MIMk.jpg
// @icon64      https://i.imgur.com/bu8MIMk.jpg
// @include     https://www.youtube.com/*
// @include     https://www.youtube.com/*
// @run-at      document-end
// @grant       GM_listValues
// @grant       GM_setValue
// @grant       GM_getValue
// @grant       GM_deleteValue
// @grant       GM_xmlhttpRequest
// @grant       GM_info
// @grant       GM_openInTab
// @grant       GM_setClipboard
// @grant       GM_registerMenuCommand
// @grant       GM_unregisterMenuCommand
// @grant       GM_notification
// @grant       GM_download
// @grant       GM.info
// @grant       GM.listValues
// @grant       GM.setValue
// @grant       GM.getValue
// @grant       GM.deleteValue
// @grant       GM.openInTab
// @grant       GM.setClipboard
// @grant       GM.xmlHttpRequest
// @connect     youtube.com
// @connect     m.youtube.com
// @connect     www.youtube.com
// @connect     youtube-nocookie.com
// @connect     youtu.be
// @connect     y2mate.com
// @connect     self
// @connect     *
// @compatible chrome
// @compatible firefox
// @compatible opera
// @compatible safari
// @license CC BY-NC-ND 4.0 International. https://creativecommons.org/licenses/by-nc-nd/4.0/
// @antifeature referral-link
// @match *://*.youtube.com/*
// @downloadURL https://update.greasyfork.org/scripts/421552/%F0%9F%8E%83%F0%9F%91%BB%20THE%20BEST%20SCRIPT%20%F0%9F%91%BB%F0%9F%8E%83%20Youtube%20Downloader%20%28MP3-MP4-HD-FullHD%29.user.js
// @updateURL https://update.greasyfork.org/scripts/421552/%F0%9F%8E%83%F0%9F%91%BB%20THE%20BEST%20SCRIPT%20%F0%9F%91%BB%F0%9F%8E%83%20Youtube%20Downloader%20%28MP3-MP4-HD-FullHD%29.meta.js
// ==/UserScript==
var AKoiMain = {
    oXHttpReq: null,
    vid: null,
    oldUrl: null,
    DocOnLoad: function(o) {
        try {
            if (null != o && null != o.body && null != o.location && (AKoiMain.vid = AKoiMain.getVid(o), AKoiMain.vid)) {
                o.querySelector("#meta #notification-preference-button").setAttribute("style", "flex-wrap: wrap;");
                var t = o.querySelector("#notification-preference-button"),
                    e = o.querySelector("#y2mateconverter"),
                    n = AKoiMain.GetCommandButton();
                null == e && (null != t ? t.parentNode.insertBefore(n, t) : (t = o.querySelector("#eow-title")).parentNode.insertBefore(n, t)), AKoiMain.oldUrl = o.location.href, AKoiMain.checkChangeVid()
            }
            return !0
        } catch (o) {
            console.log("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Y2mate.DocOnLoad. ", o)
        }
    },
    checkChangeVid: function() {
        setTimeout(function() {
            AKoiMain.oldUrl == window.location.href ? AKoiMain.checkChangeVid() : AKoiMain.WaitLoadDom(window.document)
        }, 1e3)
    },
    WaitLoadDom: function(o) {
        AKoiMain.vid = AKoiMain.getVid(o), AKoiMain.vid ? null != o.querySelector("#meta #notification-preference-button") ? AKoiMain.DocOnLoad(o) : setTimeout(function() {
            AKoiMain.WaitLoadDom(o)
        }, 1e3) : AKoiMain.checkChangeVid()
    },
    goToY2mate: function(o) {
        try {
            var t = "https://y2mate.com/youtube/" + AKoiMain.vid + "/?utm_source=chrome_addon";
            window.open(t, "_blank")
        } catch (o) {
            console.log("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Y2mate.OnButtonClick. ", o)
        }
    },
    GetCommandButton: function() {
        try {
            var o = document.createElement("button");
            return o.id = "y2mateconverter", o.className = "yt-uix-tooltip", o.setAttribute("type", "button"), o.setAttribute("title", "Download by @ysEnma in Telegram"), o.innerHTML = "Download", o.addEventListener("click", function(o) {
                AKoiMain.goToY2mate(o)
            }, !0), o.setAttribute("style", "min-height:25px; position:relative; cursor: pointer; font: 13px Arial; background: #FC0A0A; color: #fff; text-transform: uppercase; display: block; padding: 10px 16px; margin:7px 7px; border: 1px solid #FC0A0A; border-radius: 2px; font-weight:bold"), o.setAttribute("onmouseover", "this.style.backgroundColor='#FC0A0A'"), o.setAttribute("onmouseout", "this.style.backgroundColor='#FC0A0A'"), o
        } catch (o) {
            console.log("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Y2mate.GetCommandButton. ", o)
        }
    },
    getVid: function(o) {
        var t = o.location.toString().match(/^.*((m\.)?youtu\.be\/|vi?\/|u\/\w\/|embed\/|\?vi?=|\&vi?=)([^#\&\?]*).*/);
        return !(!t || !t[3]) && t[3]
    }
};
AKoiMain.WaitLoadDom(window.document);