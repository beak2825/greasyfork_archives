// ==UserScript==
// @name         Flux
// @namespace    Change the way you play gota, with Flux!
// @description  https://www.youtube.com/channel/UC-2kcTQAYJZPbKVrjvjg06w
// @version      0.4
// @author       DK DARIO x EndenDragon
// @match        http://gota.io/web/*
// @grant        GM_addStyle
// @downloadURL https://update.greasyfork.org/scripts/32452/Flux.user.js
// @updateURL https://update.greasyfork.org/scripts/32452/Flux.meta.js
// ==/UserScript==

var maincontent=document.getElementById("main-content"),Instruction=document.createElement("div");Instruction.innerHTML='<font color="#FF0059">Su</font><font color="#FF000C">pp</font><font color="#FF4100">or</font><font color="#FF8100">t </font><font color="#FEC100">Fl</font><font color="#EEFF00">ux</font><font color="#A1FF00"> b</font><font color="#57FF00">y </font><font color="#00FE00">su</font><font color="#00FF57">bs</font><font color="#00FFA1">cr</font><font color="#00FFED">ib</font><font color="#00C1FF">in</font><font color="#0081FF">g </font><font color="#0041FF">to</font><font color="#0C00FF"> D</font><font color="#5900FF">AR</font><font color="#A200FE">IO</font>'; Instruction.id="instructions";maincontent.appendChild(Instruction);document.getElementById("instructions").style.textAlign="center";document.getElementById("instructions").style.fontSize="12px";document.getElementById("instructions").style.color="white";maincontent=document.getElementById("main-content");var version=document.createElement("div");version.innerHTML="Flux version: 0.4";version.id="cversion";maincontent.appendChild(version);document.getElementById("cversion").style.textAlign="center"; document.getElementById("cversion").style.fontSize="12px";document.getElementById("cversion").style.color="white";document.getElementById("leaderboard-panel").style.borderRadius="10";document.getElementById("leaderboard-panel").style.borderWidth="2px";document.getElementById("leaderboard-panel").style.opacity="0.9";document.getElementById("leaderboard-panel").style.boxShadow="0px 0px 0px black";document.getElementById("leaderboard-panel").style.borderColor="rgb(179, 0, 255)"; document.getElementById("leaderboard-panel").style.color="rgb(179, 0, 255)";document.getElementById("score-panel").style.borderRadius="10";document.getElementById("score-panel").style.borderWidth="3px";document.getElementById("score-panel").style.boxShadow="0px 0px 0px black";document.getElementById("score-panel").style.borderColor="rgb(179, 0, 255)";document.getElementById("score-panel").style.color="rgb(179, 0, 255)";document.getElementById("minimap-panel").style.borderRadius="10"; document.getElementById("minimap-panel").style.borderWidth="3px";document.getElementById("minimap-panel").style.boxShadow="0px 0px 0px black";document.getElementById("minimap-panel").style.marginBottom="0px";document.getElementById("minimap-panel").style.borderColor="rgb(179, 0, 255)";document.getElementById("minimap-panel").style.color="rgb(179, 0, 255)";document.getElementById("main").style.borderColor="rgb(179, 0, 255)";document.getElementById("chat-container").style.borderColor="rgb(179, 0, 255)"; document.getElementById("chat-input").style.borderColor="rgb(179, 0, 255)";document.getElementById("party-panel").style.borderRadius="0";document.getElementById("party-panel").style.borderWidth="0px";document.getElementById("party-panel").style.boxShadow="0px 0px 0px black";GM_addStyle("* .main-panel {border: solid 0x rgba(99, 97, 95, 0.5)}");GM_addStyle("* .main-panel {border-radius: 0px}");GM_addStyle("* .main-panel {box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.52)}");GM_addStyle("* .gota-btn {border-radius: 15px}"); GM_addStyle("* .main-bottom-stats {border-radius: 5px}");GM_addStyle("* #popup-party {border-radius: 0px}");GM_addStyle("* #popup-party {box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.25)}");GM_addStyle("* #popup-login {border-radius: 0px}");GM_addStyle("* #popup-login {box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.25)}");GM_addStyle("* .login-input {border-radius: 0px}");GM_addStyle("* #chat-input {border-radius: 0 0 0px 0px}");GM_addStyle("* .ui-pane {box-shadow: 0px 0px 0px 0px rgba(0,0,0,0.52)}");GM_addStyle("* #main-cover {display: none}"); GM_addStyle("* #chat-panel {width: 300px}");GM_addStyle("* #chat-panel {height: 195px}");$(".main-bottom-links").replaceWith("");$("#main-rb").replaceWith("");GM_addStyle("* #main-left {width: 40px}");GM_addStyle("* #main-left {height: 0px}");GM_addStyle("* #main {width: 714px}");GM_addStyle("* #main {height: 509px}");addStyleSheet("@import url(https://fonts.googleapis.com/css?family=Ubuntu);");GM_addStyle('* #logo {background-image: url("http://i.imgur.com/wleRZit.gif");}');GM_addStyle('* #minimap-canvas {background-image: url("http://i.imgur.com/eVn87pk.png");}'); GM_addStyle("*{font-family: Ubuntu;}");GM_addStyle("* .coordinates {font-family: Ubuntu;}");GM_addStyle("* #leaderboard-panel {font-size: 24px;}"); (function(){function y(a,c){c=void 0===c?!1:c;var h=a.split(".");if(c)for(var e=0;e<h.length;e++)if(!/^\d+$/.test(h[e]))return!1;return h}function p(a,c){var h=y(a),e=y(c);h=h.map(Number);for(e=e.map(Number);h.length<e.length;)h.push(0);for(;e.length<h.length;)e.push(0);for(var b=0;b<h.length;++b){if(h[b]>e[b])return 1;if(h[b]<e[b])return-1}return 0}function B(){"block"==k.style.display&&(window.innerHeight<d.offsetHeight+20?(d.style.top="0",d.style.margin="10px",d.style.transform="translate(-50%, 0%)"): (d.style.top="50%",d.style.margin="0",d.style.transform="translate(-50%, -50%)"))}function P(a,c,h,b){a="dario-"+a;try{if(!localStorage[a])throw null;var e=JSON.parse(localStorage[a]);h(e)}catch(V){e=JSON.parse(JSON.stringify(c)),V&&console.error(b),localStorage[a]=JSON.stringify(e),h(e)}return e}function q(a){$("#"+a).prop("checked",!$("#"+a).prop("checked")).trigger("change")}function C(a){a=document.getElementById(a);a.checked=!a.checked;a.dispatchEvent(new Event("change"))}function Q(){if("block"== document.getElementById("main").style.display)window.onkeydown({keyCode:27,which:27})}function J(a,c){l.innerHTML=a;$(l).fadeIn(500);D&&clearTimeout(D);D=setTimeout(function(){$(l).fadeOut(500);D=0},c)}function W(a,c){var h=document.createElement("input");h.type="checkbox";h.className="checkbox-options";h.dataset.darioFeature=z;a.parentNode.insertBefore(h,a);var b=document.createElement("span");b.innerText=c;a.parentNode.insertBefore(b,a);b=document.createElement("br");a.parentNode.insertBefore(b, a);return h}function R(){document.getElementById("score-panel").style.opacity="0";document.getElementById("party-panel").style.top="10px"}function Z(){var a=0,c=["Red","Blue","yellow","purple","cyan"];S=setInterval(function(){GM_addStyle("* body, a:hover {cursor: url(http://ani.cursors-4u.net/cursors/cur-12/cur1090.ani), url(http://ani.cursors-4u.net/cursors/cur-12/cur1090.png), progress !important;}");var b=document.getElementById("leaderboard-panel"),e=document.getElementById("score-panel"),d=document.getElementById("minimap-panel"), f=document.getElementById("main"),g=document.getElementById("chat-container"),k=document.getElementById("chat-input"),l=document.getElementById("leaderboard-panel"),m=document.getElementById("score-panel");b.style.borderColor=c[a];e.style.borderColor=c[a];d.style.borderColor=c[a];f.style.borderColor=c[a];g.style.borderColor=c[a];k.style.borderColor=c[a];l.style.color=c[a];m.style.color=c[a];a=(a+1)%c.length},1E3)}function E(a,c){document.getElementById(a).style.visibility=c?"visible":"hidden"}function T(){u= !1;A&&(clearTimeout(A),A=r=0)}function K(){var a=document.getElementById("playerCells"),c=parseInt(a.innerText,10);r&&clearInterval(r);r=setInterval(function(){if(m.scrimmageAutoRespawn&&u){var b=parseInt(a.innerText,10);b!=c&&(c=b,0===c&&("none"==document.getElementById("main-scrimmage").style.display&&(A=setTimeout(function(){m.scrimmageAutoRespawn&&u&&($("#btn-play").trigger("click"),A=0,K())},1E4)),clearInterval(r),r=0))}else clearInterval(r),r=0},500)}function aa(){var a=document.getElementsByClassName("server-active")[0].getAttribute("region"); if("ap"!=a)var c="eu"==a?"s_BETA":"s_Jet",b=setInterval(function(){document.getElementById(c)&&document.getElementsByClassName("server-selected").length&&($("#"+c).trigger("click"),$("#btn-play").trigger("click"),setTimeout(function(){L||v||J("It looks like the server is not responding.<br>You may want to press <strong>Esc</strong> to go back to the game menu.",2E4)},5E3),clearInterval(b))},100)}function ba(){for(var a=["BETA","Jet"],c=0;c<a.length;c++)if(document.getElementById("s_"+a[c]).classList.contains("server-selected"))return a[c]; return!1}function M(){if(!F){var a=ba();if(a){if(!v||a!=U){U=a;F=!0;var c=setInterval(function(){"block"==document.getElementById("main-scrimmage").style.display&&0===document.getElementById("scrimmage-mode-select").options.selectedIndex&&(document.getElementById("scrimmage-mode-select").options.selectedIndex=1,$("#scrimmage-mode-select").trigger("change"),clearTimeout(b),clearInterval(c),v=!0,F=!1,m.startWithScrimmage&&l.offsetHeight&&(l.style.display="none"))},100),b=setTimeout(function(){clearInterval(c); F=!1},25E3)}}else T(),v=!1}}var n=["1.5.3"];n.sort(p);var w=localStorage["dario-version"],G=!1;!w||!y(w,!0)||1==p("1.5.6",w)&&(0<=n.lastIndexOf("1.5.6")||1==p(n[n.length-1],w))?G=!0:localStorage["dario-version"]="1.5.6";n={".dario-features-table":{margin:"auto",width:"max-content","border-collapse":"collapse"},".dario-features-table td:nth-child(1)":{"text-align":"left"},".dario-features-table th, .dario-features-table td":{padding:"2px 8px"},'.dario-features-table input[type="text"]':{width:"100px", "text-align":"center"},".dario-features-div":{margin:"auto","padding-top":"4px",width:"max-content"},".dario-checkbox":{position:"left",top:"1px",margin:"0 5px"},".dario-channel-link":{"box-sizing":"border-box",display:"block",margin:"3px auto 0",padding:"4px 8px 4px 5.5px",width:"85px",height:"24px",color:"#fefefe","font-family":"Arial, Helvetica, sans-serif","font-size":"12px","line-height":"normal","text-align":"center","text-decoration":"none","background-color":"#e62117",border:"solid 1px transparent", "border-radius":"2px","white-space":"nowrap","vertical-align":"middle","box-shadow":"0 1px 0 rgba(0,0,0,0.05)"},".dario-channel-link::before":{content:'""',position:"relative",top:"-1px",display:"inline-block","margin-right":"6px",width:"16px",height:"12px",background:"no-repeat url(//s.ytimg.com/yts/imgbin/www-hitchhiker-vfl-Nn88d.png) -721px -88px","background-size":"auto","vertical-align":"middle"},".dario-channel-link>span":{display:"inline-block","-moz-box-sizing":"border-box","box-sizing":"border-box"}, ".dario-channel-link:hover":{"background-color":"#cc181e"},".dario-channel-link:active":{"background-color":"#b31217"}};G&&(n[".dario-features-btn::before"]={content:'"!"',position:"absolute",top:"-6px",right:"-6px"},n[".dario-features-btn::before, .dario-updated"]={width:"12px",height:"12px",color:"white","font-size":"11px","font-weight":"bold","text-align":"center","line-height":"12px","background-color":"red","border-radius":"50%",overflow:"hidden","-webkit-user-select":"none","-moz-user-select":"none", "-ms-user-select":"none","user-select":"none",display:"inline-flex","align-items":"center","justify-content":"center"},n[".dario-updated"]={position:"relative",top:"-1px","vertical-align":"middle"});w=document.createElement("style");document.head.appendChild(w);var H=w.sheet;for(b in n)for(var g in n[b])H.insertRule(b+"{"+g+":"+n[b][g]+";}",H.cssRules.length);var b=document.getElementsByClassName("main-bottom")[0];g=document.getElementsByClassName("main-bottom-stats")[0];b.style.position="relative"; b.style.left="-7px";g.style.width="100%";g.style.height="140px";b=document.createElement("button");b.className="gota-btn bottom-btn";b.style.marginTop="16px";b.style.color="white";b.style.backgroundColor="rgba(23,22,23,.9)";g=b.cloneNode();g.className+=" dario-features-btn";g.style.position="relative";g.style.left="2px";g.style.padding="4px 3px 3px";g.style.width="100%";g.style.fontSize="16px";g.innerText="Flux Options";g.addEventListener("click",function(){k.style.opacity="0";k.style.display="block"; B();k.style.opacity="1";G&&(localStorage["dario-version"]="1.5.6",H.insertRule(".dario-features-btn::before{content:none;}",H.cssRules.length))});document.getElementsByClassName("main-bottom-right")[0].appendChild(g);var k=document.createElement("div");k.style.position="fixed";k.style.top="0";k.style.right="0";k.style.bottom="0";k.style.left="0";k.style.display="none";k.style.background="rgba(0,0,0,.5)";k.style.overflow="auto";k.style.zIndex="100";document.body.appendChild(k);var d=document.createElement("div"); d.style.position="absolute";d.style.top="50%";d.style.left="50%";d.style.margin="0";d.style.padding="15px";d.style.color="white";d.style.fontFamily="Arial, Helvetica, sans-serif";d.style.fontSize="16px";d.style.lineHeight="22px";d.style.textAlign="center";d.style.backgroundColor="rgb(14,14,14)";d.style.border="solid 2px rgba(179, 0, 255,.2)";d.style.borderRadius="5px";d.style.transform="translate(-50%, -50%)";d.innerHTML='\n<table class=\'dario-features-table\'>\n<tbody>\n<tr><th align="left">Options</th><th>Default</th><th>Custom key</th></tr>\n<tr><td>Freeze</td><td>S</td><td><input type="text" data-dario-feature="freeze"></td></tr>\n<tr><td>Toggle Skins</td><td>K</td><td><input type="text" data-dario-feature="skins"></td></tr>\n<tr><td>Toggle Names</td><td>N</td><td><input type="text" data-dario-feature="names"></td></tr>\n<tr><td>Toggle Mass</td><td>M</td><td><input type="text" data-dario-feature="mass"></td></tr>\n<tr><td>Toggle Food</td><td>F</td><td><input type="text" data-dario-feature="food"></td></tr>\n<tr><td>Toggle Chat</td><td>H</td><td><input type="text" data-dario-feature="chat"></td></tr>\n<tr><td colspan="2">Toggle Minimap</td><td><input type="text" data-dario-feature="minimap"></td></tr>\n<tr><td colspan="2">Toggle Score panel</td><td><input type="text" data-dario-feature="scorePanel"></td></tr>\n<tr><td colspan="2">Toggle Party panel</td><td><input type="text" data-dario-feature="partyPanel"></td></tr>\n<tr><td colspan="2">Toggle Leaderboard</td><td><input type="text" data-dario-feature="leaderboard"></td></tr>\n<tr><td colspan="2" style="padding-right:32px;">Toggle Auto Decline Invites</td><td><input type="text" data-dario-feature="autoDecline"></td></tr>\n<tr><td colspan="2">Toggle Auto Respawn</td><td><input type="text" data-dario-feature="autoRespawn"></td></tr>\n<tr><th colspan="3">Team Scrimmage</th>\n<tr><td>Queue</td><td>Enter</td><td><input type="text" data-dario-feature="queue"></td></tr>\n<tr><td>Leave a match</td><td>L</td><td><input type="text" data-dario-feature="leave"></td></tr></tbody>\n</table>\n<div class="dario-features-div">You should only use the <em>Leave a match</em> hotkey<br>when playing with random teammates.<br>If you want to disable a hotkey, type Delete.</div>\n<div class="dario-features-div">\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-hideScorePanel" data-dario-feature="hideScorePanel">Hide Score Panel</label>\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-rainbowmode" data-dario-feature="rainbowmode">Rainbow Mode<font color=rgb(14, 14, 14)>----------------,,</font></label><br>\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-hidePartyPanel" data-dario-feature="hidePartyPanel">Hide Party Panel</label>\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-hideLeaderboard" data-dario-feature="hideLeaderboard">Hide Leaderboard<font color=rgb(14, 14, 14)>--------,-----,</font></label><br>\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-customc" data-dario-feature="customc">Crosshair Cursor <font color=\'red\'>(Rainbow Mode Must Be Off)</font><font color=rgb(14, 14, 14)>-</font></label><br>\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-scrimmageAutoRespawn" data-dario-feature="scrimmageAutoRespawn">Scrimmage Auto Respawn<font color=rgb(14, 14, 14)>------------------------------,,</font></label><br>\n\n<label><input type="checkbox" class="dario-checkbox" id="dario-startWithScrimmage" data-dario-feature="startWithScrimmage">Auto Load Team Scrimmage<font color=rgb(14, 14, 14)>---------------------------,,</font></label></div>\n\n<div class="dario-features-div">You can support the developer by checking out<br>his YouTube channel:</div>\n<a href="https://www.youtube.com/channel/UC-2kcTQAYJZPbKVrjvjg06w" target="_blank" class="dario-channel-link"><span>YouTube</span></a>'; G&&1>p("1.5.6","1.5.4")&&(d.innerHTML='<div class="dario-features-div" style="padding:0 0 4px 0;">If you were one of the first to install the extension,<br>you may have missed some of the new features.<br>Since now, to let you know about all the new features<br>you\'ll be shown the&nbsp;<span class=\'dario-updated\'>!</span>&nbsp;icon whenever the script is updated.</div>'+d.innerHTML);k.appendChild(d);window.addEventListener("resize",B);document.addEventListener("click",function(a){"block"!=k.style.display|| a.target==d||d.contains(a.target)||(k.style.display="none")},!0);b=b.cloneNode();b.style.display="block";b.style.margin="12px auto 0";b.innerText="Done";b.addEventListener("click",function(){k.style.display="none"});d.appendChild(b);var N={8:"Backspace",9:"Tab",13:"Enter",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left Arrow",38:"Up Arrow",39:"Right Arrow",40:"Down Arrow",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G", 72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9"},O={freeze:83,skins:75,names:78,mass:77,food:70,chat:72,minimap:null,scorePanel:null,partyPanel:null,leaderboard:null,autoDecline:null,autoRespawn:null,queue:13,leave:76},t=document.querySelectorAll('.dario-features-table input[type="text"][data-dario-feature]'), f=P("keys",O,function(a){for(var c=0;c<t.length;c++){var b=t[c].dataset.darioFeature,e=a[b];"undefined"==typeof e&&b in O&&(e=a[b]=O[b],localStorage["dario-keys"]=JSON.stringify(a));if(null!==e)if(b=N[e])t[c].value=b;else throw"Gota.io Flux by DARIO: An error occurred. We had to reset your custom keys.";}},"Gota.io Flux by DARIO: An error occurred. We had to reset your custom keys.");for(b=0;b<t.length;b++)t[b].addEventListener("keydown",function(a){a.preventDefault();var b=this.dataset.darioFeature; a=a.which||a.keyCode||0;if(46==a)this.value="",f[b]=null,localStorage["dario-keys"]=JSON.stringify(f);else if(a!=f[b]&&a in N){this.value=N[a];for(var d in f)if(f[d]==a){f[d]=null;for(var e=0;e<t.length;e++)if(t[e].dataset.darioFeature==d){t[e].value="";break}}f[b]=a;localStorage["dario-keys"]=JSON.stringify(f)}});var l=d.cloneNode();l.style.top="10px";l.style.display="none";l.style.lineHeight="19px";l.style.backgroundColor="rgba(23,23,23,.9)";l.style.boxShadow="0 2px 3px rgba(0,0,0,.25)";l.style.transform= "translate(-50%, 0%)";l.style.zIndex="3";document.body.appendChild(l);var D=0,ca=window.onmousemove;window.onmousemove=function(a){ca(a)};window.addEventListener("keydown",function(a){if(!a.altKey&&!a.ctrlKey&&!a.metaKey){var b=a.which||a.keyCode||0;if(13==b&&document.activeElement===document.getElementById("name-box"))M();else if(27==b)L||(L=!0),l.offsetHeight&&$(l).fadeOut(500);else if(!a.shiftKey&&"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName)switch(b){case f.freeze:$("canvas").trigger($.Event("mousemove", {clientX:window.innerWidth/2,clientY:window.innerHeight/2}));break;case f.skins:q("cHideSkins");break;case f.names:q("cHideNames");break;case f.mass:q("cShowMass");break;case f.food:q("cHideFood");break;case f.chat:q("cHideChat");break;case f.minimap:q("cHideMinimap");break;case f.scorePanel:C("dario-hideScorePanel");break;case f.partyPanel:C("dario-hidePartyPanel");break;case f.leaderboard:C("dario-hideLeaderboard");break;case f.autoDecline:q("cAutoDecline");J("Auto Decline Party Invites: <strong>"+ (document.getElementById("cAutoDecline").checked?"On":"Off")+"</strong>",2500);break;case f.autoRespawn:a=v?"dario-scrimmageAutoRespawn":"cAutoRespawn";v?C(a):q(a);J("Auto Respawn"+(v?" in Team Scrimmage":"")+": <strong>"+(document.getElementById(a).checked?"On":"Off")+"</strong>",2500);break;case f.queue:"block"==document.getElementById("scrimmage-btn-leave").style.display?$("#btn-leave-match").trigger("click"):"block"==document.getElementById("main-scrimmage").style.display&&$("#btn-queue").trigger("click"); Q();break;case f.leave:if(u){a=document.getElementById("chat-panel");if(b="none"==a.style.display)a.style.opacity="0",a.style.display="block";$("#chat-input").val("/leave").focus().trigger($.Event("keypress",{keyCode:13,which:13})).blur();u=!1;b&&(a.style.display="none",a.style.opacity="1");Q()}}}});var I={hideScorePanel:!1,rainbowmode:!1,customc:!1,hidePartyPanel:!1,hideLeaderboard:!1,scrimmageAutoRespawn:!0,startWithScrimmage:!1},x=document.getElementsByClassName("dario-checkbox"),m=P("switches", I,function(a){for(var b=0;b<x.length;b++){var d=x[b].dataset.darioFeature,e=a[d];"undefined"==typeof e&&d in I&&(e=a[d]=I[d],localStorage["dario-switches"]=JSON.stringify(a));if("boolean"==typeof e)x[b].checked=e;else throw"Gota.io Flux: An error occurred. We had to reset your settings.";}},"Gota.io Flux: An error occurred. We had to reset your settings.");b=document.querySelector(".options-container>p:nth-of-type(3)");g=b.cloneNode(!0);g.firstChild.innerText="Flux Options";b.parentNode.insertBefore(g, b);for(var z in I)g=document.querySelector('.dario-checkbox[data-dario-feature="'+z+'"]'),W(b,z,"startWithScrimmage"==z?"Auto Load Scrimmage":g.parentNode.innerText).checked=m[z];var S;x=document.querySelectorAll('input[type="checkbox"][data-dario-feature]');for(b=0;b<x.length;b++)x[b].addEventListener("change",function(a){a=this.dataset.darioFeature;m[a]=this.checked;localStorage["dario-switches"]=JSON.stringify(m);document.querySelector('input[type="checkbox"][data-dario-feature="'+a+'"]'+(this.classList.contains("dario-checkbox")? ":not(.dario-checkbox)":".dario-checkbox")).checked=this.checked;switch(a){case "hideScorePanel":this.checked?R():(document.getElementById("party-panel").style.top=document.getElementById("score-panel").offsetHeight+20+"px",document.getElementById("score-panel").style.opacity="1");break;case "rainbowmode":this.checked?Z():(GM_addStyle("* body, a:hover {cursor: unset !important;}"),document.getElementById("leaderboard-panel").style.borderColor="rgb(179, 0, 255)",document.getElementById("score-panel").style.borderColor= "rgb(179, 0, 255)",document.getElementById("minimap-panel").style.borderColor="rgb(179, 0, 255)",document.getElementById("main").style.borderColor="rgb(179, 0, 255)",document.getElementById("chat-container").style.borderColor="rgb(179, 0, 255)",document.getElementById("chat-input").style.borderColor="rgb(179, 0, 255)",document.getElementById("leaderboard-panel").style.color="rgb(179, 0, 255)",document.getElementById("score-panel").style.color="rgb(179, 0, 255)",clearInterval(S));break;case "customc":this.checked? GM_addStyle("* body {cursor: crosshair !important;}"):GM_addStyle("* body, a:hover {cursor: unset !important;}");break;case "hidePartyPanel":E("party-panel",!this.checked);break;case "hideLeaderboard":E("leaderboard-panel",!this.checked);break;case "scrimmageAutoRespawn":this.checked&&u&&K()}});m.hideScorePanel&&R();document.getElementById("cHideId").addEventListener("change",function(){"1"==document.getElementById("score-panel").style.opacity&&(document.getElementById("party-panel").style.top=document.getElementById("score-panel").offsetHeight+ 20+"px")});m.hideLeaderboard&&E("leaderboard-panel",!1);m.hidePartyPanel&&E("party-panel",!1);var u=!1,r=0,A=0;document.getElementById("btn-queue").addEventListener("click",function(){u=!0;m.scrimmageAutoRespawn&&K()});document.getElementById("btn-leave-match").addEventListener("click",T);var L=!1;m.startWithScrimmage&&aa();var U=null,v=!1,F=!1;document.getElementById("btn-play").addEventListener("click",M);document.getElementById("btn-spec").addEventListener("click",M)})(); function addStyleSheet(y){var p=document.getElementsByTagName("HEAD")[0],B=window.document.createElement("style");p=p.appendChild(B);p.innerHTML=y;return p}var fillTextz=CanvasRenderingContext2D.prototype.fillText;CanvasRenderingContext2D.prototype.fillText=function(){"leaderboard-canvas"==this.canvas.id&&(this.font="bold 15px Ubuntu");"minimap-canvas"==this.canvas.id&&(this.font="bold 15px Ubuntu");"party-canvas"==this.canvas.id&&(this.font="bold 15px Ubuntu");fillTextz.apply(this,arguments)}; function split(){window.onkeydown({keyCode:32});window.onkeyup({keyCode:32})}window.addEventListener("keydown",keydown);var timeBetweenSplits=10;82==event.keyCode&&(X=window.innerWidth/2,Y=window.innerHeight/2,$("canvas").trigger($.Event("mousemove",{clientX:X,clientY:Y})));