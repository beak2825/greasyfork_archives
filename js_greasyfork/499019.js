// ==UserScript==
// @name         GC - Stamp Names
// @version      0.2.4
// @description  Print a list of unowned stamp names
// @match        https://www.grundos.cafe/stamps/album/?page_id=*&owner=
// @match        https://www.grundos.cafe/viewshop/?shop_id=58
// @icon         https://www.google.com/s2/favicons?sz=64&domain=grundos.cafe
// @license      MIT
// @namespace https://greasyfork.org/users/1142431
// @downloadURL https://update.greasyfork.org/scripts/499019/GC%20-%20Stamp%20Names.user.js
// @updateURL https://update.greasyfork.org/scripts/499019/GC%20-%20Stamp%20Names.meta.js
// ==/UserScript==

const stamps = [
    // name, owned
    ["MYSTERY ISLAND", false],
    ["Mystery Island Kougra Stamp", true],
    ["Mystery Island Aishas Stamp", true],
    ["Coco Stamp", true],
    ["Jhuidah Stamp", true],
    ["Jungle Kougra Stamp", true],
    ["Mystery Island Hut Stamp", true],
    ["Assorted Fruits Stamp", true],
    ["Triangular Flotsam Stamp", true],
    ["Zeenana Stamp", true],
    ["Mystery Island Grarrl Stamp", false],
    ["Island Acara Stamp", false],
    ["Haiku Stamp", true],
    ["Mystery Island Heads Stamp", true],
    ["Bottle of Sand Stamp", false],
    ["Island Uni Stamp", false],
    ["Mystery Island Chef Stamp", false],
    ["Tombola Stamp", false],
    ["Mystery Island Kiko Stamp", false],
    ["Island Music Stamp", true],
    ["Ryshu Stamp", true],
    ["Need a Better Printer Stamp", false],
    ["Upside Down Island Acara Stamp", false],
    ["One Hundred Million Neopoint Stamp", false],
    ["Misaligned Printer Stamp", false],
    ["Nibbled Cooking Pot Stamp", false],

    ["VIRTUPETS", false],
    ["Grimilix Stamp", true],
    ["Neopet Version 2 Stamp", true],
    ["Gormball Stamp", true],
    ["Splat-A-Sloth Stamp", false],
    ["Dr. Sloth Stamp", false],
    ["Space Faerie Stamp", false],
    ["Grinning Sloth Stamp", true],
    ["Zygorax Stamp", true],
    ["Purple Grundo Stamp", true],
    ["Commander Garoo Stamp", false],
    ["Roast Gargapple Stamp", false],
    ["N4 Bot Stamp", true],
    ["Blarthrox Stamp", true],
    ["Tazzalor Stamp", true],
    ["Zyrolon Stamp", false],
    ["Advert Attack Stamp", true],
    ["Evil Fuzzles Stamp", false],
    ["Gargarox Isafuhlarg Stamp", false],
    ["Mutant Grundo Stamp", false],
    ["Zurroball Stamp", false],
    ["Double Printed Evil Fuzzle Stamp", false],
    ["Inverted Space Faerie Stamp", false],
    ["Grundo Warehouse Stamp", false],
    ["Virtupets Space Station Stamp", false],
    ["Holographic Virtupets Stamp", false],

    ["TYRANNIA", false],
    ["Chomby Stamp", false],
    ["Tyrannian Elephante Stamp", false],
    ["Grarrg Stamp", false],
    ["Tyrannian Kougra Stamp", false],
    ["Tyrannia Stamp", false],
    ["Omelette Stamp", false],
    ["Tar Pit Stamp", false],
    ["Wock Til You Drop Stamp", false],
    ["Tyrannian Grarrl Stamp", false],
    ["Chunk of Meat Stamp", true],
    ["Tyrannian Kyrii Stamp", true],
    ["Tyrannian JubJub Stamp", true],
    ["Tyrannian Korbat Stamp", true],
    ["Tyrannian Blumaroo Stamp", true],
    ["Tyrannian Plateau Stamp", false],
    ["Flying Korbats Stamp", false],
    ["Stone Armchair Stamp", true],
    ["Giant Leaf Curtains Stamp", true],
    ["Bone Chair Stamp", true],
    ["Tyrannian Usul Stamp", true],
    ["Monocerous Stamp", false],
    ["Kyruggi Stamp", false],
    ["Discovery of Fire Stamp", false],
    ["Shiny Monoceraptor Stamp", false],
    ["Stone Stamp", false],

    ["HAUNTED WOODS", false],
    ["Brain Tree Stamp", true],
    ["Esophagor Stamp", true],
    ["Fetch! Stamp", true],
    ["Haunted Mansion Stamp", false],
    ["Spyder Stamp", false],
    ["Scary Tree Stamp", false],
    ["Hubrid Nox Stamp", false],
    ["Mutant Usul Stamp", true],
    ["Rock Stamp", true],
    ["Carnival of Terror Stamp", false],
    ["Korbats Lab Stamp", true],
    ["Luperus Left Head Stamp", false],
    ["Luperus Centre Head Stamp", false],
    ["Luperus Right Head Stamp", false],
    ["Halloween Aisha Stamp", true],
    ["Spooky Gravestone Stamp", true],
    ["Moonlit Werelupe Stamp", true],
    ["Moonlit Esophagor Stamp", true],
    ["Edna the Zafara Stamp", false],
    ["Glowing Brain Tree Stamp", false],
    ["ARGH!!!! DONNA STAMP", false],
    ["Count Von Roo Stamp", false],
    ["Misprint Meuka Stamp", false],
    ["Holographic Magax Stamp", false],
    ["Foil Slorg Stamp", false],

    ["NEOPIA CENTRAL", false],
    ["Alien Aisha Vending Stamp", true],
    ["Orange Skeith Stamp", true],
    ["Skeith Bank Manager Stamp", true],
    ["Robot Skeith Stamp", true],
    ["Huberts Hot Dogs Stamp", false],
    ["Wishing Well Stamp", true],
    ["Money Tree Stamp", true],
    ["Rainbow Pool Stamp", false],
    ["Kauvara Stamp", true],
    ["Shop Wizard Stamp", true],
    ["Book Shop Nimmo Stamp", true],
    ["Petpets Stamp", false],
    ["Seasonal Stamp", false],
    ["Neolodge Stamp", true],
    ["Year 5 Stamp", true],
    ["Deluxe Money Tree Stamp", false],
    ["Neopian Hospital Stamp", false],
    ["Jelly Pop Stamp", true],
    ["Jelly World Stamp", false],
    ["Usukiland Stamp", false],
    ["Super Bright Rainbow Pool Stamp", false],
    ["Foil Food Shop Stamp", false],
    ["Chocolate Factory Stamp", false],
    ["Midnight Jelly World Stamp", false],
    ["Neopia Central Scene Stamp", false],

    ["NEOQUEST", false],
    ["NeoQuest Logo Stamp", false],
    ["NeoQuest Hero Stamp", false],
    ["Jahbal Stamp", false],
    ["Rotting Skeleton Stamp", true],
    ["Mist Kougra Stamp", true],
    ["Plains Aisha Stamp", false],
    ["Two Rings Archmagus Stamp", true],
    ["Boraxis the Healer Stamp", true],
    ["Two Rings Crusader Stamp", true],
    ["Pomanna Stamp", true],
    ["Mokti and Rikti Stamp", false],
    ["Mr Irgo Stamp", true],
    ["Black Bearog Stamp", true],
    ["Gatekeeper Stamp", false],
    ["Leirobas Stamp", true],
    ["Archmagus of Roo Stamp", true],
    ["Golden Mr Irgo Stamp", false],
    ["Zombie Faleinn Stamp", true],
    ["Kreai Stamp", false],
    ["Morax Dorangis Stamp", true],
    ["Guardian Of Spectral Magic Stamp", true],
    ["Tylix Stamp", false],
    ["Eleus Stamp", false],
    ["Gors The Mighty Stamp", false],
    ["Xantan Stamp", false],

    ["SNOWY VALLEY", false],
    ["Snow Wars Catapult Stamp", true],
    ["Rainbow Slushie Stamp", true],
    ["Frosty Snowman Stamp", true],
    ["Wintery Petpet Shop Stamp", true],
    ["Wintery Bruce Stamp", true],
    ["Christmas Meerca Stamp", true],
    ["Terror Mountain Scene Stamp", true],
    ["Igloo Garage Sale Stamp", true],
    ["Rink Runner Stamp", true],
    ["Christmas Kougra Stamp", true],
    ["Christmas Uni Stamp", true],
    ["Christmas Zafara Stamp", true],
    ["Scratchcard Kiosk Stamp", true],
    ["Candychan Stamp", false],
    ["Grundo Snow Throw Stamp", true],
    ["Stocking Stamp", true],
    ["Cliffhanger Stamp", true],
    ["Christmas Scene Stamp", true],
    ["SHFISS Stamp", true],
    ["Negg Faerie Stamp", false],
    ["Snow Faerie Stamp", true],
    ["Ski Lodge Stamp", true],
    ["Snowager Stamp", true],
    ["Snowbunny Stamp", false],
    ["Sticky Snowflake Stamp", false],

    ["MERIDELL VS DARIGAN", false],
    ["Meridell Heroes Stamp", false],
    ["Darigan Citadel Stamp", false],
    ["Meridell Castle Stamp", false],
    ["Green Knight Stamp", false],
    ["Lisha vs Zombie Lisha Stamp", false],
    ["Morris Stamp", false],
    ["Skeith Defender Stamp", false],
    ["Darigan Moehog Stamp", false],
    ["Boris Stamp", false],
    ["Draik Guard Stamp", true],
    ["Yellow Knight Stamp", false],
    ["Meridell Shield Stamp", false],
    ["Drackonack Stamp", false],
    ["Darigan Shield Stamp", true],
    ["Darigan Eyrie Stamp", true],
    ["Turmaculus Stamp", false],
    ["Darigan Elemental Stamp", true],
    ["Illusen Stamp", false],
    ["Jeran Stamp", false],
    ["Golden Orb Stamp", true],
    ["Zombified Heroes Stamp", false],
    ["Lord Darigan Stamp", true],
    ["King Skarl Stamp", false],
    ["Master Vex Stamp", true],
    ["Darigan Spectre Stamp", false],

    ["LOST DESERT", false],
    ["Golden Khamette Stamp", true],
    ["Desert Petpet Stamp", true],
    ["Pyramid Sun Rise Stamp", true],
    ["Lost Desert Grarrl Stamp", false],
    ["Advisor Wessle Stamp", true],
    ["Senator Palpus Stamp", true],
    ["Midnight Desert Lupe Stamp", true],
    ["Ummagine Stamp", false],
    ["Osiris Pottery Stamp", true],
    ["Senator Barca Stamp", true],
    ["Desert Paintbrush Stamp", false],
    ["Peopatra Stamp", true],
    ["Grackle Bug Stamp", true],
    ["Princess Sankara Stamp", false],
    ["Lost Desert Scroll Stamp", false],
    ["Lost Desert Sphinx Stamp", true],
    ["Tug Of War Stamp", true],
    ["Fruit Machine Stamp", true],
    ["Sakhmet Palace Stamp", true],
    ["Holographic Sakhmet City Stamp", false],
    ["Geb Stamp", false],
    ["Coltzan Stamp", false],
    ["Scarab Stamp", false],
    ["Lucky Coin Stamp", false],
    ["Holographic Coltzans Shrine Stamp", false],

    ["THE BATTLEDOME", false],
    ["Sword of Skardsen Stamp", false],
    ["Attack Pea Stamp", true],
    ["Slorg Flakes Stamp", true],
    ["Faerie Slingshot Stamp", true],
    ["Hubrids Puzzle Box Stamp", true],
    ["Eraser of the Dark Faerie Stamp", true],
    ["Jhudoras Bewitched Ring Stamp", true],
    ["Everlasting Crystal Apple Stamp", true],
    ["Sword of the Air Faerie Stamp", true],
    ["Jewelled Scarab Stamp", false],
    ["Rod Of Dark Nova Stamp", false],
    ["Jade Scorchstone Stamp", false],
    ["Thyoras Tear Stamp", true],
    ["Exploding Space Bugs Stamp", true],
    ["Monoceraptor Claw Stamp", true],
    ["Wand Of The Dark Faerie Stamp", true],
    ["Alien Aisha Myriad Stamp", false],
    ["Alien Aisha Ray Gun Stamp", true],
    ["Kings Lens Stamp", false],
    ["Ring of Sloth Stamp", false],
    ["Illusens Staff Stamp", true],
    ["Shield Of Pion Troect Stamp", true],
    ["Rainbow Sticky Hand Stamp", false],
    ["Dark Battle Duck Stamp", false],
    ["Battle Slices Stamp", false],

    ["COINS", false],
    ["Silver Babaa Coin", false],
    ["Book Coin", false],
    ["Brass Usuki Coin", false],
    ["Money Tree Coin", false],
    ["Rainbow Pool Coin", false],
    ["Eliv Thade Coin", false],
    ["Turtum Coin", false],
    ["Silver Buzzer Coin", false],
    ["Snow PaintBrush Coin", true],
    ["Frozen Snowflake Coin", false],
    ["Silver Concert Hall Coin", false],
    ["Hasee Coin", false],
    ["Bronze Mystery Island Coin", false],
    ["Golden Scarab Coin", false],
    ["Giant Ghostkerchief Coin", false],
    ["Defenders Of Neopia Coin", false],
    ["Goo Blaster Coin", false],
    ["Larnikin Coin", false],
    ["PaintBrush Coin", false],
    ["Chocolate Factory Coin", false],
    ["Battledome Coin", false],
    ["Dr Sloth Coin", false],
    ["Crystal Kauvara Coin", false],
    ["Neopian Times Coin", false],
    ["Emerald Eyrie Coin", false],

    ["BATTLE FOR MERIDELL", false],
    ["Dark Graspberry Stamp", false],
    ["Gelert Prince Stamp", true],
    ["Sunblade Stamp", false],
    ["Meridell Gardens Stamp", true],
    ["Petpet Growth Syrup Stamp", true],
    ["Zafara Princess Stamp", true],
    ["Gallion Stamp", true],
    ["Quiggle Scout Stamp", true],
    ["Blugthak Stamp", false],
    ["Castle Defender Stamp", false],
    ["Usul-in-waiting Stamp", false],
    ["Blumaroo Court Jester Stamp", true],
    ["King Skarl Plushie Stamp", false],
    ["Nova Storm Stamp", true],
    ["105 Castle Secrets Stamp", false],
    ["Exploding Acorns Stamp", true],
    ["Zafara Double Agent Stamp", false],
    ["Battle Uni Stamp", false],
    ["Court Dancer Stamp", false],
    ["Hadrak Stamp", false],
    ["Morguss Stamp", false],
    ["Meerca Spy Stamp", false],
    ["The Great Battle Stamp", false],
    ["Lord Kass Stamp", false],
    ["The Three Stamp", false],

    ["NEOQUEST II", false],
    ["Trestin Stamp", true],
    ["Librarian Stamp", false],
    ["Rohanes Mother Stamp", false],
    ["Temple Of The Sky Stamp", false],
    ["Hubrid Noxs Mountain Fortress Stamp", false],
    ["NeoQuest II Logo Stamp", false],
    ["Devilpuss Stamp", false],
    ["Celestial Talisman Stamp", true],
    ["Slime Titan Stamp", true],
    ["Kolvars Stamp", false],
    ["Rampaging Grundonoil Stamp", false],
    ["Northern Watch Tower Stamp", false],
    ["Lost City of Phorofor Stamp", false],
    ["Shadow Gulch Stamp", false],
    ["Von Roos Castle Stamp", false],
    ["Velm Stamp", false],
    ["Talinia Stamp", false],
    ["Rohane Stamp", true],
    ["Mipsy Stamp", false],
    ["Sword Of Apocalypse Stamp", false],
    ["NeoQuest II Esophagor Stamp", false],
    ["Scuzzy Stamp", false],
    ["Anubits Stamp", false],
    ["Ramtor Stamp", false],
    ["Terask Stamp", false],

    ["SPACE STATION COINS", false],
    ["Grundo Veggieballs Coin", false],
    ["Grobleen Salad Coin", true],
    ["Cosmic Cheese Stars Coin", false],
    ["Roast Gargapple Coin", false],
    ["Zoomik Coin", false],
    ["Vacumatic 9000 Coin", false],
    ["N-4 Information Retrieval Bot Coin", false],
    ["GX-4 Oscillabot Coin", false],
    ["Gargaroxs Recipe Book Coin", false],
    ["Gormball Coin", false],
    ["Electro Shield Coin", false],
    ["H4000 Helmet Coin", false],
    ["Grundo Warehouse Coin", false],
    ["Adopt A Grundo Coin", false],
    ["Evil Fuzzle Coin", false],
    ["Splat A Sloth Coin", false],
    ["Astral Blade Coin", false],
    ["Lever of Doom Coin", false],
    ["Super Nova Coin", false],
    ["Mallow Coin", false],
    ["Bzzt Blaster Coin", false],
    ["Gorix and Cylara Coin", false],
    ["Neopet V2 Coin", false],
    ["Smiling Space Faerie Coin", false],
    ["Scowling Sloth Coin", false],

    ["EVIL COCONUTS", false],
    ["Angry Evil Coconut", false],
    ["Sinister Evil Coconut", false],
    ["Ugly Evil Coconut", false],
    ["Screaming Evil Coconut", false],
    ["Horned Evil Coconut", false],
    ["Infernal Evil Coconut", false],
    ["Burning Evil Coconut", false],
    ["Mini Evil Coconut", false],
    ["Silent Evil Coconut", false],
    ["Monstrous Evil Coconut", false],
    ["Tusked Evil Coconut", false],
    ["Hairy Evil Coconut", false],
    ["Painted Evil Coconut", false],
    ["Stitched Evil Coconut", false],
    ["Wailing Evil Coconut", false],
    ["Light Brown Evil Coconut", false],
    ["Damaged Evil Coconut", false],
    ["Flaming Evil Coconut", false],
    ["Seasonal Evil Coconut", false],
    ["One Eyed Evil Coconut", false],
    ["Vicious Evil Coconut", false],
    ["Moaning Evil Coconut", false],
    ["Sliced Evil Coconut", false],
    ["Scorched Evil Coconut", false],
    ["Golden Evil Coconut", false],

    ["THE DARKEST FAERIE", false],
    ["Young Aisha Stamp", true],
    ["Aerial Castle Stamp", true],
    ["Grumpy Skarl Stamp", true],
    ["Tormund Stamp", true],
    ["Meridell Forest Stamp", true],
    ["Valiant Tormund Stamp", true],
    ["Bound Book Stamp", true],
    ["Skeletal Draik Stamp", true],
    ["Evil Sisters Stamp", true],
    ["Fyora Portrait Stamp", true],
    ["Werelupe King Stamp", true],
    ["Gnarfas Stamp", true],
    ["Darkest Faerie Logo Stamp", true],
    ["Jeran on the Battlefield Stamp", true],
    ["Valiant Jeran Stamp", true],
    ["Surrounded Jeran Stamp", true],
    ["Destroyed Castle Stamp", true],
    ["Skarl Battle Stamp", true],
    ["Meridellian Knights Stamp", true],
    ["Scowling Darigan Moehog Stamp", true],
    ["Ancient Golden Orb Stamp", true],
    ["Angry Castle Defender Stamp", true],
    ["Fading Jeran Memory Stamp", true],
    ["Fierce Moehog Stamp", true],
    ["Lisha Stamp", true],

    ["ARTIST'S DAY OFF", false],
    ["Scratched Stamp", false],
    ["Oops! All Brakuberries Stamp", false],
    ["Poogy Stamp", false],
    ["Special Agent Jones Stamp", false],
    ["Mister Boodles Stamp", false],
    ["Samouel Says \"Hi!\" Stamp", false],
    ["Space Wizard Stamp", false],
    ["Ghostkerstamp", false],
    ["World Challenges Stamp", false],
    ["Lupe Fiasco Stamp", false],
    ["Cogito Ergo Stamp", false],
    ["Toothy Stamp", false],
    ["Draikey Cakey Stampy", false],
    ["Mystery Pic Stamp", false],
    ["Lenny Condominium Stamp", false],
    ["Nimmo Finger Stamp", false],
    ["Faerie Doll Collectors Stamp", false],
    ["Purple Spotted Shroom Stamp", false],
    ["Princess Meiwa Stamp", false],
    ["Maccys Stamp", false],
    ["Dung Faerie Stamp", false],
    ["Cheaply Printed Wand of the Dark Faerie Stamp", false],
    ["Alien Lupe Stamp", false],
    ["Torn Grey Faerie Stamp", false],
    ["Holographic MSPP Stamp", false]
]

const getOwnedStampNames = () => {
    const owned = []
    stamps.forEach((stamp) => {
        if (stamp[1]) {
            owned.push(stamp[0])
        }
    })
    return owned
}

const getStoreStampNames = () => {
    const storeStampNames = []
    $('.item-info').each((i, j) => {
        storeStampNames.push(
            $(j).text().split('\n')[1].trim().replace(/\uFEFF/g,''))
    })
    return storeStampNames
}

const removeOwnedStampNames = (storeStamps, ownedStamps) => {
    // TODO why isn't filter working
    const unowned = []
    storeStamps.forEach((stamp) => {
        if (!ownedStamps.includes(stamp)) {
            unowned.push(stamp)
        }
    })
    return unowned
}

$(document).ready(function () {
    const storeStamps = getStoreStampNames()
    console.log('unowned stamps for sale:')
    const ownedStampNames = getOwnedStampNames()
    const unowned = removeOwnedStampNames(storeStamps, ownedStampNames)
    if (unowned.length == 0) {
        console.log('none!')
    } else {
        unowned.forEach((name) => console.log(name))
    }
});