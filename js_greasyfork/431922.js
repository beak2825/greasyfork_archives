// ==UserScript==
// @name         VK Dark Theme
// @namespace    vkdarktheme
// @version      0.1.3
// @description  Dark Theme for vk.com
// @author       zoto_ff
// @match        *.vk.com/*
// @icon         https://www.google.com/s2/favicons?domain=vk.com
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/431922/VK%20Dark%20Theme.user.js
// @updateURL https://update.greasyfork.org/scripts/431922/VK%20Dark%20Theme.meta.js
// ==/UserScript==

document.body.setAttribute("scheme", "vkcom_dark");

let s = document.createElement('link');s.rel = 'stylesheet';
s.href = 'https://st1-54.vk.com/css/al/videoview.1d039a73f37274540f12.css';

let scheme = document.createElement('style');
scheme.innerHTML = '#notifiers_wrap div {color:white} .im-navigation.im-navigation_shown, .im-navigation.im-navigation_shown .im-navigation--label-in{color:#c4c4c4}[dir] .TopNavBtn .TopNavBtn__messagesCount, [dir] .TopNavBtn .TopNavBtn__notifyCount {color:white}.emoji_sprite.emoji_tabs_r_sc, .emoji_sprite.emoji_tabs_l_sc, .ui_scroll_shadow_bottom, .ui_scroll_shadow_top, .emoji_cats_title_helper::after {display:none} body{color:white;}#dev_page_wrap1, .dev_page_block,.dev_page_cont .wk_header, .dev_page_cont .wk_sub_header, .dev_page_cont .wk_sub_sub_header{color:white}#react_rootRecentGroups{display:none}.owner_photo_bubble{color:#fbfbfb}.nim-dialog--pinned-conversation {filter: brightness(50%);}[dir] .flat_button, [dir] .button_gray button, [dir] .button_blue button {background-color: var(--text_link);}.flat_button.secondary:hover, .button_gray button:hover, .flat_button.secondary:active, .button_gray button:active {background-color:#444!important} [dir] .im-page .im-page--history-new-bar>span{border-radius: 15px;padding: 5px 10px;}.ui_scroll_shadow_bottom, .ui_scroll_shadow_bottom_visible, .ui_scroll_shadow_top_visible, .ui_scroll_shadow_top {box-shadow: none !important} body .emoji_tt_wrap * {box-shadow:none!important;box-shadow-color:transparent!important;} [dir] .ui_scroll_default_theme>.ui_scroll_bar_container>.ui_scroll_bar_outer>.ui_scroll_bar_inner {transition:background-color 0.25s;background-color:#555;}.media_voting div{color:white!important}[dir] .left_count {color: #ccc}.emoji_tab_sel, [dir] .emoji_tab_sel:hover {background-color: #333!important}[dir] .emoji_tab:hover{background-color:#444}.emoji_block_cont {background:#333} [dir=ltr] .sticker_hints_arrow {border-left:unset;background-color:#444} [dir] .sticker_hints_tt{background-color:#333!important;border-color:#444}.audio_page__shuffle_all .audio_page__shuffle_all_button{color:#c4c4c4!important}#ads_page h2, #apps_catalog .apps_catalog_row, #group_apps_list .group_apps_list_rows .group_apps_list_row, #marketplace .market_content .market_row_line, .DatePicker__footer, .GamesCatalogProfileBlock__header, .GroupOrderDetails__section, .MarketAdminTable__table, .MarketAdminTable__tableCell, .MarketAdminTable__tableRow, .MarketCart .MarketCart__itemsList, .OrderDetailsProperty+.OrderDetailsProperty, .ProfileHeaderSection, .Tabs, .TemplatesSettings__item, .ads_edit_separator_big, .app_widget_matches_match, .apps_group_catalog_header, .apps_group_catalog_rows .apps_catalog_row, .apps_notification_row, .audio_feed_post, .audio_pl_snippet2 .audio_pl_snippet__header, .audio_subscribe_promo, .bet_wrap .bnt_media_preview, .blog_arhive_item, .blog_entry_like_widget, .blst_row, .bookmark_rows_mini .bookmarks_row:after, .bp_post, .bt_header, .bv_wrap .bt_pages_wrap, .counts_module, .deep_active .post_replies_header, .deep_active .replies .replies_wrap_deep, .deep_active .replies .replies_wrap_deep .reply_media_preview, .deep_active .replies .reply .reply_wrap, .deep_active .wl_replies_block_wrap .replies_wrap_deep, .deep_active .wl_replies_block_wrap .replies_wrap_deep .reply_media_preview, .deep_active .wl_replies_block_wrap .reply .reply_wrap, .deep_active.wall_module .post_replies_header, .deep_active.wall_module .replies .replies_wrap_deep, .deep_active.wall_module .replies .replies_wrap_deep .reply_media_preview, .deep_active.wall_module .replies .reply .reply_wrap, .deep_active.wall_module .wl_replies_block_wrap .replies_wrap_deep, .deep_active.wall_module .wl_replies_block_wrap .replies_wrap_deep .reply_media_preview, .deep_active.wall_module .wl_replies_block_wrap .reply .reply_wrap, .dev_method_block .dev_method_block_title, .dev_param_row, .dev_version, .dev_widgets_row, .exchange_title_head, .experts_profile, .fans_rows .wall_text+.replies, .fave_link_item_inner, .feed_list_name_wrap, .feed_wrap .post .feed_ignore_label.feed_ignore_item .feed_post_report, .feedback_row, .feedback_sticky_row, .friends_cur_filters, .friends_dropdown__list_dropdown, .friends_list_bl, .friends_more, .friends_user_row, .group_ad_request_row, .group_ad_withdrawal_row, .group_box_list .sort_helper, .group_box_row, .group_edit_row_sep, .group_l_rows .sort_helper, .group_list_row, .groups_api_divider, .groups_blocked .groups_blocked_acts, .groups_cover_box .groups_edit_cover_wrap .groups_edit_cover_wrap_live .groups_edit_cover_wrap_live_previews .groups_edit_cover_wrap_live_upload .groups_edit_cover_wrap_live_upload_placeholder_enabled, .groups_cover_box .groups_edit_cover_wrap .groups_edit_cover_wrap_main_wrap, .help_table_popular, .help_table_question__ans_text .wk_hider_box, .help_table_question__ans_text .wk_hider_box_opened, .help_table_questions, .help_tile_alert, .index_user_row, .landing_ads_footer, .landing_moneysend_footer, .landing_moneysend_user, .like_cont, .market-order-block .market-order-details-section:not(:first-child), .market_item_footer_info, .media_preview_has_medias, .media_voting.media_voting_fixed, .message_page_title, .module, .module_header.header_separated, .mv_comments_restricted_msg, .nim-dialog .nim-dialog--content, .nim-dialog:not(.nim-dialog_deleted).nim-dialog.nim-dialog_classic.nim-dialog_unread, .nim-dialog:not(.nim-dialog_deleted).nim-dialog.nim-dialog_hovered, .nim-dialog:not(.nim-dialog_deleted).nim-dialog:hover, .nim-dialog:not(.nim-dialog_deleted).nim-dialog_hovered+.im-search-results-head, .nim-dialog:not(.nim-dialog_deleted).nim-dialog_hovered+.nim-dialog, .nim-dialog:not(.nim-dialog_deleted).nim-dialog_selected+.im-search-results-head, .nim-dialog:not(.nim-dialog_deleted).nim-dialog_selected+.nim-dialog, .nim-dialog:not(.nim-dialog_deleted).nim-dialog_unread.nim-dialog_classic+.im-search-results-head, .nim-dialog:not(.nim-dialog_deleted).nim-dialog_unread.nim-dialog_classic+.nim-dialog, .nim-dialog:not(.nim-dialog_deleted):hover+.im-search-results-head, .nim-dialog:not(.nim-dialog_deleted):hover+.nim-dialog, .online:after, .pages_history_row, .pe_editor .pe_bottom_actions, .pedit_separator, .piechart_table tr td, .post_edit_settings_wrap, .post_full_like_wrap, .post_publish, .poster-uploader__drop-box, .poster__postpone, .print_header, .profile_info_block, .pv_comments, .restore_submit_row, .search_auto_results .search_auto_sep, .search_auto_results .search_auto_sep .search_auto_sep_inner, .search_results_sep, .search_row, .search_sep, .settings_apps .apps_settings_row_wrap, .settings_bl_row, .settings_block_msg, .settings_history_table tr td, .settings_line, .settings_menu_rows .olist_item_menu.olist_item_no_market .olist_item_photo, .settings_privacy_row, .settings_table_row, .shortener_stats_header, .stats_browse_filter, .stats_community_messages_info, .stats_time_info, .story_stats_row_header_content, .story_stats_sticky_header, .summary_tabs, .tickets_new_extra_fields, .tickets_reply_row, .tu_row, .ui_rmenu_sep, .video_upload__progress, .video_upload__upload_subtitles_left, .wall_module .replies_list, .wall_module .reply~.reply .dld, .wall_module .reply~.reply .reply_wrap, .wdd_list, .wide_column .page_top, .wide_column .topics_module .topic_row, .wk_table, .wk_table td, [dir=ltr] .MarketCatalogCategoryMenu--opened .MarketCatalogCategoryMenu__button:after, [dir=ltr] .MarketCatalogCity, [dir=ltr] .MarketCatalogHeader__menu, [dir] .DownloadedGameItem, [dir] .MarketCatalogBlockButtons, [dir] .ShortVideoStub__qrLink, [dir] .audio_layer_container .audio_page_player_wrap.audio_page_player_wrap, [dir] .im-expired-message--in, [dir] .im-navigation__button, [dir] .settings_menu_rows .olist_item_menu.olist_item_no_market_orders .olist_item_photo, a.group_app_button_multi, body.dev .paginated_table_row, h2.payments_getvotes_title, hr {border-color: var(--separator)!important;}._audio_page_player {background-color:var(--block);}.audio_page_player_title_song_title{color:white!important;}#dev_page_wrap1, #fc_contacts, #groups_menu_items .groups_edit_menu_items .groups_edit_menu_item .groups_edit_menu_item_line, #market_choose_box .market_block_layout, #page_add_place_box .group_edit_address_form, #payments_box_right_col, #payments_getvotes_cont .payments_logo_cards, #payments_getvotes_cont .payments_logo_kiwipurse, #payments_getvotes_cont .payments_logo_paypal_ipn, #payments_getvotes_cont .payments_logo_webmoney, #payments_getvotes_cont .payments_logo_yandexmoney, #stats_cont.stats_cont_browse, #wk_content, .AuthorPageDraftCell__cover, .AuthorPageDraftRow:hover, .BaseModal__content, .Carousel__control, .CatalogBlock--divided, .CatalogSection, .ChatCreation .Modal__body, .ChatSettingsInvitationLink, .DonutSubscribePopup__donatorAdvantages, .DropBox, .FeedbackTooltip__content, .FixedLayout__in, .GamesCatalogProfileBlock__content, .GamesCatalogProfileBlock__header, .GamesCatalogSearchMainContent, .GroupChatInvites, .ImageStatusPopup, .InteractiveUI__button, .List, .MarketDeliveryInfoSetting__divider, .MessageForward__content, .ModalBody, .MultiSelect__scroll, .PodcastEpisodeLayer__content, .PostNoBottomSpaceAttach:last-child, .Select__option--selected, .Select__option:hover, .StoriesTooltip, .StoryQuestionAskForm__inner textarea, .StoryQuestion__inner textarea, .ads_edit_page_wrap3, .apps_edit_retina_info, .apps_i_wrap, .apps_main, .article_ed_body .eltt, .audio_artist_attach_preview, .audio_artist_snippet, .audio_layer_container .ui_scroll_overflow, .audio_page_layout .audio_friends_list, .audio_page_layout .audio_search_wrapper, .author_page_article_image, .blog_products_page .blog_about_company_stats, .blog_products_page .blog_about_press, .bookmarks_intro .bookmarks_intro_slide, .box_body, .box_body.settings_menu_box, .bt_comment_form_actions.clear_fix, .bt_reporter_row:hover, .deep_active .replies .replies_wrap_deep .replies_deep_collapse:before, .deep_active .replies .reply_box_inner_wrap.fixed, .deep_active .wl_replies_block_wrap .replies_wrap_deep .replies_deep_collapse:before, .deep_active .wl_replies_block_wrap .reply_box_inner_wrap.fixed, .deep_active.wall_module .replies .replies_wrap_deep .replies_deep_collapse:before, .deep_active.wall_module .replies .reply_box_inner_wrap.fixed, .deep_active.wall_module .wl_replies_block_wrap .replies_wrap_deep .replies_deep_collapse:before, .deep_active.wall_module .wl_replies_block_wrap .reply_box_inner_wrap.fixed, .dev_page_block, .disabled.selector_container, .divider_illustration, .fc_content, .fc_msgs_unread, .graffiti_wrap, .groups_create_type .groups_create_tile:hover, .help_legal_information_content .wikiVkLink:before, .help_table_question .help_table_question, .help_test_intro_wrap, .help_test_results_wrap, .im-audio-message-input .im-audio-message-track, .im-dropbox, .im-page .im-page--dialogs-footer.ui_grey_block, .im-page .im-page--history-new-bar>span, .im-page--chat-header, .im-page.im-page_classic.im-page_group .im-group-online, .im-page_classic.im-page .im-chat-history-resize, .im-page_classic.im-page .im-page--dcontent, .im_stickers_bl_wrap, .join_box_content, .landing .landing_section--admin, .landing_vk_business .landing_section--configure, .landing_vk_business .landing_section--manage, .landing_vk_business .landing_vk_business__footer, .landing_vk_business__header.landing_vk_business__header_scrolling, .landings_vkCalls, .mail_box_cont, .market_item_content, .market_item_photo_container, .medadd_c_linkcon, .mv_info, .mv_info:before, .mv_live_gifts_arrow_left:before, .mv_live_gifts_arrow_right:before, .ny-2020__wrapper, .page_actions_header, .page_album_thumb_wrap, .payments_money_transfer_code_box, .podcast_episode_layer__content, .privacy_dropdown .body, .profile_info_edit, .profile_info_header, .pv_cont .narrow_column, .pv_narrow_column_wrap, .pv_photo_wrap .ui_scroll_outer, .pv_white_bg, .pva_period_fixed, .result_list li.disabled, .result_list ul, .selector_container, .stats_cont_browse_tile .stats_cont_browse_tile_desc, .stories_answers, .stories_feedback_tt, .stories_link, .submit_post_box.anon_field_on .audio_row_content:before,.submit_post_box.anon_field_on .medadd_c_market_info:before, .submit_post_box.anon_field_on .medadd_c_note:before, .submit_post_box.anon_field_on .medadd_c_poll:before, .submit_post_box.anon_field_on .medadd_c_timer:before, .submit_post_box.anon_field_on .ms_items_more_wrap:before, .submit_post_box.anon_field_on .page_doc_row:before, .submit_post_box.anon_field_on .page_preview_doc_photo:before, .top_nav_btn.active, .top_nav_btn:hover, .top_nav_link.active, .top_nav_link:hover, .ui_scroll_content.clear_fix, .video_upload_separator_text, .vk2017_snippet, .wall_module .reply_form, .wl_post_body_wrap .media_link:last-child, [dir] #help_test_finish_btn_lock, [dir] .Breadcrumbs, [dir] .BugreportComment__inLink:hover, [dir] .CallIconButton::before, [dir] .CallManagementModal__content, [dir] .CallManagementModal__section, [dir] .ChatSettingsPresetPanel, [dir] .CommunityChatCreation__content, [dir] .FeedbackTooltip__header, [dir] .MarketCatalogBlockShops__itemFooter:before, [dir] .MarketCatalogBlockSlider__controlsNext, [dir] .MarketCatalogBlockSlider__controlsPrev, [dir] .MarketCatalogSkeleton__element, [dir] .PageNavigation_wrap, [dir] .PaymentEditPageDivider, [dir] .PhotoRecognitionSettingsBox__content, [dir] .PhotoRecognitionSettingsBox__section, [dir] .PrivacyModal__box, [dir] .SideOfficeMenu, [dir] .SideOfficeMenu__navList::after, [dir] .StatsDonutEventsTable .ReactTable .rt-tbody .rt-tr.-odd, [dir] .StickerPackPreview__copyrights, [dir] .StickerPackPreview__items, [dir] .StickerPackPreview__styles, [dir] .StickerProductsGift__content, [dir] .StoriesManageUploadInfoFooter, [dir] .StoriesManageUploadInfoInner, [dir] .TeamPageJoinBlock__button, [dir] .VKLPrime__donatorAdvantages, [dir] .apps_edit_img_wrap, [dir] .bt_report_sidebar_wrap, [dir] .im_stickers_bl_wrap, [dir] .im_stickers_promo_banner, [dir] .market_item_content_bottom, [dir] body.dev .tickets_new_title, div.apps_search div.ui_search_input_block input.ui_search_field, header.ChatSettingsMembersWidget__header, input.ChatSettingsMembersWidget__search, input.dark.ape_pl_input, section.StickerPackSettings__stylePreview, section.StickerStylesMenu.StickerPackSettings__styles, textarea.dark.ape_pl_input { background-color: var(--block)!important; } :root{--accent:#5181b8!important;--gray2:rgb(34 34 34)!important;--gray3:rgb(51 51 51)!important;--gray4:rgb(68 68 68)!important;--gray6:rgb(119 119 119)!important;--block:rgb(25 25 26)!important;--select:rgb(45 45 46)!important;--background:rgb(10 10 10)!important;--background_select:rgb(31 31 31)!important;--action_menu:rgb(37 37 37)!important;--white1:rgb(119 119 119)!important;--white2:rgb(225 227 230)!important;--white3:rgb(153 153 153)!important;--button_primary_background:#4d4e4e!important;--button_primary_text:#fff!important;--button_secondary_background:#454647!important;--button_secondary_background_hover:#404040!important;--button_secondary_text:#fff!important;--button_tertiary_background:#00000000!important;--button_tertiary_background_hover:#313131!important;--separator:rgb(68 68 68)!important;--vkn_grayscale:grayscale(100%)!important;--vkn_brightness:brightness(74%)!important;--vkn_invert:invert(100%)!important;--vkn_contrast:contrast(100%)!important;--gray1:var(--background);--gray5:var(--gray6);--gray7:var(--white1);--vklScroll:var(--block)!important;--vklScrollThumb:var(--select)!important;--text_primary:var(--white2)!important;--text_subhead:var(--white1)!important;--text_secondary:var(--white1)!important;--separator_alternate:var(--separator)!important;--separator_common:var(--separator)!important;--button_tertiary_text:var(--button_secondary_text)!important;--text_link:var(--white2)!important}:root{--button_muted_background:var(--select);--separator_common:var(--separator);--separator_alternate:var(--separator);--panel_tab_active_background:var(--gray4);--panel_tab_active_text:var(--white2);--header_background:var(--block);--background_hover:hsla(0, 0%, 100%, 0.04);--text_primary:var(--white2);--text_secondary:var(--gray6);--modal_card_background:var(--select);--overlay_status_icon:var(--white2);--field_background:var(--select);--field_border:hsla(0, 0%, 100%, 0.12);--icon_tertiary_alpha:hsla(0, 0%, 100%, 0.24);color:var(--white2)}:root .vkuiSwitch--android .vkuiSwitch__pseudo:before{background:var(--gray6)}:root .vkuiSwitch--android .vkuiSwitch__pseudo:after{background:var(--gray4)}';

let s2=document.createElement('style');
s2.innerHTML = '[scheme=vkcom_dark]{--blue_420:#8b00ff;--light_blue_500:#8b00ff;--light_blue_100:#333;--steel_gray_A540:#ccc;--button-secondary-background-color:rgba(255, 255, 255, 0.075);--button-secondary-text-color:#ccc;--white:#191919;--steel_gray_20: #333;--steel_gray_40: #333;--steel_gray_100:#333;--steel_gray_10: #444;--steel_gray_20: #444;--steel_gray_60: #444;--steel_gray_80: #333;--steel_gray_100: #333;--steel_gray_140: #333;--steel_gray_200: #222;--steel_gray_140:#444;--light_blue_10:#555;--white:#191919;--steel_gray_120:#333;--steel_gray_40:#333;--accent: #8b00ff;--text_link: #a942ff;--counter_primary_background:#444;--counter_primary_text:#ccc;--counter_secondary_background:#444;--counter_secondary_text:#ccc;--im_text_name: #a942ff;} .left_label{color:#999} .page_block.friends_possible_block,.page_block.feed_friends_recomm,#profile_friends_recomm,.feed_groups_recomm,.GroupsRecommendationsBlock,.right_list_header,#group_recom_wrap,._post.post.page_block.mark_top_verified.post--with-likes.deep_active,.page_block.ShortVideoFeedBlock,._post post.page_block.mark_top_verified.post--with-likes.deep_active,.apps_feedRightAppsBlock__row,.apps_feedRightAppsBlock,.apps_feedRightAppsBlock_new_apps,._ads_block_data_w,.mailru-visibility-check, [class^=ads_ads_box], #ads_left, .page_block.apps_feedRightAppsBlock.apps_feedRightAppsBlock_single_app.apps_feedRightAppsBlock_single_app--, .apps_feedRightAppsBlock__row, .ads_ad_box.ver.repeat_ver.size_site.adaptive_ad, .profile_rate_warning{opacity: 0 !important;visibility: hidden !important;display: none !important;} img._im_graffiti{width:35%!important;height:35%!important} .left_menu_nav_wrap,.ads_left,#chat_tab_wrap{display:none} body .online::after{border: 2px solid #333!important;}.page_post_thumb_wrap { border-radius: 15px; box-shadow: 0px 0px 30px 0px rgba(255, 255, 255, 0.1) } body .nim-dialog--typer-el {color:rgb(179,179,179)!important}.nim-dialog .nim-dialog--preview-attach, .nim-dialog--typing{color:#c4c4c4!important} [dir] .nim-dialog:not(.nim-dialog_deleted):hover .nim-dialog--photo .online.mobile::after, [dir] .nim-dialog:not(.nim-dialog_deleted).nim-dialog_hovered .nim-dialog--photo .online.mobile::after, [dir] .nim-dialog:not(.nim-dialog_deleted).nim-dialog_unread.nim-dialog_classic .nim-dialog--photo .online.mobile::after {background-color:#333!important;} ';

let scroll=document.createElement('style');
scroll.innerHTMl = ':root{--Scroll:#f1f1f1;--ScrollThumb:#c1c1c1}-moz-webkit-scrollbar,::-webkit-scrollbar{background-color:var(--Scroll)}-moz-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background-color:var(--ScrollThumb);border-radius:9em}';

let round=document.createElement('style');
round.innerHTML = '.profile_info_header{background-color:unset!important}.BoxModal,.thumbed_link.page_media_wrap{border-radius:15px!important}.ape_search>.ui_search>.ui_search_input_block,.bt_comment_form_text,.im-page_classic>*>*>.im-page--chat-header,.im-page_classic>*>.im-page--header{border-radius:0!important}#group_wall>.page_block,#profile_wall>.page_block,#public_wall>.page_block{border-radius:10px 10px 0 0!important}._im_page_dialogs.im-page--dialogs--group-status>.im-page--header::before,.audio_pl__cover,.im-create--tabs{background-color:transparent!important}#apps_edit_catalog_photo,#apps_edit_photo,#company,#content>.audio_page_layout>.audio_page_player_wrap,#current_info .my_current_info,#faq_search_form,#group_edit_obscene_stopwords,#mail_box_editable,#mv_box,#mv_comments_header,#payments_box,#position,#profile_groups_link,#side_bar_inner,#submit_post_box,#top_profile_menu,#vkwidget2,#wk_box,#wk_content,.AppsCatalogSelectMenu,.BaseModal__content,.BotCarousel__slide,.Button--secondary,.Button--size-m:not(.Button--link),.Button--size-s,.Call,.CallsDropdown,.CatalogBlock::before,.CatalogBlock:not(:first-of-type),.CatalogSection:not(.CatalogSection__my):not(.CatalogSection__friends_updates):not(.CatalogSection__artist),.ChatSettings,.DonutCatalogPromo,.DonutGroupCopyLink,.Dropdown,.Dropdown__in,.FlatButton,.GamesCatalog--downloaded_games>*>*>.ui_tabs,.GamesCatalog--profile>*>*>.ui_tabs,.GamesCatalogHead:not(.GamesCatalog--search_page),.GoalRecommendations,.GoalsFilterList__item,.GoalsListItem,.GridStoryPreview,.GridStoryPreview__inner,.HeaderProfile__Dropdown,.Input,.MarketCatalogBlocks,.MarketCatalogCategoryMenu__list,.MarketCatalogFilter__container,.MarketCatalogHeader,.MarketCatalogPhoto__img,.MarketCatalogPriceRangeField__priceField,.MarketCatalogProduct__imgWrap,.MarketCatalogTabs.MarketCatalogTabs--notStacked,.MarketItemsList__itemExtraPhoto,.MarketServiceCreateAddress__dropDown:not(.wdd_focused),.MarketServiceCreateDescription__textarea,.MarketServiceCreatePhotos__photo,.MarketServiceMigrateInitStep,.MassMentionWarning,.MessageKeyboard__button,.MetaStory__rec-items,.MusicAuthorSnippet__info,.MusicAuthorSnippet_small,.MusicAuthor_block,.MusicAuthor_block:after,.MusicAuthor_block__cover,.PageBlock.Intro,.PageBlock:not(:first-of-type):not(.MarketCatalogBlockBanner):not(.MarketCatalogBlockList),.Participant::after,.Participant__status,.PhotoCarouselImage,.PhotoTagCard,.PostCopyrightBox__input,.ProfileEditorVkconnect__notice,.RecommendedNarrativesBlockItem__background,.RecommendedNarrativesBlockItem__background::after,.Select,.Select>.Select__control,.Select__menu,.ShortVideoPost,.ShortVideoStub__link,.ShortVideoStub__qrLink,.StickerStylesMenuItem__add,.StickerStylesMenuItem__gift,.Tooltip__in,.VideoPreview__thumb,._sticker_hints,.abx_comment,.ads_edit_link_type_card,.ap_layer__content,.ape_cover,.ape_list_header,.ape_pl_input,.app_info_msg,.apps_catalog_row_img_img,.apps_edit_input_borderless,.apps_edit_nav_img,.apps_main:not(.apps_main_with_footer),.article_snippet,.audio_pl_snippet2,.audio_promo,.audio_promo__items,.audio_row_content,.audio_shuffle_all_button:hover,.bordered-thumb,.bordered-thumb::after,.box_no_title.box_no_buttons,.button_blue>button,.datepicker_control,.dev_page_block,.draggable_thumb,.eltt,.emoji_tt_wrap,.error,.flat_button:not(#ui_trends_load_more):not(.ui_load_more_btn):not(.profile_btn_cut_left):not(.profile_btn_cut_right),.friend_recomm_card,.gift_cell .gift_img,.group_apps_list_row_img_img,.group_edit>*>*>:not(.group_edit_field):not(.group_edit_invite_link_row),.group_edit_field>*,.groups_create_box_input,.groups_menu_item_image::after,.groups_menu_item_image_content,.groups_row.short .img a .search_item_img,.im-chat-input--text,.im-chat-input--txt-wrap,.im-create.im-create_chat,.im-create.im-create_classic .im-create--table,.im-gift--img,.im-group-online--inner,.im-mess--call-snippet,.im-mess_failed,.im-mess_fav,.im-mess_gift,.im-mess_light,.im-mess_selected,.im-money-request-snippet,.im-page--dialogs,.im-page--history,.im_sticker_bl,.im_sticker_bl_demo_background,.im_sticker_bl_demo_thumb,.im_stickers_store_wrap,.landings-expired-messages__more,.left_row,.like_share_code,.like_share_widget_input,.like_share_widget_width,.market_album_photo,.market_comments_header,.market_edit_item_box * #item_price,.market_edit_item_box>*,.market_ei_photo_add,.market_ei_photos * .market_ei_main_photo,.market_item_bigph,.market_item_out_of_stock,.market_item_photo,.market_item_thumb.market_item_thumb_active,.market_order_row,.market_shop_item_action._minus,.market_shop_item_action._plus,.market_shop_item_actions,.market_tr_row,.medadd_c_linkcon,.medadd_c_linkimg_big,.medadd_poll_answer,.medadd_poll_answer_add,.medadd_poll_question,.media_link,.ms_items_more,.msg,.nim-dialog--inner-text,.notifier_baloon,.page_actions_wrap,.page_album_thumb_wrap,.page_album_title,.page_avatar,.page_block:not(.search_results):not(._im_page_history):not(.im-page--dialogs):not(.audio_page_player_wrap):not(.search_filters_minimized):not(.ui_filters_block):not(.GamesCatalogHead):not(.feed_search_wrap),.page_media_place_img_wrap,.page_post_thumb_unsized,.page_post_thumb_wrap:not(.page_post_thumb_short_video),.page_square_photo,.page_status_editor .editor,.page_status_input,.page_top #inner_status,.page_video_thumb,.payments_money_transfer_link_copy_input,.pedit_content>*>*>*,.photos_album_thumb,.photos_choose_row,.photos_edit_actions,.photos_row,.popup_box_container,.post_from_tt_row,.poster-uploader__view .poster .poster__image,.pretty-card,.pretty-card_placeholder_yes,.profile_more_info_link,.profile_msg_side_only #profile_send_gift_btn .profile_btn_cut_right,.pv_box,.pv_comments_header,.reply_thumb_img,.result_list,.round_tab,.search_filters_minimized:not(.ui_rmenu_item_expanded),.selected_items .token .token_inner,.selector_container>table,.short_video_item,.submit_post_field,.text,.thumb_doc_wrap .draggable_thumb,.thumbed_link--group-invitation>.thumbed_link__thumb,.thumbed_link--market,.token,.top_notify_wrap,.ts_cont_wrap,.tt_w,.ui_actions_menu,.ui_filters_block,.ui_search_fltr,.ui_search_fltr_short_field,.ui_search_input_block:not(.market_search_wrap),.ui_search_sugg_list,.video_box_wrap,.video_item_thumb,.video_item_thumb_wrap,.video_thumb_video,.videocat_live_icon,.wall_card,.wall_tt_link_img,.wdd.clear_fix.wdd_no_sub:not(.wdd_focused),.wdd_add2,[dir] .MiniAppsSnippet::after,[dir] .audio_page__shuffle_all .audio_page__shuffle_all_button:hover,[dir] .im_msg_audiomsg .audio-msg-track:not(.audio-msg-player):hover,[dir] .payments_getvotes_ps_row.payments_getvotes_active_row,[dir] .payments_getvotes_ps_row:hover,[dir] .vk_mini_app_preview .medadd_c_linkcon::before,[dir] .vk_mini_app_preview .medadd_c_linkcon:not(.medadd_c_linkimg_big)::before,[dir] .vk_mini_app_preview .medadd_c_linkimg_big .medadd_c_linkimg_container::before,img.preview{border-radius:10px!important}#wall_tabs>*,.AppsCatalogHeader,.GamesCatalogProfileBlock__header,.MarketCatalogBreadcrumbs,.MarketCatalogTabs:not(.MarketCatalogTabs--notStacked),.MarketServiceCreateAddress__dropDown.wdd_focused,.ModalHeader,.PageBlock__header,.PeerProfile,.PopupHeader,.StickerPackPreview__header,.app_edit_block_header,.apps_edit_nav_header,.apps_main.apps_main_with_footer,.audio_page_player_wrap,.box_no_title,.box_title_wrap,.graffiti_wrap,.im-create--tabs>.page_block_h2>.ui_tabs,.im-page--chat-header,.im-page--chat-header._im_dialog_actions::before,.im-page--dialogs-search,.im-page--header,.im-page--header.ui_search._im_dialogs_search::before,.im-page--search-header,.im-page--toolsw,.im-page_classic .im-page--chat-header-in,.medadd_c_linkimg_container,.media_link__media,.page_block_h2,.page_block_header,.page_cover,.payments_box_summary,.payments_money_transfer_amount_wrap,.photos_photo_edit_row_desc_placeholder,.photos_photo_edit_row_thumb,.post_top_info_ads_group_members,.poster__image-wrapper,.search_filters_minimized.ui_rmenu_item_expanded,.ui_search:not(.olist_filter_wrap):not(._im_dialogs_search),.ui_tabs,.ui_tabs_box,.ui_tabs_header,.wall_card__photo,.wdd.clear_fix.wdd_no_sub.wdd_focused,.wk_history_tabs{border-radius:10px 10px 0 0!important}[dir] .media_link--sized .media_link__media::after,[dir] .media_link--video .media_link__media::after{box-shadow:none;border-radius:10px 10px 0 0!important;border:1px solid var(--snippet_border)}#feed_rows>div:first-of-type>.post_photos,#page_suggested_posts>div:first-of-type,#page_wall_posts>div:first-of-type,.AudioPlaylistSnippet,.CatalogBlock:first-of-type,.CatalogSection__artist,.ChatSettings__content,.GamesCatalogProfileBlock__content,.GamesCatalogSearchMainContent,.MarketCatalogBlockMyProducts,.MarketCatalogHeader--fixed,.MarketServiceCreateSubmit,.ModalFooter,.PageBlock:first-of-type:not(.MarketCatalogHeader):not(.Intro):not(.MarketCatalogBlockBanner),.StickerPackPreview__footer,.StickerPackSettings__footer,.StickerProductsGift__footer,.apps_edit_info_wrap,.apps_edit_retina_info,.apps_options_bar,.audio_page_player_fixed,.box_controls,.box_no_buttons,.dev_nav.apps_edit,.emoji_tabs,.flat_button#ui_trends_load_more,.flat_button.ui_load_more_btn,.group_page_block_footer,.im-chat-input,.im-create,.im-create--footer,.im-page--dcontent.ui_scroll_hidden~.im-page--dialogs-footer,.mail_box_cont,.media_link__label,.mv_info,.owner_photo_additional,.owner_photo_bubble_wrap,.payments_money_transfer_comment,.photos_album_title_wrap,.popup_box_container,.search_results,.settings_block_footer,.submit_post_box,.tickets_thank_you_form,.top_notify_show_all,.ui_filters_block,.ui_scroll_overflow,.wdd_list{border-radius:0 0 10px 10px!important}.MiniAppsSnippetFields,.piechart_col_header_second,.podcast_snippet__content,.profile_msg_split .profile_btn_cut_right,.pv_narrow_column_wrap,.thumbed_link__label,.ui_search_button_search{border-radius:0 10px 10px 0!important}.MiniAppsSnippetCover,.ads_edit_link_type_card_image_wrapper,.flat_button.profile_btn_cut_left,.piechart_col_header_first,.podcast_snippet__cover,.podcast_snippet__cover:before,.reply_text>*>*>*>*>.audio_pl_snippet__cover.audio_pl__cover {border-radius:15px}';

document.body.appendChild(s);
document.body.appendChild(scheme);
document.body.append(s2);
document.body.appendChild(scroll);
document.body.appendChild(round);
(function() {
    'use strict';

    setInterval(strokeStickers, 10);
})();

function strokeStickers () {let s = document.querySelectorAll('.sticker_img, .emoji_sticker_image');s.forEach((st)=>{let src = st.getAttribute('src');         if(src.substr(-1)!=='b'){             st.setAttribute('src', src+'b');         }     }); }