// ==UserScript==
// @name            Open WME in GMM (Ski)
// @description     Opens the current Waze Map Editor view in Google Map Maker
// @namespace       vaindil
// @version         0.8.2
// @grant           none
// @include         https://www.waze.com/editor/*
// @include         https://www.waze.com/*/editor/*
// @include         https://beta.waze.com/editor/*
// @include         https://beta.waze.com/*/editor/*
// @exclude         https://www.waze.com/user/*
// @exclude         https://www.waze.com/*/user/*
// @author          vaindil
// @downloadURL https://update.greasyfork.org/scripts/13293/Open%20WME%20in%20GMM%20%28Ski%29.user.js
// @updateURL https://update.greasyfork.org/scripts/13293/Open%20WME%20in%20GMM%20%28Ski%29.meta.js
// ==/UserScript==

console.log("WMEGMM BEGINNING");

var imgcode = 'data:image/png;base64,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';

function gen_url() {
    var projI=new OpenLayers.Projection("EPSG:900913");
    var projE=new OpenLayers.Projection("EPSG:4326");
    var center_lonlat=(new OpenLayers.LonLat(Waze.map.center.lon,Waze.map.center.lat)).transform(projI, projE);
    var topleft=(new OpenLayers.LonLat(Waze.map.getExtent().left,Waze.map.getExtent().top)).transform(projI, projE);
    var bottomright=(new OpenLayers.LonLat(Waze.map.getExtent().right,Waze.map.getExtent().bottom)).transform(projI, projE);
    lat=Math.round(center_lonlat.lat * 1000000)/1000000;
    lon=Math.round(center_lonlat.lon * 1000000)/1000000;
    spn=Math.abs(topleft.lat-bottomright.lat)+','+Math.abs(topleft.lon-bottomright.lon);
    return 'https://www.google.com/mapmaker?ll='+lat+','+lon+'&spn='+spn+'&lyt=large_map_v3';
}

function init() {
    try {
        var element = $('#sidepanel-prefs');
        if ($(element).length) {
            $('#sidepanel-prefs .side-panel-section.attributes-form').after('<a id="WMEtoGMM" href="'+gen_url()+'" target="_blank" style="font-weight:bold;"><div style="background-image:url(\''+imgcode+'\') !important;min-height:75px;background-repeat:no-repeat;"></div></a>');
            $('#WMEtoGMM').click(function() {
                window.open(gen_url(), '_blank');
            });
            console.log("WMEGMM done");
        } else {
            setTimeout(init, 1000);
        }
    } catch (err) {
        console.log("WMEGMM - " + err);
        setTimeout(init, 1000);
    }    
}

init();