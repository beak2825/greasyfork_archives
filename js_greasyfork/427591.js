// ==UserScript==
// @name        Fix Media Comment
// @description Fixes the problem of not being able to comment on media in certain themes
// @namespace   incelerated
// @version     0.5.2
// @grant       none
// @match       https://incels.is/media/*
// @author      incelerated
// @downloadURL https://update.greasyfork.org/scripts/427591/Fix%20Media%20Comment.user.js
// @updateURL https://update.greasyfork.org/scripts/427591/Fix%20Media%20Comment.meta.js
// ==/UserScript==

const js = `
//editor html
var editorHTML = '<div class="editorPlaceholder-editor is-hidden"><script class="js-editorToolbars" type="application/json">{"toolbarButtons":{"moreText":{"buttons":["clearFormatting","bold","italic","fontSize","textColor","fontFamily","strikeThrough","underline","xfInlineCode","xfInlineSpoiler"],"buttonsVisible":"5","align":"left","icon":"fa-ellipsis-v"},"moreParagraph":{"buttons":["xfList","align","paragraphFormat"],"buttonsVisible":"3","align":"left","icon":"fa-ellipsis-v"},"moreRich":{"buttons":["insertLink","insertImage","xfSmilie","xfInsertGif","xfMedia","xfQuote","insertTable","insertHR","insertVideo","xfSpoiler","xfCode"],"buttonsVisible":"6","align":"left","icon":"fa-ellipsis-v"},"moreMisc":{"buttons":["undo","redo","xfBbCode","xfDraft"],"buttonsVisible":"4","align":"right","icon":""}},"toolbarButtonsMD":{"moreText":{"buttons":["bold","italic","fontSize","textColor","fontFamily","strikeThrough","underline","xfInlineCode","xfInlineSpoiler"],"buttonsVisible":"3","align":"left","icon":"fa-ellipsis-v"},"moreParagraph":{"buttons":["xfList","align","paragraphFormat"],"buttonsVisible":"3","align":"left","icon":"fa-ellipsis-v"},"moreRich":{"buttons":["insertLink","insertImage","xfSmilie","xfInsertGif","insertVideo","xfMedia","xfQuote","insertTable","insertHR","xfSpoiler","xfCode"],"buttonsVisible":"2","align":"left","icon":"fa-ellipsis-v"},"moreMisc":{"buttons":["undo","redo","clearFormatting","xfBbCode","xfDraft"],"buttonsVisible":"1","align":"right","icon":""}},"toolbarButtonsSM":{"moreText":{"buttons":["bold","italic","fontSize","textColor","fontFamily","strikeThrough","underline","xfInlineCode","xfInlineSpoiler"],"buttonsVisible":"2","align":"left","icon":"fa-ellipsis-v"},"moreParagraph":{"buttons":["xfList","align","paragraphFormat"],"buttonsVisible":"1","align":"left","icon":"fa-ellipsis-v"},"moreRich":{"buttons":["insertLink","insertImage","xfSmilie","xfInsertGif","xfQuote","insertVideo","xfMedia","insertTable","insertHR","xfSpoiler","xfCode"],"buttonsVisible":"3","align":"left","icon":"fa-ellipsis-v"},"moreMisc":{"buttons":["undo","redo","xfBbCode","clearFormatting","xfDraft"],"buttonsVisible":"1","align":"right","icon":""}},"toolbarButtonsXS":{"moreText":{"buttons":["bold","italic","fontSize","textColor","fontFamily","xfList","align","paragraphFormat","strikeThrough","underline","xfInlineSpoiler","xfInlineCode"],"buttonsVisible":"2","align":"left","icon":"fa-ellipsis-v"},"moreParagraph":{"buttons":[],"buttonsVisible":"0","align":"left","icon":"fa-ellipsis-v"},"moreRich":{"buttons":["insertLink","insertImage","xfSmilie","xfInsertGif","xfQuote","insertVideo","xfMedia","insertTable","insertHR","xfSpoiler","xfCode"],"buttonsVisible":"2","align":"left","icon":"fa-ellipsis-v"},"moreMisc":{"buttons":["undo","redo","xfBbCode","clearFormatting","xfDraft"],"buttonsVisible":"1","align":"right","icon":""}}}</script><script class="js-editorToolbarSizes" type="application/json">{"SM":420,"MD":575,"LG":900}</script><script class="js-editorDropdowns" type="application/json">{"xfList":{"cmd":"xfList","icon":"fa-list","buttons":["formatOL","formatUL","indent","outdent"],"title":"List"}}</script><script class="js-editorLanguage" type="application/json">{"Align Center": "Align center","Align Left": "Align left","Align Right": "Align right","Align Justify": "Justify text","Align": "Alignment","Alignment": "Alignment","Back": "Back","Bold": "Bold","By URL": "By URL","Clear Formatting": "Remove formatting","Code": "Code","Text Color": "Text color","Decrease Indent": "Outdent","Delete Draft": "Delete draft","Drafts": "Drafts","Drop image": "Drop image","Drop video": "Drop video","Edit Link": "Edit link","Font Family": "Font family","Font Size": "Font size","Normal": "Normal","Heading 1": "Heading 1","Heading 2": "Heading 2","Heading 3": "Heading 3","Increase Indent": "Indent","Inline Code": "Inline code","Insert GIF": "Insert GIF","Insert Horizontal Line": "Insert horizontal line","Inline Spoiler": "Inline spoiler","Insert Image": "Insert image","Insert Link": "Insert link","Insert": "Insert","Italic": "Italic","List": "List","Loading image": "Loading image","Media": "Media","More Text": "More options…","More Paragraph": "More options…","More Rich": "More options…","More Misc": "More options…","Open Link": "Open link","or click": "Or click here","Ordered List": "Ordered list","Paragraph Format": "Paragraph format","Preview": "Preview","Quote": "Quote","Redo": "Redo","Remove": "Remove","Replace": "Replace","Save Draft": "Save draft","Smilies": "Smilies","Something went wrong. Please try again.": "Something went wrong. Please try again or contact the administrator.","Spoiler": "Spoiler","Strikethrough": "Strike-through","Text": "Text","Toggle BB Code": "Toggle BB code","Underline": "Underline","Undo": "Undo","Unlink": "Unlink","Unordered List": "Unordered list","Update": "Update","Upload Image": "Upload image","Uploading": "Uploading","URL": "URL","Insert Table": "Insert table","Table Header": "Table header","Remove Table": "Remove table","Row": "Row","Column": "Column","Insert row above": "Insert row above","Insert row below": "Insert row below","Delete row": "Delete row","Insert column before": "Insert column before","Insert column after": "Insert column after","Delete column": "Delete column","Ctrl": "Ctrl","Shift": "Shift","Alt": "Alt","Insert Video": "Insert video","Upload Video": "Upload video","Width": "Width","Height": "Height","Change Size": "Change size","None": "None","Alternative Text": "Alt text","Smileys Bar": "Smileys Bar","__lang end__": ""}</script><script class="js-editorCustom" type="application/json">{"gallery":{"title":"Gallery embed","type":"fa","value":"camera","option":"yes"},"chat":{"title":"Chat image uploads","type":"fa","value":"upload","option":"yes"}}</script><script class="js-xfEditorMenu" type="text/template"><div class="menu" data-menu="menu" aria-hidden="true"data-href="{{href}}"data-load-target=".js-xfEditorMenuBody"><div class="menu-content"><div class="js-xfEditorMenuBody"><div class="menu-row">Loading…</div></div></div></div></script><textarea name="message_html" class="input js-editor u-jsOnly" data-xf-init="editor" data-original-name="message" data-buttons-remove="" style="visibility: hidden; height: 77px; " aria-label="Rich text box" data-min-height="40" placeholder="Write a comment…" data-deferred="on" data-xf-key="r"></textarea><input type="hidden" value="" data-bb-code="message"> <div class="tabs tabs--standalone js-xfSmilieMenuBody uw_smileys_bar "> <div class="uw_flex_container"> <div class="hScroller" data-xf-init="h-scroller"> <span class="hScroller-scroll is-calculated" style="margin-bottom: -47px;"> <ul class="emojiList js-emojiList" style="flex-wrap: nowrap;"> <li> <a class="js-emoji" data-shortname=":bluepill:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite48" alt=":bluepill:" title="Bluepill :bluepill:" loading="lazy" data-shortname=":bluepill:"></a> </li><li> <a class="js-emoji" data-shortname=":redpill:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite47" alt=":redpill:" title="Redpill :redpill:" loading="lazy" data-shortname=":redpill:"></a> </li><li> <a class="js-emoji" data-shortname=":blackpill:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite49" alt=":blackpill:" title="Blackpill :blackpill:" loading="lazy" data-shortname=":blackpill:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsLSD:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite79" alt=":feelsLSD:" title="FeelsLSD :feelsLSD:" loading="lazy" data-shortname=":feelsLSD:"></a> </li><li> <a class="js-emoji" data-shortname=":dab:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite88" alt=":dab:" title="Dab :dab:" loading="lazy" data-shortname=":dab:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsdevil:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite102" alt=":feelsdevil:" title="FeelsDevil :feelsdevil:" loading="lazy" data-shortname=":feelsdevil:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsXmas:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite96" alt=":feelsXmas:" title="FeelsXmas :feelsXmas:" loading="lazy" data-shortname=":feelsXmas:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsmage:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite61" alt=":feelsmage:" title="FeelsMage :feelsmage:" loading="lazy" data-shortname=":feelsmage:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsohh:"><img src="/logo/emoji/FeelsOhh.png" class="smilie" loading="lazy" alt=":feelsohh:" title="FeelsOhh :feelsohh:" data-shortname=":feelsohh:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsUgh:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite92" alt=":feelsUgh:" title="FeelsUgh :feelsUgh:" loading="lazy" data-shortname=":feelsUgh:"></a> </li><li> <a class="js-emoji" data-shortname=":feelswhat:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite62" alt=":feelswhat:" title="FeelsWhat :feelswhat:" loading="lazy" data-shortname=":feelswhat:"></a> </li><li> <a class="js-emoji" data-shortname=":dafuckfeels:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite71" alt=":dafuckfeels:" title="DafuckFeels :dafuckfeels:" loading="lazy" data-shortname=":dafuckfeels:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsseriously:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite67" alt=":feelsseriously:" title="FeelsSeriously :feelsseriously:" loading="lazy" data-shortname=":feelsseriously:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsaww:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite100" alt=":feelsaww:" title="FeelsAww :feelsaww:" loading="lazy" data-shortname=":feelsaww:"></a> </li><li> <a class="js-emoji" data-shortname=":worryfeels:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite72" alt=":worryfeels:" title="WorryFeels :worryfeels:" loading="lazy" data-shortname=":worryfeels:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsohgod:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite75" alt=":feelsohgod:" title="FeelsOhGod :feelsohgod:" loading="lazy" data-shortname=":feelsohgod:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsautistic:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite14" alt=":feelsautistic:" title="FeelsAutistic :feelsautistic:" loading="lazy" data-shortname=":feelsautistic:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsmusic:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite73" alt=":feelsmusic:" title="FeelsMusic :feelsmusic:" loading="lazy" data-shortname=":feelsmusic:"></a> </li><li> <a class="js-emoji" data-shortname=":feelshaha:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite65" alt=":feelshaha:" title="FeelsHaha :feelshaha:" loading="lazy" data-shortname=":feelshaha:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsokman:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite20" alt=":feelsokman:" title="FeelsOkMan :feelsokman:" loading="lazy" data-shortname=":feelsokman:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsthink:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite66" alt=":feelsthink:" title="FeelsThink :feelsthink:" loading="lazy" data-shortname=":feelsthink:"></a> </li><li> <a class="js-emoji" data-shortname=":feelstastyman:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite23" alt=":feelstastyman:" title="FeelsTastyMan :feelstastyman:" loading="lazy" data-shortname=":feelstastyman:"></a> </li><li> <a class="js-emoji" data-shortname=":cryfeels:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite74" alt=":cryfeels:" title="CryFeels :cryfeels:" loading="lazy" data-shortname=":cryfeels:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsbadman:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite15" alt=":feelsbadman:" title="FeelsBadMan :feelsbadman:" loading="lazy" data-shortname=":feelsbadman:"></a> </li><li> <a class="js-emoji" data-shortname=":feelscry:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite17" alt=":feelscry:" title="FeelsCry :feelscry:" loading="lazy" data-shortname=":feelscry:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsrope:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite22" alt=":feelsrope:" title="FeelsRope :feelsrope:" loading="lazy" data-shortname=":feelsrope:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsugh:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite87" alt=":feelsugh:" title="FeelsUgh :feelsugh:" loading="lazy" data-shortname=":feelsugh:"></a> </li><li> <a class="js-emoji" data-shortname=":feelshmm:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite53" alt=":feelshmm:" title="FeelsHmm :feelshmm:" loading="lazy" data-shortname=":feelshmm:"></a> </li><li> <a class="js-emoji" data-shortname=":feelshehe:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite50" alt=":feelshehe:" title="FeelsHehe :feelshehe:" loading="lazy" data-shortname=":feelshehe:"></a> </li><li> <a class="js-emoji" data-shortname=":feelzez:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite18" alt=":feelzez:" title="FeelzEZ :feelzez:" loading="lazy" data-shortname=":feelzez:"></a> </li><li> <a class="js-emoji" data-shortname=":feelspuke:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite68" alt=":feelspuke:" title="FeelsPuke :feelspuke:" loading="lazy" data-shortname=":feelspuke:"></a> </li><li> <a class="js-emoji" data-shortname=":feelswhere:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite55" alt=":feelswhere:" title="FeelsWhere :feelswhere:" loading="lazy" data-shortname=":feelswhere:"></a> </li><li> <a class="js-emoji" data-shortname=":feelskek:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite51" alt=":feelskek:" title="FeelsKek :feelskek:" loading="lazy" data-shortname=":feelskek:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsstudy:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite105" alt=":feelsstudy:" title="FeelsStudy :feelsstudy:" loading="lazy" data-shortname=":feelsstudy:"></a> </li><li> <a class="js-emoji" data-shortname=":feelscomfy:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite101" alt=":feelscomfy:" title="FeelsComfy :feelscomfy:" loading="lazy" data-shortname=":feelscomfy:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsPop:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite93" alt=":feelsPop:" title="FeelsPop :feelsPop:" loading="lazy" data-shortname=":feelsPop:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsjuice:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite103" alt=":feelsjuice:" title="FeelsJuice :feelsjuice:" loading="lazy" data-shortname=":feelsjuice:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsUnreal:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite95" alt=":feelsUnreal:" title="FeelsUnreal :feelsUnreal:" loading="lazy" data-shortname=":feelsUnreal:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsEhh:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite98" alt=":feelsEhh:" title="FeelsEhh :feelsEhh:" loading="lazy" data-shortname=":feelsEhh:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsgah:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite38" alt=":feelsgah:" title="FeelsGah :feelsgah:" loading="lazy" data-shortname=":feelsgah:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsYall:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite94" alt=":feelsYall:" title="FeelsYall :feelsYall:" loading="lazy" data-shortname=":feelsYall:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsahh:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite37" alt=":feelsahh:" title="FeelsAhh :feelsahh:" loading="lazy" data-shortname=":feelsahh:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsBox:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite97" alt=":feelsBox:" title="FeelsBox :feelsBox:" loading="lazy" data-shortname=":feelsBox:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsclown:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite91" alt=":feelsclown:" title="FeelsClown :feelsclown:" loading="lazy" data-shortname=":feelsclown:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsbaton:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite16" alt=":feelsbaton:" title="FeelsBaton :feelsbaton:" loading="lazy" data-shortname=":feelsbaton:"></a> </li><li> <a class="js-emoji" data-shortname=":society:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite107" alt=":society:" title="Society :society:" loading="lazy" data-shortname=":society:"></a> </li><li> <a class="js-emoji" data-shortname=":feelstrash:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite40" alt=":feelstrash:" title="FeelsTrash :feelstrash:" loading="lazy" data-shortname=":feelstrash:"></a> </li><li> <a class="js-emoji" data-shortname=":feelssus:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite106" alt=":feelssus:" title="FeelsSus :feelssus:" loading="lazy" data-shortname=":feelssus:"></a> </li><li> <a class="js-emoji" data-shortname=":ha..feels:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite70" alt=":ha..feels:" title="HaFeels :ha..feels:" loading="lazy" data-shortname=":ha..feels:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsmega:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite19" alt=":feelsmega:" title="FeelsMega :feelsmega:" loading="lazy" data-shortname=":feelsmega:"></a> </li><li> <a class="js-emoji" data-shortname=":giga:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite46" alt=":giga:" title="FeelsGiga :giga:" loading="lazy" data-shortname=":giga:"></a> </li><li> <a class="js-emoji" data-shortname=":whatfeels:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite69" alt=":whatfeels:" title="WhatFeels :whatfeels:" loading="lazy" data-shortname=":whatfeels:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsping:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite104" alt=":feelsping:" title="FeelsPing :feelsping:" loading="lazy" data-shortname=":feelsping:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsree:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite21" alt=":feelsree:" title="FeelsRee :feelsree:" loading="lazy" data-shortname=":feelsree:"></a> </li><li> <a class="js-emoji" data-shortname=":reeeeee:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite77" alt=":reeeeee:" title="REEEEE :reeeeee:" loading="lazy" data-shortname=":reeeeee:"></a> </li><li> <a class="js-emoji" data-shortname=":fbi:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite99" alt=":fbi:" title="FBI :fbi:" loading="lazy" data-shortname=":fbi:"></a> </li><li> <a class="js-emoji" data-shortname=":feelsLightsaber:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite89" alt=":feelsLightsaber:" title="FeelsLightsaber :feelsLightsaber:" loading="lazy" data-shortname=":feelsLightsaber:"></a> </li><li> <a class="js-emoji" data-shortname=":incel:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite57" alt=":incel:" title="Incel :incel:" loading="lazy" data-shortname=":incel:"></a> </li><li> <a class="js-emoji" data-shortname=":chad:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite56" alt=":chad:" title="Chad :chad:" loading="lazy" data-shortname=":chad:"></a> </li><li> <a class="js-emoji" data-shortname=":feels:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite60" alt=":feels:" title="Feels :feels:" loading="lazy" data-shortname=":feels:"></a> </li><li> <a class="js-emoji" data-shortname=":soy:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite44" alt=":soy:" title="Soy :soy:" loading="lazy" data-shortname=":soy:"></a> </li><li> <a class="js-emoji" data-shortname=":banhammer:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite43" alt=":banhammer:" title="Banhammer :banhammer:" loading="lazy" data-shortname=":banhammer:"></a> </li><li> <a class="js-emoji" data-shortname=":no:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite31" alt=":no:" title="No :no:" loading="lazy" data-shortname=":no:"></a> </li><li> <a class="js-emoji" data-shortname=":yes:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite36" alt=":yes:" title="Yes :yes:" loading="lazy" data-shortname=":yes:"></a> </li><li> <a class="js-emoji" data-shortname=":heart:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite58" alt=":heart:" title="Heart :heart:" loading="lazy" data-shortname=":heart:"></a> </li><li> <a class="js-emoji" data-shortname=":f:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite64" alt=":f:" title="F :f:" loading="lazy" data-shortname=":f:"></a> </li><li> <a class="js-emoji" data-shortname=":horror:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite28" alt=":horror:" title="Horror :horror:" loading="lazy" data-shortname=":horror:"></a> </li><li> <a class="js-emoji" data-shortname=":forcedsmile:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite26" alt=":forcedsmile:" title="ForcedSmile :forcedsmile:" loading="lazy" data-shortname=":forcedsmile:"></a> </li><li> <a class="js-emoji" data-shortname=":kys:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite29" alt=":kys:" title="Kys :kys:" loading="lazy" data-shortname=":kys:"></a> </li><li> <a class="js-emoji" data-shortname=":rolleyes:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite11" alt=":rolleyes:" title="Roll Eyes :rolleyes:" loading="lazy" data-shortname=":rolleyes:"></a> </li><li> <a class="js-emoji" data-shortname=":("><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite3" alt=":(" title="Frown :(" loading="lazy" data-shortname=":("></a> </li><li> <a class="js-emoji" data-shortname=":waitwhat:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite63" alt=":waitwhat:" title="Wait... :waitwhat:" loading="lazy" data-shortname=":waitwhat:"></a> </li><li> <a class="js-emoji" data-shortname=":)"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite1" alt=":)" title="Smile :)" loading="lazy" data-shortname=":)"></a> </li><li> <a class="js-emoji" data-shortname=";)"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite2" alt=";)" title="Wink ;)" loading="lazy" data-shortname=";)"></a> </li><li> <a class="js-emoji" data-shortname=":D"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite8" alt=":D" title="Big Grin :D" loading="lazy" data-shortname=":D"></a> </li><li> <a class="js-emoji" data-shortname=":p"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite7" alt=":p" title="Stick Out Tongue :p" loading="lazy" data-shortname=":p"></a> </li><li> <a class="js-emoji" data-shortname=":lul:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite30" alt=":lul:" title="LUL :lul:" loading="lazy" data-shortname=":lul:"></a> </li><li> <a class="js-emoji" data-shortname=":y\\'all:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite59" alt=":y\\'all:" title="Y\\'all :y\\'all:" loading="lazy" data-shortname=":y\\'all:"></a> </li><li> <a class="js-emoji" data-shortname=":cool:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite6" alt=":cool:" title="Cool :cool:" loading="lazy" data-shortname=":cool:"></a> </li><li> <a class="js-emoji" data-shortname=":what:"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="smilie smilie--sprite smilie--sprite35" alt=":what:" title="What :what:" loading="lazy" data-shortname=":what:"></a> </li></ul> </span><i class="hScroller-action hScroller-action--end" aria-hidden="true"></i><i class="hScroller-action hScroller-action--start" aria-hidden="true"></i> </div><span class="uw_down_arrow closed" data-xf-init="tooltip" data-original-title="Smileys menu" id="js-XFUniqueId43"> <i class="far fa-ellipsis-v"></i> </span> </div><div class="uw_clear"></div><div class="uw_smiley_menu" aria-hidden="true" data-href="/editor/smilies-emoji" data-load-target=".js-xfSmilieMenuBody"> <div class="menu-content"> <div class="js-xfSmilieMenuBody"> <div class="menu-row">Loading…</div></div></div></div></div><div class="formButtonGroup formButtonGroup--simple"><div class="formButtonGroup-primary"><button type="submit" class="button--primary button button--icon button--icon--reply"><span class="button-text">Post comment</span></button></div><input type="hidden" name="last_date" value="" autocomplete="off"><input type="hidden" name="last_known_date" value="0" autocomplete="off"><input type="hidden" name="load_extra" value="1"></div>';

//set the time to now for time things
var time = Date.now() / 1000 | 0;
editorHTML = editorHTML .replaceAll("**time**", time);

$.ajaxSetup({
	dataFilter: function(data, type) {
		
		if (type != 'json') {
			return data;
		}
		
		var res = JSON.parse(data);

        //these are the kinds of ajax requests that we aren't interested in
        if(typeof res.redirect != 'undefined'){
			return data;
        }
		if(res.html.content.indexOf('editorPlaceholder-editor is-hidden') == -1){
			return data;
		}
		
		//add editor html
		res.html.content = res.html.content.replace('<div class="editorPlaceholder-editor is-hidden">', editorHTML );
		//add editor js
		res.html.js.push("/js/xf/editor-compiled.js?_v=2cec7437");
		res.html.js.push("/js/xfmg/editor.min.js?_v=2cec7437");
		res.html.js.push("/js/UW/SmileysBar/editor.min.js?_v=2cec7437");
		//add editor css
		res.html.css.push("public:editor.less");
		res.html.css.push("public:uw_smileys_bar.less");
		
		res = JSON.stringify(res);
		return res;
	}
});`;

var script = document.createElement("script");
script.type="text/javascript";
script.innerHTML = js;
document.body.appendChild(script);