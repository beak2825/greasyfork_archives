// ==UserScript==
// @name         右键双击关闭页面-Double-click to close the page
// @namespace    https://github.com/omoristation
// @version      0.4
// @description  右键双击页面任意位置即可关闭当前页面（双击间隔350ms以内）
// @author       omoristation
// @match        *://*/*
// @grant        window.close
// @license      MIT
// @run-at       document-start
// @icon         data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAADkCAYAAACIV4iNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE6WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0wMy0yMlQxOToyOTozOSswOTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMDMtMjJUMTk6MzE6NTUrMDk6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjUtMDMtMjJUMTk6MzE6NTUrMDk6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc1ZWIwY2ZjLWJkODMtZDA0Mi05M2VhLTI1YjYxZDU4NGEyNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1w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
// @downloadURL https://update.greasyfork.org/scripts/530520/%E5%8F%B3%E9%94%AE%E5%8F%8C%E5%87%BB%E5%85%B3%E9%97%AD%E9%A1%B5%E9%9D%A2-Double-click%20to%20close%20the%20page.user.js
// @updateURL https://update.greasyfork.org/scripts/530520/%E5%8F%B3%E9%94%AE%E5%8F%8C%E5%87%BB%E5%85%B3%E9%97%AD%E9%A1%B5%E9%9D%A2-Double-click%20to%20close%20the%20page.meta.js
// ==/UserScript==

(function() {
	var rightMouseup = 0;
	var lastRightClick = 0;
	onmouseup = function(e) {
		if (e.button == 2) {
			var currentTime = new Date().getTime();
			if (rightMouseup == 0) {
				rightMouseup++;
				lastRightClick = currentTime;
				setTimeout(function() {
					rightMouseup = 0;
				}, 350);
			} else {
				if (currentTime - lastRightClick > 150) {
					//alert("你点了右键");
					rightMouseup = 0;
					window.close();
				} else {
					rightMouseup = 0;
				}
			}
		}
	}
})();