// ==UserScript==
// @name         Dirty AutoLogin
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  Automatically logs you into 1830s and Transmodes when using WebUI
// @author       You
// @match        *.0/*
// @match        *.1/*
// @match        *.2/*
// @match        *.3/*
// @match        *.4/*
// @match        *.5/*
// @match        *.6/*
// @match        *.7/*
// @match        *.8/*
// @match        *.9/*
// @match        *.10/*
// @match        *.11/*
// @match        *.12/*
// @match        *.13/*
// @match        *.14/*
// @match        *.15/*
// @match        *.16/*
// @match        *.17/*
// @match        *.18/*
// @match        *.19/*
// @match        *.20/*
// @match        *.21/*
// @match        *.22/*
// @match        *.23/*
// @match        *.24/*
// @match        *.25/*
// @match        *.26/*
// @match        *.27/*
// @match        *.28/*
// @match        *.29/*
// @match        *.30/*
// @match        *.31/*
// @match        *.32/*
// @match        *.33/*
// @match        *.34/*
// @match        *.35/*
// @match        *.36/*
// @match        *.37/*
// @match        *.38/*
// @match        *.39/*
// @match        *.40/*
// @match        *.41/*
// @match        *.42/*
// @match        *.43/*
// @match        *.44/*
// @match        *.45/*
// @match        *.46/*
// @match        *.47/*
// @match        *.48/*
// @match        *.49/*
// @match        *.50/*
// @match        *.51/*
// @match        *.52/*
// @match        *.53/*
// @match        *.54/*
// @match        *.55/*
// @match        *.56/*
// @match        *.57/*
// @match        *.58/*
// @match        *.59/*
// @match        *.60/*
// @match        *.61/*
// @match        *.62/*
// @match        *.63/*
// @match        *.64/*
// @match        *.65/*
// @match        *.66/*
// @match        *.67/*
// @match        *.68/*
// @match        *.69/*
// @match        *.70/*
// @match        *.71/*
// @match        *.72/*
// @match        *.73/*
// @match        *.74/*
// @match        *.75/*
// @match        *.76/*
// @match        *.77/*
// @match        *.78/*
// @match        *.79/*
// @match        *.80/*
// @match        *.81/*
// @match        *.82/*
// @match        *.83/*
// @match        *.84/*
// @match        *.85/*
// @match        *.86/*
// @match        *.87/*
// @match        *.88/*
// @match        *.89/*
// @match        *.90/*
// @match        *.91/*
// @match        *.92/*
// @match        *.93/*
// @match        *.94/*
// @match        *.95/*
// @match        *.96/*
// @match        *.97/*
// @match        *.98/*
// @match        *.99/*
// @match        *.100/*
// @match        *.101/*
// @match        *.102/*
// @match        *.103/*
// @match        *.104/*
// @match        *.105/*
// @match        *.106/*
// @match        *.107/*
// @match        *.108/*
// @match        *.109/*
// @match        *.110/*
// @match        *.111/*
// @match        *.112/*
// @match        *.113/*
// @match        *.114/*
// @match        *.115/*
// @match        *.116/*
// @match        *.117/*
// @match        *.118/*
// @match        *.119/*
// @match        *.120/*
// @match        *.121/*
// @match        *.122/*
// @match        *.123/*
// @match        *.124/*
// @match        *.125/*
// @match        *.126/*
// @match        *.127/*
// @match        *.128/*
// @match        *.129/*
// @match        *.130/*
// @match        *.131/*
// @match        *.132/*
// @match        *.133/*
// @match        *.134/*
// @match        *.135/*
// @match        *.136/*
// @match        *.137/*
// @match        *.138/*
// @match        *.139/*
// @match        *.140/*
// @match        *.141/*
// @match        *.142/*
// @match        *.143/*
// @match        *.144/*
// @match        *.145/*
// @match        *.146/*
// @match        *.147/*
// @match        *.148/*
// @match        *.149/*
// @match        *.150/*
// @match        *.151/*
// @match        *.152/*
// @match        *.153/*
// @match        *.154/*
// @match        *.155/*
// @match        *.156/*
// @match        *.157/*
// @match        *.158/*
// @match        *.159/*
// @match        *.160/*
// @match        *.161/*
// @match        *.162/*
// @match        *.163/*
// @match        *.164/*
// @match        *.165/*
// @match        *.166/*
// @match        *.167/*
// @match        *.168/*
// @match        *.169/*
// @match        *.170/*
// @match        *.171/*
// @match        *.172/*
// @match        *.173/*
// @match        *.174/*
// @match        *.175/*
// @match        *.176/*
// @match        *.177/*
// @match        *.178/*
// @match        *.179/*
// @match        *.180/*
// @match        *.181/*
// @match        *.182/*
// @match        *.183/*
// @match        *.184/*
// @match        *.185/*
// @match        *.186/*
// @match        *.187/*
// @match        *.188/*
// @match        *.189/*
// @match        *.190/*
// @match        *.191/*
// @match        *.192/*
// @match        *.193/*
// @match        *.194/*
// @match        *.195/*
// @match        *.196/*
// @match        *.197/*
// @match        *.198/*
// @match        *.199/*
// @match        *.200/*
// @match        *.201/*
// @match        *.202/*
// @match        *.203/*
// @match        *.204/*
// @match        *.205/*
// @match        *.206/*
// @match        *.207/*
// @match        *.208/*
// @match        *.209/*
// @match        *.210/*
// @match        *.211/*
// @match        *.212/*
// @match        *.213/*
// @match        *.214/*
// @match        *.215/*
// @match        *.216/*
// @match        *.217/*
// @match        *.218/*
// @match        *.219/*
// @match        *.220/*
// @match        *.221/*
// @match        *.222/*
// @match        *.223/*
// @match        *.224/*
// @match        *.225/*
// @match        *.226/*
// @match        *.227/*
// @match        *.228/*
// @match        *.229/*
// @match        *.230/*
// @match        *.231/*
// @match        *.232/*
// @match        *.233/*
// @match        *.234/*
// @match        *.235/*
// @match        *.236/*
// @match        *.237/*
// @match        *.238/*
// @match        *.239/*
// @match        *.240/*
// @match        *.241/*
// @match        *.242/*
// @match        *.243/*
// @match        *.244/*
// @match        *.245/*
// @match        *.246/*
// @match        *.247/*
// @match        *.248/*
// @match        *.249/*
// @match        *.250/*
// @match        *.251/*
// @match        *.252/*
// @match        *.253/*
// @match        *.254/*
// @match        *.255/*
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/396307/Dirty%20AutoLogin.user.js
// @updateURL https://update.greasyfork.org/scripts/396307/Dirty%20AutoLogin.meta.js
// ==/UserScript==

(function() {
    'use strict';
    //This script will run on any URL which has an octet (is an IP address) in it
    //First we verify that there is equipment this script is compatible with, then we initialize variables, and lastly we execute the appropriate commands to login to the equipment

    is1830();
    isTransmode();
    var intervalID;
    var intervalCount = 0;
    var equipmentType;

    function initScript() {
        console.log("Autologin Webpage Detected");
        intervalID = setInterval(justTry, 500); //Asynchronously run the justTry() function every 500ms (0.5seconds), and save the intervalID internally so we can clear it later
    };

    function justTry () {
        intervalCount ++;
        if (intervalCount > 10){ //IF for whatever reason we've been doing this for 10x the interval period (10x0.5seconds, at time of writing) then stop trying
            clearInterval(intervalID); //Stop the execution of this function entirely
            console.log("AutoLogin Failure");
            window.alert("AutoLogin Failure");
        };

        switch(equipmentType) {
            case "1830":
                if(document.getElementById("LoginFrame").contentWindow.document.getElementById("loginButton")){ //See if 1830 Login button is loaded
                    console.log("Autologin success");
                    clearInterval(intervalID); //Stop the execution of this function entirely
                    document.getElementById("LoginFrame").contentWindow.document.getElementById("user").value = "admin"; //Set username to "admin"
                    document.getElementById("LoginFrame").contentWindow.document.getElementById("pass").value = "admin"; //Set password to "admin"
                    document.getElementById("LoginFrame").contentWindow.document.getElementById("loginButton").click(); //Click the Login button
                };
                break;
            case "Transmode":
                if (document.getElementById("loginButton")){
                    console.log("Autologin success");
                    clearInterval(intervalID); //Stop the execution of this function entirely
                    document.getElementById("userName").value = "root";
                    document.getElementById("password").value = "root";
                    document.getElementById("loginButton").click();
                };
                break;
        };
    };

    function is1830 () {
        if (document.getElementById("LoginFrame")){
            equipmentType = "1830";
            initScript();
        };
    };

    function isTransmode () {
        if (document.getElementById("loginBannerPre")){
            equipmentType = "Transmode";
            initScript();
        };
    };

})();