// ==UserScript==
// @name          Square Dark Reactor [BY DONOTBLINK]
// @description	  новая квадратная темная тема
// @author        DoNotBlink
// @include       *://reactor.cc/*
// @include       *://joyreactor.cc/*
// @include       *://*.reactor.cc/*
// @exclude       *://old.reactor.cc/*
// @exclude       *://img*.reactor.cc/*
// @exclude       *://m.reactor.cc/*
// @exclude       *://m.joyreactor.cc/*
// @run-at        document-start
// @version       0.4
// @namespace https://greasyfork.org/users/675552
// @downloadURL https://update.greasyfork.org/scripts/464289/Square%20Dark%20Reactor%20%5BBY%20DONOTBLINK%5D.user.js
// @updateURL https://update.greasyfork.org/scripts/464289/Square%20Dark%20Reactor%20%5BBY%20DONOTBLINK%5D.meta.js
// ==/UserScript==
document.addEventListener("DOMContentLoaded", function(event) {var css = [
"body {",
"    background-color: #17202a;",
"	color: #cbcbcb;",
"}",
"#background, html, body {",
"    background: #17202a;",
"}",
"#container {",
"    background: linear-gradient(0deg, rgba(23,32,42,0) 97%, rgba(16,48,84,1) 100%);",
"}",
".topbar_wr {",
"    background: #020f1e;",
"}",
"#pageinner {",
"    background: #283038;",
"}",
"a {",
"    color: #98acc9;",
"    text-decoration-color: #5f6083;",
"}",
"#sidebar {",
"    color: #cbcbcb;",
"}",
".taglist a {",
"    color: #cbcbcb;",
"}",
".article .uhead a {",
"    color: #898989;",
"}",
"#searchBar {",
"    background: #586370;",
"}",
"#container:before {",
"    background: rgba(0,0,0,0);",
"}",
"#container:after {",
"    background: rgba(0,0,0,0);",
"}",
"#submenu a, #submenu b {",
"    color: #cbcbcb;",
"}",
".article .ufoot span a.response {",
"    font-size: 15px;",
"}",
".small_comments_button {",
"    background: #dfdfdf;",
"    color: #000;",
"}",
".manage_post_wr {",
"    background: #586370;",
"    border: 2px solid #818181;",
"}",
".commentnum {",
"    border: 2px solid #818181;",
"    background: #586370;",
"}",
".commentnum:hover {",
"    border: 2px solid #fdb201;",
"    background: #586370;",
"}",
".comment {",
"    color: #fff;",
"    background: #59636f;",
"}",
".article .ufoot span.hidden_link a {",
"    color: #cdcdcd;",
"}",
".article .ufoot span.link_wr a {",
"    color: #cdcdcd;",
"}",
".kelly-jr-ui-post-addtofav {",
"    color: #cdcdcd;",
"}",
".comment_username, .comment_username:hover {",
"    color: #dddddd;",
"}",
".comment.new {",
"    background: #6e6969;",
"}",
".comment.new_my {",
"    background: #89967b;",
"}",
".comments_bottom {",
"    color: #cdcdcd;",
"}",
".blogs {",
"    color: #dddddd;",
"}",
".user .weekrating {",
"    background: #283038;",
"}",
".user.week_top a {",
"    background: #283038;",
"}",
".user.week_top .userposition {",
"    background: #283038;",
"}",
".user.week_top {",
"    background: transparent;",
"}",
".post_content h3,",
".post_content h4,",
".post_content h5 {",
"    color: #ffffff;",
"}",
".addcomment a {",
"    color: #cdcdcd;",
"}",
".article .post_content_expand, #tagArticle .post_content_expand {",
"   background: #030f1d;",
"}",
".article .post_content_expand span, #tagArticle .post_content_expand span {",
"    color: #cdcdcd;",
"    line-height: 45px;",
"}",
".article .post_content_expand:hover, #tagArticle .post_content_expand:hover {",
"    border: 2px solid #fdb201;",
"}",
".article .post_content_expand, #tagArticle .post_content_expand {",
"    border: 2px solid #818181;",
"}",
".pagination_main .pagination_toggler {",
"    background: #59636f;",
"}",
".pagination_expanded a, .pagination_expanded span {",
"    background: #59636f;",
"    min-width: 15px;",
"    margin: 0 1px;",
"}",
".pagination a {",
"    color: #cdcdcd;",
"}",
".pagination span {",
"    color: #cdcdcd;",
"}",
".pagination .current, .pagination .next, .pagination .prev {",
"    color: #000;",
"}",
".pagination_full .prev, .pagination_full .current.prev, .pagination_full .next, .pagination_full .current.next {",
"    font-size: 14px;",
"    width: 85px;",
"}",
".article.active {",
"    border: 2px solid #98acc97d;",
"}",
"textarea {",
"    border: transparent;",
"}",
"textarea:focus {",
"    outline: 4px solid #98acc9;",
"}",
"input[type='submit'], input[type='button'], button, .big_button {",
"}",
"input#tag, .post_share_view input, .sfSignin input[type='text'], .sfSignin input[type='password'], .sf_apply input[type='text'], .sf_apply input[type='password'], #demotivator_form input[type='text'], .addcomment input[type='text'], #add_post input[type='text'], #add_poll input[type='text'], input[type='text'] {",
"    background: #59636f;",
"    color: #fff;",
"}",
".addcomment textarea {",
"    background: #6f7b89;",
"    color: #fff;",
"}",
".video_gif_source {",
"    background: rgb(72 61 60);",
"    color: #fff;",
"    line-height: 10px;",
"}",
"iframe {",
"    width: 100%;",
"    aspect-ratio: 16 / 9;",
"    height: auto;",
"}",
"iframe[src^='https://w.soundcloud.com'] {",
"    aspect-ratio: auto;",
"}",
"#navcontainer:after {",
"    background: #020f1e;",
"}",
".post_random a {",
"    color: #cbcbcb;",
"    background: #586370;",
"}",
".post_random a:after {",
"    display: none;",
"}",
"#sidebar .tabs_titles ul li a, #contentinner .tabs_titles ul li a {",
"    color: #cbcbcb;",
"    background: #586370;",
"}",
"#submenu div.tagname {",
"    color: #cbcbcb;",
"}",
".redactor_box, .redactor_box textarea {",
"    background-color: #6f7b89;",
"    color: #fff;",
"}",
".redactor_editor, .redactor_editor:focus {",
"    background: #6f7b89 !important;",
"}",
"#add_post div.add_post_header_input input.tip {",
"    color: #cbcbcb;",
"    background: #6f7b89;",
"}",
"#add_post div.add_post_header_input input {",
"    color: #fff;",
"    background: #6f7b89;",
"}",
"#add_post div.add_post_tags_input input.tip {",
"    color: #fff;",
"    background: #6f7b89;",
"}",
"#add_post div.add_post_tags_input input {",
"    color: #fff;",
"    background: #6f7b89;",
"}",
".ui-widget-content {",
"    color: #fff;",
"    background: #6f7b89;",
"}",
"#add_post span.super-tag {",
"    color: #cbcbcb;",
"    background: #586370;",
"}",
"input[type='submit'], input[type='button'], button:hover, .big_button:hover {",
"    color: #000;",
"}",
".ui-tabs-vertical .ui-tabs-panel {",
"    background: #6f7b89;",
"}",
"#private_message_tabs, .ui-tabs-panel {",
"    background: #586370;",
"}",
".ui-tabs-active a {",
"    color: #081522 !important;",
"    background-color: #cbcbcb !important;",
"}",
".private_message_own {",
"    margin-left: auto;",
"    background-color: #586370;",
"}",
".private_message {",
"    background-color: #586370;",
"}",
".private_message_reply_button {",
"    background-color: #cbcbcb;",
"}",
"#sf_apply_settings_form textarea {",
"    width: 400px;",
"    margin: 5px 0;",
"    background: #59636f;",
"    border: 1px solid #e5e5e5;",
"}",
".post_rating {",
"    font-size: 18px;",
"}",
"* { border-radius: 0 !important; }",
"div.vote-plus {",
"    box-sizing: border-box;",
"    position: relative;",
"    transform: scale(var(--ggs,1));",
"    width: 30px;",
"    height: 30px;",
"    border: 2px solid;",
"    background: #37702d;",
"}",
"div.vote-plus::after,",
"div.vote-plus::before {",
"    content: '';",
"    display: block;",
"    box-sizing: border-box;",
"    position: absolute;",
"}",
"div.vote-plus::before {",
"    background: currentColor;",
"    box-shadow: 10px 0 0;",
"    width: 4px;",
"    height: 4px;",
"    border-radius: 50%;",
"    top: 7px;",
"    left: 6px;",
"}",
"div.vote-plus::after {",
"    width: 12px;",
"    height: 6px;",
"    border-radius: 150px;",
"    border-top-left-radius: 0;",
"    border-top-right-radius: 0;",
"    border: 2px solid;",
"    border-top-color: transparent;",
"    top: 15px;",
"    left: 7px;",
"}",
"div.vote-minus {",
"    box-sizing: border-box;",
"    position: relative;",
"    transform: scale(var(--ggs,1));",
"    width: 30px;",
"    height: 30px;",
"    border: 2px solid;",
"    background: #702d2d;",
"}",
"div.vote-minus::after,",
"div.vote-minus::before {",
"    content: '';",
"    display: block;",
"    box-sizing: border-box;",
"    position: absolute;",
"}",
"div.vote-minus::before {",
"    background: currentColor;",
"    box-shadow: 10px 0 0;",
"    width: 4px;",
"    height: 4px;",
"    border-radius: 50%;",
"    top: 7px;",
"    left: 6px;",
"}",
"div.vote-minus::after {",
"    width: 12px;",
"    height: 6px;",
"    border-radius: 150px;",
"    border-top-left-radius: 0;",
"    border-top-right-radius: 0;",
"    border: 2px solid;",
"    border-top-color: transparent;",
"    top: 15px;",
"    left: 7px;",
"    transform: scaleY(-1)",
"}",
".comment_rating div.vote-plus, .comment_rating div.vote-minus {",
"    background: #dfdfdf;",
"}"
].join("\n");
var jss = [
'(function(b) {',
'    b(document).on("mouseenter", ".comment", function() {',
'        b(this).removeClass("new").removeClass("new_my").css("background", "#383f46");',
'        b(this).closest(".comment_list").prev(".comment").css("background", "#383f46");',
'        b(this).next(".comment_list").children(".comment").css("background", "#383f46")',
'    }).on("mouseleave", ".comment", function() {',
'        b(this).css("background", "");',
'        b(this).closest(".comment_list").prev(".comment").css("background", "");',
'        b(this).next(".comment_list").children(".comment").css("background",',
'            "")',
'    }).on("DOMUpdate", function(k) {',
'        window.user_id && b(k.target).find(".comment:not(.hightlighted)[timestamp!=]").each(function() {',
'            var D = b(this).attr("parent");',
'            D = window["commentTime" + D];',
'            b(this).attr("timestamp") > D && (b(this).parent().attr("creatorid") == window.user_id && b(this).addClass("new_my"), b(this).addClass("new"));',
'            b(this).addClass("hightlighted")',
'        })',
'    })',
'})(jQuery);',
].join('\n');
if (typeof GM_addStyle != "undefined") {
	GM_addStyle(css);
	GM_addElement('script', {jss});
} else if (typeof PRO_addStyle != "undefined") {
	PRO_addStyle(css);
} else if (typeof addStyle != "undefined") {
	addStyle(css);
} else {
	var node = document.createElement("style");
	node.type = "text/css";
	node.appendChild(document.createTextNode(css));
	var heads = document.getElementsByTagName("head");
	if (heads.length > 0) {
		heads[0].appendChild(node);
	} else {
		document.documentElement.appendChild(node);
	}
	var node2 = document.createElement("script");
	node2.type = "text/Javascript";
	node2.appendChild(document.createTextNode(jss));
	if (heads.length > 0) {
		heads[0].appendChild(node2);
	} else {
		document.documentElement.appendChild(node2);
	}
}
})();
