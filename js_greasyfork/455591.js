// ==UserScript==
// @name            修改翱翔门户研究生教务系统样式
// @name：en        修改翱翔门户研究生教务系统样式
// @namespace       https://github.com/dadaewqq/fun
// @version         1.6
// @description     增加favicon，替换头像，去除二级菜单修改布局，精简冗余元素，修改所有链接从新标签页打开
// @description:en  增加favicon，替换头像，去除二级菜单修改布局，精简冗余元素，修改所有链接从新标签页打开
// @author          dadaewqq
// @match           https://yjsjy.nwpu.edu.cn/pyxx/*
// @icon            https://yjsjy.nwpu.edu.cn/pyxx/resources/main/YKT.png
// @grant           none
// @license         MIT

// @downloadURL https://update.greasyfork.org/scripts/455591/%E4%BF%AE%E6%94%B9%E7%BF%B1%E7%BF%94%E9%97%A8%E6%88%B7%E7%A0%94%E7%A9%B6%E7%94%9F%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E6%A0%B7%E5%BC%8F.user.js
// @updateURL https://update.greasyfork.org/scripts/455591/%E4%BF%AE%E6%94%B9%E7%BF%B1%E7%BF%94%E9%97%A8%E6%88%B7%E7%A0%94%E7%A9%B6%E7%94%9F%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E6%A0%B7%E5%BC%8F.meta.js
// ==/UserScript==

(function() {
    'use strict';
    
    //添加favicon
    $("head").append("<link rel='icon' href='https://portal-minio.nwpu.edu.cn/cms/60_60-1612168704151-1620739414523.png'>");

    //替换头像
    var limao = "https://yjsjy.nwpu.edu.cn/pyxx/resources/main/YKT.png";
    $(".nav-user-photo:last").attr('src' , limao);
    $("#avatar2").attr('src' , limao);

    //样式修改
    $("div.col-xs-12.col-sm-12.widget-container-span").html(`\n                        <div class="widget-box">\n                          <div class="widget-header">\n                            <h5 class="smaller bolder"><i class="icon-table"> </i>个人信息与日常事务</h5>\n                          </div>\n                          <div class="widget-body">\n                            <div class="widget-main no-padding">\n                              <div class="row">\n                                <div class="space-6"></div>\n                                <div class="infobox-container" style="text-align: left; padding-left: 30px">\n                                  <a href="/pyxx/grxx/xqzc" target="_blank">\n                                    <div class="infobox infobox-green" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">学期注册</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/grxx/gsrxdj/index" target="_blank">\n                                    <div class="infobox infobox-pink" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">入学登记</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/grxx/xjydsq/index/edit" target="_blank">\n                                    <div class="infobox infobox-pink" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon6.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">学籍异动申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/xjgl/xj/editgrxx" target="_blank">\n                                    <div class="infobox infobox-green" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">在校生基本情况</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/xjxxxg/index" target="_blank">\n                                    <div class="infobox infobox-green" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon14.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">学籍信息修改</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/clxz/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">材料下载</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/pyhjzqkhsqb/ndkhsqb/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">年度考核申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                </div>\n                                <div class="space-6"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="widget-box">\n                          <div class="widget-header">\n                            <h5 class="smaller bolder"><i class="icon-table"> </i>教学&amp;培养方案与计划</h5>\n                          </div>\n                          <div class="widget-body">\n                            <div class="widget-main no-padding">\n                              <div class="row">\n                                <div class="space-6"></div>\n                                <div class="infobox-container" style="text-align: left; padding-left: 30px">\n                                  <a href="/pyxx/pygl/jxpj/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">课程教学评价</div>\n                                      </div>\n                                    </div>\n                                  </a>\n\n                                  <a href="/pyxx/gjjl/gjhysqb/index" target="_blank">\n                                    <div class="infobox infobox-red2" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">国际交流</div>\n                                      </div>\n                                    </div>\n                                  </a>\n\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/ggxx/xlsspyfa/query')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon1.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">全校培养方案</div>\n                                      </div>\n                                    </div>\n                                  </a>\n\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/ggxx/xlsspyfa/view')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon2.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">个人培养方案</div>\n                                      </div>\n                                    </div>\n                                  </a>\n\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/pyjhtj')">\n                                    <div class="infobox infobox-orange3" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon8.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">培养计划提交</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/pyjhbgsq/list')">\n                                    <div class="infobox infobox-orange3" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon14.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">培养计划变更</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/pyjhcx')">\n                                    <div class="infobox infobox-orange3">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">培养计划查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                </div>\n                                <div class="space-6"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="widget-box">\n                          <div class="widget-header">\n                            <h5 class="smaller bolder"><i class="icon-table"> </i>课程与成绩&amp;论文与竞赛</h5>\n                          </div>\n                          <div class="widget-body">\n                            <div class="widget-main no-padding">\n                              <div class="row">\n                                <div class="space-6"></div>\n                                <div class="infobox-container" style="text-align: left; padding-left: 30px">\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/xktz/xktzsq/index')">\n                                    <div class="infobox infobox-red2" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">课程调整申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/kcmxsq/index')">\n                                    <div class="infobox infobox-red2" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">免修申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/xksq/index?lb=hk')">\n                                    <div class="infobox infobox-red2" style="padding: 5px">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">缓考申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/xkjg/index')">\n                                    <div class="infobox infobox-green2">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">选课结果查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/xskbcx')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">课表查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/kckkcx/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">全校开课查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/ttkxxcx/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon14.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">调停课信息查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/pkjlcx/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">课程排课查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/kskcxx/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">排考查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/xscjcx/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">成绩查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/wxqr/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">论文维护</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/grgl/zl/kycgcx')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">专利查询</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/ygxsjlmd/jsksq')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">竞赛认定申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/ygxsjlmd/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">竞赛奖励申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                </div>\n                                <div class="space-6"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="widget-box">\n                          <div class="widget-header">\n                            <h5 class="smaller bolder"><i class="icon-table"> </i>培养环节管理</h5>\n                          </div>\n                          <div class="widget-body">\n                            <div class="widget-main no-padding">\n                              <div class="row">\n                                <div class="space-6"></div>\n                                <div class="infobox-container" style="text-align: left; padding-left: 30px">\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/lwktbgsqb/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">开题报告申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/lwktbgsqb/kttmxg')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon6.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">开题报告修改</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/pygl/zqkhsqb')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon15.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">中期考核申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="window.open('/pyxx/grgl/hj/pyhjsq/index')">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon3.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">其他环节申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                </div>\n                                <div class="space-6"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="widget-box">\n                          <div class="widget-header">\n                            <h5 class="smaller bolder"><i class="icon-table"> </i>毕业&amp;学位管理</h5>\n                          </div>\n                          <div class="widget-body">\n                            <div class="widget-main no-padding">\n                              <div class="row">\n                                <div class="space-6"></div>\n                                <div class="infobox-container" style="text-align: left; padding-left: 30px">\n                                  <a href="/pyxx/grgl/ybysq/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">预毕业申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/jysq/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon13.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">结业申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n\n                                  <a href="/pyxx/pygl/lwsssqb/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">送审申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/lwsssqb/xwlwsc/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">送审论文上传</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/lwsssqb/indexec" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon14.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">再次送审申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/lwsssqb/indexss" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon18.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">申诉申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/dbsqb/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon20.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">答辩申请</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/xjgl/xj/editgrxx?type=1&amp;timestamp=" +new="" date().gettime()="" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon10.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">上报信息核实</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="/pyxx/pygl/zzlwsc/index" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">最终论文上传</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                </div>\n                                <div class="space-6"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="widget-box">\n                          <div class="widget-header">\n                            <h5 class="smaller bolder"><i class="icon-table"> </i>其他系统</h5>\n                          </div>\n                          <div class="widget-body">\n                            <div class="widget-main no-padding">\n                              <div class="row">\n                                <div class="space-6"></div>\n                                <div class="infobox-container" style="text-align: left; padding-left: 30px">\n                                  <a href="http://gsnwpucfd.yuketang.cn/edu_admin/university_cas_login/2604/" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/YKT.png" width="44">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">雨课堂</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                  <a href="javascript:void(0)" onclick="zhsfun()" target="_blank">\n                                    <div class="infobox infobox-green">\n                                      <div class="infobox-icon">\n                                        <img src="/pyxx/resources/main/grxxicon16.png">\n                                      </div>\n                                      <div class="infobox-data">\n                                        <div class="infobox-content">智慧树</div>\n                                      </div>\n                                    </div>\n                                  </a>\n                                </div>\n                                <div class="space-6"></div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      `);

    //隐藏通知公告以及冗余元素
    $('a[href^="/"]').attr('target','_blank');
    $('.sltb').hide();
    $('[onclick="yjx()"]').hide();
    $('div.col-xs-12.col-sm-9.widget-container-span > div.widget-box').hide();
    $('.body-footer').hide();
    $('#btn-scroll-up').hide();
    $('div.col-xs-12.col-sm-12.widget-container-span .widget-box:last').hide();

    //修改颜色
    var color = 'rgb(204,92,124)';
    $('.navbar').css('background', color);
    $('.light-blue>a').css('background', color);
    $('.widget-header').css({'background': color,'border':'none'});
    $('.alert').css('background', color);



})();