// ==UserScript==
// @name         ã‚¢ã‚¤ãƒŒèªç‰ˆã‚¦ã‚£ã‚­ãƒšãƒ‡ã‚£ã‚¢ã®æ–‡å­—å¤‰æ›
// @namespace    http://lit.link/toracatman
// @version      2026-01-15
// @description  ã‚¢ã‚¤ãƒŒèªç‰ˆã‚¦ã‚£ã‚­ãƒšãƒ‡ã‚£ã‚¢ã®æ–‡å­—å¤‰æ›ã‚’ã—ã¾ã™ã€‚
// @author       ãƒˆãƒ©ãƒã‚³ãƒãƒ³
// @match        https://incubator.wikimedia.org/*Wp/ain*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/513558/%E3%82%A2%E3%82%A4%E3%83%8C%E8%AA%9E%E7%89%88%E3%82%A6%E3%82%A3%E3%82%AD%E3%83%9A%E3%83%87%E3%82%A3%E3%82%A2%E3%81%AE%E6%96%87%E5%AD%97%E5%A4%89%E6%8F%9B.user.js
// @updateURL https://update.greasyfork.org/scripts/513558/%E3%82%A2%E3%82%A4%E3%83%8C%E8%AA%9E%E7%89%88%E3%82%A6%E3%82%A3%E3%82%AD%E3%83%9A%E3%83%87%E3%82%A3%E3%82%A2%E3%81%AE%E6%96%87%E5%AD%97%E5%A4%89%E6%8F%9B.meta.js
// ==/UserScript==

let letter = "kana"; //kana=ã‚«ã‚¿ã‚«ãƒŠ katakana=æ‹¡å¼µã‚«ã‚¿ã‚«ãƒŠ hiragana=æ‹¡å¼µã²ã‚‰ãŒãª cyrillic=ã‚­ãƒªãƒ«æ–‡å­—

//ã‚«ã‚¿ã‚«ãƒŠï¼ˆæ‹¡å¼µã‚«ã‚¿ã‚«ãƒŠã§ãªã„ï¼‰ã®è¨­å®š
let tu = 0; //tu 0=ãƒˆã‚¥ 1=ãƒˆã‚š 2=ãƒ„ã‚š
let ce = 0; //ce 0=ãƒã‚§ 1=ã‚»ã‚š
let yw = 0; //-y, -w 0=ã‚¤ã€ã‚¦ 1=ã‚£ã€ã‚¥
let renzoku = 0; //å­éŸ³ã®é€£ç¶š 0=ãƒƒã«ã™ã‚‹ 1=ãƒƒã«ã—ãªã„
let nm = 0; //bã€mã€pã®å‰ã®n 0=ãƒ³ 1=ã‡º

let convert_sign_attr = "data-convert";
let convert_sign_value = "true";
let separate = " | ";
let replacement = "\x1a";

let flag;
let c;
if (letter == "kana") {
    flag = "ig";
    c = [
        ["Ã¡", "a"],	["Ã­", "i"],	["Ãº", "u"],	["Ã©", "e"],	["Ã³", "o"],
        ["(?<=\\w)[-=](?=\\w)", ""],
        [", ?", "ã€"],	["\\. ?", "ã€‚"],	["! ?", "ï¼"],	["\\? ?", "ï¼Ÿ"],
        [" ?â€œ", "ã€Œ"],	["â€ ?", "ã€"],	[" ?â€˜", "ã€"],	["â€™ ?", "ã€"],
        ["a[hx]", "aã‡µ"],	["i[hx]", "iã‡¶"],	["u[hx]", "uã‡·"],	["e[hx]", "eã‡¸"],	["o[hx]", "oã‡¹"],
        ["ar", "aã‡»"],	["ir", "iã‡¼"],	["ur", "uã‡½"],	["er", "eã‡¾"],	["or", "oã‡¿"],
        ["[hxã‡µ-ã‡¹](?=[hx])", "ãƒƒ"],	["[hxã‡µ-ã‡¹]a", "ãƒ"],	["[hxã‡µ-ã‡¹]i", "ãƒ’"],	["[há¸£xã‡µ-ã‡¹]u", "ãƒ•"],	["[hxã‡µ-ã‡¹]e", "ãƒ˜"],	["[hxã‡µ-ã‡¹]o", "ãƒ›"],	["[hx]", "ã‡µ"],
        ["[rã‡»-ã‡¿](?=r)", "ãƒƒ"],	["[rã‡»-ã‡¿]a", "ãƒ©"],	["[rã‡»-ã‡¿]i", "ãƒª"],	["[rã‡»-ã‡¿]u", "ãƒ«"],	["[rã‡»-ã‡¿]e", "ãƒ¬"],	["[rã‡»-ã‡¿]o", "ãƒ­"],	["r", "ã‡½"],
        ["k(?=k)", "ãƒƒ"],	["ka", "ã‚«"],	["ki", "ã‚­"],	["ku", "ã‚¯"],	["ke", "ã‚±"],	["ko", "ã‚³"],	["k", "ã‡°"],
        ["g(?=g)", "ãƒƒ"],	["ga", "ã‚¬"],	["gi", "ã‚®"],	["gu", "ã‚°"],	["ge", "ã‚²"],	["go", "ã‚´"],	["g", "ã‡°ã‚™"],
        ["(ts|Ä‹)a","ãƒ„ã‚¡"],	["Ä‹i","ãƒ„ã‚£"],	["(ts|Ä‹)e","ãƒ„ã‚§"],	["(ts|Ä‹)o","ãƒ„ã‚©"],	["(ts|Ä‹)u","ãƒ„"],
        ["s(?=s)", "ãƒƒ"],	["sa", "ã‚µ"],	["á¹¡i", "ã‚¹ã‚£"],	["su", "ã‚¹"],	["se", "ã‚»"],	["so", "ã‚½"],
        ["ÅŸ(?=ÅŸ)", "ãƒƒ"],	["ÅŸa", "ã‚·ãƒ£"],	["ÅŸu", "ã‚·ãƒ¥"],	["ÅŸe", "ã‚·ã‚§"],	["ÅŸo", "ã‚·ãƒ§"],	["[sÅŸ]i", "ã‚·"],
        ["d(?=d)", "ãƒƒ"],	["dza","ãƒ…ã‚¡"],	["dÅ¼i","ãƒ…ã‚£"],	["dze","ãƒ…ã‚§"],	["dzo","ãƒ…ã‚©"],	["dzu","ãƒ…"],
        ["z(?=z)", "ãƒƒ"],	["za", "ã‚¶"],	["Å¼i", "ã‚ºã‚£"],	["zu", "ã‚º"],	["ze", "ã‚¼"],	["zo", "ã‚¾"],
        ["dja","ãƒ‚ãƒ£"],	["dju","ãƒ‚ãƒ¥"],	["dje","ãƒ‚ã‚§"],	["djo","ãƒ‚ãƒ§"],	["d[jz]i","ãƒ‚"],
        ["j(?=j)", "ãƒƒ"],	["ja", "ã‚¸ãƒ£"],	["ju", "ã‚¸ãƒ¥"],	["je", "ã‚¸ã‚§"],	["jo", "ã‚¸ãƒ§"],	["[jz]i", "ã‚¸"],
        ["ca", "ãƒãƒ£"],	["cu", "ãƒãƒ¥"],	["ce", "ãƒã‚§"],	["co", "ãƒãƒ§"],	["(ts|c)i", "ãƒ"],
        ["(ts|Ä‹)","ãƒƒ"],	["á¹¡", "ã‡²"],	["[sÅŸ]", "ã‡±"],	["dÅ¼","ãƒƒã‚™"],	["Å¼", "ã‡±ã‚™"],	["d[jz]","ãƒƒã‚™"],	["[jz]", "ã‡±ã‚™"],	["c", "ãƒƒ"],
        ["ta", "ã‚¿"],	["ti", "ãƒ†ã‚£"],	["tu", "ãƒˆã‚¥"],	["te", "ãƒ†"],	["to", "ãƒˆ"],	["t", "ãƒƒ"],
        ["da", "ãƒ€"],	["di", "ãƒ‡ã‚£"],	["du", "ãƒ‰ã‚¥"],	["de", "ãƒ‡"],	["do", "ãƒ‰"],	["d", "ãƒƒã‚™"],
        ["na", "ãƒŠ"],	["ni", "ãƒ‹"],	["nu", "ãƒŒ"],	["ne", "ãƒ"],	["no", "ãƒ"],	["n", "ãƒ³"],
        ["m(?=[bmp])", "ãƒ³"],
        ["b(?=b)", "ãƒƒ"],	["ba", "ãƒ"],	["bi", "ãƒ“"],	["bu", "ãƒ–"],	["be", "ãƒ™"],	["bo", "ãƒœ"],	["b", "ã‡·ã‚™"],
        ["p(?=p)", "ãƒƒ"],	["pa", "ãƒ‘"],	["pi", "ãƒ”"],	["pu", "ãƒ—"],	["pe", "ãƒš"],	["po", "ãƒ"],	["p", "ã‡·ã‚š"],
        ["ma", "ãƒ"],	["mi", "ãƒŸ"],	["mu", "ãƒ "],	["me", "ãƒ¡"],	["mo", "ãƒ¢"],	["m", "ã‡º"],
        ["ya", "ãƒ¤"],	["yu", "ãƒ¦"],	["ye", "ã‚¤ã‚§"],	["yo", "ãƒ¨"],					["yi?", "ã‚¤"],
        ["wa", "ãƒ¯"],	["wi", "ã‚¦ã‚£"],	["we", "ã‚¦ã‚§"],	["wo", "ã‚¦ã‚©"],					["wu?", "ã‚¦"],
        ["v(?=v)", "ãƒƒ"],	["va", "ãƒ´ã‚¡"],	["vi", "ãƒ´ã‚£"],	["ve", "ãƒ´ã‚§"],	["vo", "ãƒ´ã‚©"],	["vu", "ãƒ´"],	["v", "ã‚¥ã‚™"],
        ["f(?=f)", "ãƒƒ"],	["fa", "ãƒ•ã‚¡"],	["fi", "ãƒ•ã‚£"],	["fe", "ãƒ•ã‚§"],	["fo", "ãƒ•ã‚©"],	["fu", "ãƒ•"],	["f", "ã‡·"],
        ["a", "ã‚¢"],	["i", "ã‚¤"],	["u", "ã‚¦"],	["e", "ã‚¨"],	["o", "ã‚ª"]
    ];
    if (tu + ce + yw + renzoku + nm != 0) {
        let b = JSON.stringify(c);
        switch (tu) {
            case 1:
                b = b.replace("ãƒˆã‚¥", "ãƒˆã‚š");
                break;
            case 2:
                b = b.replace("ãƒˆã‚¥", "ãƒ„ã‚š");
                break;
        }
        if (ce == 1) {
            b = b.replace("ãƒã‚§", "ã‚»ã‚š");
        }
        if (yw == 1) {
            b = b.replace('["yi?","ã‚¤"]', '["yi","ã‚¤"],["y","ã‚£"]')
                .replace('["wu?","ã‚¦"]', '["wu","ã‚¦"],["w","ã‚¥"]');
        }
        if (renzoku == 1) {
            b = b.replace(/\["[^"]+?\(\?=[^"]+?\)","ãƒƒ"\],/g, "");
        }
        if (nm == 1) {
            b = b.replace('["m(?=[bmp])","ãƒ³"],', "");
        }
        c = JSON.parse(b);
    }
}
else if (letter == "katakana") {
    flag = "ig";
    c = [
        ["Ã¡", "a"],	["Ã­", "i"],	["Ãº", "u"],	["Ã©", "e"],	["Ã³", "o"],
        [", ?", "ã€"], ["\\. ?", "ã€‚"], ["! ?", "ï¼"], ["\\? ?", "ï¼Ÿ"],
        [" ?â€œ", "ã€Œ"], ["â€ ?", "ã€"], [" ?â€˜", "ã€"], ["â€™ ?", "ã€"],
        ["a[hx]", "aã‡µ"], ["i[hx]", "iã‡¶"], ["u[hx]", "uã‡·"], ["e[hx]", "eã‡¸"], ["o[hx]", "oã‡¹"],
        ["ar", "aã‡»"], ["ir", "iã‡¼"], ["ur", "uã‡½"], ["er", "eã‡¾"], ["or", "oã‡¿"],
        ["[hxã‡µ-ã‡¹]a", "ãƒ"], ["[hxã‡µ-ã‡¹]i", "ãƒ’"], ["[hxã‡µ-ã‡¹]u", "ãƒ•"], ["[hxã‡µ-ã‡¹]e", "ãƒ˜"], ["[hxã‡µ-ã‡¹]o", "ãƒ›"], ["[hx]", "ã‡µ"],
        ["[rã‡»-ã‡¿]a", "ãƒ©"], ["[rã‡»-ã‡¿]i", "ãƒª"], ["[rã‡»-ã‡¿]u", "ãƒ«"], ["[rã‡»-ã‡¿]e", "ãƒ¬"], ["[rã‡»-ã‡¿]o", "ãƒ­"], ["r", "ã‡½"],
        ["ka", "ã‚«"], ["ki", "ã‚­"], ["ku", "ã‚¯"], ["ke", "ã‚±"], ["ko", "ã‚³"], ["k", "ã‡°"],
        ["ga", "ã‚¬"], ["gi", "ã‚®"], ["gu", "ã‚°"], ["ge", "ã‚²"], ["go", "ã‚´"], ["g", "ã‡°ã‚™"],
        ["(ts|Ä‹)a","îµœ"], ["Ä‹i","îµ"], ["(ts|Ä‹)u","ãƒ„"], ["(ts|Ä‹)e","îµ "], ["(ts|Ä‹)o","îµ¢"],
        ["sa", "ã‚µ"], ["á¹¡i", "îµ"], ["su", "ã‚¹"], ["se", "ã‚»"], ["so", "ã‚½"],
        ["ÅŸa", "îµˆ"], ["[sÅŸ]i", "ã‚·"], ["ÅŸu", "îµŠ"], ["ÅŸe", "îµŒ"], ["ÅŸo", "îµ"],
        ["dza","îµ"], ["dÅ¼i","îµŸ"], ["dzu","ãƒ…"], ["dze","îµ¡"], ["dzo","îµ£"],
        ["za", "ã‚¶"], ["Å¼i", "îµ‚"], ["zu", "ã‚º"], ["ze", "ã‚¼"], ["zo", "ã‚¾"],
        ["dja","îµ•"], ["d[jz]i","ãƒ‚"], ["dju","îµ—"], ["dje","îµ™"], ["djo","îµ›"],
        ["ja", "îµ‰"], ["[jz]i", "ã‚¸"], ["ju", "îµ‹"], ["je", "îµ"], ["jo", "îµ"],
        ["ca", "îµ”"], ["(ts|c)i", "ãƒ"], ["cu", "îµ–"], ["ce", "îµ˜"], ["co", "îµš"],
        ["(ts|Ä‹)","ï"], ["á¹¡", "ã‡²"], ["[sÅŸ]", "ã‡±"], ["dÅ¼","ãƒƒã‚™"], ["Å¼", "ã‡²ã‚™"], ["d[jz]","ğ›…šã‚™"], ["[jz]", "ã‡±ã‚™"], ["c", "ğ›…š"],
        ["ta", "ã‚¿"], ["ti", "îµ"], ["tu", "îµ’"], ["te", "ãƒ†"], ["to", "ãƒˆ"], ["t", "ã‡³"],
        ["da", "ãƒ€"], ["di", "îµ‘"], ["du", "îµ“"], ["de", "ãƒ‡"], ["do", "ãƒ‰"], ["d", "ã‡³ã‚™"],
        ["na", "ãƒŠ"], ["ni", "ãƒ‹"], ["nu", "ãƒŒ"], ["ne", "ãƒ"], ["no", "ãƒ"], ["n", "ãƒ³"],
        ["á¸£u", "îµ¤"],
        ["ba", "ãƒ"], ["bi", "ãƒ“"], ["bu", "ãƒ–"], ["be", "ãƒ™"], ["bo", "ãƒœ"], ["b", "ã‡·ã‚™"],
        ["pa", "ãƒ‘"], ["pi", "ãƒ”"], ["pu", "ãƒ—"], ["pe", "ãƒš"], ["po", "ãƒ"], ["p", "ã‡·ã‚š"],
        ["ma", "ãƒ"], ["mi", "ãƒŸ"], ["mu", "ãƒ "], ["me", "ãƒ¡"], ["mo", "ãƒ¢"], ["m", "ã‡º"],
        ["ya", "ãƒ¤"], ["yi", "ğ›„ "], ["yu", "ãƒ¦"], ["ye", "ğ›„¡"], ["yo", "ãƒ¨"], ["y", "ï’"],
        ["wa", "ãƒ¯"], ["wi", "ãƒ°"], ["wu", "ğ›„¢"], ["we", "ãƒ±"], ["wo", "ãƒ²"], ["w", "ï’Ÿ"],
        ["va", "ãƒ·"], ["vi", "ãƒ¸"], ["vu", "ï¯"], ["ve", "ãƒ¹"], ["vo", "ãƒº"], ["v", "ğ›…­ã‚™"],
        ["fa", "îµ¨"], ["fi", "îµª"], ["fu", "îµ¬"], ["fe", "îµ®"], ["fo", "îµ°"], ["f", "ğ›…­ã‚š"],
        ["a", "ã‚¢"],  ["i", "ã‚¤"],  ["u", "ã‚¦"],  ["e", "ã‚¨"],  ["o", "ã‚ª"]
    ];
}
else if (letter == "hiragana") {
    flag = "igu";
    c = [
        ["Ã¡", "a"],	["Ã­", "i"],	["Ãº", "u"],	["Ã©", "e"],	["Ã³", "o"],
        [", ?", "ã€"], ["\\. ?", "ã€‚"], ["! ?", "ï¼"], ["\\? ?", "ï¼Ÿ"],
        [" ?â€œ", "ã€Œ"], ["â€ ?", "ã€"], [" ?â€˜", "ã€"], ["â€™ ?", "ã€"],
        ["a[hx]", "ağ›…"], ["i[hx]", "iğ›…‚"], ["u[hx]", "uğ›…ƒ"], ["e[hx]", "eğ›…„"], ["o[hx]", "oğ›……"],
        ["ar", "ağ›…‹"], ["ir", "iğ›…Œ"], ["ur", "uğ›…"], ["er", "eğ›…"], ["or", "oğ›…"],
        ["[hxğ›…-ğ›……]a", "ã¯"], ["[hxğ›…-ğ›……]i", "ã²"], ["[hxğ›…-ğ›……]u", "ãµ"], ["[hxğ›…-ğ›……]e", "ã¸"], ["[hxğ›…-ğ›……]o", "ã»"], ["[hx]", "ğ›…"],
        ["[rğ›…‹-ğ›…]a", "ã‚‰"], ["[rğ›…‹-ğ›…]i", "ã‚Š"], ["[rğ›…‹-ğ›…]u", "ã‚‹"], ["[rğ›…‹-ğ›…]e", "ã‚Œ"], ["[rğ›…‹-ğ›…]o", "ã‚"], ["r", "ğ›…"],
        ["ka", "ã‹"], ["ki", "ã"], ["ku", "ã"], ["ke", "ã‘"], ["ko", "ã“"], ["k", "ğ›„±"],
        ["ga", "ãŒ"], ["gi", "ã"], ["gu", "ã"], ["ge", "ã’"], ["go", "ã”"], ["g", "ğ›„±ã‚™"],
        ["(ts|Ä‹)a","î´œ"], ["Ä‹i","î´"], ["(ts|Ä‹)u","ã¤"], ["(ts|Ä‹)e","î´ "], ["(ts|Ä‹)o","î´¢"],
        ["sa", "ã•"], ["á¹¡i", "î´"], ["su", "ã™"], ["se", "ã›"], ["so", "ã"],
        ["ÅŸa", "ğ›ƒ"], ["[sÅŸ]i", "ã—"], ["ÅŸu", "î´Š"], ["ÅŸe", "î´Œ"], ["ÅŸo", "î´"],
        ["dza","î´"], ["dÅ¼i","î´Ÿ"], ["dzu","ã¥"], ["dze","î´¡"], ["dzo","î´£"],
        ["za", "ã–"], ["Å¼i", "î´‚"], ["zu", "ãš"], ["ze", "ãœ"], ["zo", "ã"],
        ["dja","î´•"], ["d[jz]i","ã¢"], ["dju","î´—"], ["dje","î´™"], ["djo","î´›"],
        ["ja", "î´‰"], ["[jz]i", "ã˜"], ["ju", "î´‹"], ["je", "î´"], ["jo", "î´"],
        ["ca", "î´”"], ["(ts|c)i", "ã¡"], ["cu", "î´–"], ["ce", "î´˜"], ["co", "î´š"],
        ["(ts|Ä‹)","ï"], ["á¹¡", "ğ›„µ"], ["[sÅŸ]", "ğ›„´"], ["dÅ¼","ã£ã‚™"], ["Å¼", "ğ›„µã‚™"], ["d[jz]","ğ›„¹ã‚™"], ["[jz]", "ğ›„´ã‚™"], ["c", "ğ›„¹"],
        ["ta", "ãŸ"], ["ti", "î´"], ["tu", "ğ›­"], ["te", "ã¦"], ["to", "ã¨"], ["t", "ğ›„»"],
        ["da", "ã "], ["di", "î´‘"], ["du", "î´“"], ["de", "ã§"], ["do", "ã©"], ["d", "ğ›„»ã‚™"],
        ["na", "ãª"], ["ni", "ã«"], ["nu", "ã¬"], ["ne", "ã­"], ["no", "ã®"], ["n", "ã‚“"],
        ["á¸£u", "ğ›€¹"],
        ["ba", "ã°"], ["bi", "ã³"], ["bu", "ã¶"], ["be", "ã¹"], ["bo", "ã¼"], ["b", "ğ›…ƒã‚™"],
        ["pa", "ã±"], ["pi", "ã´"], ["pu", "ã·"], ["pe", "ãº"], ["po", "ã½"], ["p", "ğ›…ƒã‚š"],
        ["ma", "ã¾"], ["mi", "ã¿"], ["mu", "ã‚€"], ["me", "ã‚"], ["mo", "ã‚‚"], ["m", "ğ›…ˆ"],
        ["ya", "ã‚„"], ["yi", "ğ›€†"], ["yu", "ã‚†"], ["ye", "ğ›€"], ["yo", "ã‚ˆ"], ["y", "ï’œ"],
        ["wa", "ã‚"], ["wi", "ã‚"], ["wu", "ğ›„Ÿ"], ["we", "ã‚‘"], ["wo", "ã‚’"], ["w", "ï’"],
        ["va", "î´§"], ["vi", "î´©"], ["vu", "î´«"], ["ve", "î´­"], ["vo", "î´¯"], ["v", "ğ›…ªã‚™"],
        ["fa", "î´¨"], ["fi", "î´ª"], ["fu", "î´¬"], ["fe", "î´®"], ["fo", "î´°"], ["f", "ğ›…ªã‚š"],
        ["a", "ã‚"],  ["i", "ã„"],  ["u", "ã†"],  ["e", "ãˆ"],  ["o", "ãŠ"]
    ];
}
else if (letter == "cyrillic") {
    flag = "g";
    c = [
        ["Ã", "AÌ"], ["Ã¡", "aÌ"], ["Ã", "IÌ"], ["Ã­", "iÌ"],
        ["Ãš", "UÌ"], ["Ãº", "uÌ"], ["Ã‰", "EÌ"], ["Ã©", "eÌ"],
        ["Ã“", "OÌ"], ["Ã³", "oÌ"],
        ["A", "Ğ"], ["a", "Ğ°"], ["I", "Ğ˜"], ["i", "Ğ¸"],
        ["U", "Ğ£"], ["u", "Ñƒ"], ["E", "Ğ­"], ["e", "Ñ"],
        ["O", "Ğ"], ["o", "Ğ¾"],
        ["K", "Ğš"], ["k", "Ğº"], ["G", "Ğ“"], ["g", "Ğ³"],
        ["S", "Ğ¡"], ["s", "Ñ"], ["Z", "Ğ—"], ["z", "Ğ·"],
        ["á¹ ", "Ğ¡Ì‡"], ["á¹¡", "ÑÌ‡"], ["Å»", "Ğ—Ì‡"], ["Å¼", "Ğ·Ì‡"],
        ["Å", "Ğ¨"], ["ÅŸ", "Ñˆ"], ["J", "Ğ–"], ["J", "Ğ¶"],
        ["C", "Ğ§"], ["c", "Ñ‡"], ["ÄŠ", "Ğ¦"], ["Ä‹", "Ñ†"],
        ["T", "Ğ¢"], ["t", "Ñ‚"], ["D", "Ğ”"], ["d", "Ğ´"],
        ["N", "Ğ"], ["n", "Ğ½"],
        ["á¸¢", "Ğ¥Ì‡"], ["á¸£", "Ñ…Ì‡"], ["[HX]", "Ğ¥"], ["[hx]", "Ñ…"],
        ["P", "ĞŸ"], ["p", "Ğ¿"], ["B", "Ğ‘"], ["b", "Ğ±"],
        ["M", "Ğœ"], ["m", "Ğ¼"],
        ["Y", "Ğ™"], ["y", "Ğ¹"],
        ["R", "Ğ "], ["r", "Ñ€"],
        ["W", "Ğ"], ["w", "Ñ"], ["V", "Ğ’"], ["v", "Ğ²"],
        ["F", "Ğ¤"], ["f", "Ñ„"]
    ];
}

(() => {
    if (letter == "katakana" || letter == "hiragana") {
        let style = document.createElement("style");
        style.textContent = '@font-face{font-family:"Mkana+";src:local("Mkana+"),url("https://toracatman.github.io/fonts/mkanaplus.woff2")format("woff2"),url("https://toracatman.github.io/fonts/mkanaplus.woff")format("woff");font-display:swap;}*{font-family:"Mkana+"!important;}';
        document.body.appendChild(style);
    }

    setInterval(() => {
        let a;
        a = document.querySelectorAll('style,.mw-parser-output [lang]:not([lang^="ain"]),.mw-parser-output [lang]:not([lang^="ain"]) *,.mw-editsection *,.external,pre');
        if (a != null) {
            for (let i = 0; i < a.length; i++) {
                if (a[i].getAttribute(convert_sign_attr) == convert_sign_value) continue;
                a[i].setAttribute(convert_sign_attr, convert_sign_value);
            }
        }

        a = document.querySelectorAll('.mw-parser-output *,#mw-panel-toc-list :nth-child(n+2) *,#firstHeading *,#catlinks ul *,.mw-prefixindex-list *,.mw-allpages-chunk *,.mw-category *');
        if (a == null) return;
        for (let i = 0; i < a.length; i++) {
            if (a[i].getAttribute(convert_sign_attr) == convert_sign_value) continue;
            a[i].setAttribute(convert_sign_attr, convert_sign_value);

            if (!(a[i].hasChildNodes())) continue;
            let h = (b) => {
                let s = b.split(separate);
                for (let j = 0; j < c.length; j++) {
                    s[0] = s[0].replace(new RegExp(c[j][0], flag), c[j][1]);
                }
                return s.join(separate);
            }
            if (a[i].childElementCount == 0) {
                a[i].textContent = h(a[i].textContent);
            }
            else {
                let t = a[i];
                let p = document.createTextNode("");
                t.replaceWith(p);
                let r = document.createDocumentFragment();
                let e = t.firstElementChild;
                while (e != null) {
                    e.replaceWith(document.createTextNode(replacement));
                    r.appendChild(e);
                    e = t.firstElementChild;
                }
                let ss = h(t.textContent).split(replacement);
                t.textContent = "";
                t.appendChild(document.createTextNode(ss[0]));
                for (let j = 1; j < ss.length; j++) {
                    t.appendChild(r.firstElementChild);
                    t.appendChild(document.createTextNode(ss[j]));
                }
                p.replaceWith(t);
            }
        }
    }, 100);
})();