// ==UserScript==
// @name        Agar.io Normal Mod
// @description Edited By CristianQツ
// @author      CristianQツ
// @namespace   Agar.io CristianQツ
// @include     http://agar.io/*
// @include     https://agar.io/*
// @version     0.8.5
// @run-at      document-start
// @grant       GM_xmlhttpRequest
// @downloadURL https://update.greasyfork.org/scripts/17817/Agario%20Normal%20Mod.user.js
// @updateURL https://update.greasyfork.org/scripts/17817/Agario%20Normal%20Mod.meta.js
// ==/UserScript==

var ogario = function(a,b){function ja(a,b,c){b?(87!=a.keyCode||Y||c||(Ba(!0),Y=!0),69!=a.keyCode||Z||c||(za(),Z=!0),65!=a.keyCode||aa||c||(Ca(),aa=!0),83!=a.keyCode||ba||c||(va(!0),ba=!0),68!=a.keyCode||ca||c||(ya(),ca=!0),70!=a.keyCode||da||c||(wa(),da=!0),71!=a.keyCode||ea||c||(xa(),ea=!0),90!=a.keyCode||fa||c||(ta(),fa=!0),88!=a.keyCode||ga||c||(Fa(),ga=!0),16!=a.keyCode||ha||c||r.disableshift||(Ea(),ha=!0),80!=a.keyCode||$||c||(mb(!1),$=!0)):(87==a.keyCode&&(Ba(!1),Y=!1),69==a.keyCode&&(Z=!1),65==a.keyCode&&(aa=!1),83==a.keyCode&&(va(!1),ba=!1),68==a.keyCode&&(ca=!1),70==a.keyCode&&(da=!1),71==a.keyCode&&(ea=!1),90==a.keyCode&&(fa=!1),88==a.keyCode&&(ga=!1),16==a.keyCode&&(ha=!1),80==a.keyCode&&($=!1))}function ka(){return qa()?e[d].exit:void 0}function la(a){return"string"==typeof a?JSON.parse(a):JSON.stringify(a)}function ma(){for(var b in q)q.hasOwnProperty(b)&&null!=a.localStorage.getItem(b)&&(q[b]=a.localStorage.getItem(b));for(var b in r)r.hasOwnProperty(b)&&null!=a.localStorage.getItem(b)&&(r[b]=la(a.localStorage.getItem(b)))}function na(){for(var b in q)q.hasOwnProperty(b)&&a.localStorage.setItem(b,q[b]);for(var b in r)r.hasOwnProperty(b)&&a.localStorage.setItem(b,la(r[b]))}function oa(a){C||(C=!0,gameStartTime=Date.now()),!E&&a?(A=[],t=[],B=!1,E=!0,roundStartTime=Date.now(),H=0,I=0,roundVictims=0,autoHide=!0,showFood=!0,hideBots=!1,na(),ta()):E&&!a&&(Ga(S,T),E=!1),a&&(D=!1)}function pa(a,b,c,d){return q.nick=a,q.clantag=b,q.skin=c,q.color=d,b.length>0?b+a:a}function qa(){return Xc.length>0}function ra(){return Xc.length>1}function sa(){return Xc.length}function ta(){Kd=1}function ua(a,b){qa()&&a.isMyCell&&b.name&&roundVictims++}function va(a){showStats=a}function wa(){showFood=!showFood}function xa(){hideBots=!hideBots}function ya(){K=!K}function za(){D=!D}function Aa(a){Pb(),Ub(a)}function Ba(a){return a?void(macroFeedInterval||(Aa(21),macroFeedInterval=setInterval(function(){Aa(21)},100))):void(macroFeedInterval&&(clearInterval(macroFeedInterval),macroFeedInterval=null))}function Ca(){Aa(21);var a=0,b=setInterval(function(){Aa(21),6==++a&&clearInterval(b)},100)}function Da(){Aa(17);var a=0,b=setInterval(function(){Aa(17),1==++a&&clearInterval(b)},100)}function Ea(){Aa(17);var a=0,b=setInterval(function(){Aa(17),3==++a&&clearInterval(b)},100)}function Fa(){lastDeath--,lastDeath<0&&(lastDeath=deathLocations.length-1)}function Ga(a,b){deathLocations.push({x:w?a+w:a/2,y:x?b+x:b/2}),6==deathLocations.length&&deathLocations.splice(0,1),lastDeath=deathLocations.length-1}function Ja(a,b,c,d){B||A.length>0||(t[0]=a,t[1]=b,t[2]=c,t[3]=d,w=v-t[2],x=v-t[3],B=!0)}function Ka(a){":party"===gameMode&&null!=partyInfoLeaderboard&&(partyInfoLeaderboard[0].innerHTML=a,partyInfoLeaderboard[1].innerHTML=a)}function La(a,b,c,d){if(!A[2]||!B&&qa())return"";var e=s,f=v;if(B)var g=f+w,h=f+x;else var g=f+(f-A[2]),h=f+(f-A[3]);return letter=String.fromCharCode(65+Math.floor((d+h)/(e/a))),number=(Math.floor((c+g)/(e/b))+1).toString(),letter+number}function Ma(a){return(Date.now()-a)/1e3}function Na(a){return Math.floor(Ma(a)/3600)+"h "+Math.floor(Ma(a)/60)%60+"m "+Math.floor(Ma(a)%60)+"s"}function Oa(a){return Math.max(30,Math.floor(.2*a))}function Pa(){for(var a=Xc[1].ttr,b=Xc[Xc.length-1].ttr,c=Xc[1].createTime,d=Xc[Xc.length-1].createTime,e=1;e<Xc.length;e++)Xc[e].ttr<a&&(a=Xc[e].ttr,c=Xc[e].createTime),Xc[e].ttr>b&&(b=Xc[e].ttr,d=Xc[e].createTime);return{min:a,minFrom:c/1e3,max:b,maxFrom:d/1e3}}function Qa(){if(!ra())return K||(K=!0),null;if(!r.timetoremerge||!qa())return null;var a=Date.now()/1e3;return a-splitUpdateTime>=1&&(timeToRemerge=Pa(),splitUpdateTime=a),{min:Math.floor(timeToRemerge.min-(a-timeToRemerge.minFrom))+1,max:Math.floor(timeToRemerge.max-(a-timeToRemerge.maxFrom))+1}}function Ra(){if(!fpsLastRequest)return void(fpsLastRequest=Date.now());var a=Date.now(),b=a-fpsLastRequest;b>=1e3&&(fps=requestedFrames,rFps=renderedFrames,requestedFrames=0,renderedFrames=0,fpsLastRequest=a),requestedFrames++}function Sa(){for(var a=0,b=Xc[0].size,c=1;c<Xc.length;c++)K?b<Xc[c].size&&(b=Xc[c].size,a=c):b>Xc[c].size&&(b=Xc[c].size,a=c);return{index:a,size:b}}function Ta(a){return Math.floor(Math.pow(a,2)/100)}function Ua(a,b){return a/b}function Va(a){if(a&&a>0){var b=1e3>M?.35:.38;return a>11?"#FF008C":a>=2.5?"#BE00FF":a>=1.25?"#FF0A00":1.25>a&&a>.75?"#FFDC00":a>b?"#00C8FF":"#64FF00"}}function Wa(a){return a>183?"#C80000":r.darktheme?"#999999":"#666666"}function Xa(a){return a>.76?"#FFDC00":"#C80000"}function Ya(a){return Math.floor((200-a)/14).toString()}function Za(a){return.5>F&&500>a&&20/F>a?!0:!1}function $a(a,b){var c=1e3>H?.35:.38;return c>=b&&a>50&&H>=280&&Ta(a)>Math.ceil(H/11)?!0:!1}function _a(a,b,c){if(qa()){G=c,H=Math.floor(G/100),M=Ta(L.size),H>1e3&&autoHide&&(showFood&&(r.autofood||r.performancemode)&&(showFood=!1),!hideBots&&r.performancemode&&(hideBots=!0),autoHide=!1);for(var d=Zc.length;d--;){if(Zc[d].isFood){if(showFood&&(!r.rainbowfood||r.performancemode)){X.push({x:Zc[d].x,y:Zc[d].y,size:Zc[d].size});continue}break}var e=Zc[d],f=0;e.isMyCell&&(e.myCellIndex=Xc.indexOf(e),":teams"!==gameMode&&(e.color=q.color)),(r.opponentscolors||r.opponentsrings||r.splitrange)&&!e.isMyCell&&(f=Ta(e.size),e.sizeRatio=Ua(f,M)),!r.opponentscolors&&!r.opponentsrings||e.isMyCell||(e.isVirus?(e.color=Wa(f),e.strokeColor=Xa(e.sizeRatio)):r.opponentsrings&&!r.performancemode?e.newColor=Va(e.sizeRatio):e.color=Va(e.sizeRatio)),(r.opponentsrings&&!e.isMyCell||r.splitrange&&!e.isVirus||r.virusrange&&e.isVirus||r.cursortracking&&e.isMyCell)&&e.drawOgarioLayer(a),e.isVirus?e.A(Ya(Ta(e.size))):((r.autonames||r.automass||r.performancemode)&&(e.hideInfo=Za(e.size)),!r.opponentscolors&&!r.opponentsrings||e.isMyCell||(e.isShiftable=$a(e.size,e.sizeRatio)))}}else for(var d=Zc.length;d--;){if(Zc[d].isFood){if(showFood&&(!r.rainbowfood||r.performancemode)){X.push({x:Zc[d].x,y:Zc[d].y,size:Zc[d].size});continue}break}Zc[d].isVirus?(r.opponentscolors||r.opponentsrings)&&(Zc[d].color=Wa(Ta(Zc[d].size))):(r.autonames||r.automass||r.performancemode)&&(Zc[d].hideInfo=Za(Zc[d].size))}if(X.length>0){a.beginPath();for(var d=0;d<X.length;d++){var g=X[d].x,h=X[d].y;a.moveTo(g,h),a.arc(g,h,X[d].size+5,V,!1)}a.fillStyle="#E16400",a.globalAlpha=1,a.fill(),X=[]}}function ab(a,b,c,d,e,f){if(b||e){if(a.strokeStyle="#FF7800",a.lineWidth=f,a.beginPath(),B)var b=t[0],c=t[1],d=t[2],e=t[3];a.moveTo(b,c),a.lineTo(d,c),a.lineTo(d,e),a.lineTo(b,e),a.closePath(),a.stroke()}}function bb(a,b,c,d,e,f,g,h,i){if(!(r.performancemode&&i||!d&&!g)){var j=Math.ceil((f-d)/b),k=Math.ceil((g-e)/c),l=.6*k;if(a.save(),i){var m=r.darktheme?"#292929":"#D9E1E5";if(0==W.length)for(var n=0;c>n;n++)W[n]=[];a.strokeStyle=m,a.fillStyle=m}else{var m="#FFFFFF";a.strokeStyle=m,a.fillStyle=m,a.font=l+"px Ubuntu"}a.lineWidth=h,a.beginPath();for(var n=0;b+1>n;n++)a.moveTo(n==b?f:d+j*n,e),a.lineTo(n==b?f:d+j*n,g);for(var n=0;c+1>n;n++)a.moveTo(d,n==c?g:e+k*n),a.lineTo(f,n==c?g:e+k*n);a.stroke();for(var n=0;c>n;n++)for(var o=0;b>o;o++)if(i){W[n][o]||(W[n][o]=new gc(l,m),W[n][o].B(String.fromCharCode(65+n)+(o+1)));var p=W[n][o].O();a.drawImage(p,d+j/2+o*j-p.width/2,e+n*k+p.height/4)}else{var p=String.fromCharCode(65+n)+(o+1);a.fillText(p,d+j/2+o*j-a.measureText(p).width/2,e+k/2+n*k+.2*k)}a.restore()}}function cb(a,b,c,d){miniMapSectors=document.getElementById("minimap-sectors"),miniMapSectorsCtx=miniMapSectors.getContext("2d"),miniMapSectors.width=c,miniMapSectors.height=d,miniMapSectorsCtx.fillStyle="#FFFFFF",bb(miniMapSectorsCtx,a,b,.5,.5,c-.5,d-.5,1,!1)}function db(a,b,c,d,e){if(A[2]){miniMap?miniMapCtx.clearRect(0,0,200,220):(miniMap=document.getElementById("minimap"),miniMapCtx=miniMap.getContext("2d"),miniMap.width=200,miniMap.height=220);var f=s,g=e/f,h=v;if(qa()){if(w)var i=h+w;if(x)var j=h+x}else var i=h+(h-A[2]),j=h+(h-A[3]);if(miniMapCtx.globalAlpha=1,miniMapCtx.font="16px Ubuntu",miniMapCtx.fillStyle="#FF7800",miniMapCtx.fillText(currentSector,10,20),miniMapSectors||cb(a,b,e,e),!B&&qa()&&(miniMapCtx.globalAlpha=.4,miniMapCtx.strokeStyle="#FF0A00",miniMapCtx.beginPath(),w||(miniMapCtx.moveTo(9.5,29.5),miniMapCtx.lineTo(9.5,210.5),miniMapCtx.moveTo(190.5,29.5),miniMapCtx.lineTo(190.5,210.5)),x||(miniMapCtx.moveTo(9,29.5),miniMapCtx.lineTo(191,29.5),miniMapCtx.moveTo(9,210.5),miniMapCtx.lineTo(191,210.5)),miniMapCtx.stroke(),miniMapCtx.globalAlpha=1),miniMapCtx.save(),miniMapCtx.translate(9.5,29.5),miniMapCtx.fillStyle="#FFFFFF",qa()){miniMapCtx.beginPath();for(var k=0,l=Xc.length;l>k;k++){if(w)var m=(Xc[k].x+i)*g;else var m=(Xc[k].x/2+h)*g;if(x)var n=(Xc[k].y+j)*g;else var n=(Xc[k].y/2+h)*g;0==k&&(miniMapCtx.arc(m,n,Math.max(4.5,(Xc[k].size+5)*g)+2,0,V,!1),miniMapCtx.closePath(),miniMapCtx.lineWidth=2,miniMapCtx.strokeStyle=B?"#FFFFFF":"#FF0A00",miniMapCtx.stroke(),miniMapCtx.beginPath()),miniMapCtx.moveTo(m,n),miniMapCtx.arc(m,n,Math.max(4.5,(Xc[k].size+5)*g),0,V,!1)}miniMapCtx.fill()}else miniMapCtx.beginPath(),miniMapCtx.arc((c+i)*g,(d+j)*g,6,0,V,!1),miniMapCtx.closePath(),miniMapCtx.fill();if(deathLocations.length>0){var m=Math.round((deathLocations[lastDeath].x+h)*g),n=Math.round((deathLocations[lastDeath].y+h)*g);miniMapCtx.lineWidth=1,miniMapCtx.strokeStyle=deathLocations.length-1==lastDeath?"#FF7800":"#FFFFFF",miniMapCtx.beginPath(),miniMapCtx.moveTo(m-4.5,n),miniMapCtx.lineTo(m+4.5,n),miniMapCtx.moveTo(m,n-4.5),miniMapCtx.lineTo(m,n+4.5),miniMapCtx.stroke()}miniMapCtx.restore()}}function eb(a,b){var c="block"==a.style.display;return b&&!c?void(a.style.display="block"):void(!b&&c&&(a.style.display="none"))}function fb(){if(r.names&&0!=_c.length&&null==zd){for(var a="",b="",c="",f="",g=0;g<_c.length;g++)c=_c[g].name||e[d].unnamedcell,-1!=Wc.indexOf(_c[g].id)?(Xc[0].name&&(c=Xc[0].name),f="#FF7800"):f=ib(c),a+='<div style="color: '+f+'; overflow: hidden">'+(g+1)+". "+c+"</div>",b+=g+1+". "+c+"<br />";leaderboardPositionsHUD.innerHTML=a,Ka(b)}}function gb(a,b,c,f,g,h){if(A[0]||A[3]){var i=null,j=0;if(a.fillStyle="#000000",I>0&&(roundStatsHUD||(roundStatsHUD=new b(20,"#FFFFFF")),roundStatsHUD[c](e[d].currentmass+H+" | "+e[d].bestmass+I+" | "+e[d].roundvictims+roundVictims+" | "+e[d].food+food+" | "+e[d].roundtime+roundTime),i=roundStatsHUD[f](),j=i.width,a.globalAlpha=.4,a.fillRect(10,h-30-10,j+10,30),a.globalAlpha=1,a.drawImage(i,15,h-30-6)),showStats&&J>0&&(gameStatsHUD||(gameStatsHUD=new b(20,"#FF7800")),gameStatsHUD[c](e[d].topmass+J+" | "+e[d].totalvictims+totalVictims+" | "+e[d].totalfood+totalFood+" | "+e[d].totaldeaths+totalDeaths+" | "+e[d].gametime+Na(gameStartTime)),i=gameStatsHUD[f](),j=i.width,a.globalAlpha=.3,a.fillRect(10,h-30-50,j+10,30),a.globalAlpha=1,a.drawImage(i,15,h-31-45)),r.showfps&&(fpsHUD||(fpsHUD=new b(20,"#FF7800")),fpsHUD[c]("FPS: "+fps+" | rFPS: "+rFps),i=fpsHUD[f](),j=i.width,a.globalAlpha=.4,a.fillRect(10,10,j+10,30),a.globalAlpha=1,a.drawImage(i,15,14)),r.showmassguides&&qa()){var k=r.showfps?50:10,l=r.opponentsrings&&!r.performancemode?"○":"●";biggestMassHUD||(biggestMassHUD=new b(20,"#BE00FF")),biggestMassHUD[c](l+l+" >"+Math.floor(2.5*M)),i=biggestMassHUD[f](),j=i.width,a.globalAlpha=.3,a.fillRect(10,k,j+10,30),a.globalAlpha=1,a.drawImage(i,15,k+4),biggerMassHUD||(biggerMassHUD=new b(20,"#FF0A00")),biggerMassHUD[c](l+" >"+Math.floor(1.25*M)),i=biggerMassHUD[f](),j=i.width,a.globalAlpha=.3,a.fillRect(10,k+31,j+10,30),a.globalAlpha=1,a.drawImage(i,15,k+31+4),smallerMassHUD||(smallerMassHUD=new b(20,"#00C8FF")),smallerMassHUD[c](l+" <"+Math.floor(.75*M)),i=smallerMassHUD[f](),j=i.width,a.globalAlpha=.3,a.fillRect(10,k+62,j+10,30),a.globalAlpha=1,a.drawImage(i,15,k+62+4),M>=35&&(smallestMassHUD||(smallestMassHUD=new b(20,"#64FF00")),smallestMassHUD[c](l+l+" <"+Math.floor(M*(1e3>M?.35:.38))),i=smallestMassHUD[f](),j=i.width,a.globalAlpha=.3,a.fillRect(10,k+93,j+10,30),a.globalAlpha=1,a.drawImage(i,15,k+93+4),wHUD||(wHUD=new b(20,"#FFFFFF")),wHUD[c]("W x"+Math.floor((H-18*sa())/17)),i=wHUD[f](),j=i.width,a.globalAlpha=.3,a.fillRect(10,k+124,j+10,30),a.globalAlpha=1,a.drawImage(i,15,k+124+4))}if(null!=splitTime&&(splitTimerHUD||(splitTimerHUD=new b(26,"#FF7800","000000")),sa()>2?splitTimerHUD[c](splitTime.min+"s | "+splitTime.max+"s"):splitTimerHUD[c](splitTime.max+"s"),i=splitTimerHUD[f](),j=i.width,a.globalAlpha=1,a.drawImage(i,g/2-j/2,10)),ra()){var k=r.timetoremerge?44:10;hb(a,k),splitInfoHUD||(splitInfoHUD=new b(20,"#FFFFFF","#000000")),splitInfoHUD[c](sa()+" / 16"),i=splitInfoHUD[f](),j=i.width,a.globalAlpha=1,a.drawImage(i,g/2-j/2,k+34)}D&&(pauseHUD||(pauseHUD=new b(24,"#FF0000","#000000")),pauseHUD[c](e[d].pause),i=pauseHUD[f](),j=i.width,a.globalAlpha=.8,a.drawImage(i,g/2-j/2,110)),a.globalAlpha=1}}function hb(a,b){a.save(),a.fillStyle=r.darktheme?"#FFFFFF":"#000000",a.globalAlpha=K?.6:.3,a.beginPath(),a.arc(O/2-12,b+16,16,0,V,!1),a.closePath(),a.fill(),a.globalAlpha=K?.3:.6,a.beginPath(),a.arc(O/2+16,b+16,12,0,V,!1),a.closePath(),a.fill(),a.restore()}function ib(a){var b=jb(a);return b&&p.hasOwnProperty(b)?p[b]:"#FFFFFF"}function jb(a){for(i=0;i<m.length;i++)if(0==a.indexOf(m[i]))return m[i];return null}function kb(b,c){return-1!=o.indexOf(c)?-1!=k.indexOf(c)?skinBaseURL+l[k.indexOf(c)]:-1!=h.indexOf(c)?skinBaseURL+"wykop":-1!=j.indexOf(c)?skinBaseURL+"mirko":skinBaseURL+c:r.onlyogarioskins||-1==qe.indexOf(c)?b?skinBaseURL+n[m.indexOf(b)]:null:a.ASSETS_ROOT+"skins/"+c+".png"}function lb(a){if(!a||0==a.length)return null;var b=a.trim(),c=jb(b);if(c&&(b=b.replace(c,"").trim()),b=b.replace(/[|¹²³⁴⁵]/i,""),b=b.toLowerCase(),f.hasOwnProperty(b))return f[b].width&&f[b].complete?f[b]:null;var d=kb(c,b);return d&&(f[b]=new Image,f[b].crossOrigin="Anonymous",f[b].src=d,f[b].width&&f[b].complete)?f[b]:null}function mb(a){a||(r.performancemode=!r.performancemode),r.performancemode?(autoHide=!0,b("#mode-hud .state").text("ON"),b("#mode-hud .state").css("color","#64FF00"),b("#performancemode").prop("checked",!0)):(b("#mode-hud .state").text("OFF"),b("#mode-hud .state").css("color","#FF0A00"),b("#performancemode").prop("checked",!1))}function nb(){r.darktheme?(b("body").css("background-color","#0A0A0A"),b("#minimap-sectors").css("opacity","0.2")):(b("body").css("background-color","#F2FBFF"),b("#minimap-sectors").css("opacity","0.4")),W=[]}function ob(){r.showminimap?b("#minimap-hud").show():b("#minimap-hud").hide()}function pb(a){ma(),a("#helloContainer div[role=form] .form-group:first").after("<center><h5>"+e[d].modinfo+" | "+c+' | <a href="http://ogario.ovh" target="_blank">'+e[d].home+"</a></h5></center>"),a("#nick").before('<input id="clantag" class="form-control" placeholder="Clan tag" />'),a("#nick").remove(),a("#clantag").after('<div class="input-group nick"><input id="nick" class="form-control" placeholder="Nick" maxlength="15" autofocus /><input type="hidden" id="color" value="'+q.color+'" /><span class="input-group-addon"><i></i></span></div>'),a("#locationKnown, #locationUnknown").insertAfter(a(".nick")),a(".btn-settings, .btn-spectate, .btn-logout").appendTo("#agario-main-buttons"),a(".btn-settings").after('<button class="btn btn-info btn-next" onclick="nextServer(); return false;">&gt;&gt;</button>'),a("#agario-main-buttons").append('<br clear="both"/>'),a("#helloContainer div[role=form]").after('<div id="ogario-party"><input class="partyToken form-control" placeholder="Party token" /> <button class="btn btn-info btn-copy-token" onclick="copyToken();">Copy</button> <button class="btn btn-primary btn-create-party" onclick="$(\'#helloContainer\').attr(\'data-party-state\', \'3\'); createParty();" data-itr="create_party">Create</button> <button class="btn btn-success btn-join-party" onclick="joinParty($(\'.partyToken\').val());" data-itr="join_party">Join</button> <button class="btn btn-danger btn-cancel-party" onclick="cancelParty();">×</button> <br clear="both"/></div>'),a("#mainPanel hr, #instructions, small.text-muted").remove(),a(".btn-settings").attr("onclick","$('#ogario-settings').fadeToggle(300); return false;"),a(".side-container:eq(1)").prepend('<div id="ogario-settings" class="agario-panel checkbox"><h4>'+e[d].settings+"</h4></div>");for(var b in r)if(r.hasOwnProperty(b)){if("skins"===b||"names"===b){a("#ogario-settings").append('<label><input type="checkbox" onchange="setSettings(\''+b+"', !$(this).is(':checked'));\" id=\""+b+'">'+e[d][b]+"</label>");continue}a("#ogario-settings").append('<label><input type="checkbox" onchange="setSettings(\''+b+"', $(this).is(':checked'));\" id=\""+b+'">'+e[d][b]+"</label>")}a("#ogario-settings").append('<br clear="both"/><hr><h4>'+e[d].keys+'</h4><span class="key"><span class="bold">[W]</span> - '+e[d].wkey+'</span> <span class="key"><span class="bold">[E]</span> - '+e[d].ekey+'</span> <span class="key"><span class="bold">[A]</span> - '+e[d].akey+'</span> <span class="key"><span class="bold">[S]</span> - '+e[d].skey+'</span> <span class="key"><span class="bold">[D]</span> - '+e[d].dkey+'</span> <span class="key"><span class="bold">[X]</span> - '+e[d].xkey+'</span> <span class="key"><span class="bold">[Z]</span> - '+e[d].zkey+'</span> <span class="key"><span class="bold">['+e[d].space+"]</span> - "+e[d].spacekey+'</span> <span class="key"><span class="bold">[Shift]</span> - '+e[d].shiftkey+'</span> <span class="key"><span class="bold">[Q]</span> - '+e[d].qkey+'</span> <span class="key"><span class="bold">[F]</span> - '+e[d].fkey+'</span> <span class="key"><span class="bold">[G]</span> - '+e[d].gkey+'</span> <br clear="both"/>'),a("#tags-container").appendTo("#ogario-settings"),a("#settings, #stats hr").remove(),a(".agario-party-1, .agario-party-5").append('<div class="party-info">Token: <span class="party-info-token"></span><br />'+e[d].leaderboard+':<br /><span class="party-info-leaderboard"></span><br /></div>'),a("#statsContinue").after('<button type="submit" onclick="closeStats(); setNick(document.getElementById(\'nick\').value); return false;" id="stats-play" class="btn btn-success btn-needs-server" data-itr="play">Play</button> <button onclick="closeStats(); spectate(); return false;" id="stats-spectate" class="btn btn-warning btn-needs-server" data-itr="spectate">Spectate</button>'),a(".agario-profile-panel").after('<div class="agario-panel agario-side-panel ogario-yt-panel"><div class="g-ytsubscribe" data-channelid="UCgRXubLqYQaQT7HHwcjGwtg" data-layout="full" data-theme="dark" data-count="default"></div></div>'),a("body").append('<div id="leaderboard-hud" class="hud-b"><h4>Clan λӃ✿</h4><div id="leaderboard-positions"></div></div> <div id="minimap-hud" class="hud-b"><canvas id="minimap-sectors"></canvas><canvas id="minimap"></canvas></div> <div id="mode-hud" class="hud"><span class="letter">[P]</span>erformance Mode <span class="state">OFF</span></div>'),a(".agario-party-1 div:first, .agario-party-1 .clearfix, .agario-party-3, .agario-party-4, .agario-party-5 div:first, .agario-party-5 .clearfix").remove(),a("#helloContainer").css({height:"auto"}),a("#helloContainer .agario-panel").css({"background-color":"#111111"}),a("#mainPanel h2, #mainPanel h5").css({color:"#FFFFFF"}),a(".side-container").css({color:"#DDDDDD"}),a("#clantag, .btn-copy-token, .btn-logout").css({width:"33%"}),a(".nick").css({width:"65%","float":"right"}),a("#nick").css({width:"100%","float":"none"}),a("#region, #ogario-party .partyToken").css({width:"65%",margin:"6px 0 0 0","float":"left"}),a("#gamemode").css({"margin-top":"6px"}),a(".btn-play-guest, .btn-login-play").css({width:"49%","margin-left":"0"}),a(".btn-play").css({width:"100%","margin-left":"0"}),a(".btn-settings, .btn-cancel-party").css({width:"13%","margin-top":"6px"}),a(".btn-next").css({width:"15%",height:"35px","font-weight":"bold",margin:"6px 0 0 2%","float":"left"}),a(".btn-spectate, .btn-logout").css({margin:"6px 0 0 2%"}),a("#clantag, .btn-copy-token, .btn-spectate").css({"float":"left"}),a("#nick, .btn-login-play, .btn-logout, .btn-copy-token, .btn-cancel-party").css({"float":"right"}),a(".btn-create-party, .btn-join-party").css({width:"41.5%",margin:"6px 2% 0 0","float":"left"}),a("#ogario-party").css({"padding-bottom":"15px"}),a("#ogario-party .partyToken").css({margin:"0"}),a("#ogario-settings").css({width:"inherit",display:"none",margin:"0",position:"absolute",top:"0","z-index":"400"}),a("#ogario-settings h4").css({color:"#FF7800","text-align":"center"}),a("#ogario-settings label, #ogario-settings .key").css({width:"50%",display:"block","font-size":"12px","float":"left"}),a("#ogario-settings hr").css({"border-color":"#555555",margin:"10px 0 0 0"}),a("#ogario-settings .key").css({padding:"3px 2%"}),a("#ogario-settings .bold").css({color:"#FF7800","font-weight":"bold"}),a("#stats").css({height:"640px"}),a("#socialStats").css({bottom:"360px"}),a("#stats-play").css({width:"42%",position:"absolute",left:"25px",bottom:"270px"}),a("#stats-spectate").css({width:"42%",position:"absolute",right:"25px",bottom:"270px"}),a(".skin").css({"margin-top":"6px","float":"left"}),a(".hud, .hud-b").css({"background-color":"rgba(0,0,0,0.4)","border-radius":"4px",color:"#FFFFFF","font-family":"Ubuntu","font-size":"20px",padding:"2px 10px",position:"fixed",display:"none","z-index":"100"}),a("#minimap-hud").css({width:"200px",height:"220px",padding:"0",right:"10px",bottom:"10px"}),a("#minimap-sectors, #minimap").css({position:"absolute"}),a("#minimap-sectors").css({margin:"29px 0 0 9px",opacity:"0.2"}),a("#leaderboard-hud").css({width:"200px","text-align":"center","white-space":"nowrap",padding:"0",top:"10px",right:"10px",display:"block"}),a("#leaderboard-hud h4").css({color:"#FF7800","font-size":"19px",margin:"6px"}),a("#leaderboard-positions").css({"font-size":"14px",padding:"0 10px 6px 10px",overflow:"hidden"}),a("#mode-hud").css({width:"200px",display:"block","font-size":"14px","text-align":"center",padding:"2px 0",top:"260px",right:"10px"}),a("#mode-hud .letter").css({color:"#FF7800"}),a("#mode-hud .state").css({color:"#FF0A00"}),a(".ogario-yt-panel").css({"float":"right"}),a("head").append('<style>#helloContainer[data-logged-in="0"] .btn-spectate { width: 68%; } #helloContainer[data-logged-in="1"] .btn-spectate { width: 33%; } #mainPanel h5 a, .agario-party h4 { color: #FF7800; } .agario-profile-panel { padding-top: 8px; } .close { color: #FF7800; text-shadow: none; opacity: 1; } #mainPanel h5 a:hover, .close:focus, .close:hover { color: #FFFFFF; } #statsText { color: #BBBBBB; } #stats h2, #statsSubtext { color: #DDDDDD; } #statsGraph { bottom: 400px; opacity: 1; } #statsContinue { bottom: 310px; } #helloContainer[data-logged-in="0"] #agario-main-buttons, #agario-main-buttons { padding: 0 0; } #agario-main-buttons .row { margin: 0 0 } #helloContainer[data-party-state="1"] #agario-web-incentive, #helloContainer[data-party-state="5"] #agario-web-incentive { display: none }</style>'),a("#ogario-settings input:checkbox").each(function(){var b=a(this).attr("id");if(r.hasOwnProperty(b)){if("skins"===b||"names"===b)return void a(this).prop("checked",!r[b]);a(this).prop("checked",r[b])}}),leaderboardHUD=document.getElementById("leaderboard-hud"),leaderboardPositionsHUD=document.getElementById("leaderboard-positions"),partyInfoLeaderboard=document.getElementsByClassName("party-info-leaderboard"),nb(),mb(!0),ob(),a("#nick").val(q.nick),a("#clantag").val(q.clantag)}function qb(a,b){if(b){var c=new Date;c.setTime(c.getTime()+864e5*b),c="; expires="+c.toGMTString()}else c="";document.cookie="agario_redirect="+a+c+"; path=/"}function rb(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){for(var c=a[b];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf("agario_redirect="))return c.substring(16,c.length)}return null}function sb(a){a.preventDefault(),Kd*=Math.pow(.9,a.wheelDelta/-120||a.detail||0),!r.unlimitedzoom&&1>Kd&&(Kd=1),Kd>4/md&&(Kd=4/md)}function tb(){return void(Sc=null)}function ub(){cd=(ad-Qc/2)/md+Uc,dd=(bd-Rc/2)/md+Vc,Q=cd,R=dd}function vb(){null==Xd&&(Xd={},b("#region").children().each(function(){var a=b(this),c=a.val();c&&(Xd[c]=a.text())})),b.get(Kc+"info",function(a){var d,c={};for(d in a.regions){var e=d.split(":")[0];c[e]=c[e]||0,c[e]+=a.regions[d].numPlayers}for(d in c)b('#region option[value="'+d+'"]').text(Xd[d]+" ("+c[d]+" players)")},"json")}function wb(){b("#adsBottom").hide(),b("#overlays").hide(),b("#stats").hide(),b("#mainPanel").hide(),Ke=Md=!1,Ab(),a.destroyAd(a.adSlots.aa),a.destroyAd(a.adSlots.ac)}function xb(c){c&&(c==nd?b(".btn-needs-server").prop("disabled",!1):(b("#region").val()!=c&&b("#region").val(c),nd=a.localStorage.location=c,b(".region-message").hide(),b(".region-message."+c).show(),b(".btn-needs-server").prop("disabled",!1),Ad&&Gb()))}function yb(c){Md||Ke||(Le?b(".btn-spectate").prop("disabled",!0):b(".btn-spectate").prop("disabled",!1),hd=null,Yd||(b("#adsBottom").show(),b("#g300x250").hide(),b("#a300x250").show(),b("#g728x90").hide(),b("#a728x90").show()),a.refreshAd(Yd?a.adSlots.ac:a.adSlots.aa),Yd=!1,1e3>c&&(Ld=1),Md=!0,b("#mainPanel").show(),c>0?b("#overlays").fadeIn(c):b("#overlays").show()),300==c&&(D=!0)}function zb(a){b("#helloContainer").attr("data-gamemode",a),yd=a,b("#gamemode").val(a),gameMode=a,":teams"===gameMode?eb(leaderboardHUD,!1):eb(leaderboardHUD,!0)}function Ab(){b("#region").val()?a.localStorage.location=b("#region").val():a.localStorage.location&&b("#region").val(a.localStorage.location),b("#region").val()?b("#locationKnown").append(b("#region")):b("#locationUnknown").append(b("#region"))}function Bb(b){"env_local"in EnvConfig?"true"==EnvConfig.load_local_configuration?a.MC.updateConfigurationID("base"):a.MC.updateConfigurationID(EnvConfig.configID):a.MC.updateConfigurationID(b)}function Cb(){"configID"in Ac?Bb(Ac.configID):b.get(Kc+"getLatestID",function(b){Bb(b),a.localStorage.last_config_id=b}).fail(function(){var b;(b="last_config_id"in a.localStorage)&&(b=a.localStorage.last_config_id,b=!(null==b||void 0==b||""===b)),b&&(b=a.localStorage.last_config_id,console.log("Fallback to stored configID: "+b),Bb(b))})}function Db(){b.get(Ic+"//gc.agar.io",function(a){var b=a.split(" ");a=b[0],b=b[1]||"",_d.hasOwnProperty(a)&&("string"==typeof _d[a]?nd||xb(_d[a]):_d[a].hasOwnProperty(b)&&(nd||xb(_d[a][b])))},"text")}function Eb(b){return a.i18n[b]||a.i18n_dict.en[b]||b}function Fb(){var c=++Nd;console.log("Find "+nd+yd),Hb(),b.ajax(Kc+"findServer",{error:function(){console.log("Failed to get server. Will retry in 30 seconds"),setTimeout(Fb,3e4)},success:function(b){if(c==Nd){b.alert&&alert(b.alert);var d=b.ip;"game_server_port"in EnvConfig&&(d=a.location.hostname+":"+EnvConfig.game_server_port),Ib("ws"+(Jc?"s":"")+"://"+d,b.token)}},dataType:"json",method:"POST",cache:!1,crossDomain:!0,data:(nd+yd||"?")+"\n2200049715"})}function Gb(){Ad&&nd&&(b("#connecting").show(),Fb())}function Hb(){if(Tc){Tc.onopen=null,Tc.onmessage=null,Tc.onclose=null;try{Tc.close()}catch(a){}Tc=null}}function Ib(a,c){if(Hb(),Ac.ip&&(a="ws"+(Jc?"s":"")+"://"+Ac.ip),null!=ce){var d=ce;ce=function(){d(c)}}if(Jc&&!EnvConfig.env_development&&!EnvConfig.env_local){var e=a.split(":");a="wss://ip-"+e[1].replace(/\./g,"-").replace(/\//g,"")+".tech.agar.io:"+ +e[2]}Wc=[],Xc=[],Yc={},Zc=[],$c=[],_c=[],ke=zd=null,sd=0,Id=!1,console.log("Connecting to "+a),Mc.cache.sentGameServerLogin=!1,Tc=new WebSocket(a),Tc.binaryType="arraybuffer",Tc.onopen=function(){var a;Jd=fd=Date.now(),ae=120,be=0,console.log("socket open"),a=Jb(5),a.setUint8(0,254),a.setUint32(1,5,!0),Kb(a),a=Jb(5),a.setUint8(0,255),a.setUint32(1,2200049715,!0),Kb(a),a=Jb(1+c.length),a.setUint8(0,80);for(var b=0;b<c.length;++b)a.setUint8(b+1,c.charCodeAt(b));Kb(a),Mc.core.proxy.onSocketOpen()},Tc.onmessage=Mb,Tc.onclose=Lb,Tc.onerror=function(){console.log(we.L()+" socket error",arguments)},":party"!==gameMode&&b(".partyToken").val("")}function Jb(a){return new DataView(new ArrayBuffer(a))}function Kb(a){Tc.send(a.buffer)}function Lb(){Id&&(de=500),Mc.core.proxy.onSocketClosed(),console.log(we.L()+" socket close"),setTimeout(Gb,de),de*=2}function Mb(a){Nb(new DataView(a.data))}function Nb(b){function c(){for(var a="";;){var c=b.getUint16(d,!0);if(d+=2,0==c)break;a+=String.fromCharCode(c)}return a}var d=0;switch(240==b.getUint8(d)&&(d+=5),b.getUint8(d++)){case 16:Ob(b,d);break;case 17:vd=b.getFloat32(d,!0),d+=4,wd=b.getFloat32(d,!0),d+=4,xd=b.getFloat32(d,!0),d+=4;break;case 18:Wc=[],Xc=[],Yc={},Zc=[];break;case 20:Xc=[],Wc=[];break;case 21:Cd=b.getInt16(d,!0),d+=2,Dd=b.getInt16(d,!0),d+=2,Bd||(Bd=!0,Ed=Cd,Fd=Dd);break;case 32:Wc.push(b.getUint32(d,!0)),d+=4;break;case 49:if(null!=zd)break;var e=b.getUint32(d,!0),d=d+4;_c=[];for(var f=0;e>f;++f){var g=b.getUint32(d,!0),d=d+4;_c.push({id:g,name:c()})}fb();break;case 50:for(zd=[],e=b.getUint32(d,!0),d+=4,f=0;e>f;++f)zd.push(b.getFloat32(d,!0)),d+=4;ac();break;case 64:id=b.getFloat64(d,!0),d+=8,jd=b.getFloat64(d,!0),d+=8,kd=b.getFloat64(d,!0),d+=8,ld=b.getFloat64(d,!0),d+=8,vd=(kd+id)/2,wd=(ld+jd)/2,xd=1,0==Xc.length&&(Uc=vd,Vc=wd,md=xd),b.byteLength>d&&(e=b.getUint32(d,!0),d+=4,Qd=!!(1&e),Pd=c(),a.MC.updateServerVersion(Pd),console.log("Server version "+Pd)),Ja(id,jd,kd,ld),A[0]=id,A[1]=jd,A[2]=kd,A[3]=ld;break;case 102:e=b.buffer.slice(d),Mc.core.proxy.forwardProtoMessage(e);break;case 104:a.logout()}}function Ob(c,d){function e(){for(var a="";;){var b=c.getUint16(d,!0);if(d+=2,0==b)break;a+=String.fromCharCode(b)}return a}function f(){for(var a="";;){var b=c.getUint8(d++);if(0==b)break;a+=String.fromCharCode(b)}return a}fd=Date.now();var g=fd-Jd;Jd=fd,ae=ee*ae+he*g,be=fe*be+ge*Math.abs(g-ae),Mc.core.debug&&(Mc.debug.updateChart("networkUpdate",fd,g),Mc.debug.updateChart("rttMean",fd,ae),Mc.debug.updateChart("rttSDev",fd,be)),Id||(Id=!0,b("#connecting").hide(),Qb(),ce&&(ce(),ce=null)),rd=!1,g=c.getUint16(d,!0),d+=2;for(var h=0;g>h;++h){var i=Yc[c.getUint32(d,!0)],j=Yc[c.getUint32(d+4,!0)];d+=8,i&&j&&(j.ca(),j.s=j.x,j.u=j.y,j.o=j.size,j.na(i.x,i.y),j.g=j.size,j.U=fd,sc(i,j))}for(h=0;g=c.getUint32(d,!0),d+=4,0!=g;){++h;var k,i=c.getInt32(d,!0);d+=4,j=c.getInt32(d,!0),d+=4,k=c.getInt16(d,!0),d+=2;var l=c.getUint8(d++),m=c.getUint8(d++),n=c.getUint8(d++),m=fc(l<<16|m<<8|n),n=c.getUint8(d++),o=!!(1&n),p=!!(16&n),q=null;2&n&&(d+=4+c.getUint32(d,!0)),4&n&&(q=f());var s=e(),l=null;Yc.hasOwnProperty(g)?(l=Yc[g],l.T(),l.s=l.x,l.u=l.y,l.o=l.size,l.color=m):(l=new ec(g,i,j,k,m,s),Zc.push(l),Yc[g]=l),l.c=l.isVirus=o,l.h=p,l.na(i,j),l.g=k,l.U=fd,l.ea=n,q&&(l.C=q),s&&l.A(s),l.isMyCell&&r.timetoremerge&&(l.ttr=Oa(l.size)),-1!=Wc.indexOf(g)&&-1==Xc.indexOf(l)&&(l.isMyCell=!0,r.timetoremerge&&(l.ttr=Oa(l.size)),Xc.push(l),l.I=!0,1==Xc.length&&(l.ua=!0,Uc=l.x,Vc=l.y,ye(),document.getElementById("overlays").style.display="none",He=[],Ie=0,Je=Xc[0].color,Le=!0,Me=Date.now(),Qe=Pe=Oe=0))}for(i=c.getUint32(d,!0),d+=4,h=0;i>h;h++)g=c.getUint32(d,!0),d+=4,l=Yc[g],null!=l&&l.ca();rd&&0==Xc.length&&0==a.MC.isUserLoggedIn()&&rc()}function Pb(){if(Tb()){var a=ad-Qc/2,b=bd-Rc/2;64>a*a+b*b||.01>Math.abs(ie-cd)&&.01>Math.abs(je-dd)||(ie=cd,je=dd,a=Jb(13),a.setUint8(0,16),a.setInt32(1,D?S:cd,!0),a.setInt32(5,D?T:dd,!0),a.setUint32(9,0,!0),Kb(a))}}function Qb(){if(Tb()&&Id&&null!=hd){var a=Jb(1+2*hd.length);a.setUint8(0,0);for(var b=0;b<hd.length;++b)a.setUint16(1+2*b,hd.charCodeAt(b),!0);Kb(a),hd=null}}function Rb(){Pb(),Ub(17)}function Sb(){Pb(),Ub(21)}function Tb(){return null!=Tc&&Tc.readyState==Tc.OPEN}function Ub(a){if(Tb()){var b=Jb(1);b.setUint8(0,a),Kb(b)}}function Vb(){Qc=1*a.innerWidth,Rc=1*a.innerHeight,O=Qc,P=Rc,Nc.width=Pc.width=Qc,Nc.height=Pc.height=Rc;var c=b("#helloContainer");c.css("transform","none");var d=c.height(),e=a.innerHeight;0!=d/2%2&&(d++,c.height(d)),d>e/1.1?c.css("transform","translate(-50%, -50%) scale("+e/d/1.1+")"):c.css("transform","translate(-50%, -50%)"),Yb()}function Wb(){var a;return a=1*Math.max(Rc/1080,Qc/1920),a*=Kd}function Xb(){if(!r.autozoom)return void(md=(9*md+Wb())/10);if(0!=Xc.length){for(var a=0,b=0;b<Xc.length;b++)a+=Xc[b].size;md=(9*md+Math.pow(Math.min(64/a,1),.4)*Wb())/10}}function Yb(){var a,b=Date.now();if(++ed,ue&&(++te,te>180&&(te=0)),fd=b,0<Xc.length){Xb();for(var c=a=0,d=0;d<Xc.length;d++)Xc[d].T(),a+=Xc[d].x/Xc.length,c+=Xc[d].y/Xc.length;vd=a,wd=c,xd=md,Uc=(Uc+a)/2,Vc=(Vc+c)/2,S=vd,T=wd,F=md,L=Sa(),N=L.index}else Uc=(29*Uc+vd)/30,Vc=(29*Vc+wd)/30,md=(9*md+xd*Wb())/10,S=Uc,T=Vc,F=md;for(qa()&&(food=Ie,roundTime=Na(roundStartTime),splitTime=Qa(),I=Math.max(I,H),J=Math.max(J,I),totalVictims=Math.max(totalVictims,roundVictims),totalFood=Math.max(totalFood,food),sd=Math.max(sd,G)),tb(),ub(),Hd||Oc.clearRect(0,0,Qc,Rc),Hd?(Oc.fillStyle=r.darktheme?"#111111":"#F2FBFF",Oc.globalAlpha=.05,Oc.fillRect(0,0,Qc,Rc),Oc.globalAlpha=1):Zb(),Zc.sort(function(a,b){return a.size==b.size?a.id-b.id:a.size-b.size}),Oc.save(),Oc.translate(Qc/2,Rc/2),Oc.scale(md,md),Oc.translate(-Uc,-Vc),r.drawbackgroundsectors&&(B?bb(Oc,y,z,t[0],t[1],t[2],t[3],10,!0):qa()||B||bb(Oc,y,z,A[0],A[1],A[2],A[3],10,!0)),r.showmapborders&&ab(Oc,A[0],A[1],A[2],A[3],20),_a(Oc,"c",_b()),d=0;d<$c.length;d++)$c[d].w(Oc);for(d=0;d<Zc.length;d++)Zc[d].w(Oc);if(Bd){for(Ed=(3*Ed+Cd)/4,Fd=(3*Fd+Dd)/4,Oc.save(),Oc.strokeStyle="#FFAAAA",Oc.lineWidth=10,Oc.lineCap="round",Oc.lineJoin="round",Oc.globalAlpha=.5,Oc.beginPath(),d=0;d<Xc.length;d++)Oc.moveTo(Xc[d].x,Xc[d].y),Oc.lineTo(Ed,Fd);Oc.stroke(),Oc.restore()}Oc.restore(),ke&&ke.width&&Oc.drawImage(ke,Qc-ke.width-10,10),gb(Oc,gc,"B","O",O,P),r.showminimap&&(currentSector=La(y,z,S,T),db(y,z,S,T,182)),r.showfps&&renderedFrames++,$b(),b=Date.now()-b,b>1e3/60?le-=.01:1e3/65>b&&(le+=.01),.4>le&&(le=.4),le>1&&(le=1),b=fd-gd,!Tb()||Md||Ke?(Ld+=b/2e3,Ld>1&&(Ld=1)):(Ld-=b/300,0>Ld&&(Ld=0)),Ld>0?(Oc.fillStyle="#000000",Od?(Oc.globalAlpha=Ld,Oc.fillRect(0,0,Qc,Rc),Rd.complete&&Rd.width&&(Rd.width/Rd.height<Qc/Rc?(b=Qc,a=Rd.height*Qc/Rd.width):(b=Rd.width*Rc/Rd.height,a=Rc),Oc.drawImage(Rd,(Qc-b)/2,(Rc-a)/2,b,a),Oc.globalAlpha=.5*Ld,Oc.fillRect(0,0,Qc,Rc))):(Oc.globalAlpha=.5*Ld,Oc.fillRect(0,0,Qc,Rc)),Oc.globalAlpha=1):Od=!1,gd=fd}function Zb(){if(r.drawgrid&&!r.drawbackgroundsectors&&!r.performancemode){Oc.save(),Oc.strokeStyle=r.darktheme?"#AAAAAA":"#000000",Oc.globalAlpha=.2*md;for(var a=Qc/md,b=Rc/md,c=(-Uc+a/2)%50;a>c;c+=50)Oc.beginPath(),Oc.moveTo(c*md-.5,0),Oc.lineTo(c*md-.5,b*md),Oc.stroke();for(c=(-Vc+b/2)%50;b>c;c+=50)Oc.beginPath(),Oc.moveTo(0,c*md-.5),Oc.lineTo(a*md,c*md-.5),Oc.stroke();Oc.restore()}}function $b(){if(Sd&&Td.width){var a=Qc/5;Oc.drawImage(Td,5,5,a,a)}}function _b(){for(var a=0,b=0;b<Xc.length;b++)a+=Xc[b].g*Xc[b].g;return a}function ac(){if(ke=null,(null!=zd||0!=_c.length)&&(null!=zd||pd)){ke=document.createElement("canvas");var a=ke.getContext("2d"),b=60,b=null==zd?b+24*_c.length:b+180,c=Math.min(200,.3*Qc)/200;ke.width=200*c,ke.height=b*c,a.scale(c,c),a.globalAlpha=.4,a.fillStyle="#000000",a.fillRect(0,0,200,b),a.globalAlpha=1,a.fillStyle="#FFFFFF",c=null,a.fillStyle="#FF7800",c="OGARio by szymy",a.font="19px Ubuntu",a.fillText(c,100-a.measureText(c).width/2,25);var d,e;if(null==zd)for(a.font="20px Ubuntu",b=0;b<_c.length;++b)c=_c[b].name||Eb("unnamed_cell"),pd||(c=Eb("unnamed_cell")),-1!=Wc.indexOf(_c[b].id)?(Xc[0].name&&(c=Xc[0].name),a.fillStyle="#FFAAAA"):a.fillStyle="#FFFFFF",c=b+1+". "+c,e=a.measureText(c).width,d=70+24*b,e>200?a.fillText(c,10,d):a.fillText(c,(200-e)/2,d);else for(b=c=0;b<zd.length;++b)d=c+zd[b]*V,a.fillStyle=Gd[b+1],a.beginPath(),a.moveTo(100,120),a.arc(100,120,80,c,d,!1),a.fill(),c=d}}function bc(b){if(null==b||0==b.length)return null;if("%"==b[0]){if(!a.MC||!a.MC.getSkinInfo)return null;if(b=a.MC.getSkinInfo("skin_"+b.slice(1)),null==b)return null;for(b=(+b.color).toString(16);6>b.length;)b="0"+b;return"#"+b}return null}function cc(b){if(null==b||0==b.length)return null;if(!se.hasOwnProperty(b)){var c=new Image;if(":"==b[0])c.src=b.slice(1);else if("%"==b[0]){if(!a.MC||!a.MC.getSkinInfo)return null;var d=a.MC.getSkinInfo("skin_"+b.slice(1));if(null==d)return null;c.src=a.ASSETS_ROOT+d.url}se[b]=c}return 0!=se[b].width&&se[b].complete?se[b]:null}function dc(a,b,c,d,e){this.$=a,this.x=b,this.y=c,this.f=d,this.b=e}function ec(a,b,c,d,e,f){this.id=a,this.s=this.x=this.M=this.J=b,this.u=this.y=this.N=this.K=c,this.o=this.size=d,this.color=e,this.a=[],this.ba(),this.A(f),this.createTime=Date.now(),this.isFood=30>=d}function fc(a){for(a=a.toString(16);6>a.length;)a="0"+a;return"#"+a}function gc(a,b,c,d){a&&(this.v=a),b&&(this.W=b),this.Y=!!c,d&&(this.Z=d)}function hc(a){for(var c,d,b=a.length;b>0;)d=Math.floor(Math.random()*b),b--,c=a[b],a[b]=a[d],a[d]=c}function ic(){Ae=ze}function jc(a){Ae.context="google"==a?"google":"facebook",kc()}function kc(){a.localStorage.storeObjectInfo=JSON.stringify(Ae),Ae=JSON.parse(a.localStorage.storeObjectInfo),a.storageInfo=Ae,"google"==Ae.context?(b("#gPlusShare").show(),b("#fbShare").hide()):(b("#gPlusShare").hide(),b("#fbShare").show())}function lc(c){b("#helloContainer").attr("data-has-account-data"),""!=c.displayName&&(c.name=c.displayName),(null==c.name||void 0==c.name)&&(c.name="");var d=c.name.lastIndexOf("_");-1!=d&&(c.name=c.name.substring(0,d)),b("#helloContainer").attr("data-has-account-data","1"),b("#helloContainer").attr("data-logged-in","1"),b(".agario-profile-panel .progress-bar-star").text(c.level),b(".agario-exp-bar .progress-bar-text").text(c.xp+"/"+c.xpNeeded+" XP"),b(".agario-exp-bar .progress-bar").css("width",(88*c.xp/c.xpNeeded).toFixed(2)+"%"),b(".agario-profile-name").text(c.name),""!=c.picture&&b(".agario-profile-picture").attr("src",c.picture),nc(),Ae.userInfo.level=c.level,Ae.userInfo.xp=c.xp,Ae.userInfo.xpNeeded=c.xpNeeded,Ae.userInfo.displayName=c.name,Ae.userInfo.loggedIn="1",a.updateStorage()}function mc(c,d){var e=c;if(Ae.userInfo.loggedIn){var f=b("#helloContainer").is(":visible")&&"1"==b("#helloContainer").attr("data-has-account-data");if((null==e||void 0==e)&&(e=Ae.userInfo),f){var g=+b(".agario-exp-bar .progress-bar-text").first().text().split("/")[0],f=+b(".agario-exp-bar .progress-bar-text").first().text().split("/")[1].split(" ")[0],h=b(".agario-profile-panel .progress-bar-star").first().text();if(h!=e.level)mc({xp:f,xpNeeded:f,level:h},function(){b(".agario-profile-panel .progress-bar-star").text(e.level),b(".agario-exp-bar .progress-bar").css("width","100%"),b(".progress-bar-star").addClass("animated tada").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b(".progress-bar-star").removeClass("animated tada")}),setTimeout(function(){b(".agario-exp-bar .progress-bar-text").text(e.xpNeeded+"/"+e.xpNeeded+" XP"),mc({xp:0,xpNeeded:e.xpNeeded,level:e.level},function(){mc(e)})},1e3)});else{var i=Date.now(),j=function(){var c;c=(Date.now()-i)/1e3,c=0>c?0:c>1?1:c,c=c*c*(3-2*c),b(".agario-exp-bar .progress-bar-text").text(~~(g+(e.xp-g)*c)+"/"+e.xpNeeded+" XP"),b(".agario-exp-bar .progress-bar").css("width",(88*(g+(e.xp-g)*c)/e.xpNeeded).toFixed(2)+"%"),d&&d(),1>c&&a.requestAnimationFrame(j)};a.requestAnimationFrame(j)}}}}function nc(){var a;("undefined"!=typeof a&&a||"none"==b("#settings").css("display")&&"none"==b("#socialLoginContainer").css("display"))&&b("#instructions").show()}function oc(c){if("connected"==c.status){var d=c.authResponse.accessToken;null==d||"undefined"==d||""==d?(3>Ce&&(Ce++,a.facebookRelogin()),a.logout()):(a.MC.doLoginWithFB(d),Mc.cache.login_info=[d,"facebook"],a.FB.api("/me/picture?width=180&height=180",function(d){Ae.userInfo.picture=d.data.url,a.updateStorage(),b(".agario-profile-picture").attr("src",d.data.url),Ae.userInfo.socialId=c.authResponse.userID,Be()}),b("#helloContainer").attr("data-logged-in","1"),Ae.context="facebook",Ae.loginIntent="1",a.updateStorage())}}function pc(c){zb(":party"),b("#helloContainer").attr("data-party-state","4"),c=decodeURIComponent(c).replace(/.*#/gim,""),qc("#"+a.encodeURIComponent(c)),b.ajax(Kc+"getToken",{error:function(){b("#helloContainer").attr("data-party-state","6")},success:function(d){d=d.split("\n"),b(".partyToken").val("agar.io/#"+a.encodeURIComponent(c)),b(".party-info-token").text("http://agar.io/#"+a.encodeURIComponent(c)),b("#helloContainer").attr("data-party-state","5"),zb(":party"),Ib("ws://"+d[0],c)},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:c})}function qc(b){a.history&&a.history.replaceState&&a.history.replaceState({},a.document.title,b)}function rc(){null==a.storageInfo&&a.createDefaultStorage(),Ne=Date.now(),0>=Me&&(Me=Ne),Le=!1,wc()}function sc(a,b){ua(a,b);var c=-1!=Wc.indexOf(a.id),d=-1!=Wc.indexOf(b.id),e=30>b.size;c&&e&&++Ie,e||!c||d||32&b.ea||++Pe}function tc(a){a=~~a;var b=(a%60).toString();return a=(~~(a/60)).toString(),2>b.length&&(b="0"+b),a+":"+b}function uc(){if(null==_c)return 0;for(var a=0;a<_c.length;++a)if(-1!=Wc.indexOf(_c[a].id))return a+1;return 0}function vc(){b(".stats-food-eaten").text(Ie),b(".stats-time-alive").text(tc((Ne-Me)/1e3)),b(".stats-leaderboard-time").text(tc(Oe)),b(".stats-highest-mass").text(~~(sd/100)),b(".stats-cells-eaten").text(Pe),b(".stats-top-position").text(0==Qe?":(":Qe);var a=document.getElementById("statsGraph");if(a){var c=a.getContext("2d"),d=a.width,a=a.height;if(c.clearRect(0,0,d,a),2<He.length){for(var e=200,f=0;f<He.length;f++)e=Math.max(He[f],e);for(c.lineWidth=3,c.lineCap="round",c.lineJoin="round",c.strokeStyle=Je,c.fillStyle=Je,c.beginPath(),c.moveTo(0,a-He[0]/e*(a-10)+10),f=1;f<He.length;f+=Math.max(~~(He.length/d),1)){for(var g=f/(He.length-1)*d,h=[],i=-20;20>=i;++i)0>f+i||f+i>=He.length||h.push(He[f+i]);h=h.reduce(function(a,b){return a+b})/h.length/e,c.lineTo(g,a-h*(a-10)+10)}c.stroke(),c.globalAlpha=.5,c.lineTo(d,a),c.lineTo(0,a),c.fill(),c.globalAlpha=1}}}function wc(){Md||Ke||(r.skipstats?yb(500):(a.refreshAd(a.adSlots.ab),vc(),Ke=!0,b("#overlays").fadeIn(500),mc(),b("#stats").show(),a.fillSocialValues(xc("g_plus_share_stats"),"gPlusShare")),totalDeaths++,oa(!1))}function xc(c){var d=b(".stats-time-alive").text();return a.parseString(c,"%@",[d.split(":")[0],d.split(":")[1],b(".stats-highest-mass").text()])}function yc(){a.open("https://plus.google.com/share?url=www.agar.io&hl=en-US","Agar.io","width=484,height=580,menubar=no,toolbar=no,resizable=yes,scrollbars=no,left="+(a.screenX+a.innerWidth/2-242)+",top="+(a.innerHeight-580)/2)}b(a).on("beforeunload",ka);var c="v0.8.5",d="en",e={pl:{settings:"Ustawienia OGARio",unlimitedzoom:"Zoom",autozoom:"Auto zoom",names:"Wyłącz nazwy",autonames:"Autoukrywanie nazw",showmass:"Pokaż masę",automass:"Autoukrywanie masy",rainbowfood:"Kolorowy pokarm",autofood:"Autoukrywanie pokarmu",opponentscolors:"Kolory przeciwników",opponentsrings:"Ringi przeciwników",splitrange:"Zasięg podziału",virusrange:"Zasięg wirusów",transparentcells:"Przezroczyste kulki",transparentskins:"Przezroczyste skiny",skins:"Wyłącz skiny",onlyogarioskins:"Tylko skiny OGARio",drawgrid:"Pokaż siatkę",drawbackgroundsectors:"Sektory w tle",showmapborders:"Granice mapy",showminimap:"Pokaż minimapę",showfps:"Licznik FPS",showmassguides:"Wskaźniki masy",darktheme:"Ciemny motyw",nocolors:"Wyłącz kolory",simpledrawing:"Proste rysowanie",textshadows:"Cienie nazw",timetoremerge:"Czas do złączenia",cursortracking:"Śledzenie kursora",disableshift:"Wyłącz Shift",skipstats:"Pomiń statystyki",performancemode:"Performance mode",keys:"Klawisze",qkey:"Podwójny podział",wkey:"Karmienie",ekey:"Pauza kulki",pkey:"Performance mode",akey:"Strzał w wirusy",skey:"Statystyki",dkey:"Przełączanie kulki",fkey:"Pokaż/ukryj pokarm",gkey:"Pokaż/ukryj boty",zkey:"Reset zoomu",xkey:"Przełączanie miejsca śmierci",shiftkey:"Szybki podział",spacekey:"Podział",space:"Spacja",leaderboard:"Topka",currentmass:"Masa: ",bestmass:"Top: ",topmass:"Top gry: ",roundvictims:"Ofiary: ",totalvictims:"Top ofiar: ",food:"Pokarm: ",totalfood:"Top pokarmu: ",totaldeaths:"Smierci: ",roundtime:"Czas: ",gametime:"Czas gry: ",unnamedcell:"Bez nazwy",pause:"PAUZA!",modinfo:"Polski MOD: OGARio by szymy",home:"Strona",exit:"OGARio by szymy: Czy na pewno chcesz opuścic grę?"},en:{settings:"OGARio settings",unlimitedzoom:"Zoom",autozoom:"Auto zoom",names:"No names",autonames:"Auto hide names",showmass:"Show mass",automass:"Auto hide mass",rainbowfood:"Rainbow food",autofood:"Auto hide food",opponentscolors:"Opponents colors",opponentsrings:"Opponents rings",splitrange:"Split range",virusrange:"Viruses range",transparentcells:"Transparent cells",transparentskins:"Transparent skins",skins:"No skins",onlyogarioskins:"Only OGARio skins",drawgrid:"Show grid",drawbackgroundsectors:"Background sectors",showmapborders:"Show map borders",showminimap:"Show minimap",showfps:"Show FPS",showmassguides:"Show mass guides",darktheme:"Dark theme",nocolors:"No colors",simpledrawing:"Simple drawing",textshadows:"Text shadows",timetoremerge:"Time to re-merge",cursortracking:"Cursor tracking",disableshift:"Disable Shift",skipstats:"Skip stats",performancemode:"Performance mode",keys:"Keys",qkey:"Double split",wkey:"Macro feed",ekey:"Cell pause",pkey:"Performance mode",akey:"Shoot viruses",skey:"Show stats",dkey:"Toggle cells",fkey:"Toggle food",gkey:"Toggle bots",zkey:"Reset zoom",xkey:"Switch death location",shiftkey:"Fast split",spacekey:"Split",space:"Space",leaderboard:"Leaderboard",currentmass:"Mass: ",bestmass:"Highest mass: ",topmass:"Game highest mass: ",roundvictims:"Kills: ",totalvictims:"Highest kills: ",food:"Food: ",totalfood:"Highest food: ",totaldeaths:"Total deaths: ",roundtime:"Time: ",gametime:"Game time: ",unnamedcell:"An unnamed cell",pause:"PAUSE!",modinfo:"CristianQツ",home:"Home",exit:"OGARio by szymy: Are you sure you want to quit the game?"}},f={},g="michau;michau biauek;leszke;korwin;grzegorz braun;szczesc boze;jp2;linda;kosmonauta;chuj jebany;stulejarnosc;feels;smutna zaba;germandeathcamp;thanks doge;smutny piesek;pinionszek;ami;92gruszka;gruszka;anka-agar;blacksketch;bladi89;bolyss;ciepla_kupa;cimcirimci;davidmcpolska;d1ck;edward_kenway;empe666 wypok;filozofujaca;hansolony;hulajdusza;janusz-cebula;jayjay1337;kat_rzeznikow;kiku;michalek;oscyp33;polonium;psposki;ruszowaa;siabadabada;sialababamak;smashgoor;szymy;typowy_sebix;xaimeii;papaj;bean;kenny;benis;penis;mario;bender;bert;gaben;dolan;heisenberg;chuck;pikachu;slowpoke;pig;pedobear;rainbow;illuminati;coca cola;pepsi;cage;dupa;dupa wykop;quinn;rafalala;qas;agar online;albus dumbledor;albus;dumbledore;ginny weasley;harry potter;hermione;ron weasley;lord voldemort;draco malfoy;wykop peel;panda;polska;tymbark;kpr. wojtek;atari;amiga;marihuana;thug life;g2;vp;fnatic;tsm;cojawamzrobilem;neymar;koksy;policja;krzysiu jp;puchauke;pi;rain;deszcz;thunder;night;flower;trollface;troll;osama;sasha grey;wina tuska;wsk;sosnowiec;nevergonna;terminator;spyro;tiger bonzo;kobra bonzo;ordenminer;zoidberg;swidnik;chrome;firefox;cookie;lg;peppa pig;peppa;spongebob;vw;durex;radagast;gandalf;cygan;wolsky;bpc;majsterroo;arstiard;arstard;kordian;vasili;forfiter;otozto;skurwysyny".split(";"),h="wykop;#wykop;@wykop;wykop.pl;#wykop.pl;wypok;wypoczek".split(";"),j="mirko;#mirko;@mirko;mikro;tylko mirko;tylkomirko;#tylkomirko;@tylkomirko".split(";"),k="#koksy;.( ͡° ͜ʖ ͡°);( ͡° ͜ʖ ͡°).;[pl]ziomek00725;wiktorkox100#ht;ϩảςℌǻ ɠɍ℮ɣ;฿ĭℊ ℬøƨƨ;ოﻪรէεгofﻪցﻪг皮;w=friend;w = friend;w=friends;w = friends;w=team;w = team;need a bro;ą          ę;świdnik;szczęść boże;ŋìċθļåĩ;乃ц尺ﾑズ;布拉克;ｋｉｒｍａｚ ㊗㊙;☂ƛȥȥɗɩɲ☂;ⱥめξทǥєʀ;ℜℯḱтɐℜ;ℬấℌọʐ ²¹;ｚｙｒｏｎｉｋ;ρʀøƒ 越;к∂©ℙєℜ;┆♕₭↑ℵǥ♕;ℚʊ@к℮432;ᎯᏝᎮℋᎯ;ј ฝ ☼ᎯᏝᎮℋᎯ;røŀєx ミ;๔єคtђรtг๏кє;ℛấʝọɳ (◣_◢);šєβǻ-ⓐⓖⓐⓡ;ⓐⓜⓘⓖⓐⓐⓖⓐⓡ;ѧᵭᵯѧӿɨᵴ;gαмєσνєя".split(";"),l="koksy;lennyface_left;lennyface_right;ziomek00725;wiktorkox100;sasha;sasha;masterofagar;wfriend;wfriend;wfriend;wfriend;wfriend;wfriend;wfriend;ae;swidnik;szczesc boze;nicolai;burak;atom;kirmaz;azzdin;avenger;rektar;bahoz;zyronik;prof;kacper;king;quake;alpha;alpha;rolex;deathstroke;rajon;sebaagar;amigaagar;admaxis;gameover".split(";"),m="☢Ⓜ;㉹;㉿;☠ⒻⓇ;ᓮᗯᗩᘐ;ƵŦ;ƵŦ★;ℛɨᎮ;ӍᏨ²;【☠】;ȺƧƤЄƇƬ✠;ฬℬ;『ℛนℵ』;《ℝ》;〘GѺ〙".split(";"),n="atomicmirko;et;kings;dfr;iwag;zt;zts;rip;mc2;scull;aspect;wumbo;run;reddit;go".split(";"),o=g.concat(h,j,k),p={"☢Ⓜ":"#00C8FF"},q={nick:"",clantag:"",skin:"",color:"#FF7800"},r={unlimitedzoom:!0,autozoom:!0,names:!0,autonames:!0,showmass:!0,automass:!0,rainbowfood:!1,autofood:!0,opponentscolors:!0,opponentsrings:!1,splitrange:!0,virusrange:!0,transparentcells:!0,transparentskins:!0,skins:!0,onlyogarioskins:!1,drawgrid:!1,drawbackgroundsectors:!0,showmapborders:!0,showminimap:!0,showfps:!0,showmassguides:!0,darktheme:!0,nocolors:!1,simpledrawing:!0,textshadows:!1,timetoremerge:!0,cursortracking:!0,disableshift:!1,skipstats:!1,performancemode:!1},s=14142.135623730952,t=[],v=s/2,w=null,x=null,y=7,z=7,A=[],B=!1,C=!1,D=!1,E=!1,F=1,G=0,H=0,I=0,J=0,K=!0,L={},M=0,N=0,O=0,P=0,Q=0,R=0,S=0,T=0,U=3,V=2*Math.PI;gameMode="",leaderboard="",skinBaseURL="http://ogario.ovh/skins.php?s=",showStats=!1,autoHide=!0,showFood=!1,hideBots=!1,deathLocations=[],lastDeath=0,totalDeaths=0,roundVictims=0,totalVictims=0,food=0,totalFood=0,macroFeedInterval=null,gameStartTime=null,roundTime=null,roundStartTime=null,splitTime=null,splitUpdateTime=null,timeToRemerge=null,fps=0,rFps=0,fpsLastRequest=null,requestedFrames=0,renderedFrames=0,miniMap=null,miniMapCtx=null,miniMapSectors=null,miniMapSectorsCtx=null,miniMapHUD=null,roundStatsHUD=null,gameStatsHUD=null,fpsHUD=null,massGuidesHUD=null,biggestMassHUD=null,biggerMassHUD=null,smallerMassHUD=null,smallestMassHUD=null,wHUD=null,splitTimerHUD=null,splitInfoHUD=null,pauseHUD=null,leaderboardHUD=null,leaderboardPositionsHUD=null,partyInfoLeaderboard=null;var W=[],X=[],Y=!1,Z=!1,$=!1,aa=!1,ba=!1,ca=!1,da=!1,ea=!1,fa=!1,ga=!1,ha=!1;a.nextServer=function(){return":party"===gameMode?void a.createParty():void Fb()},a.setSettings=function(a,b){if(r.hasOwnProperty(a)&&null!=b){switch(r[a]=b,a){case"performancemode":mb(!0);break;case"darktheme":nb();break;case"showminimap":ob()}na()}},a.copyToken=function(){var a=b(".partyToken:visible")[0];a.setSelectionRange(0,a.value.length),a.select();try{document.execCommand("copy")}catch(b){}},b(function(){pb(b)});var zc=document.createElement("canvas");if("undefined"==typeof console||"undefined"==typeof DataView||"undefined"==typeof WebSocket||null==zc||null==zc.getContext||null==a.localStorage)alert("You browser does not support this game, we recommend you to use Firefox to play this");else{var Ac={};!function(){var b=a.location.search;"?"==b.charAt(0)&&(b=b.slice(1));for(var b=b.split("&"),c=0;c<b.length;c++){var d=b[c].split("=");Ac[d[0]]=d[1]}}(),a.queryString=Ac;var Bc="fb"in Ac,Cc="miniclip"in Ac,Ec=function(){qb("",-1)},Fc="http:"!=a.location.protocol,Gc="1"==rb(),Hc=!1;if(Bc||Cc||(Fc&&!Gc?(console.log("redirecting"),qb("1",1),a.location.href="http:"+a.location.href.substring(a.location.protocol.length),Hc=!0):qb("",-1)),Fc||qb("",-1),Hc||setTimeout(Ec,3e3),!a.agarioNoInit){var Ic=a.location.protocol,Jc="https:"==Ic;Ac.master&&(EnvConfig.master_url=Ac.master);var Kc=Ic+"//"+EnvConfig.master_url+"/",Lc=a.navigator.userAgent;if(-1!=Lc.indexOf("Android"))a.ga&&a.ga("send","event","MobileRedirect","PlayStore"),setTimeout(function(){a.location.href="https://play.google.com/store/apps/details?id=com.miniclip.agar.io"},1e3);else if(-1!=Lc.indexOf("iPhone")||-1!=Lc.indexOf("iPad")||-1!=Lc.indexOf("iPod"))a.ga&&a.ga("send","event","MobileRedirect","AppStore"),setTimeout(function(){a.location.href="https://itunes.apple.com/app/agar.io/id995999703?mt=8&at=1l3vajp"},1e3);else{var Mc={};a.agarApp=Mc;var Nc,Oc,Pc,Qc,Rc,Sc=null,Tc=null,Uc=0,Vc=0,Wc=[],Xc=[],Yc={},Zc=[],$c=[],_c=[],ad=0,bd=0,cd=-1,dd=-1,ed=0,fd=0,gd=0,hd=null,id=0,jd=0,kd=1e4,ld=1e4,md=1,nd=null,od=!0,pd=!0,qd=!1,rd=!1,sd=0,td=!1,ud=!1,vd=Uc=~~((id+kd)/2),wd=Vc=~~((jd+ld)/2),xd=1,yd="",zd=null,Ad=!1,Bd=!1,Cd=0,Dd=0,Ed=0,Fd=0,Gd=["#333333","#FF3333","#33FF33","#3333FF"],Hd=!1,Id=!1,Jd=0,Kd=1,Ld=1,Md=!1,Nd=0,Od=!1,Pd=null,Qd=!1,Rd=new Image;Rd.src="/img/background.png";var Sd="ontouchstart"in a&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a.navigator.userAgent),Td=new Image;Td.src="/img/split.png";var Vd,Wd,Ud=!1;"gamepad"in Ac&&setInterval(function(){Ud&&(ad=ve.ha(ad,Vd),bd=ve.ha(bd,Wd))},25),a.gamepadAxisUpdate=function(a,b){var c=.1>b*b;0==a&&(c?Vd=Qc/2:(Vd=(b+1)/2*Qc,Ud=!0)),1==a&&(c?Wd=Rc/2:(Wd=(b+1)/2*Rc,Ud=!0))},a.agarioInit=function(){if(Ad=!0,Db(),Cb(),Mc.core.init(),vb(),setInterval(vb,18e4),Pc=Nc=document.getElementById("canvas"),Pc.mozOpaque=!0,null!=Pc){Oc=Pc.getContext("2d"),Pc.onmousedown=function(a){if(Sd){var b=a.clientX-(5+Qc/5/2),c=a.clientY-(5+Qc/5/2);if(Math.sqrt(b*b+c*c)<=Qc/5/2)return void Rb()}ad=1*a.clientX,bd=1*a.clientY,ub(),Pb()},Pc.onmousemove=function(a){Ud=!1,ad=1*a.clientX,bd=1*a.clientY,ub()},Pc.onmouseup=function(){},/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",sb,!1):document.body.onmousewheel=sb;var c=!1,d=!1,e=!1;a.onkeydown=function(e){ja(e,!0,!1),32!=e.keyCode||c||("nick"!=e.target.id&&e.preventDefault(),Rb(),c=!0),81!=e.keyCode||d||(Da(),Ub(18),d=!0),27==e.keyCode&&(e.preventDefault(),yb(300),b("#oferwallContainer").is(":visible")&&a.closeOfferwall(),b("#videoContainer").is(":visible")&&a.closeVideoContainer())},a.onkeyup=function(a){ja(a,!1,!1),32==a.keyCode&&(c=!1),81==a.keyCode&&d&&(Ub(19),d=!1)},a.onblur=function(){Ub(19),e=d=c=!1},a.onresize=Vb,a.requestAnimationFrame(oe),setInterval(Pb,40),nd&&b("#region").val(nd),Ab(),xb(b("#region").val()),0==Nd&&nd&&Gb(),yb(0),Vb(),a.location.hash&&6<=a.location.hash.length&&pc(a.location.hash)}};var Xd=null;a.setNick=function(c){hd=pa(c,b("#clantag").val(),"",b("#color").val()),a.ga&&a.ga("create","UA-67142685-2","auto","ogarioTracker"),a.ga&&a.ga("ogarioTracker.send","pageview"),a.ga&&a.ga("ogarioTracker.send","event","Nick",hd),oa(!0),a.ga&&a.ga("send","event","Nick",hd.toLowerCase()),wb(),Qb(),sd=0},a.setSkins=function(a){od=a},a.setNames=function(a){pd=a},a.setDarkTheme=function(a){td=a},a.setColors=function(a){qd=a},a.setShowMass=function(a){ud=a},a.spectate=function(){hd=null,Ub(1),wb(),qa()||(B=!1),D=!1,showFood=!1,hideBots=!1},a.setRegion=xb;var Yd=!0;a.setGameMode=function(a){a!=yd&&(":party"==yd&&b("#helloContainer").attr("data-party-state","0"),zb(a),":party"!=a&&Gb())},a.setAcid=function(a){Hd=a};var Zd=function(c){var d={},e=!1,f={skipDraw:!0,predictionModifier:1.1};return c.init=function(){Mc.account.init(),Mc.google.va(),Mc.fa.init(),(e="debug"in a.queryString)&&Mc.debug.showDebug()},c.bind=function(a,c){b(d).bind(a,c)},c.unbind=function(a,c){b(d).unbind(a,c)},c.trigger=function(a,c){b(d).trigger(a,c)},c.__defineGetter__("debug",function(){return e}),c.__defineSetter__("debug",function(a){return e=a}),c.__defineGetter__("proxy",function(){return a.MC}),c.__defineGetter__("config",function(){return f}),c}({});Mc.core=Zd,Mc.cache={};var $d=function(a){function c(a,c,d,e){a+="Canvas";var f=b("<canvas>",{id:a});for(g.append(f),d=new SmoothieChart(d),f=0;f<c.length;f++){var h=c[f],i=_.extend(j,e[f]);d.addTimeSeries(h,i)}d.streamTo(document.getElementById(a),0)}function d(a,b){i[a]=e(),c(a,[i[a]],b,[{strokeStyle:"rgba(0, 255, 0, 1)",fillStyle:"rgba(0, 255, 0, 0.2)",lineWidth:2}])}function e(){return new TimeSeries({Ka:!1})}var g,f=!1,h=!1,i={},j={strokeStyle:"rgba(0, 255, 0, 1)",fillStyle:"rgba(0, 255, 0, 0.2)",lineWidth:2};return a.showDebug=function(){f||(g=b("#debug-overlay"),d("networkUpdate",{name:"network updates",minValue:0,maxValue:120}),d("fps",{name:"fps",minValue:0,maxValue:120}),i.rttSDev=e(),i.rttMean=e(),c("rttMean",[i.rttSDev,i.rttMean],{name:"rtt",minValue:0,maxValue:120},[{strokeStyle:"rgba(255, 0, 0, 1)",fillStyle:"rgba(0, 255, 0, 0.2)",lineWidth:2},{strokeStyle:"rgba(0, 255, 0, 1)",fillStyle:"rgba(0, 255, 0, 0)",lineWidth:2}]),f=!0),Mc.core.debug=!0,g.show()},a.hideDebug=function(){g.hide(),Mc.core.debug=!1},a.updateChart=function(a,b,c){f&&a in i&&i[a].append(b,c)},a.__defineGetter__("showPrediction",function(){return h}),a.__defineSetter__("showPrediction",function(a){return h=a}),a}({});Mc.debug=$d;var _d={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"EU-London",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"EU-London",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"},ae=0,be=0,ce=null;a.connect=Ib;var de=500,ee=.875,fe=.75,ge=.25,he=.125,ie=-1,je=-1;a.sendMitosis=Rb,a.sendEject=Sb,Mc.networking=function(a){return a.loginRealm={GG:"google",FB:"facebook"},a.sendMessage=function(a){if(Tb()){var b=a.byteView;if(null!=b){a=Jb(1+a.length),a.setUint8(0,102);for(var c=0;c<b.length;++c)a.setUint8(1+c,b[c]);Kb(a)}}},a}({});var ke=null,le=1,ne=0,oe=function(){var b=Date.now(),c=1e3/60;return function(){a.requestAnimationFrame(oe),r.showfps&&Ra();var d=Date.now(),e=d-b;if(e>c){b=d-e%c;var f=Date.now();!Tb()||240>f-Jd||!Mc.core.config.skipDraw?Yb():console.warn("Skipping draw"),Ge(),ne=1e3/e,Mc.debug.updateChart("fps",d,ne)}}}(),qe="poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;portugal;jamaica;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;facebook;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;venezuela;blatter;chavez;cuba;fidel;merkel;palin;queen;boris;bush;trump".split(";"),re="8;nasa;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;blatter;chavez;fidel;merkel;palin;queen;boris;bush;trump".split(";"),se={};dc.prototype={$:null,x:0,y:0,f:0,b:0};var te=-1,ue=!1;ec.prototype={id:0,a:null,name:null,i:null,S:null,x:0,y:0,size:0,s:0,u:0,o:0,ja:0,ka:0,g:0,M:0,N:0,J:0,K:0,ea:0,U:0,ra:0,G:!1,c:!1,h:!1,V:!0,da:0,C:null,ia:0,ua:!1,I:!1,ca:function(){var a;for(a=0;a<Zc.length;a++)if(Zc[a]==this){Zc.splice(a,1);break}delete Yc[this.id],a=Xc.indexOf(this),-1!=a&&(rd=!0,Xc.splice(a,1)),a=Wc.indexOf(this.id),-1!=a&&Wc.splice(a,1),this.G=!0},m:function(){return Math.max(~~(.3*this.size),24)},A:function(a){(this.name=a)&&(null==this.i?this.i=new gc(this.m(),"#FFFFFF",r.performancemode?!1:r.textshadows,"#000000"):this.i.P(this.m()),this.i.B(this.name))},ba:function(){for(var a=this.H();this.a.length>a;){var b=~~(Math.random()*this.a.length);this.a.splice(b,1)}for(0==this.a.length&&a>0&&this.a.push(new dc(this,this.x,this.y,this.size,Math.random()-.5));this.a.length<a;)b=~~(Math.random()*this.a.length),b=this.a[b],this.a.push(new dc(this,b.x,b.y,b.f,b.b))},H:function(){var a=10;20>this.size&&(a=0),this.c&&(a=30);var b=this.size;return this.c||(b*=md),b*=le,32&this.ea&&(b*=.25),~~Math.max(b,a)},Ba:function(){this.ba();for(var a=this.a,b=a.length,c=this,d=this.c?0:(this.id/1e3+fd/1e4)%V,e=0,f=0;b>f;++f){var g=a[(f-1+b)%b].b,h=a[(f+1)%b].b,i=a[f];i.b+=(Math.random()-.5)*(this.h?3:1),i.b*=.7,10<i.b&&(i.b=10),-10>i.b&&(i.b=-10),i.b=(g+h+8*i.b)/10;var j=i.f,g=a[(f-1+b)%b].f,h=a[(f+1)%b].f;if(15<this.size&&null!=Sc&&20<this.size*md&&0<this.id){var k=!1,l=i.x,m=i.y;Sc.Ea(l-5,m-5,10,10,function(a){a.$!=c&&25>(l-a.x)*(l-a.x)+(m-a.y)*(m-a.y)&&(k=!0)}),!k&&(i.x<id||i.y<jd||i.x>kd||i.y>ld)&&(k=!0),k&&(0<i.b&&(i.b=0),--i.b)}j+=i.b,0>j&&(j=0),j=this.h?(19*j+this.size)/20:(12*j+this.size)/13,i.f=(g+h+8*j)/10,g=V/b,h=i.f,this.c&&0==f%2&&(h+=5),i.x=this.x+Math.cos(g*f+d)*h,i.y=this.y+Math.sin(g*f+d)*h,e=Math.max(e,h)}this.ia=e},na:function(a,b){this.M=a,this.N=b,this.J=a,this.K=b,this.ja=a,this.ka=b},T:function(){if(0>=this.id)return 1;var a=ve.pa((fd-this.U)/120,0,1);if(this.G&&a>=1){var b=$c.indexOf(this);-1!=b&&$c.splice(b,1)}return this.x=a*(this.ja-this.s)+this.s,this.y=a*(this.ka-this.u)+this.u,this.size=a*(this.g-this.o)+this.o,.01>Math.abs(this.size-this.g)&&(this.size=this.g),a},R:function(){return!0},qa:function(a){a.beginPath();var b=this.H();a.moveTo(this.a[0].x,this.a[0].y);for(var c=1;b>=c;++c){var d=c%b;a.lineTo(this.a[d].x,this.a[d].y)}a.closePath(),a.stroke()},w:function(a){if(!(this.isFood&&(!showFood||!r.rainbowfood||r.performancemode)||!this.isFood&&this.size<36&&hideBots)&&this.R()){var b=null,c=0;if(++this.da,r.performancemode)var d=!0;else var d=0<this.id&&!this.c&&!this.h&&(r.simpledrawing||.4>md);if(5>this.H()&&0<this.id&&(d=!0),this.V&&!d)for(var e=0;e<this.a.length;e++)this.a[e].f=this.size;this.V=d,a.save(),this.ra=fd,e=this.T(),this.G&&(a.globalAlpha*=1-e),a.lineWidth=10,a.lineCap="round",a.lineJoin=this.c?"miter":"round";var f=this.name.toLowerCase(),g=null,h=null,e=!1,i=this.color,j=!1;this.isVirus||this.isFood||this.h||!r.skins||":teams"==gameMode||r.performancemode&&!this.isMyCell||(!r.onlyogarioskins&&(b=cc(this.C)),null!=b?i=r.opponentscolors?i:bc(this.C)||i:b=lb(this.name),null!=b&&-1!=re.indexOf(f)&&(e=!0)),r.nocolors&&!Qd?(a.fillStyle="#FFFFFF",a.strokeStyle="#AAAAAA"):(a.fillStyle=i,a.strokeStyle=i),this.isVirus&&this.strokeColor&&(a.strokeStyle=this.strokeColor);var k=qa()&&this.isShiftable;if(d?(k?c=-5:this.isFood&&(c=5),a.beginPath(),a.arc(this.x,this.y,this.size+c,0,V,!1),a.closePath()):(this.Ba(),this.qa(a)),r.transparentcells?(this.isFood||this.isVirus||(a.globalAlpha=.8),this.isVirus&&(a.globalAlpha=.5)):a.globalAlpha=1,j||a.fill(),this.isFood)return void a.restore();if(a.globalAlpha=1,this.isVirus&&a.stroke(),a.globalAlpha=1,null!=b&&(this.la(a,b,d,c),null!=h&&this.la(a,h,d,c,{alpha:Math.sin(.0174*te)})),k&&(a.strokeStyle="#FFFFFF",a.stroke()),(r.nocolors||15<this.size)&&!d&&(a.strokeStyle="#000000",a.globalAlpha*=.1,a.stroke()),a.globalAlpha=1,d=~~this.y,r.performancemode&&this.isMyCell&&this.myCellIndex!=N)return void a.restore();if(0!=this.id&&(r.names||this.isMyCell)&&this.name&&this.i&&!e&&!(this.hideInfo&&(r.autonames||r.performancemode))&&(g=this.i,g.B(this.name),g.P(this.m()*(this.isVirus?U:1)),e=0>=this.id?1:Math.ceil(10*md)/10,g.ma(e),g=g.O(),h=Math.ceil(g.width/e),i=Math.ceil(g.height/e),a.drawImage(g,~~this.x-~~(h/2),d-~~(i/2),h,i),d+=g.height/(1.25*e)),this.size<40||this.isVirus||this.hideInfo&&(r.automass||r.performancemode))return void a.restore();0<this.id&&r.showmass&&(null==this.S&&(this.S=new gc(this.m()/.9,"#FFFFFF",r.performancemode?!1:r.textshadows,"#000000")),f=this.S,f.P(this.m()/.9),f.B(~~(this.size*this.size/100)),e=Math.ceil(10*md)/10,f.ma(e),g=f.O(),h=Math.ceil(g.width/e),i=Math.ceil(g.height/e),a.drawImage(g,~~this.x-~~(h/2),d-~~(i/2),h,i)),a.restore()}},la:function(a,b,c,d,e){a.save(),a.clip();var f=c?this.size+d:Math.max(this.size,this.ia);null!=e&&null!=e.alpha&&(a.globalAlpha=e.alpha),r.transparentskins&&(a.globalAlpha=.75),c?a.drawImage(b,this.x-f,this.y-f,2*f,2*f):a.drawImage(b,this.x-f-5,this.y-f-5,2*f+10,2*f+10),a.restore()}},ec.prototype.createTime=null,ec.prototype.ttr=null,ec.prototype.sizeRatio=null,ec.prototype.newColor=null,ec.prototype.strokeColor=null,ec.prototype.myCellIndex=null,ec.prototype.isMyCell=!1,ec.prototype.isVirus=!1,ec.prototype.isFood=!1,ec.prototype.isShiftable=!1,ec.prototype.hideInfo=!1,ec.prototype.drawSplitRange=function(a){r.performancemode&&this.isMyCell&&this.myCellIndex!=N||r.splitrange&&(this.isMyCell||this.sizeRatio&&this.sizeRatio>=2.5)&&this.size>59&&(a.beginPath(),a.arc(this.x,this.y,this.size+760,0,V,!1),a.closePath(),a.globalAlpha=.4,r.darktheme||this.isMyCell||(a.globalAlpha*=.4),a.lineWidth=4,this.isMyCell?(a.strokeStyle="#FF7800",this.myCellIndex==N?(ra()&&(a.lineWidth=6,a.strokeStyle=r.darktheme?"#FFFFFF":"#222222"),a.stroke(),r.performancemode||(a.beginPath(),a.arc(this.x,this.y,820,0,V,!1),a.closePath(),a.lineWidth=2,a.stroke())):a.stroke()):(r.opponentsrings&&":teams"!=gameMode?a.strokeStyle=this.newColor:a.strokeStyle=this.color,a.stroke()))},ec.prototype.drawOgarioLayer=function(a){if((!r.performancemode||!this.isVirus)&&this.R()){if(a.save(),a.globalAlpha*=1-this.T(),a.lineWidth=10,a.lineCap="round",a.lineJoin="round",r.virusrange&&this.isVirus&&(a.beginPath(),a.arc(this.x,this.y,this.size+820,0,V,!1),a.closePath(),a.globalAlpha="#C80000"==this.color?.2:.1,r.darktheme||(a.globalAlpha*=.5),a.fillStyle=this.color,a.fill()),this.isVirus)return void a.restore();if(this.drawSplitRange(a),r.performancemode)return void a.restore();r.opponentsrings&&!this.isMyCell&&this.size>40&&(a.beginPath(),a.arc(this.x,this.y,this.size+16+2/F,0,V,!1),a.closePath(),a.globalAlpha=.75,a.lineWidth=10+1/F,a.strokeStyle=this.newColor,a.stroke()),r.cursortracking&&this.isMyCell&&(a.beginPath(),a.moveTo(this.x,this.y),a.lineTo(Q,R),a.globalAlpha=r.darktheme?.7:.35,a.lineWidth=2,a.strokeStyle=r.darktheme?"#FFFFFF":"#000000",a.stroke()),a.restore()}};var ve=function(a){function b(a,b,c){return b>a?b:a>c?c:a}return a.ha=function(a,c){var d;return d=b(.5,0,1),a+d*(c-a)},a.pa=b,a.fixed=function(a,b){var c=Math.pow(10,b);return~~(a*c)/c},a}({});a.Maths=ve;var we=function(a){return a.L=function(){for(var a=new Date,b=[a.getMonth()+1,a.getDate(),a.getFullYear()],a=[a.getHours(),a.getMinutes(),a.getSeconds()],c=1;3>c;c++)10>a[c]&&(a[c]="0"+a[c]);return"["+b.join("/")+" "+a.join(":")+"]"},a}({});a.Utils=we,gc.prototype={F:"",W:"#000000",Y:!1,Z:"#000000",v:16,j:null,X:null,l:!1,D:1,P:function(a){this.v!=a&&(this.v=a,this.l=!0)},ma:function(a){this.D!=a&&(this.D=a,this.l=!0)},B:function(a){a!=this.F&&(this.F=a,this.l=!0)},O:function(){if(null==this.j&&(this.j=document.createElement("canvas"),this.X=this.j.getContext("2d")),this.l){this.l=!1;var a=this.j,b=this.X,c=this.F,d=this.D,e=this.v,f=e+"px Ubuntu";b.font=f;var g=~~(.2*e);a.width=(b.measureText(c).width+6)*d,a.height=(e+g)*d,b.font=f,b.scale(d,d),b.globalAlpha=1,b.lineWidth=3,b.strokeStyle=this.Z,b.fillStyle=this.W,this.Y&&b.strokeText(c,3,e-g/2),b.fillText(c,3,e-g/2)}return this.j}},Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var b=["ms","moz","webkit","o"],c=0;c<b.length&&!a.requestAnimationFrame;++c)a.requestAnimationFrame=a[b[c]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(a){return setTimeout(a,1e3/60)},a.cancelAnimationFrame=function(a){clearTimeout(a)})}();var ye=function(){var a=new ec(0,0,0,32,"#ED1C24",""),b=document.createElement("canvas");b.width=32,b.height=32;var c=b.getContext("2d");return function(){0<Xc.length&&(a.color=Xc[0].color,a.A(Xc[0].name)),c.clearRect(0,0,32,32),c.save(),c.translate(16,16),c.scale(.4,.4),a.w(c),c.restore();var d=document.getElementById("favicon"),e=d.cloneNode(!0);e.setAttribute("href",b.toDataURL("image/png")),d.parentNode.replaceChild(e,d)}}();b(function(){ye()});var ze={context:null,defaultProvider:"facebook",loginIntent:"0",userInfo:{socialToken:null,tokenExpires:"",level:"",xp:"",xpNeeded:"",name:"",picture:"",displayName:"",loggedIn:"0",socialId:""}},Ae=a.defaultSt=ze;a.storageInfo=Ae,a.createDefaultStorage=ic,a.updateStorage=kc,b(function(){null!=a.localStorage.storeObjectInfo&&(Ae=JSON.parse(a.localStorage.storeObjectInfo)),"1"==Ae.loginIntent&&jc(Ae.context),""==Ae.userInfo.name&&""==Ae.userInfo.displayName||lc(Ae.userInfo)}),a.checkLoginStatus=function(){"1"==Ae.loginIntent&&(Be(),jc(Ae.context))};var Be=function(){a.MC.setProfilePicture(Ae.userInfo.picture),a.MC.setSocialId(Ae.userInfo.socialId)};a.logout=function(){Ae=ze,delete a.localStorage.storeObjectInfo,a.localStorage.storeObjectInfo=JSON.stringify(ze),kc(),Fe(),Mc.cache.sentGameServerLogin=!1,delete Mc.cache.login_info,b("#helloContainer").attr("data-logged-in","0"),b("#helloContainer").attr("data-has-account-data","0"),b(".timer").text(""),b("#gPlusShare").hide(),b("#fbShare").show(),b("#user-id-tag").text(""),Gb(),a.MC.doLogout()},a.toggleSocialLogin=function(){b("#socialLoginContainer").toggle(),b("#settings").hide(),b("#instructions").hide(),nc()},a.toggleSettings=function(){b("#settings").toggle(),b("#socialLoginContainer").hide(),b("#instructions").hide(),nc()},Mc.account=function(c){function d(){}function e(c,d){console.log(we.L()+" got user login"),(null==f||f.id!=d.id)&&(f=d,null!=a.ssa_json&&(a.ssa_json.applicationUserId=""+d.id,a.ssa_json.custom_user_id=""+d.id),"undefined"!=typeof SSA_CORE&&SSA_CORE.start(),b("#offerwallIframe").attr("src","http://www.supersonicads.com/delivery/panel.php?applicationKey="+EnvConfig.supersonic_app_key+"&applicationUserId="+d.id+"&custom_user_id="+d.id+"&applicationUserIdSignature=optional"))}var f=null;return c.init=function(){Mc.core.bind("user_login",e),Mc.core.bind("user_logout",d)},c.setUserData=function(a){lc(a)},c.setAccountData=function(a,c){var d=b("#helloContainer").attr("data-has-account-data","1");Ae.userInfo.xp=a.xp,Ae.userInfo.xpNeeded=a.xpNeeded,Ae.userInfo.level=a.level,kc(),d&&c?mc(a):(b(".agario-profile-panel .progress-bar-star").text(a.level),b(".agario-exp-bar .progress-bar-text").text(a.xp+"/"+a.xpNeeded+" XP"),b(".agario-exp-bar .progress-bar").css("width",(88*a.xp/a.xpNeeded).toFixed(2)+"%"))},c.Ga=function(a){mc(a)},c}({});var Ce=0;a.fbAsyncInit=function(){function b(){null==a.FB?alert("You seem to have something blocking Facebook on your browser, please check for any extensions"):(Ae.loginIntent="1",a.updateStorage(),a.FB.login(function(a){oc(a)},{scope:"public_profile, email"}))}a.FB.init({appId:EnvConfig.fb_app_id,cookie:!0,xfbml:!0,status:!0,version:"v2.2"}),("1"==a.storageInfo.loginIntent&&"facebook"==a.storageInfo.context||Bc)&&a.FB.getLoginStatus(function(c){"connected"===c.status?oc(c):"not_authorized"===c.status?(a.logout(),b()):a.logout()}),a.facebookRelogin=b,a.facebookLogin=b};var De=!1;!function(c){function d(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//apis.google.com/js/client:platform.js?onload=gapiAsyncInit";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),f=!0}var e={},f=!1;return a.gapiAsyncInit=function(){b(e).trigger("initialized")},c.google={va:function(){d()},sa:function(b,c){a.gapi.client.load("plus","v1",function(){console.log("fetching me profile"),gapi.client.plus.people.get({userId:"me"}).execute(function(a){c(a)})})}},c.Da=function(a){f||d(),"undefined"!=typeof gapi?a():b(e).bind("initialized",a)},c}(Mc);var Ee=function(c){function d(b){a.MC.doLoginWithGPlus(b),Mc.cache.login_info=[b,"google"]}function e(a){Ae.userInfo.picture=a,b(".agario-profile-picture").attr("src",a)}var f=null,g={client_id:EnvConfig.gplus_client_id,cookie_policy:"single_host_origin",scope:"profile email"};return c.fa={oa:function(){return f},init:function(){var b=this,c=Ae&&"1"==Ae.loginIntent&&"google"==Ae.context;Mc.Da(function(){a.gapi.ytsubscribe.go(),a.gapi.load("auth2",function(){f=a.gapi.auth2.init(g),f.attachClickHandler(document.getElementById("gplusLogin"),{},function(a){console.log("googleUser : "+a)},function(a){console.log("failed to login in google plus: ",JSON.stringify(a,void 0,2))}),f.currentUser.listen(_.bind(b.Ca,b)),c&&1==f.isSignedIn.get()&&f.signIn()})})},Ca:function(b){if(f&&b&&f.isSignedIn.get()&&!De){De=!0,Ae.loginIntent="1";var c=b.getAuthResponse(),g=c.access_token;a.oa=c,console.log("loggedIn with G+!");var h=b.getBasicProfile();b=h.getImageUrl(),void 0==b?Mc.google.sa(c,function(b){b.result.isPlusUser?(b&&e(b.image.url),d(g),b&&(Ae.userInfo.picture=b.image.url),Ae.userInfo.socialId=h.getId(),Be()):(alert("Please add Google+ to your Google account and try again.\nOr you can login with another account."),a.logout())}):(e(b),Ae.userInfo.picture=b,Ae.userInfo.socialId=h.getId(),Be(),d(g)),Ae.context="google",a.updateStorage()}},wa:function(){f&&(f.signOut(),De=!1)}},c}(Mc);a.gplusModule=Ee;var Fe=function(){Mc.fa.wa()};a.logoutGooglePlus=Fe;var Ge=function(){function a(a,b,c,d,e){var f=b.getContext("2d"),g=b.width;b=b.height,a.color=e,a.A(c),a.size=d,f.save(),f.translate(g/2,b/2),a.w(f),f.restore()}for(var c=new ec(-1,0,0,32,"#5bc0de",""),d=new ec(-1,0,0,32,"#5bc0de",""),e="#0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e".split(" "),f=[],g=0;g<e.length;++g){var h=g/e.length*12,i=30*Math.sqrt(g/e.length);f.push(new ec(-1,Math.cos(h)*i,Math.sin(h)*i,10,e[g],""))}hc(f);var j=document.createElement("canvas");return j.getContext("2d"),j.width=j.height=70,a(d,j,"",26,"#ebc0de"),function(){b(".cell-spinner").filter(":visible").each(function(){var d=b(this),e=Date.now(),f=this.width,g=this.height,h=this.getContext("2d");h.clearRect(0,0,f,g),h.save(),h.translate(f/2,g/2);for(var i=0;10>i;++i)h.drawImage(j,(.1*e+80*i)%(f+140)-f/2-70-35,g/2*Math.sin((.001*e+i)%Math.PI*2)-35,70,70);h.restore(),(d=d.attr("data-itr"))&&(d=Eb(d)),a(c,this,d||"",+b(this).attr("data-size"),"#5bc0de")}),b("#statsPellets").filter(":visible").each(function(){b(this);var c=this.width,d=this.height;for(this.getContext("2d").clearRect(0,0,c,d),c=0;c<f.length;c++)a(f[c],this,"",f[c].size,f[c].color)})}}();a.createParty=function(){zb(":party"),ce=function(c){qc("/#"+a.encodeURIComponent(c)),b(".partyToken").val("agar.io/#"+a.encodeURIComponent(c)),b(".party-info-token").text("http://agar.io/#"+a.encodeURIComponent(c)),b("#helloContainer").attr("data-party-state","1")},Gb()},a.joinParty=pc,a.cancelParty=function(){qc("/"),b("#helloContainer").attr("data-party-state","0"),zb(""),Gb()};var He=[],Ie=0,Je="#000000",Ke=!1,Le=!1,Me=0,Ne=0,Oe=0,Pe=0,Qe=0,Re=!0;a.onPlayerDeath=rc,setInterval(function(){Le&&He.push(_b()/100)},1e3/60),setInterval(function(){var a=uc();0!=a&&(++Oe,0==Qe&&(Qe=a),Qe=Math.min(Qe,a))},1e3),a.closeStats=function(){Ke=!1,b("#stats").hide(),a.destroyAd(a.adSlots.ab),yb(0)},a.setSkipStats=function(a){Re=!a},a.getStatsString=xc,a.gPlusShare=yc,a.twitterShareStats=function(){var b=a.getStatsString("tt_share_stats");a.open("https://twitter.com/intent/tweet?text="+b,"Agar.io","width=660,height=310,menubar=no,toolbar=no,resizable=yes,scrollbars=no,left="+(a.screenX+a.innerWidth/2-330)+",top="+(a.innerHeight-310)/2)},a.fbShareStats=function(){var b=a.getStatsString("fb_matchresults_subtitle");a.FB.ui({method:"feed",display:"iframe",name:Eb("fb_matchresults_title"),caption:Eb("fb_matchresults_description"),description:b,link:"http://agar.io",Ja:"http://static2.miniclipcdn.com/mobile/agar/Agar.io_matchresults_fb_1200x630.png",Fa:{name:"play now!",link:"http://agar.io"}})},a.fillSocialValues=function(b,c){1==a.isChrome&&"google"==a.storageInfo.context&&a.gapi.interactivepost.render(c,{contenturl:EnvConfig.game_url,clientid:EnvConfig.gplus_client_id,cookiepolicy:"http://agar.io",prefilltext:b,calltoactionlabel:"BEAT",calltoactionurl:EnvConfig.game_url})},b(function(){"MAsyncInit"in a&&a.MAsyncInit()})}}}};
var ogarioScript = "<script>!" + ogario + "(window, window.jQuery)</script>";
var colorpickerCSS = '<link href="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.3.0/css/bootstrap-colorpicker.min.css" rel="stylesheet"></link>';
var colorpickerJS = '<script>$.getScript("http://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.3.0/js/bootstrap-colorpicker.min.js").then(function() { $(".nick").colorpicker({format: "hex", input: "#color"}); })</script>';

// Inject OGARio
function inject(page) {
    var _page = page.replace(/main_out.js/i, "");
    _page = _page.replace("</head>", colorpickerCSS + ogarioScript + "</head>");
    _page = _page.replace("</body>", colorpickerJS + "</body>");
    return _page;
}

window.stop();
document.documentElement.innerHTML = null;
GM_xmlhttpRequest({
	method : "GET",
	url : "http://agar.io/",
	onload : function(event) {
        var doc = inject(event.responseText);
		document.open();
		document.write(doc);
		document.close();
	}
});
