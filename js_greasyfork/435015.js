// ==UserScript==
// @name         划词工具（自用）
// @name:zh	     划词工具（自用）
// @version      2.9版【自用，永不更新】
// @description  划词，弹图标，含百度、必应、Google等搜索引擎，复制、粘贴、新标签页打开链接，翻译、设置点击整页翻译。
// @include      *
// @include      http://*
// @include      https://*
// @run-at       document-end
// @run-at       document-start
// @grant        GM_setValue
// @grant        GM_getValue
// @grant	     GM_setClipboard
// @grant	     GM_info
// @grant        GM_openInTab
// @grant        GM_xmlhttpRequest
// @grant        GM_registerMenuCommand
// @icon         data:image/jpeg;base64,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
// @namespace    https://greasyfork.org/users/316251
// @downloadURL https://update.greasyfork.org/scripts/435015/%E5%88%92%E8%AF%8D%E5%B7%A5%E5%85%B7%EF%BC%88%E8%87%AA%E7%94%A8%EF%BC%89.user.js
// @updateURL https://update.greasyfork.org/scripts/435015/%E5%88%92%E8%AF%8D%E5%B7%A5%E5%85%B7%EF%BC%88%E8%87%AA%E7%94%A8%EF%BC%89.meta.js
// ==/UserScript==

//一、划词工具
(function () {
    'use strict';
    var keyword = {
        beforePopup: function (popup) {
            var text = window.getSelection().toString().trim();
            GM_setValue('search', text);
            popup(text);
        },
        beforeCustom: function (custom) {
            var text = GM_getValue('search');
            GM_setValue('search', '');
            custom(text);
        },

    };

    var iconArray = [

        {
            name: '新标签页打开链接',
            image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABmJLR0QA/wD/AP+gvaeTAAADe0lEQVRogdWZS2gUQRCGvwRcxWh8RFQEEXORuJiE4AO8KHgQb2JQ8KJeFEUTECIe1LseYoIBRXxARI9REPFgziKI4BtzNQHxEYnkgUiSXQ89y/TO9uz2TNfMbn6ow07PVtVHz1R190CpskAf8AmYBvIR7RvwAGg2+E5VGWAAmCM6hMn+AidSJdCUAYYrJBjXrgF16aEoDQgkXs5uAfVpwWQpfcxGgU5geQx/jcBRz2+DUI6R1EcpzOpqJCKlzxQDdTr6c62Sf4CHwMa4CUwGHMZ5zEC+Sk4Cx+IkEnQUFyaJKpkDrlQDKOkq2U+E0u8KJF0llwKPDXlZQ7kCJVElOwx5WUO5AklXSVD9K+zxu02FJu0KJFUlddUb8tLtHmWgXIEkioqNX2uohQqUB+5jgFrIQHngLoFCsdCB8sBVyYSSAhoz+C5np6QSSgroAKqn2QJNA5skEkoKqJwagF3A80DsRxIJVQOooPWB2BN1hiSi7v9d/++qovip7fPTUi0CNQIXUfurN8AgsDuKg1p6h9owl+sc0GMbv1aAWoFxzc9bYAiYwYfaYxO/FoC2Aj/wE+/SxlrwD1uGbOLXAtAyVHXMAocM44Ud7Beb+NUGygAbgCUh43XAB8/3S5v41QJah1opFx6nf8ATSr9adGm+L9nErwZQC+HrtJ+o0g1wEpj3ro9q18vGTxsoC3zX7n8KnEOdluZQM9YEnPZ+54HfQLtt/DSBtlFczc4HxluBzcBZimE6osRPC6gN+IUP0x1ynz4zE8COqPHTAGrHb5o5L+ntqNl6hpqBLagTWNuZCY3vegxVCWgl/nJmHvWiA5wx/LdgtjDG+MGDwoPCQJe1MX0FsBi4g1/FCvYaNVux4wePckeAVS4OA3rlXX+Pea/UDBxHzdzOkHsixQ87bD+Mue5XdBjQiHfdtA5bGy13+/g3DAOVrKxDTYV12BSqoRbUDcyiljM3gTWSQIuI/sHKFmgvfuWa8QDfafePo/pTXIXGz6BmyvaToi0QqM1ZznDvKKo/uahi/CxwHfiIekwkgEBtowdRVewFcAGZLxW28a2VxOcUW60IxJ6UOCQZC/zeJ+DTVvsDv79KOHXtY3HVROmBSq+EY9c+FlWNwBFKYeZQZxMiitPHpK1fCgbi9TFJG/ZyEFXUPiZhs6iZEYfRZdvH4tqU57sXwzvzH793nMavATtJAAAAAElFTkSuQmCC',
//            image: 'https://14717569.s21i.faiusr.com/4/ABUIABAEGAAgotro-AUo1f7kiwMwNDg0.png',
            host: [''],
            popup: function (text) {
                if(text.indexOf("http://")==0||text.indexOf("https://")==0)

                {
                 try {

                    if(GM_openInTab(text, { loadInBackground: true, insert: true, setParent :true })){
                         fadeOut(icon);
                         console.log("doSomethingOk");
                     } else{
                         console.log("doSomethingNotOk");
                     }

                } catch (error) {
                    return GM_openInTab(text, { loadInBackground: true, insert: true, setParent :true });
                }
               }

               else
               {
                try {

                    if(GM_openInTab("http://"+text, { loadInBackground: true, insert: true, setParent :true })){

                         fadeOut(icon);
                         console.log("doSomethingOk");
                     } else{
                         console.log("doSomethingNotOk");
                     }

                } catch (error) {
                    return GM_openInTab("http://"+text, { loadInBackground: true, insert: true, setParent :true });
                }
               }
            }
        },
        {
            name: '谷歌搜索',
            image:'data:image/png;base64,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',
//            image:'https://14717569.s21i.faiusr.com/4/ABUIABAEGAAgoNro-AUo_JLypgYwYDhg.png',
            host: ['www.google.co.jp'],
            popup: function (text) {
                open('https://www.google.co.jp/search?q=' + encodeURIComponent(text));
            }
        },
        {
            name: '必应搜索',
            image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABgFBMVEX///8NhIQNgoIWiYn8/v4RhYUcjIwUh4cOhIQhjo4pkpLt9vb7/f3z+fkwlpZYqqrV6urq9fWr1dUlkJCYy8uEwcHi8PA1mJjd7u49nJx7vLz5/PxAnp72+/vg7+9dra05mpq329twtrYtlJSgz89IoqKNxMTw9/d1urrn8/NBoaFps7P0+voZiorI4+PC4OBOpKTJ5OS12dnN5eW63Ny83d2a09Pl9fXl8vJksLCBv7+Lzc1UqKjF4uIPhYXZ6+uk0dGRx8eFyclfsbENgYGx19cRg4MOgoLQ5+cei4sOgIDy+Pjd8fFSp6dcq6vZ7Owtk5Nwvb294uLS6Oi+3t4MhIQumJjL6em8398Oh4dNoqI7nJwhkZFarq5hra1Wqqo7l5cPhIQOfX1VqalhuLim3d16xcUslpZUqqofkJAajIwmlJS95+c4paWy2NiWzc0PiIgch4e929u139+z398nmZlXrq70/f1ErKzH5OROqKi34eEki4uq2NhRqKjA39/oIzviAAAAAXRSTlMAQObYZgAABIVJREFUeF7t2oVu7DgUgOFzHIRhZmYqMzMzXGbGZaZXX1VV1Z1o7nTGAa/U+7+APzmS7cSBtkKjZWBaXXHV15zArkFESQnXs0lg1N484oUhWvmeZwW4jPPXXh/zDAGIhFNrsQGGACQEuXxxes5ugC7ONTg9wNsO0BuCAw6wpdk2gG4ebJ4BfVImwBaA+MDuR6DPxTMGhNkCCPlkA+BFV4CDKQDxnGcMcDluOyAcv+0A11dA8tYDGrcA8KQrwMka8BWwwxiQL/9fADwrgAaXTdypOh0sASk1XBmedMaZAaAiIG7tFxaccd5WgPcKEFHxovXi8lA5zjMAQF26eoM/PPrR6zDP4O4GOLwGjKh4FSFKejHE2wyAFaHNxhVLmw7LAWr1GvDxw2qbQJ7nwpW7TvsA/N+oTxa4/JRvwkrAJFzn8yN2Mrx7u+SxBRAvYucEToy+Pk5aDoCAgl9KlsRw3TdhPiAE/+mXT9vYJUl883PgwEoAzHyH3RNEfzHYMhHgbwdUM2d4Y01/NPe5bBYgBW3FOOwlTgmvFFJWABbC2GOC4pqduWMcEIG2+KNvCfac+KYYG3WaCoDfXDL2HCHIqbWjxZSJAEf9DPuLrPujjwMaLeAAdGVVpEh5u2MWoJFGmoR/zALAoiJTADgfJWAB9GmzVIDPlIAO+2xApAEMmweo3icUgKx5AChxG/0DRikBJx0Au78+ZwuAP54yBkArFiWkP8CYUYCeECxKTAEAkaVZZbV3wCklYBO+nLb4Mt8zgHIpVjahW3w2lyHEyhlQRuCGWrEah4QhAGC3VHxoHWAIeqhcSKsyNeCJcQCAtj/PElDNTolWzUALbsz78fEG9UJkHKC16vdktA4wB13b2cxJhFBuRsYBzpNYEy9iA2gcBEVEqwED8IWSkdJDJMwA8cmAiqSvQykloOMm5vAWXKjLKsBph+Gdr54SZAbg48M1pDgVr9HdGypj+vHHikgI7auZccDcCwmp4kbNAIy4ORmpkjNOSsB/4J6X758hXfJ+CigB2SvAQW5LQMoya0kwCAhVFAkpE0uaA4wBqjE/9fBnU54kgCGAtpznkC6CiewOgAHAu2O+5GoibUrA6wBDAKmWeI8EqSLPcrrZpwDgPNL2/Pdjjfp3PuOR8/EJAHYAKeaJAzuA7B4r0//UarxwIQTADEC2pk94uIjNIyArlxcEbGZgmyQWJwFYAQj5KbgJwApAUKofx4EdYHvwlQbADCC7ZhYA2AHE3AAAOwCZ9TWAvkEBjRVdSoGRghtoIKLmhsBYIfc9pI57tAaG8wbzlAsPSSx5wYyG91YJxfjnlRMwqVDsQ7/Do/joBzCxv4rYV+u1bxpgapG60s+JrxIB0ytEsbdWFfddsCJPWsSbI1xi3AHWxC+5br7/OKxMgHW19prYNcU9B5aWXPZ3AXAPCmB5owkOOyeoMQ1sSMsp2ClxfwRsyhcWCOriMj6wr1C62S4QlOkG2Jlj/E/hGjDfTHvA7k7uS9dfKYaBQc7g5VdJwV9KAptOM4Isc1O7wCxvRR20Ytv5F1aNwb4yuFDOAAAAAElFTkSuQmCC',
//            image:'https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB12cKGd.img',
            host: ['cn.bing.com'],
            popup: function (text) {
                open('https://cn.bing.com/search?q=' + encodeURIComponent(text));
            }
        },
        {
            name: '百度搜索',
             image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJimlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTA1VDE1OjI5OjM4KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTA1VDE3OjQ1OjA1KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0wNVQxNzo0NTowNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjE4NjU4ODAtOTQ1Mi00NTFhLWJkM2EtOWVjYWJhNzM1MWVmIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OGZlZjg3YzctYzRkZi1jODQ3LWJhZjktOGZlZjA4YTg1NDA1IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDcyZGU1MDctNWY2Zi00NTFiLWE4YzUtY2I1Y2FhOWJlNThiIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iRGlzcGxheSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDcyZGU1MDctNWY2Zi00NTFiLWE4YzUtY2I1Y2FhOWJlNThiIiBzdEV2dDp3aGVuPSIyMDIwLTA0LTA1VDE1OjI5OjM4KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGE0MDYzNjUtNzQ5Yy00YmJkLTk2ZmItNDJkOGExNzk3MmYxIiBzdEV2dDp3aGVuPSIyMDIwLTA0LTA1VDE3OjQ1OjA1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MjE4NjU4ODAtOTQ1Mi00NTFhLWJkM2EtOWVjYWJhNzM1MWVmIiBzdEV2dDp3aGVuPSIyMDIwLTA0LTA1VDE3OjQ1OjA1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZGE0MDYzNjUtNzQ5Yy00YmJkLTk2ZmItNDJkOGExNzk3MmYxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA3MmRlNTA3LTVmNmYtNDUxYi1hOGM1LWNiNWNhYTliZTU4YiIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjA3MmRlNTA3LTVmNmYtNDUxYi1hOGM1LWNiNWNhYTliZTU4YiIvPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6NDBlYjhhZjctOTk0ZS1jYTQ2LThiOTYtNzRjOTQ0M2NiNDcyPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDowNzJkZTUwNy01ZjZmLTQ1MWItYThjNS1jYjVjYWE5YmU1OGI8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5a0j6hAAATfElEQVRoQ52aebRdVX3HP799zp3fffNL3hASMgJJJEKIDCaFACIKWi2wsJVqa0uruJatumzVVmlFOq7l0i6XWrFIRdGKRaUMDUTCEAiQBENCSELm5GV4L2+e7nDO2b/+sc8d3ssD237XOu/ee+7eZ/++v2n/fvtdUVX+vxgvKkMTSlez8fef1vcfG7Sf6sjLwdacfP75N6IzmSSsWexxTpsQRJDyp8+PLPSNKi8eiBgvKqvmGxbNMfQOKdmk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',
//            image:'https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB12cBeO.img',
            host: ['www.baidu.com'],
            popup: function (text) {
                open('https://www.baidu.com/s?wd=' + encodeURIComponent(text));
            }
        },

        {
            name: '复制',
            image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAACNklEQVR4nO3csU7bUBjF8XMtxk4sDEygdGk3FhzBWKkZW4lHYGDrgpTyBkRiYWPgEZDoGCTWyuEBYCFSJqRm6dLMXIb0GkSCAB9jfxef/4iEY/10Qm4iAFCqzlzVD/h1P/NVP+a8nMOg32232eskZdxMjHmPtNPLMvY6tS3waGe96ocGAOwcXQAAEudw6z2cx+/+Xnuz6PUau8BO2kLiHLzDBrPExgJ+XF68RySezo0FBMpBbDQgwCM2HhDgEAX4v6KIAnxQEcT8HGjlHcLK0gd0v39+s+uHc+CPrafPodc3f9EfDKfnxGfesZhb4Gg8Qe/0stZ7eM0SFx5/od9N3/bunqjTGwAAksRhNJ7g4NcVdr99quVegCki0lZYYtrpZdm8JZpb4PaXFpLEYfjnXxRLNAe4trqYI8bwdDYHCMSFOPMz0EoB8fh8mCOW+ep8eHJR+Hu9R/5CYXKBIWtLnJfZBYbKXiL7OWQ4R4ZMLzBkeYlRAAJ2EaMBBGwiRgUI2EOMDhCwhRglIGAHMVpAwAaiuXPg43PWaxqNJyXeycuKeoEWMrNA9nPI8Hli1WmBZAIkEyCZAMkESCZAMgGSCZBMgGQCJBMgmQDJBEgmQDIBkgmQTIBkAiQTIJkAyQRIJkAyAZIJkEyAZAIkEyCZAMkESCZAMgGSCZBMgGQCJBMgmZnfkS4r5rf8i6QFkr27BZ79bFf6PxG1QDIBkgmQTIBkAiQTIJkAyWbOgXX91WOsaYFKRd0dWQbiQm7O5X4AAAAASUVORK5CYII=',
//            image:'https://14717569.s21i.faiusr.com/4/ABUIABAEGAAgn9ro-AUoup7zgAIwUDhQ.png',
            host: [''],
            popup: function (selText) {
                if (selText == null) {
                    selText = document.defaultView.getSelection().toString();
                }

                try {
                    //这里拷贝到剪切板 图标栏消失
                    if(document.execCommand('copy', false, null)){
                         fadeOut(icon);
                         console.log("doSomethingOk");
                     } else{
                         console.log("doSomethingNotOk");
                     }
                    return GM_setClipboard(selText, "text");
                } catch (error) {
                    return document.execCommand('copy', false, null);
                }
            }
        },
        {
          name: '粘贴',
          image:'data:image/png;base64,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',
//          image: 'https://14717569.s21i.faiusr.com/4/ABUIABAEGAAgpNro-AUoz5G3pwIwYDhg.png',
          host: [''],
          popup: function () {

              try {
                    if(window.navigator.clipboard.readText()
                       .then(text => {
                        console.log('Pasted content: ', text);

                        document.execCommand("insertText", "false", text);
                    })
                       .catch(err => {
                        console.error('Failed to read clipboard contents: ', err);
                    })){

                         fadeOut(icon);
                         console.log("doSomethingOk");
                     } else{

                         console.log("doSomethingNotOk");
                     }
                } catch (error) {
                    return document.execCommand("insertText", "false", text);
                }
          }
        },
       {
            name: '百度翻译',
            image:'data:image/png;base64,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',
//            image: 'https://14717569.s21i.faiusr.com/4/ABUIABAEGAAgptro-AUohuvMtQEwYDhg.png',
            host: ['fanyi.baidu.com'],
            popup: function (text) {
                open('https://fanyi.baidu.com/?aldtype=85&keyfrom=alading#auto/zh/' + encodeURIComponent(text));
            }
        },
    ],


    hostCustomMap = {};
    iconArray.forEach(function (obj) {
        obj.host.forEach(function (host) {// 赋值DOM加载后的自定义方法Map
            hostCustomMap[host] = obj.custom;
        });
    });
    var text = GM_getValue('search');
    if (text && window.location.host in hostCustomMap) {
        keyword.beforeCustom(hostCustomMap[window.location.host]);
    }
    var icon = document.createElement('div');
    iconArray.forEach(function (obj) {
        var img = document.createElement('img');
        img.setAttribute('src', obj.image);
        img.setAttribute('alt', obj.name);
        img.setAttribute('title', obj.name);
        img.addEventListener('mouseup', function () {
                keyword.beforePopup(obj.popup);
        });

        img.setAttribute('style', '' +
            'cursor:pointer!important;' +
            'display:inline-block!important;' +
            'width:24px!important;' +//图标尺寸设置
            'height:24px!important;' +
            'border:0!important;' +
            'background-color:rgba(255,255,255,0.5)!important;' +//透明度
            'padding:0!important;' +
            'margin:0!important;' +
            'margin-right:3px!important;' +//图标间距
            '');
        icon.appendChild(img);
    });
    icon.setAttribute('style', '' +
        'display:none!important;' +
//        'width:720px!important;' +//宽度换行
        'position:absolute!important;' +
        'padding:0!important;' +
        'margin:0!important;' +
        'font-size:13px!important;' +
        'text-align:left!important;' +
        'border:0!important;' +
        'background:transparent!important;' +
        'z-index:2147483647!important;' +
//        'white-space:normal;'+
        //'overflow:hidden;'+
        '');
    // 添加到 DOM
    document.documentElement.appendChild(icon);
    // 鼠标事件：防止选中的文本消失
    document.addEventListener('mousedown', function (e) {
        if (e.target == icon || (e.target.parentNode && e.target.parentNode == icon)) {
            e.preventDefault();
        }
    });
    // 选中变化事件：
    document.addEventListener("selectionchange", function () {
        if (!window.getSelection().toString().trim()) {
            icon.style.display = 'none';
        }
    });

    // 鼠标事件
    var timer;
    document.addEventListener('mouseup', function (e) {
        if (e.target == icon || (e.target.parentNode && e.target.parentNode == icon)) {
            e.preventDefault();
            return;
        }
        var text = window.getSelection().toString().trim();
        if ((text && icon.style.display == 'none') || (((e.target.localName.toLowerCase() === 'input' || e.target.localName.toLowerCase() === 'textarea') && e.target.type.toLowerCase() !== 'submit' && e.target.type.toLowerCase() !== 'button' && e.target.type.toLowerCase() !== 'checkbox') && e.target.disabled === false) || (document.activeElement.tagName.toLowerCase() === 'en-note' && e.target.localName.toLowerCase() !== 'en-note')) {
            icon.style.top = e.pageY -50 + 'px';//设置距离文字上方的距离
            if(e.pageX -70<10)
                icon.style.left='10px';
            else
                icon.style.left = e.pageX -88 + 'px';//设置左右位置

            fadeIn(icon);
            clearTimeout(timer);
            timer = window.setTimeout(TimeOutHide, 6000);
        }
        console.log(document.activeElement.tagName)
        console.log(e.target.localName)
        console.log(e.target.type)

    });

    let mouseEvent = null;
    document.addEventListener('mousemove', event => {
        mouseEvent = event;
    });

    document.addEventListener('keydown',event => {

        var keynum;
        if(window.event) // IE
        {
            keynum = event.keyCode;
        }
        else if(event.which) // Netscape/Firefox/Opera
        {
            keynum = event.which;
        }
        console.log(event.keyCode)

        if(keynum==79&&event.altKey){

            icon.style.top = mouseEvent.pageY +40 + 'px';
            if(mouseEvent.pageX -70<10)
                icon.style.left='10px';
            else
                icon.style.left = mouseEvent.pageX -50 + 'px';

            console.log(mouseEvent.pageX+","+mouseEvent.pageY, mouseEvent)
            fadeIn(icon);
            clearTimeout(timer);
            timer = window.setTimeout(TimeOutHide, 6000);

        }
    });



    var TimeOutHide;
    var ismouseenter = false;

    TimeOutHide = function () {
        if (ismouseenter == false) {
            return fadeOut(icon);
            console.log("doSomethingOk");
        }
   };
    //鼠标在图标栏 清除定时器 不自动关闭
    icon.onmouseenter = function(e){
        console.log("ismouseenter");

        if(timer){ //定时器
            clearTimeout(timer);
        }
    }
    //鼠标移开图标栏 清除定时器 自动关闭
    icon.onmouseleave = function(){

        console.log("ismouseleave");

        if(timer){ //定时器
            clearTimeout(timer);
        }
        timer = window.setTimeout(function(){fadeOut(icon);}, 6000);
    };

    //鼠标滚动 图标栏消失
    document.addEventListener('scroll', function(e){

        fadeOut(icon);
    });

    // fade out 渐出
    function fadeOut(el){
        el.style.opacity = 1;

        (function fade() {
            if ((el.style.opacity -= .1) < 0) {
                el.style.display = "none";
            } else {
                requestAnimationFrame(fade);
            }
        })();
    }

    // fade in 渐入
    function fadeIn(el, display){
        el.style.opacity = 0;
        el.style.display = "block";

        (function fade() {
            var val = parseFloat(el.style.opacity);
            if (!((val += .1) > 1)) {
                el.style.opacity = val;
                requestAnimationFrame(fade);
            }
        })();
    }


    function typeInTextarea(newText, el = document.activeElement) {
        const start = el.selectionStart
        const end = el.selectionEnd
        const text = el.value
        const before = text.substring(0, start)
        const after = text.substring(end, text.length)
        el.value = (before + newText + after)
        el.selectionStart = el.selectionEnd = start + newText.length
        el.focus()
    }


    /**触发事件*/
    function tiggerEvent(el, type) {
        if ('createEvent' in document) {// modern browsers, IE9+
            var e = document.createEvent('HTMLEvents');
            e.initEvent(type, false, true);// event.initEvent(type, bubbles, cancelable);
            el.dispatchEvent(e);
        } else {// IE 8
            e = document.createEventObject();
            e.eventType = type;
            el.fireEvent('on' + e.eventType, e);
        }
    }

    /**在新标签页中打开*/
/*    function open(url) {
        // 这里
        icon.style.display='none';
                var win;
            win = window.open(url);
        if (window.focus) {
            win.focus();
        }
       return win;
    }
*/


    //后台打开标签页
    function open(url) {
         try {
            if(GM_openInTab(url, { loadInBackground: true, insert: true, setParent :true })){
                //success info
               fadeOut(icon);
               console.log("doSomethingOk");
               } else{
               //fail info
               console.log("doSomethingNotOk");
               }
          } catch (error) {
               return GM_openInTab(url, { loadInBackground: true, insert: true, setParent :true });
          }
    }
})();



//二、彩云小译脚本

var background_key = 186;
$(document).keydown(function(e) {
    if ( e.which == background_key && !(e.metaKey || e.ctrlKey) && e.altKey ) {
        var el = document.activeElement;
        if (el && (el.tagName.toLowerCase() == 'input' && el.type == 'text' ||
                el.tagName.toLowerCase() == 'textarea')) {
            return true;
        }
        zfy();
        return true;
    }
});

GM_registerMenuCommand("翻译当前网页",zfy,'Y');

function zfy() {
    var cyfy = document.createElement("script");
    cyfy.type = "text/javascript";
    cyfy.charset = "UTF-8";
    cyfy.src = ("https:" == document.location.protocol ? "https://" : "http://") + "caiyunapp.com/dest/trs.js";
    document.body.appendChild(cyfy);
}