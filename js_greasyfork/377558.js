// ==UserScript==
// @name         Désanonymous
// @namespace    Désanonymous - Jeuxvideo.com
// @version      0.1.0
// @description  Met fin à l'anonymat sur Internet (enfin, que sur JVC pour l'instant)
// @author       Blaff
// @match        http://www.jeuxvideo.com/forums/*
// @match        http://www.jeuxvideo.com/profil/*
// @match        http://www.jeuxvideo.com/recherche/*
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/377558/D%C3%A9sanonymous.user.js
// @updateURL https://update.greasyfork.org/scripts/377558/D%C3%A9sanonymous.meta.js
// ==/UserScript==

'use strict';

let firstnames = ['Aaron', 'Abdel', 'Achille', 'Adam', 'Adrien', 'Ahmed', 'Alban', 'Alex', 'Alexandre', 'Alexis', 'Ali', 'Alice', 'Amaury', 'Amine', 'Amir', 'Anatole', 'Anaïs', 'Anis', 'Anna', 'Anthony', 'Antoine', 'Anton', 'Antonin', 'Armand', 'Arsène', 'Arthur', 'Auguste', 'Augustin', 'Aurelien', 'Axel', 'Ayoub', 'Baptiste', 'Basile', 'Bastien', 'Benjamin', 'Bilal', 'Camille', 'Cesar', 'Charles', 'Charlotte', 'Chloe', 'Clara', 'Clement', 'Corentin', 'Côme', 'Damien', 'Daniel', 'David', 'Diego', 'Dimitri', 'Djibril', 'Dorian', 'Dylan', 'Edgar', 'Edouard', 'Elias', 'Elie', 'Eliot', 'Eliott', 'Elliot', 'Emile', 'Emma', 'Emmanuel', 'Enzo', 'Eric', 'Erwan', 'Esteban', 'Ethan', 'Etienne', 'Eva', 'Evan', 'Felix', 'Florian', 'François', 'Gabin', 'Gabriel', 'Gaspard', 'Gregoire', 'Guillaume', 'Gustave', 'Hadrien', 'Hamza', 'Hector', 'Henri', 'Hippolyte', 'Hugo', 'Ibrahim', 'Ilan', 'Ilian', 'Ilyes', 'Inès', 'Isaac', 'Ismaël', 'Issa', 'Jean', 'Jeanne', 'Jeremy', 'Joachim', 'Jonathan', 'Joseph', 'Joshua', 'Jules', 'Julien', 'Juliette', 'Kaïs', 'Kevin', 'Kylian', 'Lea', 'Lenny', 'Leo', 'Leon', 'Leonard', 'Leopold', 'Liam', 'Lina', 'Lorenzo', 'Louis', 'Louise', 'Loïc', 'Luc', 'Luca', 'Lucas', 'Lucie', 'Lucien', 'Luka', 'Malo', 'Mamadou', 'Manon', 'Marc', 'Marie', 'Marin', 'Marius', 'Martin', 'Mateo', 'Matheo', 'Mathias', 'Mathieu', 'Mathilde', 'Mathis', 'Mathys', 'Matteo', 'Matthieu', 'Max', 'Maxence', 'Maxime', 'Maximilien', 'Maël', 'Mehdi', 'Milan', 'Milo', 'Mohamed', 'Moussa', 'Nassim', 'Nathan', 'Nathanaël', 'Naël', 'Nicolas', 'Nils', 'Nino', 'Noah', 'Noam', 'Noe', 'Noham', 'Nolan', 'Octave', 'Olivier', 'Omar', 'Oscar', 'Pablo', 'Paul', 'Pierre', 'Quentin', 'Rafael', 'Raphaël', 'Rayan', 'Rayane', 'Remi', 'Robin', 'Romain', 'Roman', 'Romeo', 'Ruben', 'Ryan', 'Sacha', 'Sami', 'Samuel', 'Samy', 'Sarah', 'Simon', 'Sofiane', 'Solal', 'Souleymane', 'Stanislas', 'Theo', 'Theodore', 'Theophile', 'Thibault', 'Thomas', 'Tiago', 'Timothe', 'Timothee', 'Titouan', 'Tom', 'Tristan', 'Ulysse', 'Vadim', 'Valentin', 'Victor', 'Vincent', 'Virgile', 'Wassim', 'William', 'Yacine', 'Yanis', 'Yann', 'Yassine', 'Younes', 'Youssef', 'Zacharie', 'Zakaria'];
let lastnames = ['Abadie', 'Achard', 'Adam', 'Albert', 'Alexandre', 'Alix', 'Allain', 'Allard', 'Alves', 'Amiot', 'Andre', 'Andrieu', 'Andrieux', 'Antoine', 'Armand', 'Arnal', 'Arnaud', 'Arnould', 'Arnoux', 'Astier', 'Aubert', 'Aubin', 'Aubry', 'Auffret', 'Auge', 'Auger', 'Auvray', 'Avril', 'Babin', 'Bach', 'Bachelet', 'Baillet', 'Bailleul', 'Bailly', 'Baptiste', 'Barbe', 'Barbier', 'Bardet', 'Bardin', 'Baron', 'Barraud', 'Barre', 'Barreau', 'Barret', 'Barriere', 'Barthe', 'Barthelemy', 'Basset', 'Bastide', 'Bastien', 'Bataille', 'Baud', 'Baudet', 'Baudin', 'Baudoin', 'Baudouin', 'Baudry', 'Bauer', 'Bayle', 'Bazin', 'Beau', 'Beaufils', 'Beaumont', 'Beauvais', 'Beck', 'Becker', 'Begue', 'Belin', 'Bellanger', 'Bellec', 'Bellet', 'Benard', 'Benoist', 'Benoit', 'Berard', 'Beraud', 'Berger', 'Bernard', 'Bernier', 'Berthe', 'Berthelot', 'Berthet', 'Berthier', 'Bertin', 'Berton', 'Bertrand', 'Besnard', 'Besnier', 'Besse', 'Besson', 'Bidault', 'Bigot', 'Billard', 'Billet', 'Billon', 'Binet', 'Bisson', 'Blaise', 'Blanc', 'Blanchard', 'Blanchet', 'Blandin', 'Blin', 'Blondeau', 'Blondel', 'Blot', 'Bocquet', 'Bodin', 'Bois', 'Boisseau', 'Boisson', 'Boivin', 'Bon', 'Bonhomme', 'Bonin', 'Bonnard', 'Bonnaud', 'Bonneau', 'Bonnefoy', 'Bonnet', 'Bonnin', 'Bonnot', 'Bontemps', 'Bordes', 'Borel', 'Bosc', 'Bossard', 'Bouchard', 'Bouche', 'Boucher', 'Bouchet', 'Boudet', 'Bouillon', 'Boulanger', 'Boulard', 'Boulay', 'Boulet', 'Bouquet', 'Bour', 'Bourbon', 'Bourdin', 'Bourdon', 'Bourgeois', 'Bourgoin', 'Bourguignon', 'Bousquet', 'Boutet', 'Boutin', 'Bouvet', 'Bouvier', 'Bouyer', 'Boyer', 'Brault', 'Braun', 'Bresson', 'Breton', 'Briand', 'Briere', 'Brisset', 'Brochard', 'Brossard', 'Brousse', 'Brun', 'Bruneau', 'Brunel', 'Brunet', 'Bruno', 'Bruyere', 'Buisson', 'Bureau', 'Burel', 'Cadet', 'Caillaud', 'Caille', 'Caillet', 'Calvet', 'Camus', 'Capelle', 'Capron', 'Cardon', 'Cariou', 'Carlier', 'Caron', 'Carpentier', 'Carre', 'Carrere', 'Carriere', 'Cartier', 'Carton', 'Casanova', 'Castel', 'Cazenave', 'Cellier', 'Chabert', 'Chabot', 'Chambon', 'Champion', 'Chapelle', 'Chapuis', 'Charbonnier', 'Chardon', 'Charles', 'Charlet', 'Charlot', 'Charpentier', 'Charrier', 'Charron', 'Chartier', 'Charton', 'Chateau', 'Chatelain', 'Chauveau', 'Chauvet', 'Chauvin', 'Chemin', 'Cheron', 'Chevalier', 'Chevallier', 'Chevrier', 'Chiron', 'Chollet', 'Chopin', 'Choquet', 'Chretien', 'Christophe', 'Clain', 'Claude', 'Claudel', 'Clavel', 'Claverie', 'Clement', 'Clerc', 'Cochet', 'Cohen', 'Colas', 'Colin', 'Collard', 'Collet', 'Collignon', 'Collin', 'Combe', 'Combes', 'Comte', 'Conan', 'Constant', 'Constantin', 'Conte', 'Cordier', 'Cormier', 'Cornet', 'Cornu', 'Corre', 'Costa', 'Coste', 'Costes', 'Cottin', 'Couderc', 'Coudert', 'Coulon', 'Courtin', 'Courtois', 'Cousin', 'Coutant', 'Couturier', 'Crepin', 'Cros', 'Crouzet', 'Cuny', 'Da Costa', 'Da Silva', 'Daniel', 'Darras', 'Dauphin', 'David', 'Dejean', 'Delage', 'Delahaye', 'Delamare', 'Delannoy', 'Delaporte', 'Delarue', 'Delattre', 'Delaunay', 'Delcourt', 'Delcroix', 'Delhaye', 'Delmas', 'Delorme', 'Delpech', 'Demange', 'Demay', 'Denis', 'Derrien', 'Desbois', 'Descamps', 'Deschamps', 'Deshayes', 'Devaux', 'Deville', 'Devillers', 'Devos', 'Diaz', 'Didier', 'Dijoux', 'Diot', 'Dore', 'Dos Santos', 'Doucet', 'Drouet', 'Drouin', 'Dubois', 'Dubos', 'Dubost', 'Dubourg', 'Dubreuil', 'Dubus', 'Duchemin', 'Duchene', 'Duchesne', 'Duclos', 'Ducrocq', 'Dufour', 'Duhamel', 'Dujardin', 'Dumas', 'Dumont', 'Dumoulin', 'Dupin', 'Dupont', 'Dupouy', 'Duprat', 'Dupre', 'Dupuis', 'Dupuy', 'Durand', 'Duret', 'Durieux', 'Duriez', 'Duval', 'Esnault', 'Etienne', 'Evrard', 'Fabre', 'Faivre', 'Faucher', 'Faure', 'Fauvel', 'Favier', 'Favre', 'Faye', 'Fayolle', 'Felix', 'Fernandes', 'Fernandez', 'Ferrand', 'Ferrari', 'Ferre', 'Ferreira', 'Ferrier', 'Ferry', 'Fevrier', 'Fischer', 'Flament', 'Fleury', 'Fontaine', 'Forest', 'Forestier', 'Fort', 'Fortin', 'Foucault', 'Foucher', 'Foulon', 'Fouquet', 'Fourcade', 'Fournier', 'Francois', 'Frey', 'Fritsch', 'Froment', 'Fuchs', 'Gabriel', 'Gaillard', 'Galland', 'Gallet', 'Gallois', 'Garcia', 'Garcin', 'Garnier', 'Garreau', 'Gasnier', 'Gaubert', 'Gaucher', 'Gaudin', 'Gaultier', 'Gauthier', 'Gautier', 'Gay', 'Geffroy', 'Genet', 'Genin', 'Genty', 'Geoffroy', 'George', 'Georges', 'Georget', 'Gerard', 'Germain', 'Gervais', 'Gibert', 'Gicquel', 'Gil', 'Gilbert', 'Gilles', 'Gillet', 'Gillot', 'Gimenez', 'Girard', 'Giraud', 'Girault', 'Gobert', 'Godard', 'Godefroy', 'Godet', 'Godin', 'Gomes', 'Gomez', 'Goncalves', 'Gonthier', 'Gonzalez', 'Gosselin', 'Gosset', 'Goujon', 'Goupil', 'Gourdon', 'Grand', 'Grandjean', 'Grange', 'Granger', 'Granier', 'Gras', 'Gregoire', 'Grenier', 'Grimaud', 'Grondin', 'Gros', 'Grosjean', 'Gross', 'Guegan', 'Gueguen', 'Guerin', 'Guery', 'Guibert', 'Guichard', 'Guignard', 'Guilbaud', 'Guilbert', 'Guillard', 'Guillaume', 'Guillemin', 'Guillemot', 'Guillet', 'Guillon', 'Guillot', 'Guillou', 'Guilloux', 'Guiraud', 'Guitton', 'Guy', 'Guyard', 'Guyon', 'Guyot', 'Hamel', 'Hamelin', 'Hamon', 'Hardy', 'Hebert', 'Hemery', 'Henry', 'Herault', 'Hernandez', 'Herve', 'Hilaire', 'Hoarau', 'Hoareau', 'Hoffmann', 'Honore', 'Huard', 'Hubert', 'Hue', 'Huet', 'Huguet', 'Humbert', 'Husson', 'Imbert', 'Jacob', 'Jacquemin', 'Jacques', 'Jacquet', 'Jacquin', 'Jacquot', 'James', 'Jamet', 'Jan', 'Janin', 'Janvier', 'Jaouen', 'Jardin', 'Jarry', 'Jean', 'Jeanne', 'Jeannin', 'Jegou', 'Jolivet', 'Jolly', 'Joly', 'Joseph', 'Josse', 'Jouan', 'Joubert', 'Jourdain', 'Jourdan', 'Jouve', 'Julien', 'Jullien', 'Jung', 'Keller', 'Kieffer', 'Klein', 'Koch', 'Labat', 'Labbe', 'Laborde', 'Lacaze', 'Lacombe', 'Lacoste', 'Lacour', 'Lacroix', 'Laffont', 'Lafon', 'Lafond', 'Lafont', 'Lagarde', 'Lagrange', 'Lahaye', 'Laine', 'Lalande', 'Lalanne', 'Lallemand', 'Lallement', 'Lamarque', 'Lambert', 'Lamotte', 'Lamour', 'Lamy', 'Landais', 'Landry', 'Lang', 'Langlais', 'Langlet', 'Langlois', 'Lapeyre', 'Lapierre', 'Laplace', 'Laporte', 'Larcher', 'Laroche', 'Larue', 'Lassalle', 'Lasserre', 'Latour', 'Launay', 'Laurent', 'Lauret', 'Laval', 'Lavaud', 'Lavergne', 'Lavigne', 'Le Berre', 'Le Bihan', 'Le Borgne', 'Le Bras', 'Le Breton', 'Le Bris', 'Le Brun', 'Le Corre', 'Le Floch', 'Le Gal', 'Le Gall', 'Le Goff', 'Le Guen', 'Le Meur', 'Le Roux', 'Le Roy', 'Lebas', 'Lebeau', 'Leblanc', 'Leblond', 'Lebon', 'Lebreton', 'Lebrun', 'Lecerf', 'Leclerc', 'Leclercq', 'Leclere', 'Lecocq', 'Lecomte', 'Leconte', 'Lecoq', 'Lecuyer', 'Ledoux', 'Leduc', 'Lefebvre', 'Lefeuvre', 'Lefevre', 'Lefort', 'Lefranc', 'Lefrancois', 'Legay', 'Legendre', 'Leger', 'Legrand', 'Legros', 'Lehmann', 'Lejeune', 'Leleu', 'Lelievre', 'Lelong', 'Leloup', 'Lemaire', 'Lemaitre', 'Lemarchand', 'Lemercier', 'Lemoine', 'Lemonnier', 'Lenoir', 'Leon', 'Leonard', 'Lepage', 'Lepine', 'Lepretre', 'Leray', 'Leroux', 'Leroy', 'Lesage', 'Lesueur', 'Letellier', 'Levasseur', 'Leveque', 'Levy', 'Lhomme', 'Lienard', 'Loiseau', 'Loisel', 'Loison', 'Lombard', 'Lopes', 'Lopez', 'Louis', 'Louvet', 'Lucas', 'Mace', 'Magne', 'Magnier', 'Magnin', 'Mahe', 'Mahieu', 'Maillard', 'Maillet', 'Maillot', 'Maire', 'Maitre', 'Malet', 'Mallet', 'Manceau', 'Mangin', 'Marais', 'Marc', 'Marcel', 'Marchal', 'Marchand', 'Marechal', 'Marie', 'Marin', 'Marion', 'Marques', 'Marquet', 'Marteau', 'Martel', 'Martin', 'Martineau', 'Martinet', 'Martinez', 'Martins', 'Marty', 'Mary', 'Mas', 'Masse', 'Masson', 'Mathieu', 'Mathis', 'Mauger', 'Maurel', 'Maurice', 'Maurin', 'Maury', 'Mayer', 'Mazet', 'Menager', 'Menard', 'Mercier', 'Merle', 'Merlet', 'Merlin', 'Metayer', 'Meunier', 'Meyer', 'Michaud', 'Michaux', 'Michel', 'Michelet', 'Michon', 'Mignot', 'Mille', 'Millet', 'Millot', 'Miquel', 'Moine', 'Monier', 'Monnet', 'Monnier', 'Montagne', 'Monteil', 'Morand', 'Moreau', 'Morel', 'Moreno', 'Moret', 'Morice', 'Morin', 'Morvan', 'Moulin', 'Mounier', 'Mouton', 'Muller', 'Munier', 'Munoz', 'Murat', 'Navarro', 'Nedelec', 'Neveu', 'Nguyen', 'Nicolas', 'Nicolle', 'Noel', 'Normand', 'Oger', 'Olive', 'Olivier', 'Ollier', 'Ollivier', 'Ouvrard', 'Page', 'Pages', 'Paillard', 'Pain', 'Papin', 'Paquet', 'Parent', 'Paris', 'Parisot', 'Parmentier', 'Pascal', 'Pasquet', 'Pasquier', 'Paul', 'Payen', 'Payet', 'Pelissier', 'Pellerin', 'Pelletier', 'Peltier', 'Pepin', 'Pereira', 'Perez', 'Pernot', 'Peron', 'Perret', 'Perrier', 'Perrin', 'Perron', 'Perrot', 'Peter', 'Petit', 'Petitjean', 'Peyre', 'Philippe', 'Philippon', 'Picard', 'Pichard', 'Pichon', 'Pichot', 'Picot', 'Pierre', 'Pierron', 'Pineau', 'Pinel', 'Pinson', 'Pinto', 'Piot', 'Piquet', 'Poirier', 'Poirot', 'Poisson', 'Pollet', 'Pommier', 'Poncet', 'Pons', 'Porte', 'Portier', 'Potier', 'Pottier', 'Pouget', 'Poulain', 'Poulet', 'Prat', 'Prevost', 'Prevot', 'Prieur', 'Prigent', 'Prost', 'Proust', 'Provost', 'Prudhomme', 'Prunier', 'Pruvost', 'Puech', 'Pujol', 'Quentin', 'Quere', 'Raffin', 'Ragot', 'Raimbault', 'Rambaud', 'Rault', 'Raymond', 'Raynal', 'Raynaud', 'Reboul', 'Redon', 'Regnier', 'Remond', 'Remy', 'Renard', 'Renaud', 'Renaudin', 'Renault', 'Renou', 'Rey', 'Reynaud', 'Ribeiro', 'Ricard', 'Richard', 'Rigal', 'Rigaud', 'Rio', 'Riou', 'Rivet', 'Riviere', 'Robert', 'Robin', 'Robinet', 'Roche', 'Rocher', 'Rodier', 'Rodrigues', 'Rodriguez', 'Roger', 'Roland', 'Rolland', 'Rollet', 'Rollin', 'Romain', 'Rondeau', 'Roques', 'Rose', 'Rossi', 'Rossignol', 'Roth', 'Rouault', 'Rougier', 'Rousseau', 'Roussel', 'Rousselle', 'Rousset', 'Roux', 'Rouxel', 'Roy', 'Royer', 'Ruiz', 'Sabatier', 'Salaun', 'Salle', 'Salles', 'Salmon', 'Salomon', 'Samson', 'Sanchez', 'Sarrazin', 'Saulnier', 'Saunier', 'Sauvage', 'Savary', 'Schaeffer', 'Schmidt', 'Schmitt', 'Schneider', 'Schwartz', 'Seguin', 'Sellier', 'Senechal', 'Sergent', 'Serre', 'Serres', 'Sicard', 'Simon', 'Simonet', 'Simonin', 'Simonnet', 'Sorin', 'Soulard', 'Soulie', 'Soulier', 'Stephan', 'Tanguy', 'Tardy', 'Tavernier', 'Techer', 'Tellier', 'Terrier', 'Tessier', 'Texier', 'Teyssier', 'Thebault', 'Thery', 'Thevenet', 'Thevenin', 'Thibault', 'Thiebaut', 'Thierry', 'Thiery', 'Thomas', 'Thuillier', 'Tison', 'Tisserand', 'Tissier', 'Tissot', 'Tixier', 'Torres', 'Tournier', 'Toussaint', 'Toutain', 'Trouve', 'Turpin', 'Vacher', 'Vaillant', 'Valentin', 'Valette', 'Vallee', 'Vallet', 'Vannier', 'Varin', 'Varlet', 'Vasseur', 'Verdier', 'Verger', 'Vergne', 'Vernet', 'Veron', 'Verrier', 'Vial', 'Viala', 'Viard', 'Viaud', 'Vidal', 'Vigier', 'Vigneron', 'Vigouroux', 'Villain', 'Villard', 'Villeneuve', 'Villette', 'Vincent', 'Vivier', 'Voisin', 'Wagner', 'Walter', 'Weber', 'Weiss', 'Wolff', 'Zimmermann'];

let hashString = function(string) {
    let hash = 0, i = 0, len = string.length;

    while (i < len) {
        hash = ((hash << 5) - hash + string.charCodeAt(i++)) << 0;
    }

    hash += 2147483648;

    return hash;
}

let nicknameToRealname = function(nickname) {
    let hash = hashString(nickname.toLowerCase().trim());
    let firstname = firstnames[hash % firstnames.length];
    let lastname = lastnames[hash % lastnames.length];
    return firstname + " " + lastname;
}

let reveal = function() {
    for (let user of document.getElementsByClassName("text-user")) {
        user.innerText = nicknameToRealname(user.innerText);
    }

    for (let username of document.getElementsByClassName("account-pseudo")) {
        username.innerText = nicknameToRealname(username.innerText);
    }

    for (let modosList of document.getElementsByClassName("liste-modo-fofo")) {
        let modos = modosList.innerText.split(", ");
        modosList.innerText = modos.map(nicknameToRealname).join(", ");
    }

    for (let edition of document.getElementsByClassName("info-edition-msg")) {
        let name = edition.getElementsByTagName("a")[0];
        name.innerText = nicknameToRealname(name.innerText);
    }

    for (let userProfil of document.getElementsByClassName("infos-pseudo")) {
        let pseudo = userProfil.getElementsByTagName("h1")[0];
        pseudo.innerText = nicknameToRealname(pseudo.innerText);
    }


    for (let follower of document.getElementsByClassName("pseudo")) {
        let pseudo = follower.getElementsByTagName("a")[0];
        pseudo.innerText = nicknameToRealname(pseudo.innerText);
    }
}

reveal();
