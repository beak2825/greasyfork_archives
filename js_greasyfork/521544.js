// ==UserScript==
// @name         CB Chat - Color
// @namespace    http://tampermonkey.net/
// @version      0.2.0
// @description  CB Chat Color
// @author       You
// @match        https://casinobahsine.reamaze.com/admin/conversations/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=reamaze.com
// @grant        none
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/521544/CB%20Chat%20-%20Color.user.js
// @updateURL https://update.greasyfork.org/scripts/521544/CB%20Chat%20-%20Color.meta.js
// ==/UserScript==
const s=b;function a(){const B=['Toggle\x20','2509677SqTobX','7304MCAWAH','Toggle\x20Hide','8bukudu','display','includes','174218zzOCSX','230vhcftz','0.5','grey','style','208665kFRcmo','appendChild','346410VybEmv','none','margin','#split-line','length','innerHTML','toggle-other-chat','5px\x200','540oAagcO','addEventListener','#menu','log','3px\x20solid\x20red','sort','88380gvvKXD','.menu-filter','hsl(65\x2050%\x2050%)','block','toggleOtherChat','querySelectorAll','innerText','ul\x20>\x20li','createElement','4684hRfKyW','head','classList','Hide','a\x20>\x20div:nth-child(3)','createTextNode','click','Toggle','createDocumentFragment','getItem','backgroundColor','Toggle\x20Show','split-line','100%','0\x200','add','match','154IKskAN','hsl(0\x2050%\x2050%)','button','a\x20few','querySelector','border','setItem','forEach'];a=function(){return B;};return a();}(function(c,d){const r=b,e=c();while(!![]){try{const f=parseInt(r('0x159'))/0x1+parseInt(r('0x18d'))/0x2+parseInt(r('0x163'))/0x3*(-parseInt(r(0x172))/0x4)+-parseInt(r('0x15b'))/0x5+-parseInt(r('0x169'))/0x6*(-parseInt(r(0x183))/0x7)+parseInt(r('0x18f'))/0x8*(parseInt(r('0x18c'))/0x9)+-parseInt(r(0x193))/0xa*(parseInt(r('0x192'))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x29b8e));const style=document[s('0x171')](s('0x196'));style[s(0x160)]='\x0a\x20\x20\x20.toggle-other-chat\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20none;\x0a\x20\x20\x20\x20\x20\x20border:\x20solid\x202px\x20black;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20padding:\x203px\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20.toggle-other-chat:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20hsl(226\x2067\x2040);\x0a\x20\x20\x20\x20}\x0a',document[s(0x173)][s(0x15a)](style);const findTimekey=c=>{const t=s,d=c[t(0x182)](/(second|seconds)|(minute|minutes)|(hour|hours)/g);return d?d[0x0]:null;},findNumber=c=>{const u=s,d=c['match'](/([0-9]+)|(a few)/g);return d?d[0x0]===u(0x186)?0x1:parseInt(d[0x0]):null;},getTime=c=>{return findNumber(c)*times[findTimekey(c)];},times={'second':0x1,'minute':0x3c,'hour':0xe10},sortTime=(c,d)=>getTime(d)-getTime(c),getIban=c=>c[s('0x182')](/(TR[0-9]+)|(iban)|(yatirim yaptiktan sonra bizlere AD - SOYAD)/g),setColor=(c,d)=>{const v=s,e=getTime(d);if(e>=0x3c&&e<=0x78)c[v('0x196')]['backgroundColor']=v('0x16b');else{if(e>=0x79&&e<=0xb4)c[v(0x196)][v('0x17c')]='hsl(40\x2050%\x2050%)';else e>=0xb4&&(setTimeout(()=>{const w=v;c[w(0x196)][w('0x17c')]='hsl(40\x2050%\x2050%)';},0x1f4),c[v('0x196')][v(0x17c)]=v(0x184));}},getLocalStorage=c=>localStorage[s('0x17b')](s('0x16d'))===null?c[s(0x196)][s('0x190')]:localStorage[s(0x17b)](s(0x16d));function b(c,d){const e=a();return b=function(f,g){f=f-0x159;let h=e[f];return h;},b(c,d);}setInterval(()=>{const x=s,c=document['querySelector'](x(0x165)),d=c[x('0x16e')](x('0x16a')),e=d[0x0],f=e?.['querySelector']('ul'),g=e[x('0x16e')](x('0x170'));let h=null;const i=Array['from'](g)[x('0x168')]((l,m)=>sortTime(l[x('0x187')](x(0x176))[x(0x16f)],m[x('0x187')](x(0x176))['innerText'])),j=document[x(0x17a)]();i['forEach'](l=>{const y=x,m=l[y(0x187)]('a\x20>\x20div:nth-child(3)')[y('0x16f')];setColor(l,m),j[y('0x15a')](l);}),f?.[x('0x15a')](j);const k=document[x(0x171)]('div');k['setAttribute']('id',x('0x17e')),k['style'][x(0x188)]=x(0x167),k['style'][x('0x15d')]=x('0x162');!document[x(0x187)](x('0x15e'))&&(console[x(0x166)](x(0x17e)),e['after'](k));if(d[x('0x15f')]==0x2){h=d[0x1];const l=h[x('0x187')]('h4')[x(0x16f)],m=getLocalStorage(h[x(0x187)]('ul'));if(!l[x(0x191)](x('0x179'))){m===x(0x15c)?h[x('0x187')]('ul')[x('0x196')][x('0x190')]=x(0x15c):h[x(0x187)]('ul')[x('0x196')]['display']=x(0x16c);const o=document[x(0x171)](x('0x185'));o[x('0x174')][x(0x181)](x('0x161'));const p=localStorage[x('0x17b')](x('0x16d'));o[x('0x15a')](document[x(0x177)](x('0x18b')+(p===x(0x16c)?x('0x175'):'Show'))),o[x('0x164')](x('0x178'),()=>{const z=x,q=getLocalStorage(h['querySelector']('ul'));q==='none'?(h[z('0x187')]('ul')['style'][z(0x190)]=z(0x16c),localStorage[z('0x189')](z(0x16d),z(0x16c)),o[z('0x16f')]=z('0x18e')):(h[z(0x187)]('ul')['style'][z(0x190)]='none',localStorage[z('0x189')](z('0x16d'),z('0x15c')),o[z(0x16f)]=z('0x17d'));}),h['querySelector']('h4')[x('0x15a')](o);}const n=h[x(0x187)]('h4');n[x('0x196')]['fontSize']=x(0x17f),n[x('0x196')][x('0x15d')]=x(0x180),h['querySelectorAll']('li')[x(0x18a)](q=>{const A=x;q[A(0x196)][A(0x17c)]=A('0x195'),q[A(0x196)]['opacity']=A('0x194');});}},0x3e8);