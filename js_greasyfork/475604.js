// ==UserScript==
// @name         RE Hosp Highlite
// @namespace    namespace
// @version      0.1
// @description  description
// @license      MIT
// @author       tos
// @match       *.torn.com/hospitalview.php*
// @grant        GM_addStyle
// @downloadURL https://update.greasyfork.org/scripts/475604/RE%20Hosp%20Highlite.user.js
// @updateURL https://update.greasyfork.org/scripts/475604/RE%20Hosp%20Highlite.meta.js
// ==/UserScript==

GM_addStyle(`
.bluehighlite {
  background-color: var(--default-bg-blue-color) !important;
}
`)

const re_members = ["56","336","1468","1761","5237","13524","22408","23278","24780","25719","28311","32356","38327","41332","47017","52055","62912","78235","88656","103325","105819","106195","112309","114591","138635","142425","154523","157144","161539","163596","176766","178113","178490","189151","196262","206592","207347","215279","218054","218749","229314","232979","247024","250508","250698","258120","264146","268599","271756","280841","282802","283470","285066","294501","295146","296142","297786","308805","311827","312753","323276","325887","327730","336688","337985","342199","350071","352935","363463","364302","372539","381758","383172","420181","420570","428286","446253","455486","456010","463126","463722","465084","467558","467652","483696","489642","493017","496062","498070","504699","507888","518215","539612","557703","561067","571041","575944","580912","581165","592013","608492","611481","623223","626311","667086","673073","674226","674469","675507","701635","713869","717533","725768","733128","733499","739574","762586","772610","788155","795412","829648","845094","859510","879721","886794","889450","892012","900972","911066","911200","915687","917801","920362","922324","924581","927477","928795","947897","952386","955266","955461","956999","972122","977286","979003","983794","986228","992186","1001325","1015037","1022640","1024863","1032325","1032989","1060649","1066131","1073290","1089809","1097729","1101365","1105675","1106182","1128181","1133596","1145056","1152202","1152399","1152433","1154977","1169571","1171328","1178721","1182764","1192157","1194350","1199649","1199971","1203536","1249448","1261603","1270178","1280905","1283405","1291268","1297415","1300219","1315845","1316632","1317237","1331947","1341013","1344647","1347030","1359334","1362579","1363289","1364343","1372561","1373234","1381316","1382798","1403604","1405029","1409961","1418060","1424399","1428281","1440257","1443088","1444059","1444709","1444838","1449712","1453867","1455642","1461588","1463784","1480055","1513594","1514485","1519170","1521645","1522653","1523210","1528382","1529376","1534164","1537436","1542151","1544976","1545819","1547339","1550150","1552747","1557036","1558451","1562784","1564397","1569996","1574514","1576955","1583809","1583843","1594720","1594988","1595265","1596200","1599515","1599806","1604376","1604830","1607981","1615969","1616032","1617737","1621994","1623235","1624592","1624818","1625205","1632248","1632604","1639937","1642571","1643018","1644686","1645467","1648281","1663189","1672987","1675293","1685850","1690195","1690582","1701802","1705183","1707401","1711521","1713015","1716970","1721375","1722055","1741291","1756129","1769499","1770454","1771931","1779295","1780160","1784565","1785428","1790034","1793785","1815217","1821452","1824099","1827095","1830596","1837273","1840176","1841496","1841510","1850088","1853369","1853567","1857744","1860888","1861582","1864491","1865614","1865755","1867864","1870366","1870452","1872934","1873490","1874922","1876371","1879353","1880870","1880915","1882327","1883596","1884302","1887242","1895423","1896863","1901521","1905530","1913794","1920417","1921594","1925560","1929462","1944994","1948247","1951650","1952800","1956521","1957682","1958308","1962838","1965075","1966160","1967344","1968184","1971830","1974331","1977665","1981152","1986948","1990132","1994793","1998809","1999753","2001015","2001621","2005208","2006558","2007373","2009144","2009848","2010438","2012693","2013134","2013438","2014039","2014706","2015029","2016858","2016943","2018543","2020295","2020991","2023180","2026909","2027931","2031381","2031553","2033986","2035470","2036982","2038773","2043246","2047176","2048312","2048355","2050028","2050939","2054996","2056132","2060608","2065939","2066038","2067510","2068198","2069746","2070052","2074560","2077586","2078430","2078587","2079229","2080437","2082453","2083166","2087514","2088458","2088623","2089579","2097361","2097793","2098881","2099743","2102231","2104006","2104735","2106093","2106254","2106407","2107631","2110373","2110891","2112841","2113213","2113660","2113698","2114440","2115371","2116330","2118588","2118731","2119023","2123254","2124302","2126429","2128128","2128481","2128845","2129194","2131387","2133422","2133452","2135154","2138593","2143087","2144163","2144773","2148804","2150200","2151283","2155018","2155697","2156450","2156612","2156724","2156884","2157420","2158593","2161801","2162657","2164173","2166795","2167054","2167092","2169355","2169765","2173158","2174978","2175870","2176530","2176544","2179139","2182628","2185405","2187210","2187758","2192688","2194840","2197532","2197653","2197675","2199764","2200334","2201152","2205783","2206246","2212455","2214851","2216434","2216723","2217088","2219965","2223106","2223878","2224405","2224491","2226777","2232017","2232385","2232474","2233184","2233462","2234175","2236263","2241143","2241855","2242309","2245352","2247620","2254004","2254887","2256506","2256846","2268511","2268574","2269893","2269969","2270053","2270765","2271465","2273376","2275419","2276962","2285697","2286521","2287159","2289022","2294904","2297671","2298376","2298766","2301103","2301439","2308983","2310186","2311181","2312202","2313936","2316237","2317576","2317699","2317895","2318883","2319362","2322640","2325363","2327218","2327491","2329989","2330104","2334792","2336405","2336567","2338209","2340613","2346110","2349177","2350522","2352055","2355231","2355530","2356929","2361483","2361633","2367010","2372549","2372902","2382312","2383326","2383855","2384459","2387478","2390027","2391539","2392381","2393525","2406770","2407528","2412186","2413505","2415026","2415385","2421315","2423100","2425843","2427703","2428285","2432569","2441182","2441394","2441901","2444144","2452799","2454577","2455413","2457103","2457750","2461153","2462105","2464317","2465851","2466211","2467883","2469114","2472599","2474738","2477871","2478371","2478831","2478904","2479416","2480891","2481342","2482452","2483085","2484086","2485197","2486334","2487408","2487783","2487947","2487976","2488170","2489029","2490956","2491889","2493937","2496067","2498375","2501669","2502785","2509529","2512992","2517592","2518497","2519507","2519907","2520147","2521146","2523178","2527964","2528533","2529245","2531705","2532040","2533604","2534256","2536595","2539580","2545851","2546369","2548357","2549702","2549859","2549985","2555395","2557987","2564085","2565380","2571819","2572467","2574671","2576929","2576997","2577891","2579797","2579876","2584072","2585769","2587524","2587915","2590792","2592901","2593472","2594187","2594918","2596037","2598727","2598903","2601735","2601884","2604322","2607483","2609400","2609699","2609771","2611033","2614483","2615468","2616499","2618590","2619698","2620098","2620396","2623414","2626092","2628303","2629635","2630960","2635515","2635620","2636710","2637325","2638496","2639705","2640068","2640357","2640597","2647532","2649236","2650418","2653459","2653501","2654059","2655243","2655944","2656923","2658902","2661013","2661213","2661379","2662125","2662468","2662865","2663093","2668051","2670861","2670953","2676012","2676506","2676878","2676923","2677539","2677965","2678058","2681712","2682050","2682859","2683805","2684664","2685803","2689349","2690655","2691036","2694316","2695562","2696487","2696710","2696796","2699010","2699086","2699194","2699283","2699507","2700525","2700933","2700986","2707560","2709605","2712962","2717340","2718395","2719034","2720731","2721844","2722673","2723508","2724916","2725521","2726588","2727286","2727944","2728280","2729214","2735358","2735370","2735737","2735937","2736489","2736573","2738557","2739861","2742151","2742731","2743047","2744031","2744348","2744382","2744783","2744977","2745255","2745843","2745881","2747763","2749598","2750601","2751017","2751200","2751205","2751814","2753562","2756375","2756597","2757277","2758734","2760106","2761067","2761540","2761960","2762105","2764272","2765332","2765801","2766222","2767766","2768916","2769130","2769349","2769462","2772598","2774660","2775916","2776739","2778386","2778904","2779816","2779938","2780142","2781369","2782343","2783460","2784737","2784817","2785247","2787076","2790199","2790506","2790976","2792005","2793034","2796041","2797641","2799302","2800533","2801163","2801648","2802229","2802242","2802792","2803301","2804837","2805009","2805659","2807682","2809005","2809809","2811666","2814385","2816503","2816574","2816884","2819025","2819815","2820716","2822161","2822330","2822926","2824542","2825742","2825765","2826203","2826690","2826991","2828053","2828629","2831313","2833908","2835686","2836876","2837388","2837805","2841901","2843961","2844703","2847007","2847234","2847239","2847394","2848109","2849544","2852359","2853517","2853584","2856796","2857684","2858022","2859459","2860928","2862657","2863166","2864900","2866181","2869348","2870999","2871251","2871891","2872546","2872740","2873223","2875154","2875380","2875675","2877300","2877622","2881570","2882859","2882976","2883156","2885518","2886288","2886640","2888361","2888400","2890344","2892313","2892456","2892626","2892903","2894696","2899416","2899741","2900793","2901962","2903698","2905255","2907629","2908770","2909948","2910486","2912590","2912634","2913899","2914803","2916129","2916693","2916924","2917438","2918883","2922764","2923589","2924676","2926044","2927072","2930894","2931007","2931516","2935604","2935609","2938249","2939134","2941854","2947006","2948723","2949504","2950355","2950610","2954409","2956511","2956533","2957842","2960187","2961418","2961691","2964082","2964451","2965491","2965770","2966463","2966490","2969229","2971046","2972661","2978602","2980931","2984213","2984372","2984709","2985010","2989739","2989960","2993874","2995877","3004651","3006714","3007595","3007771","3011336","3013923","3014835","3016153","3016222","3019429","3019842","3020338","3022432","3025099","3028865","3030493","3031938","3033237","3033662","3034056","3035535","3036673","3036842","3043470"]

function highlight_members(responseText) {
  const profile_links = document.querySelectorAll('UL.user-info-list-wrap A.user.name')
  profile_links.forEach(link => {
    const userID = link.href.split('XID=')[1]
    if (re_members.includes(userID)) link.parentElement.classList.add('bluehighlite')
  })
}

$( document ).ajaxComplete(function(event, jqXHR, ajaxObj) {
  if (ajaxObj.url && ajaxObj.url.includes('hospitalview.php')) highlight_members(jqXHR.responseText)
})