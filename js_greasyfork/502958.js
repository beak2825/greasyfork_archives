// ==UserScript==
// @name		ZROJ Better!
// @namespace	http://tampermonkey.net/
// @version		0.10.1.0
// @description	++RP
// @author		PHX
// @license		GNU GPLv3

// @match		http://zhengruioi.com/*
// @match		http://www.zhengruioi.com/*
// @match		http://106.14.122.107/*
// @icon		http://zhengruioi.com/pictures/UOJ_small.png

// @grant		GM_log
// @grant		GM_openInTab
// @grant		GM_registerMenuCommand
// @grant		GM_getValue
// @grant		GM_setValue
// @grant		GM_listValues
// @grant		GM_deleteValue
// @grant		GM_setClipboard

// @require https://code.highcharts.com/highcharts.js


// @downloadURL https://update.greasyfork.org/scripts/502958/ZROJ%20Better%21.user.js
// @updateURL https://update.greasyfork.org/scripts/502958/ZROJ%20Better%21.meta.js
// ==/UserScript==

// 要查看该插件的正文部分，请跳转到约 2530 行！

// while (!document.body?.style) {
// 	setTimeout(function () {}, 25);
// }

// if (document.body?.style) {
// 	document.body.style.opacity = 0;
// 	for (let i = 1; i <= 10; ++i) {
// 		setTimeout(function () {
// 			document.body.style.opacity = i / 10;
// 		}, i * 33);
// 	}
// }

// <!-------------------------------------------------------------- Begin: 引用 marked ---------------------------------------------------------->
// <!-------------------------------------------------------------- 源码地址：https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js ---------------------------------------------------------->

/**
 * marked v14.0.0 - a markdown parser
 * Copyright (c) 2011-2024, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

/**
 * Gets the original marked default options.
 */
function _getDefaults() {
	return {
		async: false,
		breaks: false,
		extensions: null,
		gfm: true,
		hooks: null,
		pedantic: false,
		renderer: null,
		silent: false,
		tokenizer: null,
		walkTokens: null,
	};
}
let _defaults = _getDefaults();
function changeDefaults(newDefaults) {
	_defaults = newDefaults;
}

/**
 * Helpers
 */
const escapeTest = /[&<>"']/;
const escapeReplace = new RegExp(escapeTest.source, 'g');
const escapeTestNoEncode = /[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/;
const escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');
const escapeReplacements = {
	'&': '&amp;',
	'<': '&lt;',
	'>': '&gt;',
	'"': '&quot;',
	"'": '&#39;',
};
const getEscapeReplacement = (ch) => escapeReplacements[ch];
function escape$1(html, encode) {
	if (encode) {
		if (escapeTest.test(html)) {
			return html.replace(escapeReplace, getEscapeReplacement);
		}
	}
	else {
		if (escapeTestNoEncode.test(html)) {
			return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
		}
	}
	return html;
}
const caret = /(^|[^\[])\^/g;
function edit(regex, opt) {
	let source = typeof regex === 'string' ? regex : regex.source;
	opt = opt || '';
	const obj = {
		replace: (name, val) => {
			let valSource = typeof val === 'string' ? val : val.source;
			valSource = valSource.replace(caret, '$1');
			source = source.replace(name, valSource);
			return obj;
		},
		getRegex: () => {
			return new RegExp(source, opt);
		},
	};
	return obj;
}
function cleanUrl(href) {
	try {
		href = encodeURI(href).replace(/%25/g, '%');
	}
	catch {
		return null;
	}
	return href;
}
const noopTest = { exec: () => null };
function splitCells(tableRow, count) {
	// ensure that every cell-delimiting pipe has a space
	// before it to distinguish it from an escaped pipe
	const row = tableRow.replace(/\|/g, (match, offset, str) => {
		let escaped = false;
		let curr = offset;
		while (--curr >= 0 && str[curr] === '\\')
			escaped = !escaped;
		if (escaped) {
			// odd number of slashes means | is escaped
			// so we leave it alone
			return '|';
		}
		else {
			// add space before unescaped |
			return ' |';
		}
	}), cells = row.split(/ \|/);
	let i = 0;
	// First/last cell in a row cannot be empty if it has no leading/trailing pipe
	if (!cells[0].trim()) {
		cells.shift();
	}
	if (cells.length > 0 && !cells[cells.length - 1].trim()) {
		cells.pop();
	}
	if (count) {
		if (cells.length > count) {
			cells.splice(count);
		}
		else {
			while (cells.length < count)
				cells.push('');
		}
	}
	for (; i < cells.length; i++) {
		// leading or trailing whitespace is ignored per the gfm spec
		cells[i] = cells[i].trim().replace(/\\\|/g, '|');
	}
	return cells;
}
/**
 * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
 * /c*$/ is vulnerable to REDOS.
 *
 * @param str
 * @param c
 * @param invert Remove suffix of non-c chars instead. Default falsey.
 */
function rtrim(str, c, invert) {
	const l = str.length;
	if (l === 0) {
		return '';
	}
	// Length of suffix matching the invert condition.
	let suffLen = 0;
	// Step left until we fail to match the invert condition.
	while (suffLen < l) {
		const currChar = str.charAt(l - suffLen - 1);
		if (currChar === c && !invert) {
			suffLen++;
		}
		else if (currChar !== c && invert) {
			suffLen++;
		}
		else {
			break;
		}
	}
	return str.slice(0, l - suffLen);
}
function findClosingBracket(str, b) {
	if (str.indexOf(b[1]) === -1) {
		return -1;
	}
	let level = 0;
	for (let i = 0; i < str.length; i++) {
		if (str[i] === '\\') {
			i++;
		}
		else if (str[i] === b[0]) {
			level++;
		}
		else if (str[i] === b[1]) {
			level--;
			if (level < 0) {
				return i;
			}
		}
	}
	return -1;
}

function outputLink(cap, link, raw, lexer) {
	const href = link.href;
	const title = link.title ? escape$1(link.title) : null;
	const text = cap[1].replace(/\\([\[\]])/g, '$1');
	if (cap[0].charAt(0) !== '!') {
		lexer.state.inLink = true;
		const token = {
			type: 'link',
			raw,
			href,
			title,
			text,
			tokens: lexer.inlineTokens(text),
		};
		lexer.state.inLink = false;
		return token;
	}
	return {
		type: 'image',
		raw,
		href,
		title,
		text: escape$1(text),
	};
}
function indentCodeCompensation(raw, text) {
	const matchIndentToCode = raw.match(/^(\s+)(?:```)/);
	if (matchIndentToCode === null) {
		return text;
	}
	const indentToCode = matchIndentToCode[1];
	return text
		.split('\n')
		.map(node => {
		const matchIndentInNode = node.match(/^\s+/);
		if (matchIndentInNode === null) {
			return node;
		}
		const [indentInNode] = matchIndentInNode;
		if (indentInNode.length >= indentToCode.length) {
			return node.slice(indentToCode.length);
		}
		return node;
	})
		.join('\n');
}
/**
 * Tokenizer
 */
class _Tokenizer {
	options;
	rules; // set by the lexer
	lexer; // set by the lexer
	constructor(options) {
		this.options = options || _defaults;
	}
	space(src) {
		const cap = this.rules.block.newline.exec(src);
		if (cap && cap[0].length > 0) {
			return {
				type: 'space',
				raw: cap[0],
			};
		}
	}
	code(src) {
		const cap = this.rules.block.code.exec(src);
		if (cap) {
			const text = cap[0].replace(/^ {1,4}/gm, '');
			return {
				type: 'code',
				raw: cap[0],
				codeBlockStyle: 'indented',
				text: !this.options.pedantic
					? rtrim(text, '\n')
					: text,
			};
		}
	}
	fences(src) {
		const cap = this.rules.block.fences.exec(src);
		if (cap) {
			const raw = cap[0];
			const text = indentCodeCompensation(raw, cap[3] || '');
			return {
				type: 'code',
				raw,
				lang: cap[2] ? cap[2].trim().replace(this.rules.inline.anyPunctuation, '$1') : cap[2],
				text,
			};
		}
	}
	heading(src) {
		const cap = this.rules.block.heading.exec(src);
		if (cap) {
			let text = cap[2].trim();
			// remove trailing #s
			if (/#$/.test(text)) {
				const trimmed = rtrim(text, '#');
				if (this.options.pedantic) {
					text = trimmed.trim();
				}
				else if (!trimmed || / $/.test(trimmed)) {
					// CommonMark requires space before trailing #s
					text = trimmed.trim();
				}
			}
			return {
				type: 'heading',
				raw: cap[0],
				depth: cap[1].length,
				text,
				tokens: this.lexer.inline(text),
			};
		}
	}
	hr(src) {
		const cap = this.rules.block.hr.exec(src);
		if (cap) {
			return {
				type: 'hr',
				raw: rtrim(cap[0], '\n'),
			};
		}
	}
	blockquote(src) {
		const cap = this.rules.block.blockquote.exec(src);
		if (cap) {
			let lines = rtrim(cap[0], '\n').split('\n');
			let raw = '';
			let text = '';
			const tokens = [];
			while (lines.length > 0) {
				let inBlockquote = false;
				const currentLines = [];
				let i;
				for (i = 0; i < lines.length; i++) {
					// get lines up to a continuation
					if (/^ {0,3}>/.test(lines[i])) {
						currentLines.push(lines[i]);
						inBlockquote = true;
					}
					else if (!inBlockquote) {
						currentLines.push(lines[i]);
					}
					else {
						break;
					}
				}
				lines = lines.slice(i);
				const currentRaw = currentLines.join('\n');
				const currentText = currentRaw
					// precede setext continuation with 4 spaces so it isn't a setext
					.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g, '\n    $1')
					.replace(/^ {0,3}>[ \t]?/gm, '');
				raw = raw ? `${raw}\n${currentRaw}` : currentRaw;
				text = text ? `${text}\n${currentText}` : currentText;
				// parse blockquote lines as top level tokens
				// merge paragraphs if this is a continuation
				const top = this.lexer.state.top;
				this.lexer.state.top = true;
				this.lexer.blockTokens(currentText, tokens, true);
				this.lexer.state.top = top;
				// if there is no continuation then we are done
				if (lines.length === 0) {
					break;
				}
				const lastToken = tokens[tokens.length - 1];
				if (lastToken?.type === 'code') {
					// blockquote continuation cannot be preceded by a code block
					break;
				}
				else if (lastToken?.type === 'blockquote') {
					// include continuation in nested blockquote
					const oldToken = lastToken;
					const newText = oldToken.raw + '\n' + lines.join('\n');
					const newToken = this.blockquote(newText);
					tokens[tokens.length - 1] = newToken;
					raw = raw.substring(0, raw.length - oldToken.raw.length) + newToken.raw;
					text = text.substring(0, text.length - oldToken.text.length) + newToken.text;
					break;
				}
				else if (lastToken?.type === 'list') {
					// include continuation in nested list
					const oldToken = lastToken;
					const newText = oldToken.raw + '\n' + lines.join('\n');
					const newToken = this.list(newText);
					tokens[tokens.length - 1] = newToken;
					raw = raw.substring(0, raw.length - lastToken.raw.length) + newToken.raw;
					text = text.substring(0, text.length - oldToken.raw.length) + newToken.raw;
					lines = newText.substring(tokens[tokens.length - 1].raw.length).split('\n');
					continue;
				}
			}
			return {
				type: 'blockquote',
				raw,
				tokens,
				text,
			};
		}
	}
	list(src) {
		let cap = this.rules.block.list.exec(src);
		if (cap) {
			let bull = cap[1].trim();
			const isordered = bull.length > 1;
			const list = {
				type: 'list',
				raw: '',
				ordered: isordered,
				start: isordered ? +bull.slice(0, -1) : '',
				loose: false,
				items: [],
			};
			bull = isordered ? `\\d{1,9}\\${bull.slice(-1)}` : `\\${bull}`;
			if (this.options.pedantic) {
				bull = isordered ? bull : '[*+-]';
			}
			// Get next list item
			const itemRegex = new RegExp(`^( {0,3}${bull})((?:[\t ][^\\n]*)?(?:\\n|$))`);
			let endsWithBlankLine = false;
			// Check if current bullet point can start a new List Item
			while (src) {
				let endEarly = false;
				let raw = '';
				let itemContents = '';
				if (!(cap = itemRegex.exec(src))) {
					break;
				}
				if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)
					break;
				}
				raw = cap[0];
				src = src.substring(raw.length);
				let line = cap[2].split('\n', 1)[0].replace(/^\t+/, (t) => ' '.repeat(3 * t.length));
				let nextLine = src.split('\n', 1)[0];
				let blankLine = !line.trim();
				let indent = 0;
				if (this.options.pedantic) {
					indent = 2;
					itemContents = line.trimStart();
				}
				else if (blankLine) {
					indent = cap[1].length + 1;
				}
				else {
					indent = cap[2].search(/[^ ]/); // Find first non-space char
					indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent
					itemContents = line.slice(indent);
					indent += cap[1].length;
				}
				if (blankLine && /^ *$/.test(nextLine)) { // Items begin with at most one blank line
					raw += nextLine + '\n';
					src = src.substring(nextLine.length + 1);
					endEarly = true;
				}
				if (!endEarly) {
					const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`);
					const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`);
					const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\`\`\`|~~~)`);
					const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);
					// Check if following lines should be included in List Item
					while (src) {
						const rawLine = src.split('\n', 1)[0];
						nextLine = rawLine;
						// Re-align to follow commonmark nesting rules
						if (this.options.pedantic) {
							nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');
						}
						// End list item if found code fences
						if (fencesBeginRegex.test(nextLine)) {
							break;
						}
						// End list item if found start of new heading
						if (headingBeginRegex.test(nextLine)) {
							break;
						}
						// End list item if found start of new bullet
						if (nextBulletRegex.test(nextLine)) {
							break;
						}
						// Horizontal rule found
						if (hrRegex.test(src)) {
							break;
						}
						if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) { // Dedent if possible
							itemContents += '\n' + nextLine.slice(indent);
						}
						else {
							// not enough indentation
							if (blankLine) {
								break;
							}
							// paragraph continuation unless last line was a different block level element
							if (line.search(/[^ ]/) >= 4) { // indented code block
								break;
							}
							if (fencesBeginRegex.test(line)) {
								break;
							}
							if (headingBeginRegex.test(line)) {
								break;
							}
							if (hrRegex.test(line)) {
								break;
							}
							itemContents += '\n' + nextLine;
						}
						if (!blankLine && !nextLine.trim()) { // Check if current line is blank
							blankLine = true;
						}
						raw += rawLine + '\n';
						src = src.substring(rawLine.length + 1);
						line = nextLine.slice(indent);
					}
				}
				if (!list.loose) {
					// If the previous item ended with a blank line, the list is loose
					if (endsWithBlankLine) {
						list.loose = true;
					}
					else if (/\n *\n *$/.test(raw)) {
						endsWithBlankLine = true;
					}
				}
				let istask = null;
				let ischecked;
				// Check for task list items
				if (this.options.gfm) {
					istask = /^\[[ xX]\] /.exec(itemContents);
					if (istask) {
						ischecked = istask[0] !== '[ ] ';
						itemContents = itemContents.replace(/^\[[ xX]\] +/, '');
					}
				}
				list.items.push({
					type: 'list_item',
					raw,
					task: !!istask,
					checked: ischecked,
					loose: false,
					text: itemContents,
					tokens: [],
				});
				list.raw += raw;
			}
			// Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic
			list.items[list.items.length - 1].raw = list.items[list.items.length - 1].raw.trimEnd();
			list.items[list.items.length - 1].text = list.items[list.items.length - 1].text.trimEnd();
			list.raw = list.raw.trimEnd();
			// Item child tokens handled here at end because we needed to have the final item to trim it first
			for (let i = 0; i < list.items.length; i++) {
				this.lexer.state.top = false;
				list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);
				if (!list.loose) {
					// Check if list should be loose
					const spacers = list.items[i].tokens.filter(t => t.type === 'space');
					const hasMultipleLineBreaks = spacers.length > 0 && spacers.some(t => /\n.*\n/.test(t.raw));
					list.loose = hasMultipleLineBreaks;
				}
			}
			// Set all items to loose if list is loose
			if (list.loose) {
				for (let i = 0; i < list.items.length; i++) {
					list.items[i].loose = true;
				}
			}
			return list;
		}
	}
	html(src) {
		const cap = this.rules.block.html.exec(src);
		if (cap) {
			const token = {
				type: 'html',
				block: true,
				raw: cap[0],
				pre: cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style',
				text: cap[0],
			};
			return token;
		}
	}
	def(src) {
		const cap = this.rules.block.def.exec(src);
		if (cap) {
			const tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
			const href = cap[2] ? cap[2].replace(/^<(.*)>$/, '$1').replace(this.rules.inline.anyPunctuation, '$1') : '';
			const title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline.anyPunctuation, '$1') : cap[3];
			return {
				type: 'def',
				tag,
				raw: cap[0],
				href,
				title,
			};
		}
	}
	table(src) {
		const cap = this.rules.block.table.exec(src);
		if (!cap) {
			return;
		}
		if (!/[:|]/.test(cap[2])) {
			// delimiter row must have a pipe (|) or colon (:) otherwise it is a setext heading
			return;
		}
		const headers = splitCells(cap[1]);
		const aligns = cap[2].replace(/^\||\| *$/g, '').split('|');
		const rows = cap[3] && cap[3].trim() ? cap[3].replace(/\n[ \t]*$/, '').split('\n') : [];
		const item = {
			type: 'table',
			raw: cap[0],
			header: [],
			align: [],
			rows: [],
		};
		if (headers.length !== aligns.length) {
			// header and align columns must be equal, rows can be different.
			return;
		}
		for (const align of aligns) {
			if (/^ *-+: *$/.test(align)) {
				item.align.push('right');
			}
			else if (/^ *:-+: *$/.test(align)) {
				item.align.push('center');
			}
			else if (/^ *:-+ *$/.test(align)) {
				item.align.push('left');
			}
			else {
				item.align.push(null);
			}
		}
		for (let i = 0; i < headers.length; i++) {
			item.header.push({
				text: headers[i],
				tokens: this.lexer.inline(headers[i]),
				header: true,
				align: item.align[i],
			});
		}
		for (const row of rows) {
			item.rows.push(splitCells(row, item.header.length).map((cell, i) => {
				return {
					text: cell,
					tokens: this.lexer.inline(cell),
					header: false,
					align: item.align[i],
				};
			}));
		}
		return item;
	}
	lheading(src) {
		const cap = this.rules.block.lheading.exec(src);
		if (cap) {
			return {
				type: 'heading',
				raw: cap[0],
				depth: cap[2].charAt(0) === '=' ? 1 : 2,
				text: cap[1],
				tokens: this.lexer.inline(cap[1]),
			};
		}
	}
	paragraph(src) {
		const cap = this.rules.block.paragraph.exec(src);
		if (cap) {
			const text = cap[1].charAt(cap[1].length - 1) === '\n'
				? cap[1].slice(0, -1)
				: cap[1];
			return {
				type: 'paragraph',
				raw: cap[0],
				text,
				tokens: this.lexer.inline(text),
			};
		}
	}
	text(src) {
		const cap = this.rules.block.text.exec(src);
		if (cap) {
			return {
				type: 'text',
				raw: cap[0],
				text: cap[0],
				tokens: this.lexer.inline(cap[0]),
			};
		}
	}
	escape(src) {
		const cap = this.rules.inline.escape.exec(src);
		if (cap) {
			return {
				type: 'escape',
				raw: cap[0],
				text: escape$1(cap[1]),
			};
		}
	}
	tag(src) {
		const cap = this.rules.inline.tag.exec(src);
		if (cap) {
			if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {
				this.lexer.state.inLink = true;
			}
			else if (this.lexer.state.inLink && /^<\/a>/i.test(cap[0])) {
				this.lexer.state.inLink = false;
			}
			if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
				this.lexer.state.inRawBlock = true;
			}
			else if (this.lexer.state.inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
				this.lexer.state.inRawBlock = false;
			}
			return {
				type: 'html',
				raw: cap[0],
				inLink: this.lexer.state.inLink,
				inRawBlock: this.lexer.state.inRawBlock,
				block: false,
				text: cap[0],
			};
		}
	}
	link(src) {
		const cap = this.rules.inline.link.exec(src);
		if (cap) {
			const trimmedUrl = cap[2].trim();
			if (!this.options.pedantic && /^</.test(trimmedUrl)) {
				// commonmark requires matching angle brackets
				if (!(/>$/.test(trimmedUrl))) {
					return;
				}
				// ending angle bracket cannot be escaped
				const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\');
				if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {
					return;
				}
			}
			else {
				// find closing parenthesis
				const lastParenIndex = findClosingBracket(cap[2], '()');
				if (lastParenIndex > -1) {
					const start = cap[0].indexOf('!') === 0 ? 5 : 4;
					const linkLen = start + cap[1].length + lastParenIndex;
					cap[2] = cap[2].substring(0, lastParenIndex);
					cap[0] = cap[0].substring(0, linkLen).trim();
					cap[3] = '';
				}
			}
			let href = cap[2];
			let title = '';
			if (this.options.pedantic) {
				// split pedantic href and title
				const link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);
				if (link) {
					href = link[1];
					title = link[3];
				}
			}
			else {
				title = cap[3] ? cap[3].slice(1, -1) : '';
			}
			href = href.trim();
			if (/^</.test(href)) {
				if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {
					// pedantic allows starting angle bracket without ending angle bracket
					href = href.slice(1);
				}
				else {
					href = href.slice(1, -1);
				}
			}
			return outputLink(cap, {
				href: href ? href.replace(this.rules.inline.anyPunctuation, '$1') : href,
				title: title ? title.replace(this.rules.inline.anyPunctuation, '$1') : title,
			}, cap[0], this.lexer);
		}
	}
	reflink(src, links) {
		let cap;
		if ((cap = this.rules.inline.reflink.exec(src))
			|| (cap = this.rules.inline.nolink.exec(src))) {
			const linkString = (cap[2] || cap[1]).replace(/\s+/g, ' ');
			const link = links[linkString.toLowerCase()];
			if (!link) {
				const text = cap[0].charAt(0);
				return {
					type: 'text',
					raw: text,
					text,
				};
			}
			return outputLink(cap, link, cap[0], this.lexer);
		}
	}
	emStrong(src, maskedSrc, prevChar = '') {
		let match = this.rules.inline.emStrongLDelim.exec(src);
		if (!match)
			return;
		// _ can't be between two alphanumerics. \p{L}\p{N} includes non-english alphabet/numbers as well
		if (match[3] && prevChar.match(/[\p{L}\p{N}]/u))
			return;
		const nextChar = match[1] || match[2] || '';
		if (!nextChar || !prevChar || this.rules.inline.punctuation.exec(prevChar)) {
			// unicode Regex counts emoji as 1 char; spread into array for proper count (used multiple times below)
			const lLength = [...match[0]].length - 1;
			let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;
			const endReg = match[0][0] === '*' ? this.rules.inline.emStrongRDelimAst : this.rules.inline.emStrongRDelimUnd;
			endReg.lastIndex = 0;
			// Clip maskedSrc to same section of string as src (move to lexer?)
			maskedSrc = maskedSrc.slice(-1 * src.length + lLength);
			while ((match = endReg.exec(maskedSrc)) != null) {
				rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];
				if (!rDelim)
					continue; // skip single * in __abc*abc__
				rLength = [...rDelim].length;
				if (match[3] || match[4]) { // found another Left Delim
					delimTotal += rLength;
					continue;
				}
				else if (match[5] || match[6]) { // either Left or Right Delim
					if (lLength % 3 && !((lLength + rLength) % 3)) {
						midDelimTotal += rLength;
						continue; // CommonMark Emphasis Rules 9-10
					}
				}
				delimTotal -= rLength;
				if (delimTotal > 0)
					continue; // Haven't found enough closing delimiters
				// Remove extra characters. *a*** -> *a*
				rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);
				// char length can be >1 for unicode characters;
				const lastCharLength = [...match[0]][0].length;
				const raw = src.slice(0, lLength + match.index + lastCharLength + rLength);
				// Create `em` if smallest delimiter has odd char count. *a***
				if (Math.min(lLength, rLength) % 2) {
					const text = raw.slice(1, -1);
					return {
						type: 'em',
						raw,
						text,
						tokens: this.lexer.inlineTokens(text),
					};
				}
				// Create 'strong' if smallest delimiter has even char count. **a***
				const text = raw.slice(2, -2);
				return {
					type: 'strong',
					raw,
					text,
					tokens: this.lexer.inlineTokens(text),
				};
			}
		}
	}
	codespan(src) {
		const cap = this.rules.inline.code.exec(src);
		if (cap) {
			let text = cap[2].replace(/\n/g, ' ');
			const hasNonSpaceChars = /[^ ]/.test(text);
			const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);
			if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
				text = text.substring(1, text.length - 1);
			}
			text = escape$1(text, true);
			return {
				type: 'codespan',
				raw: cap[0],
				text,
			};
		}
	}
	br(src) {
		const cap = this.rules.inline.br.exec(src);
		if (cap) {
			return {
				type: 'br',
				raw: cap[0],
			};
		}
	}
	del(src) {
		const cap = this.rules.inline.del.exec(src);
		if (cap) {
			return {
				type: 'del',
				raw: cap[0],
				text: cap[2],
				tokens: this.lexer.inlineTokens(cap[2]),
			};
		}
	}
	autolink(src) {
		const cap = this.rules.inline.autolink.exec(src);
		if (cap) {
			let text, href;
			if (cap[2] === '@') {
				text = escape$1(cap[1]);
				href = 'mailto:' + text;
			}
			else {
				text = escape$1(cap[1]);
				href = text;
			}
			return {
				type: 'link',
				raw: cap[0],
				text,
				href,
				tokens: [
					{
						type: 'text',
						raw: text,
						text,
					},
				],
			};
		}
	}
	url(src) {
		let cap;
		if (cap = this.rules.inline.url.exec(src)) {
			let text, href;
			if (cap[2] === '@') {
				text = escape$1(cap[0]);
				href = 'mailto:' + text;
			}
			else {
				// do extended autolink path validation
				let prevCapZero;
				do {
					prevCapZero = cap[0];
					cap[0] = this.rules.inline._backpedal.exec(cap[0])?.[0] ?? '';
				} while (prevCapZero !== cap[0]);
				text = escape$1(cap[0]);
				if (cap[1] === 'www.') {
					href = 'http://' + cap[0];
				}
				else {
					href = cap[0];
				}
			}
			return {
				type: 'link',
				raw: cap[0],
				text,
				href,
				tokens: [
					{
						type: 'text',
						raw: text,
						text,
					},
				],
			};
		}
	}
	inlineText(src) {
		const cap = this.rules.inline.text.exec(src);
		if (cap) {
			let text;
			if (this.lexer.state.inRawBlock) {
				text = cap[0];
			}
			else {
				text = escape$1(cap[0]);
			}
			return {
				type: 'text',
				raw: cap[0],
				text,
			};
		}
	}
}

/**
 * Block-Level Grammar
 */
const newline = /^(?: *(?:\n|$))+/;
const blockCode = /^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/;
const fences = /^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/;
const hr = /^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/;
const heading = /^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/;
const bullet = /(?:[*+-]|\d{1,9}[.)])/;
const lheading = edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/)
	.replace(/bull/g, bullet) // lists can interrupt
	.replace(/blockCode/g, / {4}/) // indented code blocks can interrupt
	.replace(/fences/g, / {0,3}(?:`{3,}|~{3,})/) // fenced code blocks can interrupt
	.replace(/blockquote/g, / {0,3}>/) // blockquote can interrupt
	.replace(/heading/g, / {0,3}#{1,6}/) // ATX heading can interrupt
	.replace(/html/g, / {0,3}<[^\n>]+>\n/) // block html can interrupt
	.getRegex();
const _paragraph = /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/;
const blockText = /^[^\n]+/;
const _blockLabel = /(?!\s*\])(?:\\.|[^\[\]\\])+/;
const def = edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/)
	.replace('label', _blockLabel)
	.replace('title', /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/)
	.getRegex();
const list = edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/)
	.replace(/bull/g, bullet)
	.getRegex();
const _tag = 'address|article|aside|base|basefont|blockquote|body|caption'
	+ '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'
	+ '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'
	+ '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'
	+ '|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title'
	+ '|tr|track|ul';
const _comment = /<!--(?:-?>|[\s\S]*?(?:-->|$))/;
const html = edit('^ {0,3}(?:' // optional indentation
	+ '<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
	+ '|comment[^\\n]*(\\n+|$)' // (2)
	+ '|<\\?[\\s\\S]*?(?:\\?>\\n*|$)' // (3)
	+ '|<![A-Z][\\s\\S]*?(?:>\\n*|$)' // (4)
	+ '|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)' // (5)
	+ '|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (6)
	+ '|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (7) open tag
	+ '|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)' // (7) closing tag
	+ ')', 'i')
	.replace('comment', _comment)
	.replace('tag', _tag)
	.replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/)
	.getRegex();
const paragraph = edit(_paragraph)
	.replace('hr', hr)
	.replace('heading', ' {0,3}#{1,6}(?:\\s|$)')
	.replace('|lheading', '') // setext headings don't interrupt commonmark paragraphs
	.replace('|table', '')
	.replace('blockquote', ' {0,3}>')
	.replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n')
	.replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
	.replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)')
	.replace('tag', _tag) // pars can be interrupted by type (6) html blocks
	.getRegex();
const blockquote = edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/)
	.replace('paragraph', paragraph)
	.getRegex();
/**
 * Normal Block Grammar
 */
const blockNormal = {
	blockquote,
	code: blockCode,
	def,
	fences,
	heading,
	hr,
	html,
	lheading,
	list,
	newline,
	paragraph,
	table: noopTest,
	text: blockText,
};
/**
 * GFM Block Grammar
 */
const gfmTable = edit('^ *([^\\n ].*)\\n' // Header
	+ ' {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)' // Align
	+ '(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)') // Cells
	.replace('hr', hr)
	.replace('heading', ' {0,3}#{1,6}(?:\\s|$)')
	.replace('blockquote', ' {0,3}>')
	.replace('code', ' {4}[^\\n]')
	.replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n')
	.replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
	.replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)')
	.replace('tag', _tag) // tables can be interrupted by type (6) html blocks
	.getRegex();
const blockGfm = {
	...blockNormal,
	table: gfmTable,
	paragraph: edit(_paragraph)
		.replace('hr', hr)
		.replace('heading', ' {0,3}#{1,6}(?:\\s|$)')
		.replace('|lheading', '') // setext headings don't interrupt commonmark paragraphs
		.replace('table', gfmTable) // interrupt paragraphs with table
		.replace('blockquote', ' {0,3}>')
		.replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n')
		.replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
		.replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)')
		.replace('tag', _tag) // pars can be interrupted by type (6) html blocks
		.getRegex(),
};
/**
 * Pedantic grammar (original John Gruber's loose markdown specification)
 */
const blockPedantic = {
	...blockNormal,
	html: edit('^ *(?:comment *(?:\\n|\\s*$)'
		+ '|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)' // closed tag
		+ '|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))')
		.replace('comment', _comment)
		.replace(/tag/g, '(?!(?:'
		+ 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'
		+ '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'
		+ '\\b)\\w+(?!:|[^\\w\\s@]*@)\\b')
		.getRegex(),
	def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
	heading: /^(#{1,6})(.*)(?:\n+|$)/,
	fences: noopTest, // fences not supported
	lheading: /^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,
	paragraph: edit(_paragraph)
		.replace('hr', hr)
		.replace('heading', ' *#{1,6} *[^\n]')
		.replace('lheading', lheading)
		.replace('|table', '')
		.replace('blockquote', ' {0,3}>')
		.replace('|fences', '')
		.replace('|list', '')
		.replace('|html', '')
		.replace('|tag', '')
		.getRegex(),
};
/**
 * Inline-Level Grammar
 */
const escape = /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/;
const inlineCode = /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/;
const br = /^( {2,}|\\)\n(?!\s*$)/;
const inlineText = /^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/;
// list of unicode punctuation marks, plus any missing characters from CommonMark spec
const _punctuation = '\\p{P}\\p{S}';
const punctuation = edit(/^((?![*_])[\spunctuation])/, 'u')
	.replace(/punctuation/g, _punctuation).getRegex();
// sequences em should skip over [title](link), `code`, <html>
const blockSkip = /\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;
const emStrongLDelim = edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/, 'u')
	.replace(/punct/g, _punctuation)
	.getRegex();
const emStrongRDelimAst = edit('^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)' // Skip orphan inside strong
	+ '|[^*]+(?=[^*])' // Consume to delim
	+ '|(?!\\*)[punct](\\*+)(?=[\\s]|$)' // (1) #*** can only be a Right Delimiter
	+ '|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)' // (2) a***#, a*** can only be a Right Delimiter
	+ '|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])' // (3) #***a, ***a can only be Left Delimiter
	+ '|[\\s](\\*+)(?!\\*)(?=[punct])' // (4) ***# can only be Left Delimiter
	+ '|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])' // (5) #***# can be either Left or Right Delimiter
	+ '|[^punct\\s](\\*+)(?=[^punct\\s])', 'gu') // (6) a***a can be either Left or Right Delimiter
	.replace(/punct/g, _punctuation)
	.getRegex();
// (6) Not allowed for _
const emStrongRDelimUnd = edit('^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)' // Skip orphan inside strong
	+ '|[^_]+(?=[^_])' // Consume to delim
	+ '|(?!_)[punct](_+)(?=[\\s]|$)' // (1) #___ can only be a Right Delimiter
	+ '|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)' // (2) a___#, a___ can only be a Right Delimiter
	+ '|(?!_)[punct\\s](_+)(?=[^punct\\s])' // (3) #___a, ___a can only be Left Delimiter
	+ '|[\\s](_+)(?!_)(?=[punct])' // (4) ___# can only be Left Delimiter
	+ '|(?!_)[punct](_+)(?!_)(?=[punct])', 'gu') // (5) #___# can be either Left or Right Delimiter
	.replace(/punct/g, _punctuation)
	.getRegex();
const anyPunctuation = edit(/\\([punct])/, 'gu')
	.replace(/punct/g, _punctuation)
	.getRegex();
const autolink = edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/)
	.replace('scheme', /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/)
	.replace('email', /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/)
	.getRegex();
const _inlineComment = edit(_comment).replace('(?:-->|$)', '-->').getRegex();
const tag = edit('^comment'
	+ '|^</[a-zA-Z][\\w:-]*\\s*>' // self-closing tag
	+ '|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>' // open tag
	+ '|^<\\?[\\s\\S]*?\\?>' // processing instruction, e.g. <?php ?>
	+ '|^<![a-zA-Z]+\\s[\\s\\S]*?>' // declaration, e.g. <!DOCTYPE html>
	+ '|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>') // CDATA section
	.replace('comment', _inlineComment)
	.replace('attribute', /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/)
	.getRegex();
const _inlineLabel = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
const link = edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/)
	.replace('label', _inlineLabel)
	.replace('href', /<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/)
	.replace('title', /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/)
	.getRegex();
const reflink = edit(/^!?\[(label)\]\[(ref)\]/)
	.replace('label', _inlineLabel)
	.replace('ref', _blockLabel)
	.getRegex();
const nolink = edit(/^!?\[(ref)\](?:\[\])?/)
	.replace('ref', _blockLabel)
	.getRegex();
const reflinkSearch = edit('reflink|nolink(?!\\()', 'g')
	.replace('reflink', reflink)
	.replace('nolink', nolink)
	.getRegex();
/**
 * Normal Inline Grammar
 */
const inlineNormal = {
	_backpedal: noopTest, // only used for GFM url
	anyPunctuation,
	autolink,
	blockSkip,
	br,
	code: inlineCode,
	del: noopTest,
	emStrongLDelim,
	emStrongRDelimAst,
	emStrongRDelimUnd,
	escape,
	link,
	nolink,
	punctuation,
	reflink,
	reflinkSearch,
	tag,
	text: inlineText,
	url: noopTest,
};
/**
 * Pedantic Inline Grammar
 */
const inlinePedantic = {
	...inlineNormal,
	link: edit(/^!?\[(label)\]\((.*?)\)/)
		.replace('label', _inlineLabel)
		.getRegex(),
	reflink: edit(/^!?\[(label)\]\s*\[([^\]]*)\]/)
		.replace('label', _inlineLabel)
		.getRegex(),
};
/**
 * GFM Inline Grammar
 */
const inlineGfm = {
	...inlineNormal,
	escape: edit(escape).replace('])', '~|])').getRegex(),
	url: edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/, 'i')
		.replace('email', /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/)
		.getRegex(),
	_backpedal: /(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,
	del: /^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
	text: /^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/,
};
/**
 * GFM + Line Breaks Inline Grammar
 */
const inlineBreaks = {
	...inlineGfm,
	br: edit(br).replace('{2,}', '*').getRegex(),
	text: edit(inlineGfm.text)
		.replace('\\b_', '\\b_| {2,}\\n')
		.replace(/\{2,\}/g, '*')
		.getRegex(),
};
/**
 * exports
 */
const block = {
	normal: blockNormal,
	gfm: blockGfm,
	pedantic: blockPedantic,
};
const inline = {
	normal: inlineNormal,
	gfm: inlineGfm,
	breaks: inlineBreaks,
	pedantic: inlinePedantic,
};

/**
 * Block Lexer
 */
class _Lexer {
	tokens;
	options;
	state;
	tokenizer;
	inlineQueue;
	constructor(options) {
		// TokenList cannot be created in one go
		this.tokens = [];
		this.tokens.links = Object.create(null);
		this.options = options || _defaults;
		this.options.tokenizer = this.options.tokenizer || new _Tokenizer();
		this.tokenizer = this.options.tokenizer;
		this.tokenizer.options = this.options;
		this.tokenizer.lexer = this;
		this.inlineQueue = [];
		this.state = {
			inLink: false,
			inRawBlock: false,
			top: true,
		};
		const rules = {
			block: block.normal,
			inline: inline.normal,
		};
		if (this.options.pedantic) {
			rules.block = block.pedantic;
			rules.inline = inline.pedantic;
		}
		else if (this.options.gfm) {
			rules.block = block.gfm;
			if (this.options.breaks) {
				rules.inline = inline.breaks;
			}
			else {
				rules.inline = inline.gfm;
			}
		}
		this.tokenizer.rules = rules;
	}
	/**
	 * Expose Rules
	 */
	static get rules() {
		return {
			block,
			inline,
		};
	}
	/**
	 * Static Lex Method
	 */
	static lex(src, options) {
		const lexer = new _Lexer(options);
		return lexer.lex(src);
	}
	/**
	 * Static Lex Inline Method
	 */
	static lexInline(src, options) {
		const lexer = new _Lexer(options);
		return lexer.inlineTokens(src);
	}
	/**
	 * Preprocessing
	 */
	lex(src) {
		src = src
			.replace(/\r\n|\r/g, '\n');
		this.blockTokens(src, this.tokens);
		for (let i = 0; i < this.inlineQueue.length; i++) {
			const next = this.inlineQueue[i];
			this.inlineTokens(next.src, next.tokens);
		}
		this.inlineQueue = [];
		return this.tokens;
	}
	blockTokens(src, tokens = [], lastParagraphClipped = false) {
		if (this.options.pedantic) {
			src = src.replace(/\t/g, '    ').replace(/^ +$/gm, '');
		}
		else {
			src = src.replace(/^( *)(\t+)/gm, (_, leading, tabs) => {
				return leading + '    '.repeat(tabs.length);
			});
		}
		let token;
		let lastToken;
		let cutSrc;
		while (src) {
			if (this.options.extensions
				&& this.options.extensions.block
				&& this.options.extensions.block.some((extTokenizer) => {
					if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
						src = src.substring(token.raw.length);
						tokens.push(token);
						return true;
					}
					return false;
				})) {
				continue;
			}
			// newline
			if (token = this.tokenizer.space(src)) {
				src = src.substring(token.raw.length);
				if (token.raw.length === 1 && tokens.length > 0) {
					// if there's a single \n as a spacer, it's terminating the last line,
					// so move it there so that we don't get unnecessary paragraph tags
					tokens[tokens.length - 1].raw += '\n';
				}
				else {
					tokens.push(token);
				}
				continue;
			}
			// code
			if (token = this.tokenizer.code(src)) {
				src = src.substring(token.raw.length);
				lastToken = tokens[tokens.length - 1];
				// An indented code block cannot interrupt a paragraph.
				if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {
					lastToken.raw += '\n' + token.raw;
					lastToken.text += '\n' + token.text;
					this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
				}
				else {
					tokens.push(token);
				}
				continue;
			}
			// fences
			if (token = this.tokenizer.fences(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// heading
			if (token = this.tokenizer.heading(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// hr
			if (token = this.tokenizer.hr(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// blockquote
			if (token = this.tokenizer.blockquote(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// list
			if (token = this.tokenizer.list(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// html
			if (token = this.tokenizer.html(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// def
			if (token = this.tokenizer.def(src)) {
				src = src.substring(token.raw.length);
				lastToken = tokens[tokens.length - 1];
				if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {
					lastToken.raw += '\n' + token.raw;
					lastToken.text += '\n' + token.raw;
					this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
				}
				else if (!this.tokens.links[token.tag]) {
					this.tokens.links[token.tag] = {
						href: token.href,
						title: token.title,
					};
				}
				continue;
			}
			// table (gfm)
			if (token = this.tokenizer.table(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// lheading
			if (token = this.tokenizer.lheading(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// top-level paragraph
			// prevent paragraph consuming extensions by clipping 'src' to extension start
			cutSrc = src;
			if (this.options.extensions && this.options.extensions.startBlock) {
				let startIndex = Infinity;
				const tempSrc = src.slice(1);
				let tempStart;
				this.options.extensions.startBlock.forEach((getStartIndex) => {
					tempStart = getStartIndex.call({ lexer: this }, tempSrc);
					if (typeof tempStart === 'number' && tempStart >= 0) {
						startIndex = Math.min(startIndex, tempStart);
					}
				});
				if (startIndex < Infinity && startIndex >= 0) {
					cutSrc = src.substring(0, startIndex + 1);
				}
			}
			if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {
				lastToken = tokens[tokens.length - 1];
				if (lastParagraphClipped && lastToken?.type === 'paragraph') {
					lastToken.raw += '\n' + token.raw;
					lastToken.text += '\n' + token.text;
					this.inlineQueue.pop();
					this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
				}
				else {
					tokens.push(token);
				}
				lastParagraphClipped = (cutSrc.length !== src.length);
				src = src.substring(token.raw.length);
				continue;
			}
			// text
			if (token = this.tokenizer.text(src)) {
				src = src.substring(token.raw.length);
				lastToken = tokens[tokens.length - 1];
				if (lastToken && lastToken.type === 'text') {
					lastToken.raw += '\n' + token.raw;
					lastToken.text += '\n' + token.text;
					this.inlineQueue.pop();
					this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;
				}
				else {
					tokens.push(token);
				}
				continue;
			}
			if (src) {
				const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);
				if (this.options.silent) {
					console.error(errMsg);
					break;
				}
				else {
					throw new Error(errMsg);
				}
			}
		}
		this.state.top = true;
		return tokens;
	}
	inline(src, tokens = []) {
		this.inlineQueue.push({ src, tokens });
		return tokens;
	}
	/**
	 * Lexing/Compiling
	 */
	inlineTokens(src, tokens = []) {
		let token, lastToken, cutSrc;
		// String with links masked to avoid interference with em and strong
		let maskedSrc = src;
		let match;
		let keepPrevChar, prevChar;
		// Mask out reflinks
		if (this.tokens.links) {
			const links = Object.keys(this.tokens.links);
			if (links.length > 0) {
				while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {
					if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {
						maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);
					}
				}
			}
		}
		// Mask out other blocks
		while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {
			maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
		}
		// Mask out escaped characters
		while ((match = this.tokenizer.rules.inline.anyPunctuation.exec(maskedSrc)) != null) {
			maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);
		}
		while (src) {
			if (!keepPrevChar) {
				prevChar = '';
			}
			keepPrevChar = false;
			// extensions
			if (this.options.extensions
				&& this.options.extensions.inline
				&& this.options.extensions.inline.some((extTokenizer) => {
					if (token = extTokenizer.call({ lexer: this }, src, tokens)) {
						src = src.substring(token.raw.length);
						tokens.push(token);
						return true;
					}
					return false;
				})) {
				continue;
			}
			// escape
			if (token = this.tokenizer.escape(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// tag
			if (token = this.tokenizer.tag(src)) {
				src = src.substring(token.raw.length);
				lastToken = tokens[tokens.length - 1];
				if (lastToken && token.type === 'text' && lastToken.type === 'text') {
					lastToken.raw += token.raw;
					lastToken.text += token.text;
				}
				else {
					tokens.push(token);
				}
				continue;
			}
			// link
			if (token = this.tokenizer.link(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// reflink, nolink
			if (token = this.tokenizer.reflink(src, this.tokens.links)) {
				src = src.substring(token.raw.length);
				lastToken = tokens[tokens.length - 1];
				if (lastToken && token.type === 'text' && lastToken.type === 'text') {
					lastToken.raw += token.raw;
					lastToken.text += token.text;
				}
				else {
					tokens.push(token);
				}
				continue;
			}
			// em & strong
			if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// code
			if (token = this.tokenizer.codespan(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// br
			if (token = this.tokenizer.br(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// del (gfm)
			if (token = this.tokenizer.del(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// autolink
			if (token = this.tokenizer.autolink(src)) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// url (gfm)
			if (!this.state.inLink && (token = this.tokenizer.url(src))) {
				src = src.substring(token.raw.length);
				tokens.push(token);
				continue;
			}
			// text
			// prevent inlineText consuming extensions by clipping 'src' to extension start
			cutSrc = src;
			if (this.options.extensions && this.options.extensions.startInline) {
				let startIndex = Infinity;
				const tempSrc = src.slice(1);
				let tempStart;
				this.options.extensions.startInline.forEach((getStartIndex) => {
					tempStart = getStartIndex.call({ lexer: this }, tempSrc);
					if (typeof tempStart === 'number' && tempStart >= 0) {
						startIndex = Math.min(startIndex, tempStart);
					}
				});
				if (startIndex < Infinity && startIndex >= 0) {
					cutSrc = src.substring(0, startIndex + 1);
				}
			}
			if (token = this.tokenizer.inlineText(cutSrc)) {
				src = src.substring(token.raw.length);
				if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started
					prevChar = token.raw.slice(-1);
				}
				keepPrevChar = true;
				lastToken = tokens[tokens.length - 1];
				if (lastToken && lastToken.type === 'text') {
					lastToken.raw += token.raw;
					lastToken.text += token.text;
				}
				else {
					tokens.push(token);
				}
				continue;
			}
			if (src) {
				const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);
				if (this.options.silent) {
					console.error(errMsg);
					break;
				}
				else {
					throw new Error(errMsg);
				}
			}
		}
		return tokens;
	}
}

/**
 * Renderer
 */
class _Renderer {
	options;
	parser; // set by the parser
	constructor(options) {
		this.options = options || _defaults;
	}
	space(token) {
		return '';
	}
	code({ text, lang, escaped }) {
		const langString = (lang || '').match(/^\S*/)?.[0];
		const code = text.replace(/\n$/, '') + '\n';
		if (!langString) {
			return '<pre><code>'
				+ (escaped ? code : escape$1(code, true))
				+ '</code></pre>\n';
		}
		return '<pre><code class="language-'
			+ escape$1(langString)
			+ '">'
			+ (escaped ? code : escape$1(code, true))
			+ '</code></pre>\n';
	}
	blockquote({ tokens }) {
		const body = this.parser.parse(tokens);
		return `<blockquote>\n${body}</blockquote>\n`;
	}
	html({ text }) {
		return text;
	}
	heading({ tokens, depth }) {
		return `<h${depth}>${this.parser.parseInline(tokens)}</h${depth}>\n`;
	}
	hr(token) {
		return '<hr>\n';
	}
	list(token) {
		const ordered = token.ordered;
		const start = token.start;
		let body = '';
		for (let j = 0; j < token.items.length; j++) {
			const item = token.items[j];
			body += this.listitem(item);
		}
		const type = ordered ? 'ol' : 'ul';
		const startAttr = (ordered && start !== 1) ? (' start="' + start + '"') : '';
		return '<' + type + startAttr + '>\n' + body + '</' + type + '>\n';
	}
	listitem(item) {
		let itemBody = '';
		if (item.task) {
			const checkbox = this.checkbox({ checked: !!item.checked });
			if (item.loose) {
				if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {
					item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;
					if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
						item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
					}
				}
				else {
					item.tokens.unshift({
						type: 'text',
						raw: checkbox + ' ',
						text: checkbox + ' ',
					});
				}
			}
			else {
				itemBody += checkbox + ' ';
			}
		}
		itemBody += this.parser.parse(item.tokens, !!item.loose);
		return `<li>${itemBody}</li>\n`;
	}
	checkbox({ checked }) {
		return '<input '
			+ (checked ? 'checked="" ' : '')
			+ 'disabled="" type="checkbox">';
	}
	paragraph({ tokens }) {
		return `<p>${this.parser.parseInline(tokens)}</p>\n`;
	}
	table(token) {
		let header = '';
		// header
		let cell = '';
		for (let j = 0; j < token.header.length; j++) {
			cell += this.tablecell(token.header[j]);
		}
		header += this.tablerow({ text: cell });
		let body = '';
		for (let j = 0; j < token.rows.length; j++) {
			const row = token.rows[j];
			cell = '';
			for (let k = 0; k < row.length; k++) {
				cell += this.tablecell(row[k]);
			}
			body += this.tablerow({ text: cell });
		}
		if (body)
			body = `<tbody>${body}</tbody>`;
		return '<table>\n'
			+ '<thead>\n'
			+ header
			+ '</thead>\n'
			+ body
			+ '</table>\n';
	}
	tablerow({ text }) {
		return `<tr>\n${text}</tr>\n`;
	}
	tablecell(token) {
		const content = this.parser.parseInline(token.tokens);
		const type = token.header ? 'th' : 'td';
		const tag = token.align
			? `<${type} align="${token.align}">`
			: `<${type}>`;
		return tag + content + `</${type}>\n`;
	}
	/**
	 * span level renderer
	 */
	strong({ tokens }) {
		return `<strong>${this.parser.parseInline(tokens)}</strong>`;
	}
	em({ tokens }) {
		return `<em>${this.parser.parseInline(tokens)}</em>`;
	}
	codespan({ text }) {
		return `<code>${text}</code>`;
	}
	br(token) {
		return '<br>';
	}
	del({ tokens }) {
		return `<del>${this.parser.parseInline(tokens)}</del>`;
	}
	link({ href, title, tokens }) {
		const text = this.parser.parseInline(tokens);
		const cleanHref = cleanUrl(href);
		if (cleanHref === null) {
			return text;
		}
		href = cleanHref;
		let out = '<a href="' + href + '"';
		if (title) {
			out += ' title="' + title + '"';
		}
		out += '>' + text + '</a>';
		return out;
	}
	image({ href, title, text }) {
		const cleanHref = cleanUrl(href);
		if (cleanHref === null) {
			return text;
		}
		href = cleanHref;
		let out = `<img src="${href}" alt="${text}"`;
		if (title) {
			out += ` title="${title}"`;
		}
		out += '>';
		return out;
	}
	text(token) {
		return 'tokens' in token && token.tokens ? this.parser.parseInline(token.tokens) : token.text;
	}
}

/**
 * TextRenderer
 * returns only the textual part of the token
 */
class _TextRenderer {
	// no need for block level renderers
	strong({ text }) {
		return text;
	}
	em({ text }) {
		return text;
	}
	codespan({ text }) {
		return text;
	}
	del({ text }) {
		return text;
	}
	html({ text }) {
		return text;
	}
	text({ text }) {
		return text;
	}
	link({ text }) {
		return '' + text;
	}
	image({ text }) {
		return '' + text;
	}
	br() {
		return '';
	}
}

/**
 * Parsing & Compiling
 */
class _Parser {
	options;
	renderer;
	textRenderer;
	constructor(options) {
		this.options = options || _defaults;
		this.options.renderer = this.options.renderer || new _Renderer();
		this.renderer = this.options.renderer;
		this.renderer.options = this.options;
		this.renderer.parser = this;
		this.textRenderer = new _TextRenderer();
	}
	/**
	 * Static Parse Method
	 */
	static parse(tokens, options) {
		const parser = new _Parser(options);
		return parser.parse(tokens);
	}
	/**
	 * Static Parse Inline Method
	 */
	static parseInline(tokens, options) {
		const parser = new _Parser(options);
		return parser.parseInline(tokens);
	}
	/**
	 * Parse Loop
	 */
	parse(tokens, top = true) {
		let out = '';
		for (let i = 0; i < tokens.length; i++) {
			const anyToken = tokens[i];
			// Run any renderer extensions
			if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[anyToken.type]) {
				const genericToken = anyToken;
				const ret = this.options.extensions.renderers[genericToken.type].call({ parser: this }, genericToken);
				if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(genericToken.type)) {
					out += ret || '';
					continue;
				}
			}
			const token = anyToken;
			switch (token.type) {
				case 'space': {
					out += this.renderer.space(token);
					continue;
				}
				case 'hr': {
					out += this.renderer.hr(token);
					continue;
				}
				case 'heading': {
					out += this.renderer.heading(token);
					continue;
				}
				case 'code': {
					out += this.renderer.code(token);
					continue;
				}
				case 'table': {
					out += this.renderer.table(token);
					continue;
				}
				case 'blockquote': {
					out += this.renderer.blockquote(token);
					continue;
				}
				case 'list': {
					out += this.renderer.list(token);
					continue;
				}
				case 'html': {
					out += this.renderer.html(token);
					continue;
				}
				case 'paragraph': {
					out += this.renderer.paragraph(token);
					continue;
				}
				case 'text': {
					let textToken = token;
					let body = this.renderer.text(textToken);
					while (i + 1 < tokens.length && tokens[i + 1].type === 'text') {
						textToken = tokens[++i];
						body += '\n' + this.renderer.text(textToken);
					}
					if (top) {
						out += this.renderer.paragraph({
							type: 'paragraph',
							raw: body,
							text: body,
							tokens: [{ type: 'text', raw: body, text: body }],
						});
					}
					else {
						out += body;
					}
					continue;
				}
				default: {
					const errMsg = 'Token with "' + token.type + '" type was not found.';
					if (this.options.silent) {
						console.error(errMsg);
						return '';
					}
					else {
						throw new Error(errMsg);
					}
				}
			}
		}
		return out;
	}
	/**
	 * Parse Inline Tokens
	 */
	parseInline(tokens, renderer) {
		renderer = renderer || this.renderer;
		let out = '';
		for (let i = 0; i < tokens.length; i++) {
			const anyToken = tokens[i];
			// Run any renderer extensions
			if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[anyToken.type]) {
				const ret = this.options.extensions.renderers[anyToken.type].call({ parser: this }, anyToken);
				if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(anyToken.type)) {
					out += ret || '';
					continue;
				}
			}
			const token = anyToken;
			switch (token.type) {
				case 'escape': {
					out += renderer.text(token);
					break;
				}
				case 'html': {
					out += renderer.html(token);
					break;
				}
				case 'link': {
					out += renderer.link(token);
					break;
				}
				case 'image': {
					out += renderer.image(token);
					break;
				}
				case 'strong': {
					out += renderer.strong(token);
					break;
				}
				case 'em': {
					out += renderer.em(token);
					break;
				}
				case 'codespan': {
					out += renderer.codespan(token);
					break;
				}
				case 'br': {
					out += renderer.br(token);
					break;
				}
				case 'del': {
					out += renderer.del(token);
					break;
				}
				case 'text': {
					out += renderer.text(token);
					break;
				}
				default: {
					const errMsg = 'Token with "' + token.type + '" type was not found.';
					if (this.options.silent) {
						console.error(errMsg);
						return '';
					}
					else {
						throw new Error(errMsg);
					}
				}
			}
		}
		return out;
	}
}

class _Hooks {
	options;
	constructor(options) {
		this.options = options || _defaults;
	}
	static passThroughHooks = new Set([
		'preprocess',
		'postprocess',
		'processAllTokens',
	]);
	/**
	 * Process markdown before marked
	 */
	preprocess(markdown) {
		return markdown;
	}
	/**
	 * Process HTML after marked is finished
	 */
	postprocess(html) {
		return html;
	}
	/**
	 * Process all tokens before walk tokens
	 */
	processAllTokens(tokens) {
		return tokens;
	}
}

class Marked {
	defaults = _getDefaults();
	options = this.setOptions;
	parse = this.parseMarkdown(_Lexer.lex, _Parser.parse);
	parseInline = this.parseMarkdown(_Lexer.lexInline, _Parser.parseInline);
	Parser = _Parser;
	Renderer = _Renderer;
	TextRenderer = _TextRenderer;
	Lexer = _Lexer;
	Tokenizer = _Tokenizer;
	Hooks = _Hooks;
	constructor(...args) {
		this.use(...args);
	}
	/**
	 * Run callback for every token
	 */
	walkTokens(tokens, callback) {
		let values = [];
		for (const token of tokens) {
			values = values.concat(callback.call(this, token));
			switch (token.type) {
				case 'table': {
					const tableToken = token;
					for (const cell of tableToken.header) {
						values = values.concat(this.walkTokens(cell.tokens, callback));
					}
					for (const row of tableToken.rows) {
						for (const cell of row) {
							values = values.concat(this.walkTokens(cell.tokens, callback));
						}
					}
					break;
				}
				case 'list': {
					const listToken = token;
					values = values.concat(this.walkTokens(listToken.items, callback));
					break;
				}
				default: {
					const genericToken = token;
					if (this.defaults.extensions?.childTokens?.[genericToken.type]) {
						this.defaults.extensions.childTokens[genericToken.type].forEach((childTokens) => {
							const tokens = genericToken[childTokens].flat(Infinity);
							values = values.concat(this.walkTokens(tokens, callback));
						});
					}
					else if (genericToken.tokens) {
						values = values.concat(this.walkTokens(genericToken.tokens, callback));
					}
				}
			}
		}
		return values;
	}
	use(...args) {
		const extensions = this.defaults.extensions || { renderers: {}, childTokens: {} };
		args.forEach((pack) => {
			// copy options to new object
			const opts = { ...pack };
			// set async to true if it was set to true before
			opts.async = this.defaults.async || opts.async || false;
			// ==-- Parse "addon" extensions --== //
			if (pack.extensions) {
				pack.extensions.forEach((ext) => {
					if (!ext.name) {
						throw new Error('extension name required');
					}
					if ('renderer' in ext) { // Renderer extensions
						const prevRenderer = extensions.renderers[ext.name];
						if (prevRenderer) {
							// Replace extension with func to run new extension but fall back if false
							extensions.renderers[ext.name] = function (...args) {
								let ret = ext.renderer.apply(this, args);
								if (ret === false) {
									ret = prevRenderer.apply(this, args);
								}
								return ret;
							};
						}
						else {
							extensions.renderers[ext.name] = ext.renderer;
						}
					}
					if ('tokenizer' in ext) { // Tokenizer Extensions
						if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {
							throw new Error("extension level must be 'block' or 'inline'");
						}
						const extLevel = extensions[ext.level];
						if (extLevel) {
							extLevel.unshift(ext.tokenizer);
						}
						else {
							extensions[ext.level] = [ext.tokenizer];
						}
						if (ext.start) { // Function to check for start of token
							if (ext.level === 'block') {
								if (extensions.startBlock) {
									extensions.startBlock.push(ext.start);
								}
								else {
									extensions.startBlock = [ext.start];
								}
							}
							else if (ext.level === 'inline') {
								if (extensions.startInline) {
									extensions.startInline.push(ext.start);
								}
								else {
									extensions.startInline = [ext.start];
								}
							}
						}
					}
					if ('childTokens' in ext && ext.childTokens) { // Child tokens to be visited by walkTokens
						extensions.childTokens[ext.name] = ext.childTokens;
					}
				});
				opts.extensions = extensions;
			}
			// ==-- Parse "overwrite" extensions --== //
			if (pack.renderer) {
				const renderer = this.defaults.renderer || new _Renderer(this.defaults);
				for (const prop in pack.renderer) {
					if (!(prop in renderer)) {
						throw new Error(`renderer '${prop}' does not exist`);
					}
					if (['options', 'parser'].includes(prop)) {
						// ignore options property
						continue;
					}
					const rendererProp = prop;
					const rendererFunc = pack.renderer[rendererProp];
					const prevRenderer = renderer[rendererProp];
					// Replace renderer with func to run extension, but fall back if false
					renderer[rendererProp] = (...args) => {
						let ret = rendererFunc.apply(renderer, args);
						if (ret === false) {
							ret = prevRenderer.apply(renderer, args);
						}
						return ret || '';
					};
				}
				opts.renderer = renderer;
			}
			if (pack.tokenizer) {
				const tokenizer = this.defaults.tokenizer || new _Tokenizer(this.defaults);
				for (const prop in pack.tokenizer) {
					if (!(prop in tokenizer)) {
						throw new Error(`tokenizer '${prop}' does not exist`);
					}
					if (['options', 'rules', 'lexer'].includes(prop)) {
						// ignore options, rules, and lexer properties
						continue;
					}
					const tokenizerProp = prop;
					const tokenizerFunc = pack.tokenizer[tokenizerProp];
					const prevTokenizer = tokenizer[tokenizerProp];
					// Replace tokenizer with func to run extension, but fall back if false
					// @ts-expect-error cannot type tokenizer function dynamically
					tokenizer[tokenizerProp] = (...args) => {
						let ret = tokenizerFunc.apply(tokenizer, args);
						if (ret === false) {
							ret = prevTokenizer.apply(tokenizer, args);
						}
						return ret;
					};
				}
				opts.tokenizer = tokenizer;
			}
			// ==-- Parse Hooks extensions --== //
			if (pack.hooks) {
				const hooks = this.defaults.hooks || new _Hooks();
				for (const prop in pack.hooks) {
					if (!(prop in hooks)) {
						throw new Error(`hook '${prop}' does not exist`);
					}
					if (prop === 'options') {
						// ignore options property
						continue;
					}
					const hooksProp = prop;
					const hooksFunc = pack.hooks[hooksProp];
					const prevHook = hooks[hooksProp];
					if (_Hooks.passThroughHooks.has(prop)) {
						// @ts-expect-error cannot type hook function dynamically
						hooks[hooksProp] = (arg) => {
							if (this.defaults.async) {
								return Promise.resolve(hooksFunc.call(hooks, arg)).then(ret => {
									return prevHook.call(hooks, ret);
								});
							}
							const ret = hooksFunc.call(hooks, arg);
							return prevHook.call(hooks, ret);
						};
					}
					else {
						// @ts-expect-error cannot type hook function dynamically
						hooks[hooksProp] = (...args) => {
							let ret = hooksFunc.apply(hooks, args);
							if (ret === false) {
								ret = prevHook.apply(hooks, args);
							}
							return ret;
						};
					}
				}
				opts.hooks = hooks;
			}
			// ==-- Parse WalkTokens extensions --== //
			if (pack.walkTokens) {
				const walkTokens = this.defaults.walkTokens;
				const packWalktokens = pack.walkTokens;
				opts.walkTokens = function (token) {
					let values = [];
					values.push(packWalktokens.call(this, token));
					if (walkTokens) {
						values = values.concat(walkTokens.call(this, token));
					}
					return values;
				};
			}
			this.defaults = { ...this.defaults, ...opts };
		});
		return this;
	}
	setOptions(opt) {
		this.defaults = { ...this.defaults, ...opt };
		return this;
	}
	lexer(src, options) {
		return _Lexer.lex(src, options ?? this.defaults);
	}
	parser(tokens, options) {
		return _Parser.parse(tokens, options ?? this.defaults);
	}
	parseMarkdown(lexer, parser) {
		// eslint-disable-next-line @typescript-eslint/no-explicit-any
		const parse = (src, options) => {
			const origOpt = { ...options };
			const opt = { ...this.defaults, ...origOpt };
			const throwError = this.onError(!!opt.silent, !!opt.async);
			// throw error if an extension set async to true but parse was called with async: false
			if (this.defaults.async === true && origOpt.async === false) {
				return throwError(new Error('marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.'));
			}
			// throw error in case of non string input
			if (typeof src === 'undefined' || src === null) {
				return throwError(new Error('marked(): input parameter is undefined or null'));
			}
			if (typeof src !== 'string') {
				return throwError(new Error('marked(): input parameter is of type '
					+ Object.prototype.toString.call(src) + ', string expected'));
			}
			if (opt.hooks) {
				opt.hooks.options = opt;
			}
			if (opt.async) {
				return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src)
					.then(src => lexer(src, opt))
					.then(tokens => opt.hooks ? opt.hooks.processAllTokens(tokens) : tokens)
					.then(tokens => opt.walkTokens ? Promise.all(this.walkTokens(tokens, opt.walkTokens)).then(() => tokens) : tokens)
					.then(tokens => parser(tokens, opt))
					.then(html => opt.hooks ? opt.hooks.postprocess(html) : html)
					.catch(throwError);
			}
			try {
				if (opt.hooks) {
					src = opt.hooks.preprocess(src);
				}
				let tokens = lexer(src, opt);
				if (opt.hooks) {
					tokens = opt.hooks.processAllTokens(tokens);
				}
				if (opt.walkTokens) {
					this.walkTokens(tokens, opt.walkTokens);
				}
				let html = parser(tokens, opt);
				if (opt.hooks) {
					html = opt.hooks.postprocess(html);
				}
				return html;
			}
			catch (e) {
				return throwError(e);
			}
		};
		return parse;
	}
	onError(silent, async) {
		return (e) => {
			e.message += '\nPlease report this to https://github.com/markedjs/marked.';
			if (silent) {
				const msg = '<p>An error occurred:</p><pre>'
					+ escape$1(e.message + '', true)
					+ '</pre>';
				if (async) {
					return Promise.resolve(msg);
				}
				return msg;
			}
			if (async) {
				return Promise.reject(e);
			}
			throw e;
		};
	}
}

const markedInstance = new Marked();
function marked(src, opt) {
	return markedInstance.parse(src, opt);
}
/**
 * Sets the default options.
 *
 * @param options Hash of options
 */
marked.options =
	marked.setOptions = function (options) {
		markedInstance.setOptions(options);
		marked.defaults = markedInstance.defaults;
		changeDefaults(marked.defaults);
		return marked;
	};
/**
 * Gets the original marked default options.
 */
marked.getDefaults = _getDefaults;
marked.defaults = _defaults;
/**
 * Use Extension
 */
marked.use = function (...args) {
	markedInstance.use(...args);
	marked.defaults = markedInstance.defaults;
	changeDefaults(marked.defaults);
	return marked;
};
/**
 * Run callback for every token
 */
marked.walkTokens = function (tokens, callback) {
	return markedInstance.walkTokens(tokens, callback);
};
/**
 * Compiles markdown to HTML without enclosing `p` tag.
 *
 * @param src String of markdown source to be compiled
 * @param options Hash of options
 * @return String of compiled HTML
 */
marked.parseInline = markedInstance.parseInline;
/**
 * Expose
 */
marked.Parser = _Parser;
marked.parser = _Parser.parse;
marked.Renderer = _Renderer;
marked.TextRenderer = _TextRenderer;
marked.Lexer = _Lexer;
marked.lexer = _Lexer.lex;
marked.Tokenizer = _Tokenizer;
marked.Hooks = _Hooks;
marked.parse = marked;
const options = marked.options;
const setOptions = marked.setOptions;
const use = marked.use;
const walkTokens = marked.walkTokens;
const parseInline = marked.parseInline;
const parse = marked;
const parser = _Parser.parse;
const lexer = _Lexer.lex;

//# sourceMappingURL=marked.esm.js.map

// <!-------------------------------------------------------------- End: 引用 marked ---------------------------------------------------------->

// <!-------------------------------------------------------------- Begin: 字符画 ---------------------------------------------------------->

let clbPainting = `@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&8888&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&888888&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&88888888888&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8&&&8888828888888&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@&88&&&82222228222228&@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&88882222222222222288&@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8882222222222222222888&&@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&@&&@@&&882221222222222222222228&&@@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&8222111122222222222222228&&&@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&888822221111111222222222222288&&@@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&8888888222111111111112222222222222888&&@@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&@&&&&&&&&8882222222111111111111221112222222888888&&@@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&&&88&&&8222221111111111111111111111122222888888&&&@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&&&88888821121111111111111111111111111222228888888&&@@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&8&&88882222111111111111111111111111111112222228888888&&&@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&828822222222211111111111111111111111111111222228888888&&@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&888222211111122211111111111111111111111111111222288888888&&@@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88822211111111111111111111111111111111111111222222288888888&&&@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88222221111111111111111111111111111111111111222222228888888888&@@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&82222222222221111111111111111111111111111111111222222888888888&&@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88222112222221111111111111111111111111111111111122222228888888&&@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@888222112222221111111111111111111111111111111111122282222888888&&&@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&882222212221221111111111111111111111111111111111222222222888888&&&@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&822222222222221111111111111111111111111111111111222222222888888&&@@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&822222222222222111111111111111111111111111111111112222222288888&&&@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8222282222222221111111111111111111111111111111111122222222888888&&&@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8822222222222222221111111111111111111111111111111122222222888888&&&@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&8822222222222222222211111111111111111111111111111111112222888888&&&@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&882222222222222222222211111111111111111111111111111122228&&8888&&88&@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88822222222222222222222111111111111111111111111111112228&@&&&&&&&&8&@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8882222222222222222222111111111111111111111111111111228&@@@&&&&&&&&8&@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@&88222222222222222222211111111111111111111111111111228&@@@@&&&&&&&&8@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@&8822222222222222222221111111111111111111111111111128&@@@@@&&&&&&&8&@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@&88222222222222222222111111111111111111111111111228&@@@@@@&&&&&&&8&&@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&@@@&&82222222222222222111111111111111111111111111122&&@@@@&&&&&&&&&&88&@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&8222222222222222111111111111111111111111111128&@@@@&&8888&&88&&8&&@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&822222222222222221111111111111111111111111122&@@@&&88888888&88&&&&&@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&8888222222222222111111111111111111111111111228&&&&&88888888&&88&&&&&@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@&&&88822222222222211111111111111111111111111222&&&&&888888888&&&&&&&@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&882222222222222111111111111111112111112222288&&&888888888&&&&&&&@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&882222222222222222822222222122228222222222288&&&&&88828&&&@@&&&&@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&8222222222222222288&8888&&8888888882222222888&&&&&&&&8&&@@@@@@@&@@@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&8822222222222222288&&@@@@@@@@@&&&&888222228888&&&&&&&@@@@@@@@@&&&&&@@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&88222222222222222288&&@@@@@@@@@&&&&888822288888&&&&&&@@@@@@@&@@&&&8&&@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&88222222222222222288&&@@@@@@@@&&&&&&8888888888&&&&&&@@@@@@@&&&&&&888&@@@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&88222222222222888888&&&&&@&&&&&&&&&&8888822888&&@@@@&&@@@&&&&&&&&888&&&@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8888&&@@@@@@@&&8822222222222288888&&&&&8888888&&&&&&8882222288&@@@@&&&&&&&&&&&888888&&&@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@88222288&@@@@@@&8822222222222888&&88888888888888&&&&&&88888288&@@@&&&&&&&&&&&&88888888&&@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8888828888@@@@@@&82222222222888888888888882288&&&&@@@@&&&@&&&&@@@@&&&&&&&&&88882222228&&@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88&8888888&@@@@@@@&2222222228888888888822228&&@@@@@@@@@@@@@@@@@@@&&&8&&&&88222222222888&@@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&8888888&@@@@@@@&8222222228888888888888&&@@@@@@@@&&&&&@@@@@@@@&888888822222222222888&&@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&8888888&&@@@@@@@@&&8882228888888&&&&&@@@@@@@@@@&8888&&@@&&&@@@&888288222222222228&8&&@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&88888888&&@@&&@@@@@@@@&&82888&88&@@@@@@@@@@@@&&&88888&&@&228&@@&88228222222222288&&88&&@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&8888&&8&&&&&&&&&@@@@@@@@&&&&@@@@@@@@@&8&@@@&&&&888888&@&2228&@&8222222222228888&88888&@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8&&8888&88&&&&&&88888&&@@@@@@@@@@@@@&&&&8888&&&&&&8888888&&21128@@&82222222288&&&8888888@@@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8&8888888888&&&&8888828&@@@@@@@@@@@&&&&8888888&&88888888&&8111128&&&822888&&&&&&&8288888&&@@@@@@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88888888888&&&88882228888&&@@@@@&&&&8888888&8882228888&&21;;;128&&&8&&&&&&888822222888222888&@@@@ \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&888888888888&&&888222222228&@@@@&888888&&&888222222288&&2;;;;1228&&&&&&88822221222288821111111222 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&888888888888&&88822222222222&@@&2288888822222222222288811;;1112288888222211111222228211;;;;;1111 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&888888888888&8888222222222228&&228882222222212222228822111;11222222222211121222222821;;11111111 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@88888888888888888222222222222&&222222222221111222288822111;;1122222888222111222228221;111111111 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&88822288888888888222222222228&211222222221222288888221111;;;1122228888222222222282111111111112 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@82222222888888888822222222222822222222222228888888821111;;;;1222228888882222222222111111111121 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&2222211228888888882222222222882211222222288888882211111;;;;12222228888882222888211;1111121122 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&821111228888888882222222222288222222822888888822111111;;;;1122222282288888888821;;1111222222 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@821111228888888888222222222288888888822888888821111111;;;;1122228882288888888821;;1111222222 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@82111122288888888882822222222888822222222288882111111;;;111122222282288888888821;;1111222221 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&882211122228888888888222222222222222222222288882111111111111222888888888888888821;11111122211 \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&822111111222228888888888222222222222221111122888882221111111112228&&&&88888888888221;1111112221; \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&822111;;111122222888888888882222222222212111112288888222222222222228&&&&&88888888888221;1111112211; \n@@@@@@@@@@@@@@@@@@@@@@@@@@&822111;;;;;;;;122222288888888888882222221111111222288888888888888888828&&&&&888888888888221;;11111211;; \n@@@@@@@@@@@@@@@@@@@@@@@@@&81;;;;;;;;;;;;;;122222888888888888882222211222222228888288888&&&&&&&8888&&&&8888888888888221;;11111111;; \n@@@@@@@@@@@@@@@@@@@@@@&8821;;;;;;;;;;;;;;;;;1112888888888888888822222222222288888288888&&@@@@&&&&&&&8888888&&8888888211;11111211;; \n@@@@@@@@@@@@@@@@@@@&&21;;;;;;;;;;;;;;;;;;;;;;;;12888888888888888822222222228888888888888&&&&&&&&&8888888888&&888888211;;1111111;;1 \n@@@@@@@@@@@@@@@@@&21;;;;;,;;;;;;;;;;;;;;;;;;;;;1288888888888888888882222228888888888888888888888888888888&&&&888888211;11111211;11 \n@@@@@@@@@@@@@@8821;;;;;;;;;;;;;;;;;;;;;;;;;;;;;188888888888888888888822888888888228822222222288888888&&&&@&&888888821111111111;111 \n@@@@@@@@@@&8821;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;18888888888888888888888888888888888222222222288888888&&&&&@&888888&821111111111;111 \n@@@@@@@&82111;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1888888888888888888888888888&88888822222228888&888888888&&@&8888888821111111111;111 \n@@@@@&8211;;;;,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2888888888888888888888888888888888822222288&&&8888228888&@@&888888822111111111;1111 \n@@@821;;;;;,,,,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;,;1888888888888888888888888888888&&&88888888888882222222288&@&88888882211;111111111111 \n2211;;;;;;,,,,,,,,,;;;;;;;;;;;;;;;;;;;;;;;;,,;188888888888888888888888888888&&&&&&&&&&888222211222228&&&@&88888882211;111111111111 \n1;,;;;;;;,,,,,,,,,,,,;;;;;;;;;;;;;;;;;;;;;;,,;1888888888888888888888888888888&&&@@&&@&88822222122888&&&&&&88888822211;111111;11111 \n;;;;;;;;;,,,,,,,,,,,,,;;;;;;;;;;;;;;;;;;;;;;,,188888888888888888888888888888888&&&&&@&8888888888888&&&&&&&88888822211;11111;;11111 \n,;;;;;;;,,,,;,,,,,,,,,,,;;;;;;;;;;;;;;;;;;;;;,;2882888888888888888888888888888888&&&&&&&8&&&88888888888&&&888888822111111111111111 \n,;;;;,;,,,,,,;,,,,,,,,,,;;;;;;;;;;;;;;;;;;;,;;;28888888888888888888888888888888888888&&&&&8&88888888888&&88888882221;11111;1111111 \n;;;;;,,,,,,;;;;,,,,,,,,,,;;;;;;;;;;;;;;;;;,,;;188888888888888888888888888888888888888888888888888288888&&88288882221;1111;;1111111 \n;;,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;,,;;;;;;;;;,;28822888888888&88888888888888888288888888888222222228888&&&8888882111;1111;11111111 \n;,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;,,,,;;;;,;,;;1882288888888888888888888888888888822228888882222222888&&&828888221111111;;11111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;,,,,;;;;,,,;;18882288888888888888888888888888882222288888888228888&&&&8228888221111111;111111111 \n,,,,,,,,,,,,,,;,,,,,,,,,,,,,,,;;;;;,,,;;;;;,,,;188828888888888888888888888888888822222288888&&888&&&&&8822288822211111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;,,;;;;;,,,;12882888888888888888888888888888888222228888&&&&&&&&&&88822228822211111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;,;;;;;,,,;;188228288888888888888888888888888882222288888&&&&&&&&88222288222211111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;,,;;;;,,,,;188822288888888888888888888888888882222222228&&&&&&8822222282221111111111111111111 \n,,,,,,,,,,,,,,,,,,;,,,,,,,,,,,,;;;,,,,,;;;;,,,,;1882222888888888888888888888888888222222222288888888822222282221111111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;,,,;;1288222288888888888888888888888888222222222222222222222222282211111111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;,,;;;;,,;;;;28822228888888888888888&888888888222222222222222222222822882111111111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;,;;;;,18828228888888888888&&88888888888822222222222222222888888822111111111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;;,;8822288888888888888&88888&888&88882222222222222222888888221111111111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;,,,,;282222228888888888888888&8888888888822222222222228888888212112221111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;,,,,,,18222222288888888888888888888888&8888228822288888&&&88822211112211111111;1111;11 \n,,,,,,,,,,,,,,,,,,,,,,,,,,;,,,,,,,,,,,;;;;,,,,,,,,;2822228228888888888888888888888&&88888888888&&&&&&&&822221111121111111111111111 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;,,;;;;;;;;;;;;,;2888888888888888888888888&&&&&&&&&&&&&&&&&&&&&&&&&&&822222222222222222222222222 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;1112222222122282228&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&@@@&&&&&&&&&&&&88&&&&&&8&&&&&&&&&&&&@&8 \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;8&&&&&&&@@@@@@@@@@@@@@@&@@@&&&&&&&@@@@@@@@@@@@@@@@@@@@@&&&@@@@@@@@@&&&&@&&@&@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,;,,,;,,,,,,,,,;;;,,,,,1@@@@@@@@@@@&8@@28@@@@@@@&8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,;, ,;,,,,;,,,,,,,,,,,,,,,;@@@@@@@@@@@& @@ &@@@@@@@;   ,12@@@@@@@@@@@@@@@@@@@@@@@@@@@@&  2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,   ;;,;  ;,,,,,,;,       ;2@@@@@@@@@8 ,11;&@@@@@@@&21;;, 1@@@@@@@@@@@@@@@@@@@@@@@@@@8  1 ,&@@@@@@@@@@@2  ,;2@@@@@@@@@@@@@@@@@ \n,,,,,,,;;, ,; ;,,,,,,,;;;,,,  ;1@@@@@@@@@@8 , ;;8@@@@@@@@@@@; 8@@@@@@@@@@@@@,8@@@@@@@@@@;  &@1  ;&@@@@@@2;@8,;,  8@@@@@@@@@@@@@@@@ \n,,,,,;  ;; ,1;;,,,,;,,,,,;;;  ;1@@@@    1@& 2,2@@@@@@@@@@@@8 1@@@@@@@@@@@@@& @@@@@@@@@2   &@@@8, ;@@@@@2 ;@@@@2 ;@@@@@@@@@@@@@@@@@ \n,,,,          ,;,,,,,,,;,,,  ,;;&@@& &@;,@;     &@@@@@@@@@@, @@@@@@@@@8,;;1, 2228@@@@@2 ;@@@&@@@&@@@@@,  @@@@1 ;@@@@@@@@@@@@@@@@@@ \n,,,,,,  ,,  ,;;;,,,,,;  ;;,  ;,,2@@& @@1,82 ; ; ,2@@@@@@@@@2 8@@@@@@@@8;,        @@@@@@@@@@; @@@@@@@@@,,1@@@8 ;@@@@@@@@@@@@@@@@@@@ \n,,,,;;  1;; ;,,;,,,,,;,  ;  ,;,,;&@& 8,; 82 , , ;&@@@@@@@@@@  @@@@@@@@@@@@@ 1@&&&@@@@@@@@@@, @@@@@@@@@@@ 2@@  @@@@@@@@@@@@@@@@@@@@ \n,,,,,    ,;   ;;,,,,,,;,    1,,,;&@@1;,82@2 ; , &@@@@@@@@@@@; @@@@@@@@@@@@@ 1@@@@@@@@@@@@@@, @@@@@@@@@@& 2@1 &@@@&&@@@@@@@@@@@@@@@ \n,,,;    ,;   ;1,,,,,,,;;    ;,,,,8@@@ ,@@@1 , ,8@@@@@@@@@@@@1 &@@@@@@@@@@@@ 1@@@@@@@@@@@@@@  @@@@@@@@@@8 2@1 &@@@ 1@@@@@@@@@@@@@@@ \n,,,,;1, 1;,,    ;,,,,,,       ,,,1@@1 8 1@8 2,228@@@@@@@@@@@; @@@@@@@@@@@@@ 1@@@@@@@@@@@@@@  @@@@@@@@@@&1&@8  ,;, 2@@@@@@@@@@@@@@@ \n,,,,,   ;,;;,  ;;,,,,,  ,1;    ;,;&@@&@88;, 2,21 &@@@@@@@2   ;@@@@@@@@@@@@@ 1@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@&;, ,2@@@@@@@@@@@@@@@@ \n,,,,,,,;;,,,;;;;,,,,,,;;;;,;;,,;,;2@@@@@@@@,2;2@&@@@@@@@@@1;1@@@@@@@@@@@@@@ 1@@@@@@@@@@@@@@;;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,;;,,,,,;,,,,,,,,,,,,,,,;;,,,1&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@,2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;,,,;,,,,,,,,,,,,,,,,,,,,,,;,,,,,,,,;&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;,,,,,,,,,,,,,,,,,,,,,,,,,;;,,,,,,,;8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;,,,,,,,,,,,,,,,,,,,,,,,,,;,,,,,,,,2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;,,,,,,,,,,;,,,,,,,,,,,,,,,,,,,,,1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;;,,,,,,,,,;,,,,,,,,,,,,,,,,,,,,,;2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;;;,,,,,,,,;;,,,,,,,,,,,,,,,,,,,,,1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;;;;,,,,,;;;;;;,,,,,,,,,,,,,,,,,,,;8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;11;;;;;,,,,,;;;;;;;,,,,,,,,,,,,,,,,,,;2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;1;;;;;;;;,;;;;;;;;;,,,,,,,,,,,,,,,,,,1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;;;;;;,;;;;;;;;;;;,,,,,,,,,,,,,,,,,1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,;&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,;;;;;;;;;;;;;;;;;;;;,,,,,,;;,,,;;;;;2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,,,,;;;;;;;;;;;;;;;;;;;;;,,;;;;;;,;;;;;;1@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;,,;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;2221;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;22222;;;;;;;;;;;;;;;;;;;;;;;;111;;;;1;;18@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;1222221;;;;;;;;;;;;;;;11111111111111111;2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;;;2222821;;;;;;;;;;;;;;1111111111111111112@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;,;222222211;;;;;;;;;1111111111111111111111&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,;12228888821;;;;;;;111111111111111111111112@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n,1222222888821;;11;;111111111111111111111112@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n;22222228888221;;1111111111111111111111111118@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n122222228888822111111111111111111111111111112@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n122222288888888211111111111111111111111111112@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n12222228888888882211111111111111111111111;;12@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n222222288888888888222122111111111111111111111&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n2222222888888888888222221111111111111111111118@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ \n2222222888888888888222211111111111111111111112@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@`;

let boboniuAvatarPainting = `OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \noOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \noOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \noooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooooOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooooOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@O@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooooooooooooooooooooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooooOOOOOOOOOOOOOooOOOOOOOooooooooooooooooooooooooooooooooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@OOOOOOOOOooooooooooooooooooOOOOOOoooooooooooooooooooooo[[\`,[\`[\`*********,\`oo^ooooooooooooo\\oOoooooOOOOOOOOOOOOOOO@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@OOO@@@@@@@OOOOOOOoooo/\\/*******,[[[[[[[oooo/[[[[[[[[[[[[[*\`*[\`\`**********************\`**************,o/[[/ooOoOOOOOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@OOOOOOO/***.......................................................................................***,oooOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOO^***.......................................................................................*****=oOOOOO@@@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO^***.........................................................................................***,OOOOOO@@@@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO/.......                                   .............             .                     .......,\\ooooOOOOOOOOOOOoooooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo*.....                                                                                      .......=\\\\]ooOOOOOOOOoooooo\\]*****oo**,ooooooooOOOOOOOOO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooooooooOOOOOOOOOOOoooo\`]*.....                                                                                      .......*****ooOOOOOOooooo/[\`*******\`**[**oooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooo[[[[\`**[[[[[[[[[[[oooo[[[[[[[[[\`....                                                                                       .......[[*,[[[oo/[[[[***********************,[\`\\OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoo[****...................................                                                                                           ....................................  ..........=oooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@OOOOOOOOOo****......................................                                                                                          ................................................=oooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@OOOOOOOo****.....................................                                                                                           ................................................*\`*ooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo/*......                      .......                                                                                                       ..............                        .. .******\\oooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo\`**.......                                                                                                                                     ..                                   .......****\\ooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo/[****.......                                                                                                                                                                         ...........*=oooooOOOOOOOO@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo//***...........                                                                                                                                                                          ...........*\\\\ooooOOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo****..........                                                                                                                                                                                   .........*****=OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo^***...........    ..                                                                                                                                                                             .........****.,OOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo//*..............    ..                                                                                                                                                                           ................*OOOOOOO@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOo\`,\`***.......                                                                                                                                                                                                   .......,oooooOOOOOOOOO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo****.... ....                                                                                                                                                                                                   .......***,oooOOOOOOO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo\`**...........                                                                                                                                                                                                   .......****=ooOOOOOOOO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo^*****..............                                                                                                                                                                                                   ........*.***,\\oooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo^*......  .      .                                                                                                                                                                                                      ...   .........***\\\\oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo^.......  .....  ..                                                                                                                                                                                                      .    .........*****\\OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo*..............                                                                                                                                                                                                          .     ..........***=oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo*. .. .                                                                                                                                                                                                                               ......*ooOOOOOOOOOOOOOOOOOOOOOOOOOOoooooOOOOOooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo//*.......                                                                                                                                                                                                                               ......ooooOOOOOOOOOOOOOOOOOOOOOOOOOoooOOOOOoooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo**........                                                                                                                                                                                                                              ......*OOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo^**........                                                                                                                                                                                                                              ......*OOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOooooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo**........                                                                                                                                                                                                                               ......OOOOOOO@@@@@@OOOOOOOOOOOOOoOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo**........                                                                                                                                                                                                                              .......OOOOOOO@@@@@@OOOOOOOOOOOOOoOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOo/,o\`**........                              ...]]/OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO\\]\`....                                                                               ..]]]oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO]]....                          .......oOOOOOOO@O@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo******........                       ..]/OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO\\\`..                                                             ..,]OOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO]..                    .......,[[\\OoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooo/****.........                   ..]OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO]\`..                                                 ..,/OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO]..               ........... [OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOooooo\`****....]OO@@@@O\`.             ..,OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO\`.                                           .,/OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO].           .. .,OO@@@@O\\.oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOooo^*****.....,@@@@@@@@O^           .,O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO]\`.......                        .....,]OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O\\.           .O@@@@@@@@^*[[ooOoOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOooo/***..*.....=@@@@@@@@O^.        ./O@@@@@@@@@@@@@@@@@@OOOO[[[.........................,[[[\\OOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOo]]]]]]]]oOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOO/[[[\`.........................,[[OOOOOO@@@@@@@@@@@@@@@@@O..        *O@@@@@@@@^..*****oOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo^*....... ..=@@@@@@@@@^.      ./O@@@@@@@@@@@@@OOO[\`...                                         ...,[OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOO[[...                                          ...[\\O@@@@@@@@@@@@@@OO\`.      =O@@@@@@@@^....***=oOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOooo^*.......   =@@@@@@@@@^.    .=O@@@@@@@@@@@@O/\`.                                                       ..[OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO[..                                                       ..\\O@@@@@@@@@@@@O\\.    .=O@@@@@@@@^....***=oOOOOOOO@@OOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOooo^....       =@@@@@@@@@^    .OO@@@@@@@@@@O/..                                                              ..\\O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O/\`.                                                              ..\\O@@@@@@@@@@@O.    =O@@@@@@@@^  .....*oOOOOOOO@@OOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOoo^......     =@@@@@@@@@^.  ,O@@@@@@@@@@O\`.                                                                    .,O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O/.                                                                    .,O@@@@@@@@@@O\`.  =O@@@@@@@@^    ...*ooOOOOOO@@OOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOO@@@@@OOOOoO^.......    =@@@@@@@@O^...O@@@@@@@@@O^.                                                                        .\\O@@@@@@@@@O/\`..,[[[[[[[[[[[\`..[\\O@@@@@@@@@OO.                   . .                                            .     .=O@@@@@@@@@O.. .O@@@@@@@@^ ......*oOOOOOO@@@@@OOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOO@@@@OOOOOoO^.......    .\\O@@@@@@/...O@@@@@@@@@O\`                                  ...........................              .=O@@@@@@@@O\`                   ,O@@@@@@@@@/.           ...........................                                     ,O@@@@@@@@@O\`..=O@@@@@OO. ......*oOOOOOO@@OOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOO@@@@@OOOOOO^.......      ..[[[..  .=O@@@@@@@@O\`                                  ....**\\OOOOOO@OOOOOOOOOOo*o^.              .\\@@@@@@@@@O.                 ./@@@@@@@@@O.           ..***ooOOOOOOOOOOOOOOo^o*.*.                                      ,O@@@@@@@@@O.  .*[[[[.   ......*oOOOOOO@@OOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOO@@@@@@OOOOOO^.......               .O@@@@@@@@O\`.                                  .,**,]oOOOOOOOOO@OOOOO[\`*.*..               .O@@@@@@@@O^                 .O@@@@@@@@O\`            .=oooOOOO@@OOOOO@@OOOOoOo^o^.                                      ,O@@@@@@@@O^            ......*oOOOOOO@@@O@@OOOOOOOOOOOOOO \nOOOOOOOOOOOOOOO@@@@@@OOOOOO^.......               =O@@@@@@@@O.                                   .o\\oooOOOO@@@@@@@@OOOO\\]*.,..                =@@@@@@@@O^                 .O@@@@@@@@O.            .***ooOOO@@@@@@@@@@@OOOOooo^.                                      .=O@@@@@@@@^.           ......*oOOOOOO@@@@@@OOOOOOOOOOOOOO \nOOOOOOOOOOOOOO@@@@@@@OOOOOO^.......              ./@@@@@@@@O^                                    ,OOOOOO@@@@@@@@@@@@@@OOOo\\o^.                =O@@@@@@@OO\\]]]/OOOOOOOOo]]/O@@@@@@@@@^.            .oOoOOOOO@@@@@@@@@@@@@OOOOOO.                                       .O@@@@@@@@^.           ......*OOOOOOO@@@@@@@OOOOOOOOOOOOO \nOOOOOOOOOOOOOO@@@@@@@OOOOOO^.......              .O@@@@@@@@O^                                    =OOOOOO@@@@@@@@@@@@@@OOOooo\`.                =O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.            .=ooooOOO@@@@@@@@@@@@@@@OOOO.                                       .O@@@@@@@@O.           ......*oOOOOOO@@@@@@@@OOOOOOOOOOOO \nOOOOOOOOOOOOOOO@@@@@@OOOOOOo*......              .O@@@@@@@@O^                                    .OOOOOO@@@@@@@@@@@@@OOo\`*...                 =@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.            .***=oOO@@@@@@@@@@@@@@@@@OOO.                                       .O@@@@@@@@O.           ......*oOOOOOO@@@@@@@@@OOOOOOOOOOO \nOOOOOOOOOOOOOO@@@@@@@OOOOOOo.......              .O@@@@@@@@O^                                    .OOOOOO@@@@@@@Ooo[[[\`.......                 =@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O.             .......[[\\OOOO@@@@@@@OOOOO^.                                       .O@@@@@@@@O.           ......*oOOOOOO@@@@@@@@OOOOOOOOOOOO \nOOOOOOOOOOOOO@@@@@@@@OOOOOOo.......              .O@@@@@@@@O^                                    .OOOOOOO@@@@@O^.......                       =@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O.             ..........***OO@@@@@OOOOOO^.                                       .O@@@@@@@@O.           ......*oOOOOOO@@@@@@@@OOOOOOOOOOOO \nOOOOOOOOOOOOO@@@@@@@@OOOOOO\\.......              .=O@@@@@@@O^.                                   .OOOOOOO@@@OOO*.......                      .O@@@@@@@@@@@@OO[\`.......\\O@@@@@@@@@@@@O.                   .......=OO@@@@OOOOOO^.                                       .O@@@@@@@@o.           ......*oOOOOOO@@@@@@OOOOOOOOOOOOOO \nOOOOOOOOOOOOOO@@@@@@@OOOOOO^.......              .=O@@@@@@@@\\.                                   .OOOOOO@@@@OOO*.......                      ,O@@@@@@@@@@O\`.            .\\O@@@@@@@@@O^.                  ......*\\OO@@@@OOOOOO^.                                       =O@@@@@@@@^.           ......*oOOOOOOO@@@@@OOOOOOOOOOOOOO \nOOOOOOOOOOOOOOO@@@@@OOOOOOO^.......               .O@@@@@@@@O.                                   .OOOOOO@@@@@OO^.......    .                .O@@@@@@@@@@/.               .,O@@@@@@@@@O.                 ........=@@@@@@OOOOOO^.                                      .O@@@@@@@@@^            ......*oOOOOOO@@@@@@OOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOO@OOOOOOO^.......               .O@@@@@@@@O^.                                  .OOOOOOO@@@OOO^.......    .                =O@@@@@@@@@O.                 .=O@@@@@@@@O^.           .   .........o@@@@@@OOOOOO^.                                     .=O@@@@@@@@O.            ......*oOoOOOO@@@@@OOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooO^.......                =O@@@@@@@@O.                                  .OOOOOO@@@@@OO^.......    .               ./@@@@@@@@@O.                   .=@@@@@@@@@O.           ..........**,O@@@@@@OOOOoO\\.                                     .O@@@@@@@@O^.           .......*oooooOOO@OOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooOoO^.......                .\\O@@@@@@@@^.                                 .OOOOO@@@@@@@@OOOOOO\\\`......             .,O@@@@@@@@O^                     .O@@@@@@@@O^.         .......]OOOOOO@@@@@@@@OOOOOO.                                     ,O@@@@@@@@O.             ......*=oooooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo^.......                 ,O@@@@@@@@O.                                 .OOOO@@@@@@@@@@@@@@@@OOoo]o.             .O@@@@@@@@@O.                      =O@@@@@@@@O.         .***,oOOOOO@@@@@@@@@@@OOOOOO.                                    .O@@@@@@@@O^.             .......,/ooooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOoooooo^.......                 .\\@@@@@@@@@O.                                .OOOO@@@@@@@@@@@@@@@OOOoooO^            .=O@@@@@@@@O.                       .O@@@@@@@@@^.        .=^/oOOO@@@@@@@@@@@@@@@@OOOO.                                   ./@@@@@@@@@O.              .......**=oooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOoooooo^.......                  ,O@@@@@@@@O^                                .OOOOOO@@@@@@@@O@@@@OOOo^*o.            ,O@@@@@@@@O^.                        ,O@@@@@@@@O^        .=ooOOOO@@@@@@@@@@@@@@OOOOOO.                                   .O@@@@@@@@O\`               .......**=oooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOoooooO^.......                  .=O@@@@@@@@O.                               .,*\\ooOO@@@@@@OO@@@@@OOOo\`o^.          .O@@@@@@@@@O.                         .=@@@@@@@@@O.       .**=oooOOO@@@@@@@OOOOOooo,o^.                                  ,O@@@@@@@@@^.               .......*\`/oooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo^.......                   .O@@@@@@@@OO.                              ...*,/oOOOO@@@OOOOOOOOOOooo^.         ./O@@@@@@@@O.                           .O@@@@@@@@@\\.      .,*,oooOOOOOOOOOOOOOOO/[**o^.                                 .O@@@@@@@@@O\`               ........*^ooooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo*.......                    ,O@@@@@@@@@^.                             .,.*/ooOOOOOOOOOOOOOOOOOooo^.         =O@@@@@@@@O^.                            ,O@@@@@@@@O\\.     .=^=oOOOOOOOOOOOOOOOOo*****.                                 .=O@@@@@@@@O\`                 .......*\`ooooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo\`.......                     ,O@@@@@@@@O^.                                   ....................          ,O@@@@@@@@@/.                             .=O@@@@@@@@O^.        ..................                                      .=O@@@@@@@@@^.                 .......=oooooOO@OOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo*. .....                     .\\O@@@@@@@@O^                                                               .=O@@@@@@@@@/.                               .=O@@@@@@@@O\\.                                                               ,O@@@@@@@@@/.                  ......*oooooOO@@@@@@OOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOooooo*. .....                      .=@@@@@@@@@O\\.                                                            .=O@@@@@@@@@O.                                 .\\@@@@@@@@@@\\.                                                            .=O@@@@@@@@@/.                   .......=oooooOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOooo\`.......                       .\\O@@@@@@@@@\\.                                                          .O@@@@@@@@@@/.                                   .\\@@@@@@@@@@O\`.                                                         ./O@@@@@@@@@O.                    ......*/oooOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOo^...................            .=O@@@@@@@@@O\`.                                                      ./O@@@@@@@@@O/.                                     .\\O@@@@@@@@@@O\`.                                                     .,O@@@@@@@@@@/.          .   .     .......*oooOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOoo*.*.................            .\\O@@@@@@@@@@O\`.                                                 .,OO@@@@@@@@@@O/.                                        ,O@@@@@@@@@@@O\`.                                                 ..OO@@@@@@@@@O/.        .....  ..... .......*oooOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOo\`*****..............              ,O@@@@@@@@@@@O]..                                          ..]OO@@@@@@@@@@@@O.                                           .\\O@@@@@@@@@@@@O\\.                                            .,OO@@@@@@@@@@O^          .................***=oooOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOooo\\]]**.............              .\\O@@@@@@@@@@@OO\\\`..                               ...,]OO@@@@@@@@@@@@@@@O\`.                                             .,O@@@@@@@@@@@@@@@OO\\\`....                              ...]OO@@@@@@@@@@@OO.           ...........***]]]ooooOOOOOOOOOOOOOOOOOOOOOOOOOOO \nooooOOOOOOOOOOOOOOOOOOOOOOOOOoOOOOo^*****........                ,\\O@@@@@@@@@@@@@@@OOOOOO\\]]]]]]]]]]]]]]]OOOOOOOOO@@@@@@@@@@@@@@@@@@@@O[.                                                 .,O@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOo\\]]]]]]]]]]]]]/oOOOO@@@@@@@@@@@@@@@@O\`.            ........****,oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo]\\**]........                  .\\O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO\`.                                                     ..\\O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O\`.              .......****]/oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo*.......                    .\\O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO/\`.                                                           ..\\O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O/.                 .......=o/oooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \noooOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@OOOOOoO^.......                      ..[OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO/[.                                                                   .[\\OO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OO[..                   .......oOooOOO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@OOOOOO^.......                          ..,[\\OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOO/[[...                                                                           ...[[\\OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOO[[..                       .......oOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@OOOOOO^......                                 ......[[[[[[[[[[[[[[[[[[[[[[.....                                                                                               ......,[[[[[[[[[[[[[[[[[[[[[[...                               ......=OOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@OOOOOO^......                                                                                                                                                                                                                               .......*/ooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@OOOOOoO^......                                                                                                                                                                                                                               .......*\`=oooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@OOOOOOO^......                                                                                                                                                                                                                               .......*oooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@OOOOOOOo*......                                                                                                                                                                                                                              ......*=oooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@OO@OOOOOOOo*..*....   ..                                                                                                                                                                                                            ......     .....***=ooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo^***..........  ..                                                                                                                                                                                                     ....................,ooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo\\,****........                                                                                                                                                                                                         ....................,ooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo\`**..........                                                                                                                                                                                                      .....*.***]oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooo\`*\`.......                                                                                                                                                                                                         .=o**]/oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoo/***......                                                                                                                                                                                                   .......*\`*=ooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo\`........  ...                                                                                                                                                                                     .     ........=oooOOOO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@OOOOOOOo*.................                                                                                                                                                                             ................*OOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@OOOOOOOo***.................                                                                                                                                                                        ................***=OOOOOOO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo\`****..........                                                                                                                                                                            .... .........******=OOOOOOO@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo\\**............                                                                                                                                                                       ...........**]oOOOOOOO@@OOOO@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo^****........                                                                                                                                                                         .......****ooOOOOOOO@@@@OOO@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo\`*****.......                                                                                                                                          .                              .....****=ooOOOOOOOOO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooo\`***.......            ..   ............                                                                                                       ..............                    .......,o]oooOOOO@@@@O@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooOOOOOOOOOOOOOOOOOOoooooo**........................................                                                                                           ..................................       ......*oOOOOOO@@@@@@@OO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo^****.....................................                                                                                           ..................................      .......,oOOOOOOO@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo\\****......................................                                                                                          ...............................................=oOOOOOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooooooooOOOOOOoOOOOOOOOOOOO^*............                                                                                   .............****]]]]\`*********]]*]]]oo]ooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOOoOo^***..........                                                                                   ........*********oooo\\]\\/ooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooo^*****........                                                                                    .......******oooooooooooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooo\\]]*........ .. ... .       .. ...............            ......  ................      .     .......*]]/oooooOOOOOooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOoo^*................................................................................................*ooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@OOOO@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@@OOOO@@@@OOOOOOOOOooooo\`*.........................................................................................******=ooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@OO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOo\`..........................................................................................*****,ooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@OOOOOOOOOOooooo\\******,]]]ooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@OOOOOOOOoooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOOO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@@@@@@@OOO@@@@@@@@@@OOOOO@@@@@@O@@@@@@@@@@@@@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@OO@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOOOOOOOOOoooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoo \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooOOOOOOOOOOOOOOOOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO`;

let sshwyBuShiGeMenPainting = `OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO^=ooOOOO^  ....*. ..*......OOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO^oooOOOO^ .....^. ..*......OOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO^oooOOOO^ .....^....*......OOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO^=ooOOOO^......^....*......OOOooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO^=oooOOOo......=....*......OOOO^OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@\\=ooOOOOO......=....*......OOOO^oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@OoooOOOOO. ....=....*......=OOO^oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@OoooOOOOO. ....=....*......=OOO^oOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@O/ooOOOOO. ....,...........=OOO[/OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO/[[[[[[[[[[[[[[[[[[\\OOO.             /oo^                   ..=O  /.  OO[[[[[[[OOO[    [OOOOOOOOOOOOOO[    [OOOOOOOOOOOOOO[    [OOOOOOOOOOOOOO[    [OOOOOOOOOOOOOO[    [OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO]]]]]]]]\`  ]]]]]]]/OOO  [[[[[[[[[[  oooOO/[      ,\`...  .... =\` //oO.]O]]]]/  OO^,/OO\\  =OOOOOOOOOOO^,/OO\\  =OOOOOOOOOOO^,/OO\\  =OOOOOOOOOOO^,/OO\\  =OOOOOOOOOOO^,/OO\\  =OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO\` ,OOOOOOOOOOOO  OOOOOOOOO@  =ooOO^   ....  ...  .....  =Oo  OOOOOOOO  OOOOOOOO\` =OOOOOOOOOOOOOOOOO\` =OOOOOOOOOOOOOOOOO\` =OOOOOOOOOOOOOOOOO\` =OOOOOOOOOOOOOOOOO\` =OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO/    O/\\OOOOOOOOO              ,[oOO^         ...  ....   =Oo  @OOOOOOO  OOOOOO/  =OOOOOOOOOOOOOOOO/  ,OOOOOOOOOOOOOOOO/  ,OOOOOOOOOOOOOOOO/  ,OOOOOOOOOOOOOOOO/  =OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO[  ,O  O]   \\OOO/[[[[[[[[[[[[[[[\`.[=.                     . =Oo  @OOOOOOO  OOOOO  ]OOOOOOOOOOOOOOOOO  ]OOOOOOOOOOOOOOOOO  ]OOOOOOOOOOOOOOOOO  ]OOOOOOOOOOOOOOOOO  ]OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO\`  ,OOO  OOOO\`   \\OOOO[\\OOO^ =OOOOOoOOOOOO\`.....=^...  ...... =Oo  @OOOOOOO  OOOO^ =OOOOOOOOOOOOOOOOO^ =OOOOOOOOOOOOOOOOO^ =OOOOOOOOOOOOOOOOO^ =OOOOOOOOOOOOOOOOO^ =OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO\`  /OOOOO  OOOOOOO]OOOO^ =OOO^        =OO@^         ...  ...... =Oo  @OOOOOOO  OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOO@OOOO@@@@@@@@@  @@@@@OOOOOO^   ,OO^ =OOOOOO@@@@^         ...  ...... =Oo  @OOOOOOO .OOOO   OOOOOOOOOOOOOOOOO   OOOOOOOOOOOOOOOOO   OOOOOOOOOOOOOOOOO   OOOOOOOOOOOOOOOOO   OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOO[[[[[[[[\`................            .....   ...             ,@@\\]\` .....      ...... =OO  @OO^     =OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@O@OOOO@OOO@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOOOOOOOO[[[[[[[[[[[... \n............................................****************[\\oooO@@@@@@@@OO^ ....*^....*.....=@OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@@OO@@@OOOOOOOOOOO[[[[[[[[[[[[[[[.................................................................... \n................................................****************=O@@@@@@@@OO^ ....*^....*......@@@OOOOOO[[[[[[[[[[[[............................................................................................**......********............... \n........................................................****.***/O@@@@@@@@OO^ ....*o....*......O@@OOOOO\\........................................****............................................................****............****........... \n]]]]]]]]]]]]]]]]]]OOOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOo[OOOO^ ....*o....*......O@@OOOOOO..............................................................................................**...*****..**]]]]]]]]]]]]]]]]]/OOOOOOOOO \n[[[[[[[[[[[[[[[[[[[\`.............................***]]]]]]]]]]]]OOOOO^*.*OOOO ....*o....*......O@@OOOOOO...........................*****...****]]]]]]]]]]]]]]]]]]]]O]]/OOOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOO/O/[[[[[[[[[[[[[[[.. \n........**]],]]]]]]]]]]]]/ooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo/[[*...OOOO.....*o....**.... =@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOO[[[[[[[[[[[[[\`....             ......................***,]]]]]]]/OOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOo/[[[[[[[[[[[[****.................................OOOO.....=o....*....  =@O@@@@@@/[......................      ..........]]]]]]]]]]]]]]]]/ooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \n......................................................................**]OOOO.....=o...........[...,[OOO*]]OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO[[[[[[[[[[[[[[[[[.............................................. \n........................................................,]]]]]]]]oooo]]]\`*\`/OOooooOOOOOOOOOOOO]**,ooo/[[[[[[[[[[[[[[........................................................*]]]]]]]]]]]]]/oooooooooooooooooooooooooooooooooooooooooooooooooooo \n........\`\`.............   ...........................         ..           ..                   \\]]]\`..,]]]]]]]]]]]]]ooooooooooOOoooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo \n               .........]]]].......*.....********]]]]]/ooooooO^     ,o*/[[\\O^                  .OO,\`[\\oOooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooOOOOOOOOOOOOOOooOOooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \n^**********[*********************************************..**,oooooOOOoO\\]]O^                   OO]\`,oo/.,\\oooooOOooooooooooOOOOOOOOOOoooooOoooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo \n]]]]ooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooOOOOOO                   OOoo[\`    .\\\`,\\OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \nOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOo/[[[[[o\`   .,**[\\OO                  .OOooOO@@O^.OO^  ............]]]]ooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO \n[......                         ....................********]]]]]]....OOo\`=O@@@@@@@@@@@@@@@@@@@@@@@@@OO@O..OO^  =OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooo \n................*****.......................................,]]]]]]]]]/Oo]/@@@@@@@@@OOOOOOOOOOOOOOOOOOOOO\\/OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOoooooooooOOooOOooooooOOOOOooooooooooooooooooooooooooooooooooooooooooooooooo/[[[[ \n]]]]]]]]]]]]OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO@@@O@OOOOOOOOOOOOOOOOOOOooooooooooo[[[[[[[\`*[[[[ooooooooOoooooooOOOoooooooooo[[[[[[\\[[[[[\`**[[[\\ooooo/[[ooo[[[[[[[[[[[[[[[[[[\`*********************************.****....******..... \nOOooooooooOOOOOOOOooooooOOoooooooooooooooooooooooooooooooooOOOOOOOOOOOOOOOOOOOOOOOO/[o/[oo[\`****.................*********************.............]]]*........................................................................................ \nooooooooooo[[[[*[[******[[[[[[[[******************.........=Ooo\\oooooOOOO\\/**,ooooO.....................................................,]/O@@@@@@@@@@@@@@@@O]................................................................................. \n...........................................................=O^****ooO@@@@@O...***=o..................................................]@@@@@@@@@@@@@@@@@@@@@@@@@@O@O\\........................................................................... \n...........................................................=O^*****,O@@@@@/......=/................................................,@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\\.......***********]]]]]]]]oOOOOOOOOOOOOOOOOOOOOOOOOOOOO/[[[[[[[[[[[[[[[[[ \n...........................................................=O\\........[[[.........*.........................]]]]]]]]]]]]]]]]]]]]\`/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO/................................................................. \n..............................******]]]]]]]]]]]]]]]]]]]]]]]OOO@OOOOOOOOOOOOOOOOO[[[[[[[[[[[[[[[................................*O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O\\................................................................ \nOOOOOOOOOOOOOOOOOOOOOOOOOOOO[[[[[[[[[[[\`................... ..                      .........................................,O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O^................................................................ \n..................................................................   .................................................... .]O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\\................................................................ \n............................... ..............................................................  ......................   /O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\`.............................................................. \n....................................................................      ......................................... .  .O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O\`.      ..................................................... \n...............           .......................................         ..................... ..................     ,@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\`      .......................... .....    ................. \n        .                 ........................................       .................  ... ..................     =@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\`    ...................................................... \n                         ........................................................................................     .=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.   ..................................................... \n            .   ......  ................................................................  .........................   .O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O.        ................ ............................... \n        ........................    .............   .              ...            .............   ................    .O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.           ....... \n  ..    ..........   ..............    .........    ..   .    .........         .........................             .O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@. \n  ............. .  ...      ...................... ........   ...           ...                                        O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.                                                   .. \n       .......                                  ......  ..            ..    .                                          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.          ......          ......... \n                                            ..                                                                         O@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOO@@@@@@@@@@@@.                   .. \n                                            .                                                                          @@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@O\`=oooOO@@@@@@@@@@@.                                        . \n                                                                                                                       \\@@@@@@@@@@@@@OOooooOOOOO@@@@@@@@@@O@@OOO@@@O\`*/o\\*\\O@@@@@@@@@@/          ....                            ...... ...... \n                             ..         ..                                                                             =@@@@@@@@@@@OOo\`...*\\oOOO@@@@@@@@OOO@@/oO@@@\`.**oo**O@@@@@@@@@@.       ..... .      ...                    ........  ... \n                                    ....                                                                                \\@@@@@OOOOOO[.......*\\O@@@@@@@OOOoOOO*=O@@\`....*oo*oO@@@@@@@@O                     ..               .... .............. \n  ....                              .....                                                                          .....=@@@@^....**..... ...*O@@@@@@OOOoOOOo*=@@\`......*\`*\\O@@@@@@@@^            ....  ..              ....................... \n       ....                     ..  .    .                 ..                                                      *^....@@@O............. ..=OO@@@OOo[[[\`**..O@^........***\\O@@@@@@\`                   ..                  .......... \n                                        ....       ...  .   ..                                                     .*....=@@O..................[[[[\`.........//*.........**..=@@@@@^ \n                           .    ......  ......      ...... .                                                       .*....,@@O....*/OOOo]..    ....      ......................\\@@@O.=OO\\. \n                                   ....                                                                             .*.*..=OO.*****oOOOOOO\\.. ...     .    ...........**......=@@@***,OO. \n                                                                                                                   ....*...=O^..*******,[OOOOO\\\`........... ..]]OOOOOOO[\`*....O@@^*...OO. \n                                                                                                              ..*,oO\`...*o^.=@]..=OOO\\]]\`*]\`.,\\Oo*.*..,\\]/O@@O@OO/[....****..=O@Ooo\\**Oo \n                                                                                                           ..**.*oOOo......*.\\@@@/[[[[[[\\OOOOOO\\.......**\`..*...........***..=@/\`=Oo*oo. \n                                                                                                         .,o***]OOOOOO\`.......,O................[O@\\].]/OOOOOOOO@@@@@@@@\\]\\]@@\`.,OO^*=.                    ... \n                                                                       ]@@@@@@\\\`                      ..*o]OOOOOOOOOOOO\\.......=\`................@@@/@@@O...*****....***,\\@@@.,O/../o\`     ...  .....   ... \n                                                                     /@@@@@@@@@@@^                  .,***oOOOOOOOOOOOOOO@@@O^...^..............,@@^   =@@................=O...*..,o[.      ..       ...                .........    . \n                                                                    @@@@@@@@@@@@@@\`          ..,]/[******=OO[..........****,\`*..\`.............,@@\`.    =@\\...............O..*,\`***.                                 ........                 .. \n               ...                                                 =@@@@@@@@@@@@@@^     ..**[************oO............********..........*]]]OO^...     \\@O\`...........,o..*[*[.            ...      ..        .......   ....           . \n                                                                   @@/...[@@@@@@@@^..********************o^............********..............*.....     .=O/**,[\\ooooo[****.           .    ..  .  ....                             .. \n                                                                   @@O/\`...O@@@@@O..*****......*********=O^............********........ ..........      ...*............*\`*..                                                              .... \n                        .......                                    O@@@@^..O@@@@O\`..*****.....**********/Oo*..............******........................\`**..........*****,oo\\.. \n                .........                                          @@@@@@@@@@OOOOOO*.*****..****^*******OOo**..............****,**................*******............****,oOo\\]**....... \n                                                                 ,@@O/[[\`.....,OOOO\\..*****************/O/\`**...............*******..................................*****\\ooooo**********.. \n                                                               ,@@\`............=OOOO*..****************oo**..................********.........***]***.......*........**=O\\/ooOOO^..*********.*. \n                                                              O@/..............*oOOO^..****=o*********=o^*....................********......*O@@@@@@@@@OOO\`***......***\\@@^ooOOOO...*,=***..***..               ..    ...    ......... \n                                                            /@@\`**..............=OOOo..*****[*********ooo*.....................*******.......,OO@@OOOO@@@O^*........**..O@O=oOOOO...****...******.                ........   ..... ..... ...... \n                                                          ,@@/.\`................*oOOO^.****************[/...............................................................=@OO/ooOO*.........******..    ..          .         ..... \n                                                        ,@@\`.....................=OOOo..**..................      ........................,]]]]]]]]]]]]]]]]]]]]]OOOOOOOOOOOOOOOOO@@@@@@@@O\`****.**..               ... \n                                                       /@/ ....,]]]]]]]]]]]]]]OOOOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^...*****..                          ...  .......... \n.....                                                /@/  ...@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^......***.              ..   ..... \n                                                   ,@@\` ....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^......***.................    .... \n                                                 ,@@^ .*....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.........*. ............ \n                                                /@/  .......=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.....*..**...      .  ....   .. \n                                   ......     /@@\` .........=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^....*****....  .  ........... .. \n                                            ,@@\` ....*......=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^..******.....     .   .................   .......... \n                                          ,@@\`  ...*****....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.******......             .............  ........... \n                                         /@/ ..*********....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^.*****......             ....   ......   ........... \n                                       /@@\` .***********....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^..****.......   .....   .....    . ........... ..... \n                                     /@@/..*************....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@...****.......   ...     .........       ............ \n                                   /@@@\`....************....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.....***........  .             ..   ...   .......... \n                                  /@@/.....*************....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.....***                        ..................... \n                                 /@@....***************.....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O....****                   ..   .........  ..     ... \n                                =@@\`...****************.....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O....***^                    .   ......... \n                               =@@^.....****************....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@O...****\`                       ...........     .].]]] \n                              ,@@@\`.....****************....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@/....***^       =@@@@@@\\      .*...........     =@@@@@ \n                             =@@@O*.....****************....=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOoOOOO@@@@@@@@@^....**o^.      =@@@@@@O    ...*...........     O@@@@@ \n                            /@@@@O\\]*********************.../@O@@@O@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^...*,oOO.      =@@@@@@O    ................    =@@@@@ \n.                        /@OOOOOOO^\\oOoooo\\*..,ooo^*****=OOOOOOO@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@^..]/OOOO^      =@@@@@@O     ..,..  ...    .    =@@@@@ \nO.                  .,oOO@@@@@@@@OoooOOoooo...OOOOO*****=O@@@@@@@OOOOO@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOO^      =@@@@@@O     ,oo. .             =@@@@@ \nO. .              .**/OOOO@@@@@@@@OooooOOOO\\.=O@@@@\\*****O@@@@@@@@OOOOOO@OOO@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOooOO^      =@@@@@@O    ...=^               =@@@@@ \nO\\...            ,\\/OOOOOO@@@@@@@@OoOoooOOOO\\/O@@@@Oo]***O@@@@@@@@OOOOOO@OOO@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Oo*,ooooOo      =@@@@@@@       ,^    ....       =@@@@@ \nOO\\..           =OOOOOOOOO@@@@@@@@OoOOoooOOOOOO@@@@OoOoooO@@@@@@@@OOOOOOOOO@@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOO.     =@@@@@@@        *,OOOOOOOOOO].  /@@@@@ \nOOOO....       =@OOo/[*ooO@@@@@@@@^.***....*[OO@@@@OoOOOOO@@@@@@@@OOOOOOOOO@@OO@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@OOOOO.     =@@@@@@@^      =OoOOOOOOOOOOooo[@@@@@@ \nOOOOO...       @@OOo]/o/\\O@@@@@@@@O***\`....**=O@@@@O,\\oOOO@@@@@@@@OOOOOOOOOOOOO@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOO@@@@@@O.     =@@@@@@@^       .=OOOOOOOOOOooo=@@@@@@ \n@OOOO\\...     =@OOOOOo***O@@@@@@@@O^.*o\\]/oo\\OO@@@@@****=O@@@@@@@@OOO@@OOOOOOOO@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOO.    .=@@@@@@@^        =OOOOOOOOOOooo=@@@@@@ \n@OOOo\`*..     /@OOOoOo**=O@@@@@@@@@^/ooOOooooOO@@@@@o^**=O@@@@@@@@@O@@@@@OOOOOO@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOooooOOOO.    .=@@@@@@@^        =OOOOOO/[[\\ooo=@@@@@@ \n@@OOOo\`..    .O@OOoooooooO@@@@@@@@@^*[[oooOOOOO@@@@@oOOOOO@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@O@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOoooooo\\OO     .=@@@@@@@^        =/\`......      O@@@@@ \n@@OOOOO\`.   .O@OOOooooooOO@@@@@@@@@^.*,oOOOOOO@@@@@@OOOOOO@@@@@@@@@@@@@@@OOOOO@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@O@@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OoooOOOOOOO      =@@@@@@@^        ,\\]\`..         O@@@@@ \n@@OOOOOO.  /@OOOOOOOOOoOOO@@@@@@@@@OooooOOOOOO@@@@@@ooOOOO@@@@@@@@@@@@@@@OOOOO@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OoooOOOOOOO.     .@@@@@@@^        =@@^\\@@@@OO]]. O@@@@@ \n@@OOOOOO^=OOOOOOOOOOooooOO@@@@@@@@@OoOOOOOOOOO@@@@@@OOOOOO@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OoooooOOo*o\\...  .@@@@@@@^     ..=@@@@\\..,\\OOOooO@@@@@O \n@@@@OOOOO=OOOOOOOOOoooooOOO@@@@@@@OOOOOOOOOOOOO@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOo\`=//*. .@@@@@@@^    .*,\\@@@@@@@@@@@@OO@@@@@@@ \n@@@@@OooOOOOOOOo,\`]oOOOOOOO@@@@@@@OOOOooOOOOoO@@@@@@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@@@@@@@@@OOO@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOOOOO\\]^=@@@@@@@@....**ooO@@@@@@@@@@@@@@@@@@@@ \n@@@@@OO**\\OOOOO/,\`/O@@@OOOO@@@@@@@OoOOOOOO@OOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOO@@@@@@@@@@@@@@@@@@@@@@@@@OO@@@@@@@@@@@@@@@@@@@@@@OOOO@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@OOOOOOOOOOOOOOo\`*/@@@@@@@@^....*oOO.*ooOO@@@@@@@@@@@@@@`;

// <!-------------------------------------------------------------- End: 字符画 ---------------------------------------------------------->

function compareArrays(arr1, arr2) {
	for (let i = 0; i < Math.max(arr1.length, arr2.length); i++) {
		// 如果到达较短数组的末尾，但仍在较长数组中有元素，则更长的数组更大
		if (arr1[i] === undefined) return -1;
		if (arr2[i] === undefined) return 1;

		if (arr1[i] < arr2[i]) {
			return -1;
		} else if (arr1[i] > arr2[i]) {
			return 1;
		}
	}
	return 0; // 数组相等
}

// 缓存
let Cache = GM_getValue('cache', {});
function syncCache() {
	GM_setValue('cache', Cache);
}

function setChar(str, index, ch) {
	str = str.substring(0, index) + ch + str.substring(index + 1);
}

function setFont(text, font, whetherAddQuotationMarks = true) {
	return `<span style="font-family: ` + (whetherAddQuotationMarks ? `'` : '') + font + (whetherAddQuotationMarks ? `'` : '') + `;">` + text + `</span>`;
}

function randomToken() {
	return Math.floor(Math.random() * 4294967296).toString(16) + Math.floor(Math.random() * 4294967296).toString(16);
}
function get_rnd(l, r) { // return an interger ranged in [l, r]
	return Math.floor(Math.random() * (r - l + 1)) + l;
}

function clearNode(node) {
	while (node.firstChild) {
		node.removeChild(node.firstChild);
	}
}

function getDaysDiff(date1, date2) {
	let timeDiff = date2.getTime() - date1.getTime();
	let diffDays = Math.ceil(timeDiff / (24 * 60 * 60 * 1000));
	return diffDays;
}
function RemoveHours(date) {
	date.setHours(0, 0, 0, 0);
	return date;
}

function getArrayPrefixSum(arr) {
	return arr.reduce((acc, curr) => {
		let lastSum = acc.length > 0 ? acc[acc.length - 1] : 0;
		acc.push(lastSum + curr);
		return acc;
	}, []);
}

// GM 变量列表
let GMVariableList =
[
	{
		textBefore: "LaTex 公式设置",
		name: "whetherMagnifyLaTex",
		type: "bool",
		defaultValue: false,
		description: "放大 LaTex 公式（不太稳定）",
	},
	{
		name: "LaTexMagnification",
		type: "number",
		step: 0.05,
		defaultValue: 1.25,
		description: "LaTex 公式的放大倍数",
		style: "width: 120px",
	},

	{
		textBefore: "题目界面设置",
		name: "whetherCopyPreCode",
		type: "bool",
		defaultValue: true,
		description: "添加复制代码框的按钮",
	},
	{
		name: "whetherAddMySubmissionsAndAllSubmissionsButtons",
		type: "bool",
		defaultValue: true,
		description: "在题目界面添加“我的提交”“所有提交”按钮，并给“返回比赛”按钮添加图标，给比赛里的题目界面添加“源题目”按钮",
	},
	{
		name: "whetherShowInvolvingContestListInProblemPage",
		type: "bool",
		defaultValue: true,
		description: "在题目界面显示这道题在哪些比赛中被使用过（比赛里的题目界面不会显示）",
	},
	{
		name: "whetherAddOpenIframeInNewTabButton",
		type: "bool",
		defaultValue: true,
		description: "添加在新标签页中打开 pdf 题面的按钮",
	},
	{
		name: "whetherAllowUploadBigFile",
		type: "bool",
		defaultValue: true,
		description: "破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制"
	},

	{
		textBefore: "比赛界面设置",
		name: "whethershowProblemsSolvedInContestListPage",
		type: "bool",
		defaultValue: true,
		description: "在比赛列表界面显示补题情况",
	},
	{
		name: "whetherHighlightStandingsPageSelfLine",
		type: "bool",
		defaultValue: true,
		description: "将比赛排行榜界面自己的那一行高亮并添加“只显示关注的人”按钮",
	},
	{
		name: "starredUserNameList",
		type: "list",
		defaultValue:
		[
			"zhengruioi",
			"waaadreamer",
		],
		/*zac2010,PPPxvchongyv,cjr2010,yangshuyu,Xiang_Haoyang,swt2009,sl2022phx,wangzhiyuan12345,lrher,songziyan,laoy26,Z_301,huangjianheng,maoyiting,Meko,Caijh,wangmarui*/
		description: "关注的用户列表（用英文逗号分隔，忽略所有空格）",
		filledValueProcessFunction: (s => s.toString()),
		returnedValueProcessFunction: (s => s.value.toString().replaceAll(' ', '').split(/[,;]/)),
		style: "width: 500px",
	},
	{
		name: "whetherChangeContestPageButtonIcon",
		type: "bool",
		defaultValue: true,
		description: "给比赛界面的部分按钮添加图标",
	},

	{
		textBefore: "输入框设置",
		name: "whetherAddGoToProblemAndGoToUserProfileInputLabels",
		type: "bool",
		defaultValue: true,
		description: "在导航栏添加跳转到题目和跳转到用户主页的输入框",
	},
	{
		name: "whetherAddDatalistForAllUserNameInput",
		type: "bool",
		defaultValue: true,
		description: "添加用户名输入框的提示选项",
	},

	{
		textBefore: "提交记录界面设置",
		name: "whetherAddCodeLineNumber",
		type: "bool",
		defaultValue: true,
		description: "给提交记录界面的代码添加行号",
	},
	{
		name: "whetherAddNailongInSubmissionPage",
		type: "bool",
		defaultValue: true,
		description: "对提交记录界面的状态使用新的染色方案",
	},

	{
		textBefore: "其他设置",
		name: "whetheraddPunchTheClockInHomePage",
		type: "bool",
		defaultValue: true,
		description: "在首页显示正赛天数倒计时和一言 "
	},
	{
		name: "whetherChangeIcon",
		type: "bool",
		defaultValue: true,
		description: "更改网页图标（修复了 download.php 没有图标的特性）",
	},
	{
		name: "whetherFakeZAC2010ColorAndProfile",
		type: "bool",
		defaultValue: false,
		description: "更改 <span class='uoj-username' style='color: red;'>zac2010<sup>ℵℵℵ</sup></span> 的用户名颜色和主页",
	},

	{
		textBefore: "样式设置",
		name: "whetherChangeWebsiteCSS",
		type: "bool",
		defaultValue: true,
		description: "美化样式（如关闭该选项则“样式设置”中所有其他选项均不会起作用）",
	},
	{
		name: "whetherAnimationTransitionEnabled",
		type: "bool",
		defaultValue: true,
		description: "添加动画渐变效果",
	},
	{
		name: "whetherUnderlineAHoverEnabled",
		type: "bool",
		defaultValue: true,
		description: "在鼠标悬浮在链接上时给链接添加下划线（如关闭则会添加淡蓝色背景）",
	},
	{
		name: "mainFontSerifString",
		type: "text",
		defaultValue: `"Latin Modern Roman 10", "宋体-简", "Times New Roman", "宋体"`,
		description: "默认的衬线字体(" + setFont("Serif", 'var(--main-font-serif)', false) + ")",
		returnedValueProcessFunction: (s => s.value.toString().replaceAll(`'`, `"`)),
	},
	{
		name: "mainFontSansString",
		type: "text",
		defaultValue: `"阿里巴巴普惠体 2.0", "Fira Code", "Consolas", "微软雅黑"`,
		description: "默认的无衬线字体(" + setFont("Sans", 'var(--main-font-Sans)', false) + ")",
		returnedValueProcessFunction: (s => s.value.toString().replaceAll(`'`, `"`)),
	},
	{
		name: "mainFontMonospaceString",
		type: "text",
		defaultValue: `"Fira Code", "Consolas", monospace`,
		description: "默认的等宽字体(" + setFont("Monospace", 'var(--main-font-monospace)', false) + ")",
		returnedValueProcessFunction: (s => s.value.toString().replaceAll(`'`, `"`)),
	},
	{
		name: "mainContentFontType",
		type: "selection",
		defaultValue: "--main-font-serif",
		description: "正文的默认字体种类",
		options:
		[
			{
				text: "Serif",
				value: "--main-font-serif",
			},
			{
				text: "Sans",
				value: "--main-font-sans",
			},
			{
				text: "Monospace",
				value: "--main-font-monospace",
			},
		],
	},
];

let judgementVerdicts = [
	{
		name: "Accepted",
		cssName: 'panel-uoj-accepted',
		defaultColorBackground: "#00ee00",
		defaultColorHover: "#2bff4f",
		defaultColorText: "#303030",
	},
	{
		name: "Wrong Answer",
		cssName: 'panel-uoj-wrong',
		defaultColorBackground: "#dd0000",
		defaultColorHover: "#ff0000",
		defaultColorText: "#eeeeee",
	},
	{
		name: "Runtime Error",
		cssName: 'panel-uoj-RuntimeError',
		defaultColorBackground: "#9D3DCF",
		defaultColorHover: "#B446ED",
		defaultColorText: "#dddddd",
	},
	{
		name: "Time Limit Exceeded",
		cssName: 'panel-uoj-TimeLimitExceeded',
		defaultColorBackground: "#EBD62B",
		defaultColorHover: "#FAE42E",
		defaultColorText: "#303030",
	},
	{
		name: "Memory Limit Exceeded",
		cssName: 'panel-uoj-MemoryLimitExceeded',
		defaultColorBackground: "#083363",
		defaultColorHover: "#0B4687",
		defaultColorText: "#dddddd",
	},
	{
		name: "Output Limit Exceeded",
		cssName: 'panel-uoj-OutputLimitExceeded',
		defaultColorBackground: "#1AD8D9",
		defaultColorHover: "#1DF2F2",
		defaultColorText: "#303030",
	},
	{
		name: "Dangerous Syscalls",
		cssName: 'panel-uoj-DangerousSyscalls',
		defaultColorBackground: "#420516",
		defaultColorHover: "#690722",
		defaultColorText: "#dddddd",
	},
	{
		name: "Acceptable Answer",
		cssName: 'panel-uoj-acceptable-answer',
		defaultColorBackground: "#ee5500",
		defaultColorHover: "#ff7700",
		defaultColorText: "#eeeeee",
	},
	{
		name: "Skipped",
		cssName: 'panel-uoj-Skipped',
		defaultColorBackground: "#888888",
		defaultColorHover: "#999999",
		defaultColorText: "#eeeeee",
	},
];
(function() {
	let ind;
	for (let i = 0; i < GMVariableList.length; ++i) {
		if (GMVariableList[i].name == "whetherAddNailongInSubmissionPage") {
			ind = i;
			break;
		}
	}
	// console.log(ind);
	for (let verdict of judgementVerdicts) {
		// console.log(verdict);
		GMVariableList.splice(++ind, 0, {
			name: `${verdict.cssName}_verdictBackgroundColor`,
			type: "color",
			defaultValue: `${verdict.defaultColorBackground}`,
			description: `${verdict.name} 状态背景颜色`,
		});
		GMVariableList.splice(++ind, 0, {
			name: `${verdict.cssName}_verdictHoverColor`,
			type: "color",
			defaultValue: `${verdict.defaultColorHover}`,
			description: `${verdict.name} 状态鼠标悬浮时颜色`,
		});
		GMVariableList.splice(++ind, 0, {
			name: `${verdict.cssName}_verdictTextColor`,
			type: "color",
			defaultValue: `${verdict.defaultColorText}`,
			description: `${verdict.name} 状态文本颜色`,
		});
	}
	// console.log(GMVariableList);
})();

let instructionString = `
此处只提供部分功能的使用说明。

### 比赛列表界面爬取补题情况

有两个用户名输入框“要爬取的用户名1”“要爬取的用户名2”。

可以选择单人模式（爬取 1 个用户的补题情况）或双人模式（对比 2 个用户的补题情况）。

#### 单人模式

只需在“要爬取的用户名1”输入框内输入用户名即可。此时在“要爬取的用户名2”输入框内输入无效！

题目颜色为 <span class="btn btn-sm btn-success">绿</span> 表示已通过；

为 <span class="btn btn-sm btn-danger">红</span> 表示自己未通过。

#### 双人模式

在两个输入框内分别输入两个用户名。

题目颜色为 <span class="btn btn-sm btn-success">绿</span> 表示两人都已通过；

为 <span class="btn btn-sm btn-info">青</span> 表示用户 1 已通过，用户 2 未通过；

为 <span class="btn btn-sm btn-warning">橙</span> 表示用户 1 未通过，用户 2 已通过；

为 <span class="btn btn-sm btn-danger">红</span> 表示两人都未通过。

点击“爬取自己的补题情况”按钮可以在单人模式下爬取自己的补题情况。

### 用户名输入框自动补全

关注用户后，在用户名输入框内该用户名会作为候选项出现。

在用户名输入框内：

默认选择第一个候选项。

按 \`空格键\` 或 \`下方向键\` 切换到下一个候选项。

按 \`上方向键\` 切换到上一个候选项。

按 \`Enter\` 键时，如果输入框内字符串与选中的候选项不相等，则会以选中的候选项补全之；否则会提交表单。

### 评测状态染色

可以在设置里修改每种状态的染色。每种状态共有三种颜色：**背景色**、**鼠标悬浮时的颜色**、**文本的颜色**。

[这条评测记录](http://zhengruioi.com/submission/895811) 里包含了除 Acceptable Answer 和 Skipped 之外的所有评测状态，可以用来测试效果。
`;

let aboutThisScriptString = `
**ZROJ Better!** 是由菜鸡 [**sl2022phx**](http://zhengruioi.com/user/profile/sl2022phx) 制作的插件。

感谢 [**PPPxvchongyv**](http://zhengruioi.com/user/profile/PPPxvchongyv) 提供的帮助！

插件目前仍为测试版，如发现 bug 请联系 [**sl2022phx**](http://zhengruioi.com/user/profile/sl2022phx)，谢谢！

[Greasy Fork](https://greasyfork.org/zh-CN/scripts/502958-zroj-better)

[Github](https://github.com/zjpanhongxuan/ZROJ-Better-)

**版本号：** 0.10.1

**发布时间：** 2025.4.18`;

let changeLogString = `
- **Version 0.1.0**:
	- **Date:** 2024.7.21
	- **Description:** 初始脚本。
	- **Added Features:**
		- 代码框全选功能
		- 修改 <span class='uoj-username' style='color: red;'>zac2010<sup>ℵℵℵ</sup></span> 的名字颜色、用户主页的功能
		- 更改 LaTex 公式放大倍数的功能
		- 放大 LaTex 公式的功能（不太稳定）
		- 添加“我的提交”“所有提交”按钮的功能
		- 将比赛排行榜界面自己的那一行高亮的功能

- **Version 0.2.0**:
	- **Date:** 2024.7.22
	- **Description**: 更新代码框复制功能，并更改默认字体。
	- **Added Features**:
		- 代码框复制功能
		- 更改默认字体为 ${setFont('Latin Modern Roman 10', 'Latin Modern Roman 10')}（英文）和 ${setFont('宋体-简', '宋体-简')}（中文）
		- 现在可以通过在脚本中开头处设置布尔变量的值自行开启或关闭功能
		- 优化了部分代码架构
	- **Removed Features**:
		- 代码框全选功能（更新为了代码框复制功能）

- **Version 0.3.0**:
	- **Date:** 2024.7.24
	- **Description:** 样式美化更新，对界面进行了较多的美化。
	- **Added Features:**
		- 更改按钮等的字体为 ${setFont('阿里巴巴普惠体 2.0', '阿里巴巴普惠体 2.0')}，鼠标悬浮时会加粗
		- 更改 ZROJ Faker 中用户主页的比赛信息表的字体为 ${setFont('Latin Modern Roman 10', 'Latin Modern Roman 10')} 和 ${setFont('宋体-简', '宋体-简')}
		- 给滚动条添加圆角
		- 美化复制按钮的样式
		- 更改代码框的字体为 ${setFont('Fira Code', 'Fira Code Medium')}（略加粗）
		- 更改选中区域的背景颜色为浅蓝色
		- 将鼠标悬浮时的链接颜色变得更蓝一点
		- 略放大题目界面显示时间限制等题目基本信息的条，并将其字体改为 ${setFont('Latin Modern Sans 10', 'Latin Modern Sans 10')} 和 ${setFont('阿里巴巴普惠体 2.0', '阿里巴巴普惠体 2.0')}
		- 更改用户名的字体 ${setFont('阿里巴巴普惠体 2.0', '阿里巴巴普惠体 2.0')}
		- 更改题解按钮为弹出新页面而不是用新页面替换当前页面
		- 优化了部分代码架构

- **Version 0.4.0**:
	- **Date:** 2024.8.5
	- **Description:** 小更新，添加了 pdf 题面的“在新标签页中打开”按钮，添加了“跳转到题目”和“跳转到用户主页”输入框，添加了渐变效果
	- **Added Features:**
		- 添加了 pdf 题面的“在新标签页中打开”按钮
		- 添加了“跳转到题目”和“跳转到用户主页”输入框
		- 添加了渐变效果
		- 更改了链接的样式
		- 修复了 download.php 没有图标的特性
		- 给比赛界面和题目界面的部分按钮添加或修改了图标

- **Version 0.5.0**:
	- **Date:** 2024.8.7
	- **Description:** 设置界面更新，添加了 GUI 的设置界面，添加了在比赛排行榜只查看关注的人的功能
	- **Added Features:**
		- 添加了 GUI 的设置界面，可以通过右上角用户名左边的按钮进入
		- 添加了在比赛排行榜只查看关注的人的功能（关注的人的列表可以在设置界面设置）
		- 将比赛排行榜的搜索框更改为只要按下字符就会重新渲染排行榜（原先为要点击“搜索”按钮才会重新渲染排行榜）
		- 添加了部分样式的设置
	- **Fixed bugs:**
		- 修复了在 download.php 里后续脚本仍会运行的 bug

- **Version 0.5.1**:
	- **Date:** 2024.8.11
	- **Description:** 对设置部分的代码架构进行了重写和优化，优化了设置的 GUI 界面，添加了对 markdown 的支持
	- **Added Features:**
		- 对设置部分的代码架构进行了重写和优化
		- 优化了设置的 GUI 界面
		- 将“跳转到题目”“跳转到用户主页”设置为靠右
		- 添加了字体的设置
		- 添加了对 markdown 的支持
	- **Removed Features:**
		- Tampermonkey 菜单栏中关于 LaTex 公式的设置项（移动到了 GUI 的设置界面）
	- **Fixed bugs:**
		- 修复了在提交记录界面“题目ID”的搜索框宽度不能容纳 4 个数字的 bug

- **Version 0.6.0**:
	- **Date:** 2024.8.12
	- **Description:** 添加了若干使用 fetch 的功能，如爬取用户的补题情况并显示在比赛列表界面。
	- **Added Features:**
		- 添加了爬取用户的补题情况并显示在比赛列表界面的功能
		- 添加了彩蛋（在设置界面底部）
		- 优化了部分代码

- **Version 0.6.1**:
	- **Date:** 2024.8.13
	- **Description:** 给代码添加了行号，优化了部分代码和样式
	- **Added Features:**
		- 给代码添加了行号
		- 优化了部分代码和样式

- **Version 0.7.0**:
	- **Date:** 2024.8.13
	- **Description:** 小更新，破除了自定义测试和 Hack 中提交文本不能超过 10MB 的限制，添加了用户名的输入框的提示选项。
	- **Added Features:**
		- 破除了自定义测试和 Hack 中提交文本不能超过 10MB 的限制
		- 添加了用户名输入框的提示选项
		- 在比赛列表界面添加了“爬取自己的补题情况”按钮

- **Version 0.7.1**:
	- **Date:** 2024.8.14
	- **Description:** 重写了用户名的输入框的提示选项。
	- **Added Features:**
		- 重写了用户名的输入框的提示选项
		- 在用户主页添加了关注按钮
		- 优化了部分代码和样式
	- **Fixed Bugs:**
		- 修复了在比赛的提交记录界面插件会报错的 bug

- **Version 0.8.0**:
	- **Date:** 2024.8.21
	- **Description:** 小更新，在题目界面显示这道题在哪些比赛中被使用过，给补题情况的按钮添加了鼠标悬浮时显示题目标题的按钮。
	- **Added Features:**
		- 在题目界面显示这道题在哪些比赛中被使用过
		- 给补题情况的按钮添加了鼠标悬浮时显示题目标题的按钮
		- 给比赛里的题目界面添加了“源题目”按钮

- **Version 0.9.0**:
	- **Date:** 2024.12.8
	- **Description:** 添加了在首页显示 **正赛天数倒计时** 和 **一言** 的功能，并添加了 **卷王监视器** 功能，在源题目界面添加了“复制题目链接”按钮。
	- **Added Features:**
		- 在首页显示 **正赛天数倒计时**
		- 在首页显示 **一言**
		- **卷王监视器**，可以通过右上角的按钮进入，可以爬取单个用户或多个用户的卷题情况并绘制成条形统计图。
		- 在源题目界面添加了“复制题目链接”按钮，可以复制 markdown 格式的链接。
	- **公告:**
	> 鉴于 sshwy 即将于下半年发布新版 ZROJ，~~以及 phx 很懒~~，本插件长期停更。
	> 
	> 最近几天有空摆烂，于是就更新了一下，但是懒得修 bug 了。
	> 
	> 接下来预计不会有更新了，等下半年 sshwy 的新版 ZROJ 出来后，本插件就算是没用了。phx 也~~懒得~~没有精力再重写插件了，~~有使用插件功能需求的可以自行联系 sshwy~~。

- **Version 0.10.0**:
	- **Date:** 2025.4.16
	- **Description:** 添加了 **修改评测状态染色**、**爬取并比较两人的补题情况** 的功能，以及 **部分功能的使用说明**，并改进了用户名输入框。
	- **Added Features:**
		- 修改评测状态染色。
		- 在比赛界面爬取并比较两人的补题情况。
		- 添加了部分功能的使用说明，可以在设置里查看。
	- **Optimized Features:**
		- 改进了用户名输入框。

- **Version 0.10.1**:
	- **Date:** 2025.4.18
	- **Description:** 修复了「**破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制**」功能的 bug，并给设置界面添加了「**设为默认值**」按钮。
	- **Added Features:**
		- 给设置界面添加了「**设为默认值**」按钮。
	- **Fixed bugs:**
		- 修复了「破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制」功能的 bug。
	- **提示**:
	> 「破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制」功能可能仍有 bug，遇到请向作者反馈。
	> 
	> 另外，上传超过 10MB 的数据时可能会出现卡顿、等待好几秒才上传好的情况，请耐心等待。自定义测试处出现 "Waiting" 时代表已上传成功。
	> 
	> 对于该功能的 bug 此前~~或将来~~对您带来的不便，敬请谅解！
`;

let importantCompetitionsList = [
	{
		name: "CSP-J/S 2024 第一轮",
		date: [2024, 9, 21],
	},
	{
		name: "CSP-J/S 2024 第二轮",
		date: [2024, 10, 26],
	},
	{
		name: "NOIP 2024",
		date: [2024, 11, 30],
	},
	{
		name: "WC 2025",
		date: [2025, 1, 17],
	},
	{
		name: "ZJOI 2025 Day1",
		date: [2025, 3, 1],
	},
	{
		name: "ZJOI 2025 Day2",
		date: [2025, 3, 2],
	},
	{
		name: "APIO 2025",
		date: [2025, 5, 17],
	},
];

let oneSentenceList = [
	"还有那么多题没补，还在这愣着干什么？赶紧去补题啊！",
	"别看现在闹得欢，小心今后拉清单。",
	"小盆友还是年轻了。",
	"我们不管遇到什么困难<br>也不要怕<br>微笑着面对他<br><strong>我又赚了十个亿！<strong>",
	"<strong>不是，哥们<strong>",
	"半亩方塘一鉴开，<br><strong>就你还想学 OI？</strong>",
	"莫恨黄花未吐，<br><strong>冤有头债有主。</strong>",
	"菜就多练，输不起就别玩。<br>以前是以前，现在是现在。<br>你要是一直拿以前当做现在，哥们，<br>你怎么不拿你刚出生的时候对比啊？",
];

// 将 GM 的所有变量重设为初始值
function clearGMVariable() {
	let GMStorageValueList = GM_listValues();
	for (let s of GMStorageValueList) {
		GM_deleteValue(s);
	}
	for (let x of GMVariableList) {
		GM_setValue(x.name, x.defaultValue);
	}
}
// clearGMVariable();

if (!Cache.hasOwnProperty('pluginEdition') || compareArrays(Cache.pluginEdition, [0, 8, 0]) == -1) {
	Cache = {};
	syncCache();
	console.log("由于 ZROJ Better! 插件版本更新，您的 ZROJ Better! 插件缓存已被清空");
	sweetAlert("由于 ZROJ Better! 插件版本更新，您的 ZROJ Better! 插件缓存已被清空");
}
if (!Cache.hasOwnProperty('pluginEdition') || compareArrays(Cache.pluginEdition, [0, 10, 1]) == -1) {
	Sweetalert2("ZROJ Better! 插件已更新到 0.10.1 版本。", `<div style="text-align: left;">
<p><strong>Version 0.10.1</strong>:</p>
<ul>
<li><strong>Date:</strong> 2025.4.18</li>
<li><strong>Description:</strong> 修复了「<strong>破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制</strong>」功能的 bug，并给设置界面添加了「<strong>设为默认值</strong>」按钮。</li>
<li><strong>Added Features:</strong><ul>
<li>给设置界面添加了「<strong>设为默认值</strong>」按钮。</li>
</ul>
</li>
<li><strong>Fixed bugs:</strong><ul>
<li>修复了「破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制」功能的 bug。</li>
</ul>
</li>
<li><strong>提示</strong>:<blockquote>
<p>「破除自定义测试和 Hack 中提交文本不能超过 10MB 的限制」功能可能仍有 bug，遇到请向作者反馈。</p>
<p>另外，上传超过 10MB 的数据时可能会出现卡顿、等待好几秒才上传好的情况，请耐心等待。自定义测试处出现 "Waiting" 时代表已上传成功。</p>
<p>对于该功能的 bug 此前<del>或将来</del>对您带来的不便，敬请谅解！</p>
</blockquote>
</li>
</ul>
</li>`);
}
Cache.pluginEdition = [0, 10, 1];
syncCache();
// console.log(Cache.pluginEdition, compareArrays(Cache.pluginEdition, [0, 9, 0]));

(function() {
	'use strict';

	// 获取 GM 变量的实际值
	for (let x of GMVariableList) {
		x.actualValue = GM_getValue(x.name, x.defaultValue);
		// console.log(x.name, x.actualValue);
	}

	function injectCSS(css) {
		let styleTag = document.createElement('style');
		styleTag.type = 'text/css';
		styleTag.innerHTML = css;
		document.head.appendChild(styleTag);
	}
	function injectScript(script, typeName = undefined) {
		let scriptTag = document.createElement('script');
		scriptTag.innerHTML = script;
		if (typeName != undefined) {
			scriptTag.type = typeName;
		}
		document.body.appendChild(scriptTag);
	}
	function getQueryParam(param) {
		let urlParams = new URLSearchParams(window.location.search);
		return urlParams.get(param);
	}
	function getUpdatedQueryParamString(list) {
		let urlObject = new URL(window.location.href);
		let urlParams = new URLSearchParams(window.location.search);
		for(let [key, value] of list) {
			urlParams.set(key, value);
		}
		urlObject.search = urlParams.toString();
		return urlObject.toString();
		// var re = new RegExp("([?&])" + key + "=.*?(&|$)", "i");
		// var separator = uri.indexOf('?') !== -1 ? "&" : "?";
		// if (uri.match(re)) {
		// 	return uri.replace(re, '$1' + key + "=" + value + '$2');
		// }
		// else {
		// 	return uri + separator + key + "=" + value;
		// }
	}
	function updateQueryParamAndRefresh(list) {
		window.location.href = getUpdatedQueryParamString(list);
	}
	function updateQueryParamWithoutRefresh(list) {
		let urlParams = new URLSearchParams(window.location.search);
		for(let [key, value] of list) {
			urlParams.set(key, value);
		}
		window.history.pushState({search: urlParams.search}, '', '?' + urlParams.toString());
	}
	function getGMVariable(variableName) {
		for (let x of GMVariableList) {
			if (x.name == variableName) {
				return x;
			}
		}
		console.log("getGMVariable(): cannot get GM variable! variableName: ", variableName);
		return undefined;
	}

	injectCSS(`
	:root {
		--main-font-serif: ` + getGMVariable("mainFontSerifString").actualValue + `;
		--main-font-sans: ` + getGMVariable("mainFontSansString").actualValue + `;
		--main-font-monospace: ` + getGMVariable("mainFontMonospaceString").actualValue + `;
	}
	`);

	// 将 GM 系列函数封装到 window 里面
	unsafeWindow.GM_setValue = GM_setValue;
	unsafeWindow.GM_getValue = GM_getValue;
	unsafeWindow.injectCSS = injectCSS;
	unsafeWindow.injectScript = injectScript;
	unsafeWindow.getQueryParam = getQueryParam;
	unsafeWindow.getUpdatedQueryParamString = getUpdatedQueryParamString;
	unsafeWindow.updateQueryParamWithoutRefresh = updateQueryParamWithoutRefresh;
	unsafeWindow.getGMVariable = getGMVariable;
	unsafeWindow.GMVariableList = GMVariableList;

	// unsafeWindow.whetherMagnifyLaTexDefaultValue = whetherMagnifyLaTexDefaultValue;

	// 更改网页图标的功能（修复了 download.php 没有图标的特性）
	(function changeIconFeature(){
		if (!getGMVariable("whetherChangeIcon").actualValue) {
			return;
		}
		let setIconLink = document.createElement('link');
		setIconLink.setAttribute('rel', "icon");
		setIconLink.setAttribute('href', "http://zhengruioi.com/pictures/UOJ.ico");
		setIconLink.setAttribute('type', "image/x-icon");
		document.head.appendChild(setIconLink);
	}());

	if (location.pathname === '/download.php') {
		return;
	}

	let selfUserName = document.querySelector("a[data-toggle='dropdown']")?.querySelector("span")?.innerText;
	for (let i = 1; i <= 1000 && !selfUserName; ++i) {
		setTimeout(function () {
			selfUserName = document.querySelector("a[data-toggle='dropdown']")?.querySelector("span")?.innerText
		}, 10);
	}
	if (!selfUserName) {
		console.log("未登录，您将无法使用 ZROJ Better! 插件的大部分功能");
		return;
	}
	selfUserName = selfUserName.replaceAll('ℵ', '');
	{
		let starredUserNameList = getGMVariable('starredUserNameList').actualValue;
		if (!starredUserNameList.includes(selfUserName)) {
			starredUserNameList.push(selfUserName);
			GM_setValue('starredUserNameList', starredUserNameList);
		}
	}

	injectCSS(`
		.btn-never-bold{
			font-weight: normal;
		}
		.btn-never-bold:hover{
			font-weight: normal;
		}
		.btn-always-bold{
			font-weight: bold;
		}
		.btn-always-bold:hover{
			font-weight: bold;
		}

		.embedded-scrollbar::-webkit-scrollbar-track{
			border-radius: 5px;
		}

		.no-hover-underline:hover{
			text-decoration: none;
		}

		.input-group .form-group{
			display: flex;
		}
		.input-group-btn {
			min-width: min-content;
		}
		.small-scrollbar::-webkit-scrollbar {
			height: 4px;
			width: 4px;
		}


		.alert {
			position: relative;
			padding: 0.75rem 1.25rem;
			margin-bottom: 1rem;
			border: 1px solid transparent;
			border-radius: 0.25rem;
		}

		.alert-heading {
			color: inherit;
		}

		.alert-link {
			font-weight: 700;
		}

		.alert-dismissible {
			padding-right: 4rem;
		}
		.alert-dismissible .close {
			position: absolute;
			top: 0;
			right: 0;
			z-index: 2;
			padding: 0.75rem 1.25rem;
			color: inherit;
		}

		.alert-primary {
			color: #004085;
			background-color: #cce5ff;
			border-color: #b8daff;
		}
		.alert-primary hr {
			border-top-color: #9fcdff;
		}
		.alert-primary .alert-link {
			color: #002752;
		}

		.alert-secondary {
			color: #383d41;
			background-color: #e2e3e5;
			border-color: #d6d8db;
		}
		.alert-secondary hr {
			border-top-color: #c8cbcf;
		}
		.alert-secondary .alert-link {
			color: #202326;
		}

		.alert-success {
			color: #155724;
			background-color: #d4edda;
			border-color: #c3e6cb;
		}
		.alert-success hr {
			border-top-color: #b1dfbb;
		}
		.alert-success .alert-link {
			color: #0b2e13;
		}

		.alert-info {
			color: #0c5460;
			background-color: #d1ecf1;
			border-color: #bee5eb;
		}
		.alert-info hr {
			border-top-color: #abdde5;
		}
		.alert-info .alert-link {
			color: #062c33;
		}

		.alert-warning {
			color: #856404;
			background-color: #fff3cd;
			border-color: #ffeeba;
		}
		.alert-warning hr {
			border-top-color: #ffe8a1;
		}
		.alert-warning .alert-link {
			color: #533f03;
		}

		.alert-danger {
			color: #721c24;
			background-color: #f8d7da;
			border-color: #f5c6cb;
		}
		.alert-danger hr {
			border-top-color: #f1b0b7;
		}
		.alert-danger .alert-link {
			color: #491217;
		}

		.alert-light {
			color: #818182;
			background-color: #fefefe;
			border-color: #fdfdfe;
		}
		.alert-light hr {
			border-top-color: #ececf6;
		}
		.alert-light .alert-link {
			color: #686868;
		}

		.alert-dark {
			color: #1b1e21;
			background-color: #d6d8d9;
			border-color: #c6c8ca;
		}
		.alert-dark hr {
			border-top-color: #b9bbbe;
		}
		.alert-dark .alert-link {
			color: #040505;
		}


		.hover-color-lightgreen:hover {
			color: #6ed7b4;
		}
		.hover-color-lightblue:hover {
			color: lightblue;
		}
		.hover-color-orange:hover {
			color: orange;
		}
		.hover-color-yellow:hover {
			color:rgb(228, 224, 32);
		}

		.text-align-center {
			text-align: center;
		}

		.vertical-divider {
			border-left: 2px solid black; /* 设置左边框为竖直分割线 */
			height: 100%; /* 高度设置为父元素的100% */
			margin: 0 10px; /* 外边距，可根据需要调整 */
		}

		.table-vertical-align-middle>thead>tr>th {
			vertical-align: middle;
		}
		.table-vertical-align-middle>tbody>tr>td {
			vertical-align: middle;
		}

		.no-padding {
			padding: 0 0;
		}

		.inline-form{
			align-items: center;
		}
		.inline-form label{
			align-items: center;
			margin: 0px 5px;
		}

		.colorBlock {
			width: 20px; height: 20px;
			border: 1px solid #ddd;
		}
	`);

	function isHomePage() {
		return /^\/$/.test(location.pathname);
	}

	function isContestListPage() {
		return /^\/contests$/.test(location.pathname);
	}
	function isContestPage() {
		return /^\/contest\/\d+$/.test(location.pathname);
	}
	function isContestSubmissionListPage() {
		return /^\/contest\/\d+\/submissions$/.test(location.pathname);
	}
	function isContestStandingsPage() {
		return /^\/contest\/\d+\/standings$/.test(location.pathname);
	}

	function isProblemStatisticsPage() {
		return /^\/problem\/\d+\/statistics$/.test(location.pathname);
	}
	function isSourceProblemPage() {
		return /^\/problem\/\d+$/.test(location.pathname);
	}
	function isProblemPage() {
		return isSourceProblemPage() || isContestProblemPage();
	}
	function isContestProblemPage() {
		return /^\/contest\/\d+\/problem\/\d+$/.test(location.pathname);
	}
	function isSourceProblemPage() {
		return /^\/problem\/\d+$/.test(location.pathname) && !isContestProblemPage() && !isProblemStatisticsPage();
	}

	function isSubmissionListPage() {
		return /^\/submissions$/.test(location.pathname);
	}
	function isSubmissionPage() {
		return /^\/submission\/\d+$/.test(location.pathname);
	}

	function isHackListPage() {
		return /^\/hacks$/.test(location.pathname);
	}

	function isUserProfilePage() {
		return /^\/user\/profile\/.+$/.test(location.pathname);
	}

	// 导入 marked
	injectScript(`import { marked } from "https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.min.js";`, 'module');

	function fetchDOM_simple(url) {
		return fetch(url).then(resp => {
			if (!resp.ok) {
				sweetAlert(`fetch 爬取网页收到错误：${resp.status}`);
				throw new Error("fetch 爬取网页收到错误：", resp.status);
			}
			return resp.text();
		}).then(txt => {
			let psr = new DOMParser(), doc = psr.parseFromString(txt, 'text/html');
			return doc;
		});
	}
	function fetchDOM_with_error(url, failFunction = console.error) {
		return fetch(url).then(resp => {
			if (!resp.ok) {
				failFunction(new Error("fetch 爬取网页收到错误：", resp.status));
			}
			return resp.text();
		}).then(txt => {
			let psr = new DOMParser(), doc = psr.parseFromString(txt, 'text/html');
			return doc;
		});
	}
	function fetchDOM(url, processFunction, failFunction = console.error) {
		if (processFunction instanceof Function) {
			fetch(url).then(res => {
				if (res.ok) {
					res.text().then(txt => {
						let psr = new DOMParser(), doc = psr.parseFromString(txt, 'text/html');
						processFunction(doc);
					});
				}
				else {
					failFunction(new Error(`fetch 爬取网页收到错误：`, res.status));
				}
			});
		}
		else {
			return new Promise((resolve, reject) => {
				fetch(url).then(res => {
					if(res.ok) {
						res.text().then(txt => {
							let psr = new DOMParser(), doc = psr.parseFromString(txt, 'text/html');
							resolve(doc);
						});
					}
					else {
						reject(new Error(`fetch 爬取网页收到错误：`, res.status));
					}
				});
			});
		}
	}
	async function fetchProblem(id, cache = true) {
		id = id.toString();
		if (!Cache.hasOwnProperty('problems')) {
			Cache.problems = {};
		}
		if (!cache || !Cache.problems.hasOwnProperty(id)) {
			Cache.problems[id] = {};
			Cache.problems[id].title = await fetchDOM(uojHome + '/problem/' + id).then((doc) => {
				return [...doc.querySelectorAll('.page-header.text-center')].map(e => {
					return e.innerHTML.match(/\#\d+\.\s(.*)/)[1];
				});
			}).catch(function (error) {
				console.error(error);
			});
			syncCache();
		}
		return Cache.problems[id];
	}
	async function fetchContest(id, cache = true) {
		id = id.toString();
		if (!Cache.hasOwnProperty('contestList')) {
			Cache.contestList = {};
		}
		if (!cache || !Cache.contestList.hasOwnProperty(id)) {
			Cache.contestList[id] = {};
			await fetchDOM(uojHome + '/contest/' + id).then((doc) => {
				if (!Cache.contestList[id].hasOwnProperty('title')) {
					Cache.contestList[id].title = doc.querySelector('.uoj-content > .text-center > h1').innerHTML;
				}
				if (!Cache.contestList[id].hasOwnProperty('problemList')) {
					Cache.contestList[id].problemList = [...doc.querySelectorAll('.top-buffer-md > .table-responsive > table > tbody > tr a')].map(e => e.href.match(/problem\/(\d+)/)[1]);
				}
			}).catch(function (error) {
				console.error(error);
			});
			syncCache();
		}
	}
	async function fetchContestList(url) {
		if (!Cache.hasOwnProperty('contestList')) {
			Cache.contestList = {};
		}
		let contestListTable;
		await fetchDOM(url).then(async (doc) => {
			contestListTable = [...doc.querySelectorAll('h4')].find(e => e.innerHTML.includes("已结束的比赛")).nextElementSibling;
			if (!contestListTable) {
				return new Promise.reject();
			}
			if ([...contestListTable.querySelectorAll('tbody > tr > td')].length <= 1) { // 无比赛
				return new Promise.reject();
			}
			let trList = [...contestListTable.querySelectorAll('tbody > tr')];
			for (let e of trList) {
				let id = e.querySelector('td > a').href.match(/contest\/(\d+)/)[1];
				await fetchContest(id);
			}
			// console.log(Cache.contestList[31]);
			// console.log(Cache.contestList[1646]);
			syncCache();
			return doc;
		}).then(function (doc) {
			let ul = doc.querySelector('.pagination.top-buffer-no.bot-buffer-sm');
			if (!ul) {
				return new Promise.reject();
			}
			if (!ul.lastChild.previousElementSibling.classList.contains('disabled')) {
				return fetchContestList(ul.lastChild.previousElementSibling.querySelector('a').href);
			}
		});
	}
	async function fetchUserProfile(userName, cache = 30000, failFunction = null) {
		if (!Cache.hasOwnProperty('userCache')) {
			Cache.userCache = {};
		}
		if (!Cache.userCache.hasOwnProperty(userName)) {
			Cache.userCache[userName] = {};
		}
		if (!Cache.userCache[userName].hasOwnProperty('lastFetchTime')) {
			Cache.userCache[userName].lastFetchTime = 0;
		}
		let timeNow = Date.now();
		if (cache == 0
		|| Cache.userCache[userName].lastFetchTime == 0
		|| timeNow - Cache.userCache[userName].lastFetchTime >= cache) {
			await fetchDOM(uojHome + '/user/profile/' + userName).then((doc) => {
				try {
					Cache.userCache[userName].lastFetchTime = Date.now();
					Cache.userCache[userName].ACedProblems = [...
						[...doc.querySelectorAll('h4')]
						.find(e => e.innerHTML.includes('AC 过的题目'))
						.nextElementSibling.querySelectorAll('a')
					].map(e => e.href.match(/problem\/(\d+)/)[1]);
					Cache.userCache[userName].rating = [...
						doc.querySelectorAll('h4.list-group-item-heading')
					].find(e => e.innerHTML.includes('Rating')).nextElementSibling.innerText;
				}
				catch (error) {
					throw(error);
				}
			}).catch(function (error) {
				for (let s in Cache.userCache) {
					if (!Cache.userCache[s].isRealUser) {
						delete Cache.userCache[s];
					}
				}
				syncCache();
				if (failFunction instanceof Function) {
					failFunction(error);
				}
				else {
					throw(error);
				}
			});
			syncCache();
		}
		// return Cache.userCache[userName].ACedProblems;
	}

	function insertUserToCache(userName) {
		if (!Cache.hasOwnProperty('userCache')) {
			Cache.userCache = {};
		}
		if (!Cache.userCache.hasOwnProperty(userName)) {
			Cache.userCache[userName] = {};
		}
		Cache.userCache[userName].isRealUser = true;
		syncCache();
	}

	(function addGUIFeature() {
		injectCSS(`
		#openPluginSettingsButton{
			display: block;
			padding: 10px 15px;
		}

		#pluginSettingsGUIDiv-modal{
			height: 100vh;
			width: 100vw;
			background-color: rgba(75, 75, 75, 0.5);
		}
		#pluginSettingsGUIDiv-modal-dialog{
			height: 100%;
			width: 80%;
			padding-top: 0px;
			padding-bottom: 50px;
		}
		#pluginSettingsGUIDiv-modal-content{
			display: flex;
			flex-direction: column;
			height: 100%;
			width: 100%;
			background-color: #f0f4f9;
		}
		#pluginSettingsGUIDiv-modal-content-body{
			position: relative;
			margin: 10px;
			overflow-y: auto;
		}
		#pluginSettingsGUIDiv-modal-content-body:focus{
			outline: none;
		}

		.settingsGUIConfigDiv{
			display: flex;
			align-items: center;
			min-height: 50px;
			background-color: #ffffff;
			border-radius: 10px;
			margin: 10px;
			padding: 1em 1em;
			font-family: var(--main-font-sans);
		}

		.settingsGUIH3{
			margin-left: 10px;
		}
		.settingsGUITextDiv{
			align-items: center;
			background-color: #ffffff;
			border-radius: 10px;
			margin: 10px;
			padding: 1em 1em;
			padding-bottom: calc(1em - 10px);
			font-family: var(--main-font-sans);
		}

		/* 创建自定义样式的label */
		.settingsGUILabel {
			display: inline-flex;
			position: relative;
			right: 0px;
			height: 20px;
			width: 100%;
			align-items: center;
			justify-content: stretch;

			cursor: pointer;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			margin-right: 0;
			margin-bottom: 2px;

			font-weight: normal;
			pointer-events: none;
		}
		.settingsGUISetToDefaultButton {
			margin-left: 10px;
			margin-right: 0;
		}
		.settingsGUILabelText {
			margin-right: auto;
			pointer-events: none;
			font-weight: normal;
		}
		.settingsGUILabel input{
			margin-left: auto;
			margin-right: 0;
			pointer-events: auto;
		}
		.settingsGUILabel select{
			margin-left: auto;
			margin-right: 0;
			pointer-events: auto;
		}
		.settingsGUILabel button {
			pointer-events: auto;
		}

		// .settingsGUISelection {
		// 	margin-left: 10px;
		// }
		// .settingsGUIInput {
		// 	margin-left: 10px;
		// }
		/* 隐藏原生的checkbox */
		.settingsGUILabel input[type="checkbox"] {
			display: none;
		}
		/* 创建自定义的checkbox样式 */
		.settingsGUILabel .settingsGUICheckboxSpan {
			margin-left: auto;
			width: 85px;
			height: 31px;
			border-radius: 5px;
			pointer-events: auto;
			` + (getGMVariable("whetherAnimationTransitionEnabled").actualValue ? `transition: all 0.15s;` : '') + `

			margin-left: auto;
			margin-right: 0;
			margin-bottom: 0;
			font-weight: normal;
			vertical-align: middle;
			-ms-touch-action: manipulation;
			touch-action: manipulation;
			cursor: pointer;
			background-image: none;
			border: 1px solid transparent;
			white-space: nowrap;
			font-size: 16px;
			border-radius: 4px;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none
		}

		.settingsGUILabel .settingsGUICheckboxSpan {
			text-shadow: 0 -1px 0 rgba(0,0,0,0.2);
			-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,0.15),0 1px 1px rgba(0,0,0,0.075);
			box-shadow: inset 0 1px 0 rgba(255,255,255,0.15),0 1px 1px rgba(0,0,0,0.075)
		}
		.settingsGUILabel .settingsGUICheckboxSpan:active {
			background-image: none;
			-webkit-box-shadow: inset 0 3px 5px rgba(0,0,0,0.125);
			box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
		}

		/* 当checkbox未被选中时改变样式 */
		.settingsGUILabel input[type="checkbox"]:not(:checked) ~ .settingsGUICheckboxSpan {
			background-image: -webkit-linear-gradient(top, #d9534f 0, #c12e2a 100%);
			background-image: -o-linear-gradient(top, #d9534f 0, #c12e2a 100%);
			background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #d9534f), to(#c12e2a));
			background-image: linear-gradient(to bottom, #d9534f 0, #c12e2a 100%);
			filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffd9534f', endColorstr='#ffc12e2a', GradientType=0);
			filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
			background-repeat: repeat-x;
			border-color: #b92c28;
		}
		.settingsGUILabel input[type="checkbox"]:not(:checked) ~ .settingsGUICheckboxSpan:hover, .settingsGUILabel input[type="checkbox"]:not(:checked) ~ .settingsGUICheckboxSpan:focus {
			background-color: #c12e2a;
			background-position: 0 -15px;
		}
		.settingsGUILabel input[type="checkbox"]:not(:checked) ~ .settingsGUICheckboxSpan:active {
			background-color: #c12e2a;
			border-color: #b92c28;
		}
		.settingsGUILabel input[type="checkbox"]:not(:checked) ~ .settingsGUICheckboxSpan::after {
			content: "Disabled";
			position: relative;
			left: 9px;
			top: 4px;
			color: white;
		}

		/* 当checkbox被选中时改变样式 */
		.settingsGUILabel input[type="checkbox"]:checked ~ .settingsGUICheckboxSpan {
			background-image: -webkit-linear-gradient(top, #5cb85c 0, #419641 100%);
			background-image: -o-linear-gradient(top, #5cb85c 0, #419641 100%);
			background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #5cb85c), to(#419641));
			background-image: linear-gradient(to bottom, #5cb85c 0, #419641 100%);
			filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff5cb85c', endColorstr='#ff419641', GradientType=0);
			filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
			background-repeat: repeat-x;
			border-color: #3e8f3e;
		}
		.settingsGUILabel input[type="checkbox"]:checked ~ .settingsGUICheckboxSpan:hover, .settingsGUILabel input[type="checkbox"]:checked ~ .settingsGUICheckboxSpan:focus {
			background-color: #419641;
			background-position: 0 -15px;
		}
		.settingsGUILabel input[type="checkbox"]:checked ~ .settingsGUICheckboxSpan:active{
			background-color: #419641;
			border-color: #3e8f3e;
		}
		/* 创建选中后的对勾 */
		.settingsGUILabel input[type="checkbox"]:checked ~ .settingsGUICheckboxSpan::after{
			content: "Enabled";
			position: relative;
			left: 12px;
			top: 4px;
			color: white;
			font-size: 16px;
		}

		.settingsGUILabel input[type="text"] {
			width: 400px;
		}
		.settingsGUILabel select {
			width: auto;
		}

		#hiddenPaintingDiv {
			margin-top: 10px;
			white-space: pre;
			font-family: var(--main-font-monospace);
			font-size: 13px;
			line-height: 0.5em;
			user-select: none;
		}
		`);

		// 添加 GUI 界面
		let GUIDiv = document.createElement('div');
		let GUIDivInnerHTMLString = `
		<div class="modal fade in" id="pluginSettingsGUIDiv-modal" tabindex="-1" aria-labelledby="pluginSettingsGUISwitchModalLabel" aria-hidden="true" style="display: none;">
			<div class="modal-dialog" id="pluginSettingsGUIDiv-modal-dialog">
				<div class="modal-content" id="pluginSettingsGUIDiv-modal-content">
					<div class="modal-header" style="min-height: 51px;">
						<h4 class="modal-title" id="pluginSettingsGUISwitchModalLabel" style='float:left; font-family: "阿里巴巴普惠体 2.0", "Fira Code", "Times New Roman"'><span class="glyphicon glyphicon-cog"></span> ZROJ Better! 设置</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float:right" id="closePluginSettingsGUIDivButtonUpperRight">
						<span aria-hidden="true">×</span>
						</button>
					</div>
					<div class="embedded-scrollbar" id="pluginSettingsGUIDiv-modal-content-body">
						<form name="pluginSettingsGUIDivForm" id="pluginSettingsGUIDivForm">
			`;
			for (let x of GMVariableList) {
				// console.log(x.name, x.defaultValue, x.actualValue);
				if ('textBefore' in x) {
					GUIDivInnerHTMLString += `
						<h3 class="settingsGUIH3">${x.textBefore}</h3>
					`;
				}
				GUIDivInnerHTMLString += `
					<div class="settingsGUIConfigDiv">
					<label class="settingsGUILabel form-check-label">
					<span class="settingsGUILabelText">${x.description}</span>
				`;
				if (x.type == "bool") {
					GUIDivInnerHTMLString += `
						<input type="checkbox" class="form-check-input" name="${x.name}InPluginSettingsGUI" id="${x.name}InPluginSettingsGUI" ${('style' in x ? `style="${x.style}"` : "")} 
						${('filledValueProcessFunction' in x ? x.filledValueProcessFunction(x.actualValue) : (x.actualValue ? "checked" : ""))}>
						<span class="settingsGUICheckboxSpan"></span>
					`;
				}
				else if (x.type == "selection") {
					GUIDivInnerHTMLString += `
						<select class="form-control settingsGUISelection" id="${x.name}InPluginSettingsGUI" name="${x.name}InPluginSettingsGUI">
					`;
					let cnt = 0;
					for (let s of x.options) {
						GUIDivInnerHTMLString += `
							<option value="${s.value}">${s.text}</option>
						`;
						++cnt;
					}
					GUIDivInnerHTMLString += `</select>`;
				}
				else if (x.type == 'color') {
					GUIDivInnerHTMLString += `
						<div class="colorBlock" id="pluginSettingsGUI_${x.name}_colorBlock" style="margin-left: auto; margin-right: 0; background-color: ${x.actualValue};"></div>
						<input type="text" class="form-control settingsGUIInput" name="${x.name}InPluginSettingsGUI" id="${x.name}InPluginSettingsGUI" style="margin-left: 5px; width: 12ch; ${'style' in x ? x.style : ""} "
						value=${('filledValueProcessFunction' in x ? x.filledValueProcessFunction(x.actualValue) : `'${x.actualValue}'`)}>
					`;
				}
				else {
					GUIDivInnerHTMLString += `
						<input type="text" class="form-control settingsGUIInput" name="${x.name}InPluginSettingsGUI" id="${x.name}InPluginSettingsGUI" style="${'style' in x ? x.style : ""} "
						value=${('filledValueProcessFunction' in x ? x.filledValueProcessFunction(x.actualValue) : `'${x.actualValue}'`)}>
					`;
				}
				GUIDivInnerHTMLString += `
				<button class="btn btn-info settingsGUISetToDefaultButton" id="pluginSettingsGUI_${x.name}_setToDefaultButton">设为默认值</button>
								</label>
							</div>`;
			}
			GUIDivInnerHTMLString += `
							<h3 class="settingsGUIH3">使用说明</h3>
							<div class="settingsGUITextDiv">
								` + marked.parse(instructionString) + `
							</div>

							<h3 class="settingsGUIH3">关于</h3>
							<div class="settingsGUITextDiv">
								` + marked.parse(aboutThisScriptString) + `
							</div>

							<h3 class="settingsGUIH3">更新日志</h3>
							<div class="settingsGUITextDiv">
								` + marked.parse(changeLogString) + `
							</div>

						</form>

						<h3 class="settingsGUIH3">彩蛋</h3>

						<div class="settingsGUITextDiv">
							<label class="settingsGUILabel">
								<span class="settingsGUILabelText">输入密钥，显示对应的字符图（目前总共有 3 张图片）</span>
								<form class="input-group form-group" style="margin-top: 16px;">
									<input type="text" id="hiddenPaintingInput" class="form-control" placeholder="">
									<span class="input-group-btn">
										<button class="btn btn-search btn-primary" id="hiddenPaintingInputSubmitButton">显示</button>
									</span>
								</form>
							</label>
							<div id="hiddenPaintingDiv"></div>
						</div>
					</div>
					<div class="modal-footer" style="min-height: 65px;">
						<button type="button" class="btn btn-warning" data-dismiss="modal" id="closePluginSettingsGUIDivButtonBottom">放弃更改</button>
						<button type="button" class="btn btn-primary" id="submitPluginSettingsGUIDivButton">保存</button>
					</div>
				</div>
			</div>
		</div>`;
		GUIDiv.innerHTML = GUIDivInnerHTMLString;
		document.body.appendChild(GUIDiv);

		// 添加设置按钮
		let div = document.querySelector('.nav.nav-pills.pull-right');
		let showGUIDivButtonLi = document.createElement('li');
		showGUIDivButtonLi.innerHTML = `
		<button class="btn btn-info btn-block btn-always-bold" id="openPluginSettingsButton">
			<span class="glyphicon glyphicon-cog"></span> ZROJ Better! 设置
		</button>
		`;
		div?.insertBefore(showGUIDivButtonLi, div.firstChild);

		// 添加处理保存设置的函数
		function submitPluginSettingsGUIDiv() {
			for (let x of GMVariableList) {
				let val;
				if ('returnedValueProcessFunction' in x) {
					val = x.returnedValueProcessFunction(document.querySelector(`#${x.name}InPluginSettingsGUI`));
				}
				else if (x.type == "bool") {
					val = document.querySelector(`#${x.name}InPluginSettingsGUI`).checked
				}
				else if (x.type == "selection") {
					val = document.querySelector(`#${x.name}InPluginSettingsGUI`).selectedOptions[0].value;
				}
				else {
					val = document.querySelector(`#${x.name}InPluginSettingsGUI`).value;
				}
				GM_setValue(x.name, val);
			}
			window.location.reload();
		};
		document.querySelector('#submitPluginSettingsGUIDivButton').addEventListener('click', submitPluginSettingsGUIDiv);

		// 添加打开设置界面时的处理函数
		function openPluginSettingsGUIDiv() {
			document.querySelector('#pluginSettingsGUIDiv-modal').style = "display: block;";
			document.body.style.overflow = "hidden";
			for (let x of GMVariableList) {
				if ('returnedValueProcessFunction' in x) {

				}
				else if (x.type == "bool") {

				}
				else if (x.type == "selection") {
					document.querySelector('#' + x.name + 'InPluginSettingsGUI').value = getGMVariable(x.name).actualValue;
				}
				else {

				}
			}
		}
		document.querySelector('#openPluginSettingsButton').addEventListener('click', openPluginSettingsGUIDiv);

		// 添加关闭设置界面（不保存）时的处理函数
		function closePluginSettingsGUIDiv() {
			// document.querySelector('#pluginSettingsGUIDiv-modal').style = "display: none;";
			// document.body.style.overflow = "auto";
			window.location.reload();
		}
		document.querySelector('#closePluginSettingsGUIDivButtonUpperRight').addEventListener('click', closePluginSettingsGUIDiv);
		document.querySelector('#closePluginSettingsGUIDivButtonBottom').addEventListener('click', closePluginSettingsGUIDiv);

		for (let x of GMVariableList) {
			let btn = document.querySelector(`#pluginSettingsGUI_${x.name}_setToDefaultButton`);
			let input = document.querySelector(`#${x.name}InPluginSettingsGUI`);
			if (x.type == "bool") {
				btn.addEventListener('click', event => {
					// console.log("A");
					event.preventDefault();
					input.checked = x.defaultValue;
				});
			}
			else if (x.type == "selection") {
				btn.addEventListener('click', event => {
					event.preventDefault();
					input.value = x.defaultValue;
				});
			}
			else {
				btn.addEventListener('click', event => {
					event.preventDefault();
					input.value = x.defaultValue;
				});
			}

			if (x.type == "color") {
				function update_color() {
					document.querySelector(`#pluginSettingsGUI_${x.name}_colorBlock`).style.backgroundColor = input.value;
				}
				input.addEventListener('change', update_color);
				input.addEventListener('input', update_color);
				btn.addEventListener('click', update_color);
			}
		}

		function showHiddenPainting(event) {
			event.preventDefault();
			let hiddenPaintingDiv = document.querySelector('#hiddenPaintingDiv');
			let hiddenPaintingInput = document.querySelector('#hiddenPaintingInput')
			if (hiddenPaintingInput.value == "") {
				clearNode(hiddenPaintingDiv);
				sweetAlert('请输入密钥');
				return;
			}
			if (hiddenPaintingInput.value == 'clbzdq') {
				hiddenPaintingDiv.innerHTML = clbPainting;
				hiddenPaintingDiv.style.letterSpacing = '-0.1em';
			}
			else if (hiddenPaintingInput.value == 'boboniu') {
				hiddenPaintingDiv.innerHTML = boboniuAvatarPainting;
				hiddenPaintingDiv.style.letterSpacing = '-0.35em';
			}
			else if (hiddenPaintingInput.value == 'sshwy') {
				hiddenPaintingDiv.innerHTML = sshwyBuShiGeMenPainting;
				hiddenPaintingDiv.style.letterSpacing = '-0.35em';
			}
			else {
				sweetAlert('没有对应的图片');
			}
		}
		document.querySelector('#hiddenPaintingInputSubmitButton').addEventListener('click', showHiddenPainting);
	})();

	// 设置 LaTex 公式是否放大的菜单栏
// 	function enableLaTexMagnify() {
// 		GM_setValue('whetherMagnifyLaTex', true);
// 		window.location.reload();
// 	}

// 	function disableLaTexMagnify() {
// 		GM_setValue('whetherMagnifyLaTex', false);
// 		window.location.reload();
// 	}

	// if (getGMVariable("whetherMagnifyLaTex").actualValue) {
	// 	GM_registerMenuCommand("关闭 LaTex 公式放大功能", disableLaTexMagnify);
	// }
	// else {
	// 	GM_registerMenuCommand("开启 LaTex 公式放大功能", enableLaTexMagnify);
	// }

	(function addStarButtonInUserProfileFeature() {
		if (!isUserProfilePage()) {
			return;
		}
		if (!document.querySelector('.uoj-honor')) {
			return;
		}
		let userName = location.href.match(/\/user\/profile\/(.*)/)[1];
		if (userName != selfUserName) {
			let whetherStarred;
			// console.log(getGMVariable('starredUserNameList').actualValue);
			let starredUserNameList = getGMVariable('starredUserNameList').actualValue;
			if (starredUserNameList.includes(userName)) {
				whetherStarred = true;
			}
			else {
				whetherStarred = false;
			}
			let h2 = document.querySelector('.uoj-honor').parentNode;
			let starButton = $(`
				<button class="btn ${whetherStarred ? 'btn-success' : 'btn-primary'}" id="starButton">
					${whetherStarred ? `<span class="glyphicon glyphicon-star"></span> 已关注` : `<span class="glyphicon glyphicon-star-empty"></span> 关注`}
				</button>
				`)[0];
			h2.appendChild(starButton);

			starButton.addEventListener('click', function () {
				if (whetherStarred) {
					whetherStarred = false;
					starButton.classList.remove('btn-success');
					starButton.classList.add('btn-primary');
					starButton.innerHTML = `<span class="glyphicon glyphicon-star-empty"></span> 关注`;
					starredUserNameList.splice(starredUserNameList.indexOf(userName), 1);
					GM_setValue('starredUserNameList', starredUserNameList);
					window.location.reload();
				}
				else {
					whetherStarred = true;
					starButton.classList.remove('btn-primary');
					starButton.classList.add('btn-success');
					starButton.innerHTML = `<span class="glyphicon glyphicon-star"></span> 已关注`;
					starredUserNameList.push(userName);
					GM_setValue('starredUserNameList', starredUserNameList);
					window.location.reload();
				}
			});
		}
	})();

	// 比赛排行榜界面自己的那一行高亮
	(function highlightStandingsPageSelfLineFeature() {
		if (!getGMVariable("whetherHighlightStandingsPageSelfLine").actualValue) {
			return;
		}

		if (isContestStandingsPage()) {
			// if (document.querySelectorAll('table').length <= 1) {
			//	 return;
			// }
			if (typeof(standings) == 'undefined') {
				return;
			}

			// 只显示关注的人，去除掉排行榜中未关注的人
			function showStarredUserNameInStandings(starredUserNameListShowedInStandings) {
				[...document.querySelector('#standings')?.querySelector('tbody')?.querySelectorAll('tr')].forEach(e => {
					let userNameString = e.querySelector('.uoj-username')?.innerHTML;
					if (userNameString != undefined) {
						if (userNameString.indexOf("<sup>") != -1) {
							userNameString = userNameString.slice(0, userNameString.indexOf("<sup>"));
						}
						if (userNameString != selfUserName && !starredUserNameListShowedInStandings.includes(userNameString)) {
							e.remove();
						}
					}
				});
			}

			let showStarredUserNameForm = document.createElement('form');
			showStarredUserNameForm.id = "showStarredUserNameForm";
			showStarredUserNameForm.innerHTML = `
			<label class="form-check-label" style="margin-bottom: 0px;margin-top: 10px;">
				<input type="checkbox" class="form-check-input" name="showStarredUserName" id="showStarredUserName"> 只显示关注的人
			</label>
			`;
			document.querySelector('.div-search')?.appendChild(showStarredUserNameForm);

			// 包装内置的显示排行榜的函数
			function whenStandingsShowed() {
				let selfUserName_a_Arr = document.querySelector("#standings a[href='http://zhengruioi.com/user/profile/" + selfUserName + "']")?.parentNode?.parentNode;
				if(selfUserName_a_Arr) {
					selfUserName_a_Arr.style.backgroundColor = '#dcf2f9';
				}
				if (document.querySelector('#showStarredUserName')?.checked) {
					showStarredUserNameInStandings(getGMVariable("starredUserNameList").actualValue);
				}
			}

			let showStandingsBackup = unsafeWindow.showStandings;
			unsafeWindow.showStandings = function(...args) {
				showStandingsBackup(...args);
				whenStandingsShowed();
			}
			// unsafeWindow.showStandings();

			// 设置搜索输入框每次改变都会刷新排行榜
			document.querySelector('#input-name')?.setAttribute('oninput', "showStandings();");

			let showStarredUserNameCheckbox = document.querySelector('#showStarredUserName');
			if (getQueryParam('showFavs') == 'on') {
				showStarredUserNameCheckbox.checked = true;
			}
			else {
				showStarredUserNameCheckbox.checked = false;
			}
			unsafeWindow.showStandings();

			showStarredUserNameCheckbox.addEventListener('input', function() {
				// console.log(getUpdatedQueryParamString([['showFavs', (showStarredUserNameCheckbox.checked ? 'on' : 'off')]]));
				updateQueryParamWithoutRefresh([['showFavs', (showStarredUserNameCheckbox.checked ? 'on' : 'off')]]);
				// console.log([['showFavs', (showStarredUserNameCheckbox.checked ? 'on' : 'off')]]);
				unsafeWindow.showStandings();
			});
		}
	})();

	// 代码框复制功能
	(function copyPreCodeFeature() {
		if (!getGMVariable("whetherCopyPreCode").actualValue) {
			return;
		}

		injectCSS(`
		/* 复制按钮的样式 */
		.btn.myCopyButton{
			font-size: 1em;
			position: absolute;
			user-select: none;
		}
		.btn.myCopyButton::after{
			content: ' Copy';
		}
		.btn.myCopyButton:hover{
			font-weight: normal;
		}
		.btn.myCopyButtonLeft{
			top: 0;
			left: -5.5em;
		}
		.btn.myCopyButtonRight{
			top: 0.25em;
			right: 0.25em;
		}
		.btn.myCopyButton:active{
			color: #11cd11;
		}
		`);

		let importClipboardJSScript = document.createElement('script');
		importClipboardJSScript.src = "https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js";
		document.head.appendChild(importClipboardJSScript);
		importClipboardJSScript.addEventListener('load', function(event) {
			new unsafeWindow.ClipboardJS('.btn.myCopyButton[data-clipboard-target]');
		});

		let preIdCount = 0;

		[...document.querySelectorAll('pre')].forEach(e => {
		//  e.innerHTML = e.innerHTML.trimEnd();

			// 修改 pre 元素的最大高度
			let preCodeDiv = document.createElement('div');
			e.parentNode.insertBefore(preCodeDiv, e);
			preCodeDiv.appendChild(e);
			e.style.position = 'relative';
			preCodeDiv.style.position = 'relative';
			if (getGMVariable('whetherAddCodeLineNumber').actualValue) {
				preCodeDiv.style.maxHeight = '80vh';
				e.style.maxHeight = '80vh';
			}

			// 添加复制按钮
			++preIdCount;
			let btnRandomIdString = "PreCodeRandomIdString" + randomToken() + "Number" + preIdCount.toString();
			e.id = btnRandomIdString;

			{
				let btn = document.createElement('a');
				btn.role = 'button';
				btn.setAttribute('class', 'myCopyButton myCopyButtonLeft btn btn-default btn-sm');
				btn.innerHTML = "<span class='glyphicon glyphicon-copy'></span>";
				btn.setAttribute('data-clipboard-target', '#' + btnRandomIdString);
				preCodeDiv.append(btn);
			}

			{
				let btn = document.createElement('a');
				btn.role = 'button';
				btn.setAttribute('class', 'myCopyButton myCopyButtonRight btn btn-default btn-sm');
				btn.innerHTML = "<span class='glyphicon glyphicon-copy'></span>";
				btn.setAttribute('data-clipboard-target', '#' + btnRandomIdString);
				preCodeDiv.append(btn);
			}

			// let btn = $('<button type="button" style="position: absolute; top: .25em; right: .25em; user-select: none;">Select All</button>');
			// // if(e.classList.length === 0)
			// //	 e.style.userSelect = 'all', btn.text('Original');
			// btn.bind('click', function () {
			//	 if(e.style.userSelect === 'all')
			//		 e.style.userSelect = 'initial', btn.text('Select All');
			//	 else
			//		 e.style.userSelect = 'all', btn.text('Original');
			// });
			// document.body.appendChild(btn);
			// $(e).append(btn);
		});
	})();

	(function submissionPageAddCodeLineNumberFeature() {
		if (!getGMVariable('whetherAddCodeLineNumber').actualValue) {
			return;
		}
		if (!isSubmissionPage()) {
			return;
		}
		[...document.querySelectorAll('pre')].forEach(e => {
			if (!e.classList.contains('sh_sourceCode')) {
				return;
			}
			let codeElement = e.querySelector('code');
			if (!codeElement) {
				return;
			}
			// console.log(e.parentNode.parentNode.parentNode);
			e.parentNode.parentNode.parentNode.id = 'sourceCodePanelDiv';
			e.parentNode.parentNode.parentNode.firstChild.innerHTML = `
			<a href="#sourceCodePanelDiv" class="no-hover-underline">
				<h4 class="panel-title">answer</h4>
			</a>`;

			// 添加行号
			let codeString = codeElement.innerHTML.toString().trimEnd().replaceAll('\t', '    ');
			let lstBrIndex = 0, lineCount = 1, lineCountTotal = 1;
			let newPreCodeString = "";
			// console.log(codeString);
			for (let i = 0; i < codeString.length; ++i) {
				if (codeString[i] == '\n') {
					++lineCountTotal;
				}
			}
			let lineCountTotalStringLength = lineCountTotal.toString().length;

			newPreCodeString += "<span style='user-select: none; color: grey;'>" + lineCount.toString().padStart(lineCountTotalStringLength, ' ') + " ║</span><span style='user-select: none; margin-right: 0.25em;'></span>";
			for (let i = 0; i < codeString.length; ++i) {
				if (codeString[i] == '\n') {
					++lineCount;
					newPreCodeString += codeString.substring(lstBrIndex, i);
					// console.log(lstBrIndex, codeString, codeString.substring(lstBrIndex, i));
					newPreCodeString += "\n<span style='user-select: none; color: grey;'>" + lineCount.toString().padStart(lineCountTotalStringLength, ' ') + " ║</span>" + "<span style='user-select: none; margin-right: 0.25em;'></span>";
					lstBrIndex = i + 1;
				}
			}
			if (lstBrIndex < codeString.length) {
				newPreCodeString += codeString.substring(lstBrIndex, codeString.length);
			}
			// console.log(newPreCodeString);

			codeElement.innerHTML = newPreCodeString;
		});
	})();

	// 放大 LaTex 公式并添加“我的提交”“所有提交”按钮
	(function magnifyLaTexFormulaFeature() {
		if (!getGMVariable("whetherMagnifyLaTex").actualValue) {
			return;
		}
		let div2 = document.querySelector('body');

		// let div1 = document.createElement('style');
		// div1.innerHTML = `.MathJax { font-size: ${GM_getValue("LaTexScale", 1.25)}em; }`;

		let div1 = document.createElement('script');
		div1.innerHTML = "window.MathJax = { tex: { inlineMath: [['\$', '\$']/*, ['\\(', '\\)']*/], }, chtml: { scale: " + GM_getValue("LaTexMagnification", 1.25) + " }};";
		let div3 = document.createElement('script');
		div3.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js';
		div2.appendChild(div1);
		div2.appendChild(div3);
	})();

	// 在题目界面添加“我的提交”“所有提交”按钮，并给“返回比赛”按钮添加图标
	(function addMySubmissionsAndAllSubmissionsButtonsFeature() {
		if (!getGMVariable("whetherAddMySubmissionsAndAllSubmissionsButtons").actualValue) {
			return;
		}
		let hrefString = window.location.href;
		let hrefString_Problem_Index = hrefString.indexOf("problem/");
		if (hrefString_Problem_Index != -1) {
			let problemId = hrefString.substring(hrefString_Problem_Index + 8, hrefString.length);

			let navTabs = document.querySelector('.nav.nav-tabs');
			if (navTabs != undefined) {
				[...navTabs.querySelectorAll('li')].forEach(e => {
					if (e?.innerHTML?.indexOf('返回比赛') != -1) {
						e.querySelector('a').innerHTML = `
						<span class="glyphicon glyphicon-home"></span> 返回比赛
						`;
					}
				});
			}

			let satisticsButton = document.querySelector('.btn.btn-info.pull-right');
			if (satisticsButton != undefined) {
				// 更改状态按钮的样式
				satisticsButton.style = 'filter: hue-rotate(0.5turn);';

				// 添加“我的提交”按钮
				let mySubmissionsButton = '<a role="button" class="btn btn-info pull-right" href = "http://zhengruioi.com/submissions?problem_id=' + problemId + '&submitter=' + selfUserName + '" style="margin-left: 0.2em; margin-right: 0.3em; filter: hue-rotate(0.8turn);"><span class="glyphicon glyphicon-list-alt"></span> <span>我的提交</span> </a>';
				satisticsButton.insertAdjacentHTML("afterend", mySubmissionsButton);
				// 添加“所有提交”按钮
				let AllSubmissionsButton = '<a role="button" class="btn btn-info pull-right" href = "http://zhengruioi.com/submissions?problem_id=' + problemId + '" style="margin-left: 0.2em; margin-right: 0.5em; filter: hue-rotate(0.15turn);"><span class="glyphicon glyphicon-time"></span> <span>所有提交</span> </a>';
				satisticsButton.insertAdjacentHTML("afterend", AllSubmissionsButton);
			}
		}
	})();

	// 更改 zac2010 的用户名颜色和用户主页
	(function fakeZAC2010ColorAndProfileFeature() {
		if (!getGMVariable("whetherFakeZAC2010ColorAndProfile").actualValue) {
			return;
		}
		setInterval(function() {
			$('.uoj-username').filter(function() { return this.innerText === 'zac2010'; }).css('color', 'red').html(`zac2010<sup>ℵℵℵ</sup>`);
		}, 100);
		let div = document.querySelector('.uoj-honor');
		if (div != null) {
			console.log(div);
			if (div.innerText == 'zac2010') {
				console.log(div);
				div.style = 'color:rgb(255,0,0)'
				div.innerHTML = getUserSpan('zac2010', 3000);
				let arr1 = document.querySelectorAll('.list-group-item-text');
				for (let elem of arr1) {
					if (elem.innerHTML.substring(0, 26) == '<strong style="color:red">') {
						elem.innerHTML = '<strong style="color:red">\$3000\$</strong>';
					}
				}
				let arr2 = document.querySelectorAll('.list-group-item-heading');
				for (let elem of arr2) {
					console.log(elem.outerHTML);
					if (elem.outerHTML.substring(0, 46) == '<h4 class="list-group-item-heading">AC 过的题目：共 ') {
						elem.outerHTML = '<h4 class="list-group-item-heading">AC 过的题目：共 \$10000\$ 道题 </h4>';
					}
				}
				/*			 rating_data[0].unshift([
					new Date('2023/5/15').valueOf(),
					1500,
					1296,
					"IOI 模拟赛",
					1,
					1500
				]);
				rating_data[0].forEach(e => e[1] += 300); */
			}
		}
	})();

	// 增加“跳转到题目”和“跳转到用户主页”输入框
	(function addGoToUserProfileFormFeature(){
		if (!getGMVariable("whetherAddGoToProblemAndGoToUserProfileInputLabels").actualValue) {
			return;
		}

		function goToProblem() {
			if (document.querySelector('#goToProblemFormProblemIdInputLabel').value == "") {
				return;
			}
			window.location.href = "http://zhengruioi.com/problem/" + document.querySelector('#goToProblemFormProblemIdInputLabel').value;
		}
		function goToUserProfile() {
			if (document.querySelector('#goToUserProfileFormUserNameInputLabel').value == "") {
				return;
			}
			window.location.href = "http://zhengruioi.com/user/profile/" + document.querySelector('#goToUserProfileFormUserNameInputLabel').value;
		}

		// 跳转到题目
		let goToProblemForm = document.createElement('li');
		goToProblemForm.style = 'position: relative; float: right; margin-left: 10px;';
		goToProblemForm.innerHTML = `
		<form class="input-group form-group" id="goToProblemFormProblemIdForm" style="position:relative; top:8px; width:140px; display: flex;">
			<input class="form-control" type="text" id="goToProblemFormProblemIdInputLabel" placeholder="跳转到题目">
			<span class="input-group-btn">
				<button class="btn btn-search btn-primary" id="goToProblemButton">
					<span class='glyphicon glyphicon-new-window'></span>
				</button>
			</span>
		</form>
		`;
		// 跳转到用户主页
		let goToUserProfileForm = document.createElement('li');
		goToUserProfileForm.style = 'position: relative; float: right; margin-left: 10px;';
		goToUserProfileForm.innerHTML = `
		<form class="input-group form-group" id="goToUserProfileFormUserNameForm" style="position:relative; top: 8px; width: 200px; display: flex;">
			<input class="form-control userNameInputClass" type="text" id="goToUserProfileFormUserNameInputLabel" placeholder="跳转到用户主页">
			<span class="input-group-btn">
				<button class="btn btn-search btn-primary">
					<span class='glyphicon glyphicon-new-window'></span>
				</button>
			</span>
		</form>
		`;

		document.querySelector('.navbar-header').parentNode.style.position = 'relative';
		document.querySelector('.navbar-header').parentNode.style.justifyContent = 'stretch';
		document.querySelector('.navbar-header').parentNode.style.display = 'flex';

		document.querySelector('.navbar-header').style.position = 'relative';

		document.querySelector('.navbar-collapse').style.position = 'relative';
		document.querySelector('.navbar-collapse').style.flexGrow = '1';
		document.querySelector('.navbar-collapse').style.paddingLeft = '0';
		document.querySelector('.navbar-collapse').style.paddingRight = '0';
		document.querySelector('.navbar-collapse').style.display = 'flex';
		// let bar = document.querySelector('.navbar-collapse');
		// bar.innerHTML = bar.innerHTML.replaceAll(/<(\/?)ul>/g, '<$1div>').replaceAll(/<(\/?)li>/g, '<$1div>');
		// document.querySelector('.navbar-collapse').querySelector('ul').style.display = 'flex';
		// document.querySelector('.navbar-collapse').querySelector('ul').style.flexWrap = 'wrap';
		document.querySelector('.navbar-collapse').querySelector('ul').style.width = '100%';

		document.querySelector('.navbar-collapse')?.querySelector('ul')?.appendChild(goToUserProfileForm);
		document.querySelector('.navbar-collapse')?.querySelector('ul')?.appendChild(goToProblemForm);

		document.querySelector('#goToProblemFormProblemIdForm').addEventListener('submit', function(event) {
			event.preventDefault();
			goToProblem();
		});
		document.querySelector('#goToUserProfileFormUserNameForm').addEventListener('submit', function(event) {
			event.preventDefault();
			goToUserProfile();
		});
	})();

	// 给比赛界面的部分按钮添加图标
	(function changeContestPageButtonIconFeature() {
		if (!getGMVariable("whetherChangeContestPageButtonIcon").actualValue) {
			return;
		}
		let hrefString = window.location.href;
		let hrefString_Problem_Index = hrefString.indexOf("contest/");
		if (hrefString_Problem_Index != -1) {
			let navTabs = document.querySelector('.nav.nav-tabs');
			if (navTabs != undefined) {
				[...navTabs.querySelectorAll('li')].forEach(e => {
					if (e?.innerHTML?.indexOf('比赛主页') != -1) {
						e.querySelector('a').innerHTML = `
						<span class="glyphicon glyphicon-tasks"></span> 比赛主页
						`;
					}
					if (e?.innerHTML?.indexOf('提交记录') != -1) {
						e.querySelector('a').innerHTML = `
						<span class="glyphicon glyphicon-list"></span> 提交记录
						`;
					}
					if (e?.innerHTML?.indexOf('排行榜') != -1) {
						e.querySelector('a').innerHTML = `
						<span class="glyphicon glyphicon-stats"></span> 排行榜
						`;
					}
				});
			}
		}
	}());

	// 添加在新标签页中打开 pdf 题面的按钮
	(function addOpenIframeInNewTabButtonFeature() {
		if (!getGMVariable("whetherAddOpenIframeInNewTabButton").actualValue) {
			return;
		}
		injectCSS(`
		/* 复制按钮的样式 */
		.btn.openIframeInNewTabButton{
			font-size: 1em;
			position: absolute;
			user-select: none;
			top: 0;
			left: -11em;
		}
		.btn.openIframeInNewTabButton::after{
			content: ' 在新标签页中打开';
		}
		`);
		[...document.querySelectorAll('iframe')].forEach(e => {
			let div = document.createElement('div');
			div.style.position = 'relative';
			e.parentNode.appendChild(div);
			div.appendChild(e);

			// console.log(e);
			e.style.position = 'relative';

			let btn = document.createElement('a');
			btn.role = 'button';
			btn.setAttribute('class', 'openIframeInNewTabButton btn btn-primary btn-sm');
			btn.innerHTML = "<span class='glyphicon glyphicon-resize-full'></span>";
			btn.setAttribute('href', e.getAttribute('src'));
			btn.target = "_blank";
			div.append(btn);
			// console.log(btn);
		});
	})();

	// 修复提交记录列表界面输入题目 uid 的输入框无法容纳 4 个字符的 bug
	(function OptimizeSubmissionListPageFeature() {
		if (!(isSubmissionListPage() && !isContestSubmissionListPage())) {
			return;
		}
		document.querySelector('#input-problem_id').style.width = '5em';
		document.querySelector('#input-submitter').classList.add('userNameInputClass');
		document.querySelector('#input-submitter').style.width = '150px';
	})();

	(function OptimizeHackListPageFeature() {
		if (!isHackListPage()) {
			return;
		}
		document.querySelector('#input-hacker').classList.add('userNameInputClass');
		document.querySelector('#input-owner').classList.add('userNameInputClass');
	})();

	// 爬取用户补题情况
	(async function showProblemsSolvedInContestListPage() {
		if (!getGMVariable('whethershowProblemsSolvedInContestListPage').actualValue) {
			return;
		}
		if (!isContestListPage()) {
			return;
		}

		// await fetchUserProfile(selfUserName, 30000);
		// let userACedProblems = Cache.userCache[selfUserName].ACedProblems;
		// let userACedProblemsObject = {};
		// userACedProblems.forEach(id => {
		// 	userACedProblemsObject[id] = true;
		// });
		// let userRating = Cache.userCache[selfUserName].rating;

		// let contestListTable = $('h4:contains("已结束的比赛") + div.table-responsive > table');
		let contestListTable = [...document.querySelectorAll('h4')].find(e => e.innerHTML.includes("已结束的比赛")).nextElementSibling;
		if (!contestListTable) {
			return;
		}
		if ([...contestListTable.querySelectorAll('tbody > tr > td')].length <= 1) { // 无比赛
			return;
		}

		// 添加节点
		let newTh = document.createElement('th');
		newTh.innerHTML = "<span>补题情况</span>";
		newTh.style.maxWidth = "120px";
		let theadTr = contestListTable.querySelector('thead > tr');
		theadTr.insertBefore(newTh, theadTr.childNodes[1]);

		let fetchDivSourceCode = `
		<div style="display: flex; align-items: center; margin-bottom: 10px;">
			<h4>已结束的比赛</h4>
			<div style="display: flex; align-items: center; margin-left: auto;">
				<form class="input-group form-group">
					<div style="display: inline-grid; width: 300px; margin-left: auto; margin-bottom: 0;
					grid-auto-flow: column dense;
					grid-template-rows: 34px 34px; grid-row-gap: 0px; grid-template-columns: 200px 100px; grid-column-gap: 0px;
					grid-template-areas:
						'input1 button'
						'input2 button';
					">
						<input class="form-control userNameInputClass" placeholder="要爬取的用户名1" type="text" id="fetchUserSolvedProblemsFirstUserNameInput" style="grid-area: input1;">
						<input class="form-control userNameInputClass" placeholder="要爬取的用户名2" type="text" id="fetchUserSolvedProblemsSecondUserNameInput" style="grid-area: input2;">
						<span class="input-group-btn" style="grid-area: button;">
							<button class="btn btn-primary" id="fetchAcedProblemsButton" style="height: 100%;">爬取补题情况</button>
						</span>
					</div>
				</form>
				<button class="btn btn-info" id="fetchSelfAcedProblemsButton" style="margin-left: 15px;">爬取自己的补题情况</button>
				<span style="margin-left: 10px;">
					<span id="fetchACedProblemsStatusSpan" style="font-family: var(--main-font-sans); font-weight: bold;"></span>
					<strong>爬取的用户：</strong>
					<span class="uoj-username" id="fetchAcedProblemsFirstUserNameSpan" style="color:rgb(57,204,58)">${selfUserName}</span>
					<span class="uoj-username" id="fetchAcedProblemsSecondUserNameSpan"></span>
				</span>
			</div>
		</div>`;

		contestListTable.previousElementSibling.remove();
		let fetchDiv = document.createElement('div');
		fetchDiv.innerHTML = fetchDivSourceCode;
		contestListTable.parentNode.insertBefore(fetchDiv, contestListTable);

		[...contestListTable.querySelectorAll('thead > tr > th')].forEach(e => {
			e.style.verticalAlign = 'middle';
			e.style.whiteSpace = 'nowrap';
		});

		[...contestListTable.querySelectorAll('tbody > tr')].forEach(async e => {
			let newTd = document.createElement('td');
			newTd.classList.add('showProblemSolvedTd');
			e.insertBefore(newTd, e.childNodes[1]);

			[...e.querySelectorAll('td')].forEach(td => {
				td.style.verticalAlign = 'middle';
				td.style.whiteSpace = 'nowrap';
			});
		});

		// 爬取用户信息并修改节点（单人模式）
		async function fetchUserACedProblems_oneUser(userName, cache = 30000, failFunction = function () {sweetAlert("爬取失败")}) {
			let flag = false;
			let fetchStatusSpan = document.querySelector('#fetchACedProblemsStatusSpan');
			fetchStatusSpan.style.color = "blue";
			fetchStatusSpan.innerHTML = "爬取中...";
			await fetchUserProfile(userName, cache, function (error) {
				console.error(error);
				failFunction();
				flag = true;
			});
			if (flag === true) {
				fetchStatusSpan.style.color = "red";
				fetchStatusSpan.innerHTML = "爬取失败！";
				return false;
			}
			let userACedProblems = Cache.userCache[userName].ACedProblems;
			let userACedProblemsObject = {};
			userACedProblems.forEach(id => {
				userACedProblemsObject[id] = true;
			});
			let userRating = Cache.userCache[userName].rating;
			document.querySelector('#fetchAcedProblemsFirstUserNameSpan').innerHTML = getUserLink(userName, userRating);
			document.querySelector('#fetchAcedProblemsSecondUserNameSpan').innerHTML = "";

			let trList = [...contestListTable.querySelectorAll('tbody > tr')];
			for (let e of trList) {
				let newTd = e.querySelector('.showProblemSolvedTd');
				clearNode(newTd);

				let newDiv = document.createElement('div');
				newDiv.style.display = 'flex';
				newDiv.style.margin = '-6px 2px';
				newDiv.style.flexFlow = 'row nowrap';
				newDiv.style.justifyContent = 'center';

				// let loadingSpan = document.createElement('span');
				// loadingSpan.innerHTML = "Loading...";
				// newTd.appendChild(LoadingSpan);

				let contestId = e.querySelector('a').href.match(/contest\/(\d+)/)[1];
				await fetchContest(contestId);
				let contestProblemList = Cache.contestList[contestId].problemList;

				let whetherAllACed = true;
				for (let i = 0; i < contestProblemList.length; ++i) {
					let id = contestProblemList[i];

					let problemData = await fetchProblem(id);

					let problemButton = document.createElement('a');
					problemButton.classList.add('btn', 'btn-always-bold');
					problemButton.href = uojHome + '/contest/' + contestId.toString() + '/problem/' + id.toString();
					problemButton.target = '_blank';
					// problemButton.title = problemData.title;
					problemButton.innerHTML = `<span>` + String.fromCharCode(('A'.charCodeAt() + i)) + `</span>`;
					// problemButton.style.position = 'absolute';
					problemButton.style.flex = '1 1 1.5em';
					problemButton.style.padding = '0';
					problemButton.style.lineHeight = '2em';
					problemButton.style.maxWidth = '2em';
					problemButton.style.borderRadius = '0px';
					if (userACedProblemsObject.hasOwnProperty(id)) {
						problemButton.classList.add('btn-success');
						problemButton.classList.add('hover-color-lightgreen');
					}
					else {
						problemButton.classList.add('btn-danger');
						problemButton.classList.add('hover-color-orange');
						whetherAllACed = false;
					}
					newDiv.appendChild(problemButton);

					let titleText = $(`<div style="position: absolute; display: none;">
						<span style="position: absolute; z-index: 2; left: 1.5em; bottom: 1.5em; font-family: var(--main-font-serif); font-size: 16px; font-weight: normal; color: black; background-color: #f0f4f9; border: 1px solid #ddd; padding-left: 0.5em; padding-right: 0.5em;">
							${problemData.title}
						</span>
					</div>`)[0];
					problemButton.appendChild(titleText);

					problemButton.addEventListener('mouseenter', function () {
						titleText.style.display = 'block';
					});
					problemButton.addEventListener('mouseleave', function () {
						titleText.style.display = 'none';
					});
				};
				newDiv.firstChild.style.borderTopLeftRadius = '4px';
				newDiv.firstChild.style.borderBottomLeftRadius = '4px';
				newDiv.lastChild.style.borderTopRightRadius = '4px';
				newDiv.lastChild.style.borderBottomRightRadius = '4px';

				newTd.appendChild(newDiv);
				if (whetherAllACed) {
					newTd.classList.add('success');
				}
				else {
					newTd.classList.remove('success');
				}
				e.insertBefore(newTd, e.childNodes[1]);
			};
			fetchStatusSpan.style.color = "green";
			fetchStatusSpan.innerHTML = "爬取成功！";
			return true;
		}

		// 爬取用户信息并修改节点（双人模式）
		async function fetchUserACedProblems_twoUsers(firstUserName, secondUserName, cache = 30000, failFunction = function () {sweetAlert("爬取失败")}) {
			let flag = false;
			let fetchStatusSpan = document.querySelector('#fetchACedProblemsStatusSpan');
			fetchStatusSpan.style.color = "blue";
			fetchStatusSpan.innerHTML = "爬取中...";

			await fetchUserProfile(firstUserName, cache, function (error) {
				console.error(error);
				failFunction();
				flag = true;
			});
			if (flag === true) {
				fetchStatusSpan.style.color = "red";
				fetchStatusSpan.innerHTML = "爬取失败！";
				return false;
			}
			let firstUserACedProblems = Cache.userCache[firstUserName].ACedProblems;
			let firstUserACedProblemsObject = {};
			firstUserACedProblems.forEach(id => {
				firstUserACedProblemsObject[id] = true;
			});
			let firstUserRating = Cache.userCache[firstUserName].rating;
			document.querySelector('#fetchAcedProblemsFirstUserNameSpan').innerHTML = getUserLink(firstUserName, firstUserRating);

			await fetchUserProfile(secondUserName, cache, function (error) {
				console.error(error);
				failFunction();
				flag = true;
			});
			if (flag === true) {
				fetchStatusSpan.style.color = "red";
				fetchStatusSpan.innerHTML = "爬取失败！";
				return false;
			}
			let secondUserACedProblems = Cache.userCache[secondUserName].ACedProblems;
			let secondUserACedProblemsObject = {};
			secondUserACedProblems.forEach(id => {
				secondUserACedProblemsObject[id] = true;
			});
			let secondUserRating = Cache.userCache[secondUserName].rating;
			document.querySelector('#fetchAcedProblemsSecondUserNameSpan').innerHTML = getUserLink(secondUserName, secondUserRating);

			let trList = [...contestListTable.querySelectorAll('tbody > tr')];
			for (let e of trList) {
				let newTd = e.querySelector('.showProblemSolvedTd');
				clearNode(newTd);

				let newDiv = document.createElement('div');
				newDiv.style.display = 'flex';
				newDiv.style.margin = '-6px 2px';
				newDiv.style.flexFlow = 'row nowrap';
				newDiv.style.justifyContent = 'center';

				// let loadingSpan = document.createElement('span');
				// loadingSpan.innerHTML = "Loading...";
				// newTd.appendChild(LoadingSpan);

				let contestId = e.querySelector('a').href.match(/contest\/(\d+)/)[1];
				await fetchContest(contestId);
				let contestProblemList = Cache.contestList[contestId].problemList;

				let whetherFirstUserAllACed = true;
				for (let i = 0; i < contestProblemList.length; ++i) {
					let id = contestProblemList[i];

					let problemData = await fetchProblem(id);

					let problemButton = document.createElement('a');
					problemButton.classList.add('btn', 'btn-always-bold');
					problemButton.href = uojHome + '/contest/' + contestId.toString() + '/problem/' + id.toString();
					problemButton.target = '_blank';
					// problemButton.title = problemData.title;
					problemButton.innerHTML = `<span>` + String.fromCharCode(('A'.charCodeAt() + i)) + `</span>`;
					// problemButton.style.position = 'absolute';
					problemButton.style.flex = '1 1 1.5em';
					problemButton.style.padding = '0';
					problemButton.style.lineHeight = '2em';
					problemButton.style.maxWidth = '2em';
					problemButton.style.borderRadius = '0px';
					if (firstUserACedProblemsObject.hasOwnProperty(id)) {
						if (secondUserACedProblemsObject.hasOwnProperty(id)) {
							problemButton.classList.add('btn-success');
							problemButton.classList.add('hover-color-lightgreen');
						}
						else {
							problemButton.classList.add('btn-info');
							problemButton.classList.add('hover-color-lightblue');
						}
					}
					else {
						if (secondUserACedProblemsObject.hasOwnProperty(id)) {
							problemButton.classList.add('btn-warning');
							problemButton.classList.add('hover-color-yellow');
						}
						else {
							problemButton.classList.add('btn-danger');
							problemButton.classList.add('hover-color-orange');
						}
						whetherFirstUserAllACed = false;
					}
					newDiv.appendChild(problemButton);

					let titleText = $(`<div style="position: absolute; display: none;">
						<span style="position: absolute; z-index: 2; left: 1.5em; bottom: 1.5em; font-family: var(--main-font-serif); font-size: 16px; font-weight: normal; color: black; background-color: #f0f4f9; border: 1px solid #ddd; padding-left: 0.5em; padding-right: 0.5em;">
							${problemData.title}
						</span>
					</div>`)[0];
					problemButton.appendChild(titleText);

					problemButton.addEventListener('mouseenter', function () {
						titleText.style.display = 'block';
					});
					problemButton.addEventListener('mouseleave', function () {
						titleText.style.display = 'none';
					});
				};
				newDiv.firstChild.style.borderTopLeftRadius = '4px';
				newDiv.firstChild.style.borderBottomLeftRadius = '4px';
				newDiv.lastChild.style.borderTopRightRadius = '4px';
				newDiv.lastChild.style.borderBottomRightRadius = '4px';

				newTd.appendChild(newDiv);
				if (whetherFirstUserAllACed) {
					newTd.classList.add('success');
				}
				else {
					newTd.classList.remove('success');
				}
				e.insertBefore(newTd, e.childNodes[1]);
			};
			fetchStatusSpan.style.color = "green";
			fetchStatusSpan.innerHTML = "爬取成功！";
			return true;
		}

		await fetchUserACedProblems_oneUser(selfUserName, 30000);

		document.querySelector('#fetchAcedProblemsButton').addEventListener('click', async function (event) {
			event.preventDefault();
			let firstUserName = document.querySelector('#fetchUserSolvedProblemsFirstUserNameInput').value.replaceAll(' ', '');
			let secondUserName = document.querySelector('#fetchUserSolvedProblemsSecondUserNameInput').value.replaceAll(' ', '');
			if (firstUserName == "") {
				return;
			}
			let stat;
			if (secondUserName == "") {
				stat = await fetchUserACedProblems_oneUser(firstUserName, 0, function () {Sweetalert2("爬取遇到错误", "可能是由于用户不存在，请检查用户名。")});
				return;
			}
			else {
				// let ind = userName.indexOf(',');
				// let firstUserName = userName.slice(0, ind), secondUserName = userName.slice(ind + 1);
				// console.log(firstUserName, secondUserName);
				stat = await fetchUserACedProblems_twoUsers(firstUserName, secondUserName, 0, function () {Sweetalert2("爬取遇到错误", "可能是由于用户不存在，请检查用户名。")});
			}
			if (stat) {
				sweetAlert("爬取成功！");
			}
		});
		// console.log(document.querySelector('#fetchUserSolvedProblemsFirstUserNameInput').parentNode.parentNode);
		document.querySelector('#fetchUserSolvedProblemsFirstUserNameInput').parentNode.parentNode.display = 'grid';
		document.querySelector('#fetchSelfAcedProblemsButton').addEventListener('click', async function (event) {
			event.preventDefault();
			let stat = await fetchUserACedProblems_oneUser(selfUserName, 0);
			if (stat) {
				sweetAlert("爬取成功！");
			}
		});
	})();

	// 破除自定义测试无法提交超过 10MB 的文件的限制
	(function customTestUploadBigFileFeature() {
		if (!getGMVariable('whetherAllowUploadBigFile').actualValue) {
			return;
		}
		if (!isProblemPage()) {
			return;
		}

		// let problemId = location.href.match(/problem\/(\d+)/)[1];
		let form = document.querySelector('#form-custom_test');
		let clonedForm = form.cloneNode(false);
		clonedForm.append(...form.childNodes);
		form.parentNode.replaceChild(clonedForm, form);
		console.log(location);

		$('#form-custom_test').submit(function(e) {
			var ok = true;
			var post_data = {};
			if (post_data != {}) {
				post_data['check-custom_test'] = "";
				$.ajax({
					url : location.pathname,
					type : 'POST',
					dataType : 'json',
					async : false,
	
					data : post_data,
					success : function(data) {
						if (data.extra != undefined) {
							alert(data.extra);
							ok = false;
						}
					}
				});
			}
			// console.log($('#help-' + $(this).attr('name')));
			// $('#div-' + $(this).attr('name')).addClass('has-error');
			// $('#help-' + $(this).attr('name')).text('文件大小不能超过10M');
			// $(this).find("input[type='file']").each(function() {
			// 	// $('#help-' + $(this).attr('name')).text('上传中...');
			// 	// for (var i = 0; i < this.files.length; i++) {
			// 	// 	if (this.files[i].size > 10 * 1024 * 1024) {
			// 	// 		$('#div-' + $(this).attr('name')).addClass('has-error');
			// 	// 		$('#help-' + $(this).attr('name')).text('文件大小不能超过10M');
			// 	// 		ok = false;
			// 	// 	} else {
			// 	// 		$('#div-' + $(this).attr('name')).removeClass('has-error');
			// 	// 		$('#help-' + $(this).attr('name')).text('');
			// 	// 	}
			// 	// }
			// });
			e.preventDefault();
			if (ok) {
				$(this).ajaxSubmit({
					beforeSubmit: function(formData) {
						formData.push({name: 'submit-custom_test', value: 'custom_test', type: 'submit'});
						// console.log("beforeSubmit");
						// $('#help-' + $(this).attr('name')).text('上传中...');
					},
					success : function(response_text) {
						// console.log("submitted");
						// $('#help-' + $(this).attr('name')).text('上传完毕!');
						custom_test_onsubmit(response_text, $('#div-custom_test_result')[0], `${location.pathname}?get=custom-test-status-details`)
					}
				});
			}
		});
	})();

	// 破除 Hack 无法提交超过 10MB 的文件的限制
	(function customTestUploadBigFileFeature() {
		if (!getGMVariable('whetherAllowUploadBigFile').actualValue) {
			return;
		}
		if (!isSubmissionPage()) {
			return;
		}
		if (!document.querySelector('#button-display-hack')) {
			return;
		}

		let form = document.querySelector('#form-hack');
		let clonedForm = form.cloneNode(false);
		clonedForm.append(...form.childNodes);
		form.parentNode.replaceChild(clonedForm, form);
		console.log(location);

		$('#form-hack').submit(function(e) {
			var ok = true;
			// $(this).find("input[type='file']").each(function() {
			// 	for (var i = 0; i < this.files.length; i++) {
			// 		if (this.files[i].size > 10 * 1024 * 1024) {
			// 			$('#div-' + $(this).attr('name')).addClass('has-error');
			// 			$('#help-' + $(this).attr('name')).text('文件大小不能超过10M');
			// 			ok = false;
			// 		} else {
			// 			$('#div-' + $(this).attr('name')).removeClass('has-error');
			// 			$('#help-' + $(this).attr('name')).text('');
			// 		}
			// 	}
			// });
			return ok;
		});
	})();

	(async function addContestsInvolvingInSourceProblemPageFeature() {
		if (!getGMVariable('whetherShowInvolvingContestListInProblemPage').actualValue) {
			return;
		}
		if (!isSourceProblemPage()) {
			return;
		}

		let problemId = location.href.match(/\/problem\/(\d+)/)[1].toString();

		let articleElement = document.querySelector('article');
		if (!articleElement) {
			return;
		}

		let newDiv = $(`
		<div class="alert alert-primary">
			<span>
				<span style="font-weight: bold;" id="involvingContestListInfoSpan">本题目被用在以下的比赛中: </span>
				<button class="btn btn-primary btn-sm" id="fetchContestListButton">重新爬取</button>
				<span id="fetchContestListStatusSpan" style="font-family: var(--main-font-sans); font-weight: bold;"></span>
			</span>
			<ul>

			</ul>
		</div>`)[0];
		articleElement.parentNode.insertBefore(newDiv, articleElement);

		function renderInvolvingContestList() {
			let ul = newDiv.querySelector('ul');
			clearNode(ul);

			let flag = false;
			for (let id in Cache.contestList) {
				// console.log(id);
				// console.log(Cache.contestList[id]);
				// console.log(Object.keys(Cache.contestList[id]));
				// for (let x in Cache.contestList[id]) console.log(x);
				if (Cache.contestList[id].problemList.includes(problemId)) {
					flag = true;

					let li = $(`
					<li>
						<a href="${uojHome + "/contest/" + id}">${Cache.contestList[id].title}</a>
					</li>`)[0];
					ul.appendChild(li);
				}
			}
			let involvingContestListInfoSpan = document.querySelector('#involvingContestListInfoSpan');
			if (flag) {
				involvingContestListInfoSpan.innerHTML = "本题目被用在以下的比赛中：";
			}
			else {
				involvingContestListInfoSpan.innerHTML = "本题目没有被用在任何一场比赛中。";
			}
		}
		renderInvolvingContestList();

		document.querySelector('#fetchContestListButton').addEventListener('click', async function () {
			let fetchStatusSpan = document.querySelector('#fetchContestListStatusSpan');
			fetchStatusSpan.style.color = "blue";
			fetchStatusSpan.innerHTML = "爬取中...";

			await fetchContestList(uojHome + "/contests");
			renderInvolvingContestList();

			fetchStatusSpan.style.color = "green";
			fetchStatusSpan.innerHTML = "爬取成功！";
		});
	})();

	(function addSourceProblemInContestProblemPageFeature() {
		if (!getGMVariable('whetherAddMySubmissionsAndAllSubmissionsButtons').actualValue) {
			return;
		}
		if (!isContestProblemPage()) {
			return;
		}

		let problemId = location.href.match(/\/contest\/\d+\/problem\/(\d+)/)[1].toString();

		let ul = document.querySelector('.nav.nav-tabs');
		let li = $(`
		<li>
			<a href="${uojHome + "/problem/" + problemId}" role="tab">
				<span class="glyphicon glyphicon-link"></span> 源题目
			</a>
		</li>`)[0];
		ul.appendChild(li);
	})();

	(function addProblemLinkGeneratorInSourceProblemPageFeature() {
		if (!(isSourceProblemPage() && !isContestProblemPage())) {
			return;
		}

		let problemId = location.href.match(/\/problem\/(\d+)/)[1].toString();
		let problemName = document.querySelector('h1.page-header').innerHTML.match(/\#\d+\.\s(.*)/)[1].toString();
		let problemLink = '[ZR' + problemId + ' ' + problemName + '](' + uojHome + '/problem/' + problemId + ')';

		let ul = document.querySelector('.nav.nav-tabs');
		let li = $(`
		<li>
			<a role="button">
				<span class='glyphicon glyphicon-copy'></span>
				复制题目链接
			</a>
		</li>`)[0];
		ul.appendChild(li);

		li.querySelector('a').addEventListener('click', function () {
			sweetAlert('复制成功！');
			GM_setClipboard(problemLink);
		});
	})();

	(function addPunchTheClockInHomePageFeature() {
		if (!getGMVariable('whetheraddPunchTheClockInHomePage').actualValue) {
			return;
		}
		if (!isHomePage()) {
			return;
		}

		injectCSS(`
		.punchTheClock_PanelDiv{
			text-align: center;
			padding: 4px;
			border: 1px solid #ddd;
			border-radius: 4px;
		}
		`);

		let contentElement = document.querySelector('.uoj-content');

		let todayDate = new Date();
		todayDate.setHours(0, 0, 0, 0);

		// let CSPJS_firstRound_2024_Date = new Date();
		// CSPJS_firstRound_2024_Date.setFullYear(2024, 9 - 1, 21);

		// let CSPJS_secondRound_2024_Date = new Date();
		// CSPJS_secondRound_2024_Date.setFullYear(2024, 10 - 1, 26);

		let selfUserLink = $(getUserLink(selfUserName, 1500))[0];
		selfUserLink.style.color = document.querySelector("a[data-toggle='dropdown']").querySelector("span").style.color;

		let div = $(`
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="row" style="display: block; min-height: min-content;">
					<div class="col-sm-12 col-md-6">
						<div class="punchTheClock_PanelDiv" id="punchTheClockDiv">
							<h4>Hi, ${selfUserLink.outerHTML}</h4>
							<p>今天是 <strong>${todayDate.getFullYear()}</strong> 年 <strong>${todayDate.getMonth() + 1}</strong> 月 <strong>${todayDate.getDate()}</strong> 日</p>
						</div>
					</div>
					<div class="col-sm-12 col-md-6" style="text-align: center;">
						<div class="punchTheClock_PanelDiv">
							<h4> 一言 </h4>
							<p>${oneSentenceList[get_rnd(0, oneSentenceList.length - 1)]}</p>
						</div>
					</div>
				</div>
			</div>
		</div>`)[0];
		contentElement.insertBefore(div, contentElement.firstChild);

		let punchTheClockDiv = document.querySelector('#punchTheClockDiv');

		for (let x of importantCompetitionsList) {
			let competitionDate = new Date();
			competitionDate.setFullYear(x.date[0], x.date[1] - 1, x.date[2]);
			competitionDate.setHours(0, 0, 0, 0);
			let dateDiff = getDaysDiff(todayDate, competitionDate);

			let pElement;
			if (dateDiff > 0) {
				pElement = $(`<p>距离 <strong>${x.name}</strong> 还有 <strong>${dateDiff}</strong> 天</p>`)[0];
			}
			else if (dateDiff == 0) {
				pElement = $(`<p>今天是 <strong>${x.name}</strong>！</p>`)[0];
			}
			else if (dateDiff < 0) {
				pElement = $(`<p><strong>${x.name}</strong> 已经结束</p>`)[0];
			}
			punchTheClockDiv.appendChild(pElement);
		}
	})();

	(function RollMonitoringFeature() {
		injectCSS(`
		#openRollMonitoringButton{
			display: block;
			padding: 10px 15px;
		}

		#RollMonitoringGUIDiv-modal{
			height: 100vh;
			width: 100vw;
			background-color: rgba(75, 75, 75, 0.5);
		}
		#RollMonitoringGUIDiv-modal-dialog{
			height: 100%;
			width: 80%;
			padding-top: 0px;
			padding-bottom: 50px;
		}
		#RollMonitoringGUIDiv-modal-content{
			display: flex;
			flex-direction: column;
			height: 100%;
			width: 100%;
			background-color: #f0f4f9;
		}
		#RollMonitoringGUIDiv-modal-content-body{
			flex-grow: 1;
			display: flex;
			flex-direction: row;
			position: relative;
			width: 100%;
			padding: 10px;
		}
		#RollMonitoringGUIDiv-modal-content-body:focus{
			outline: none;
		}

		.RollMonitoringGUIDiv-panel{
			flex-grow: 1;
			display: flex;
			flex-direction: column;
			position: relative;
			width: 100%;
			padding: 10px;
		}
		#RollMonitoringGUIDiv-panel-switch{
			display: flex;
			flex-direction: column;

			margin-left: auto;
			padding: 2px;

			width: 150px;
			min-width: 150px;
		}
		.RollMonitoringGUIDiv-panel-switch-option{
			margin: 2px;
			border: 3px;
			border-radius: 4px;
			padding: 2px;

			background-color: lightblue;

			font-size: 18px;
			font-family: var(--main-font-sans);
			white-space: pre-wrap;
		}

		#RollMonitoringGUIDiv-svgDiv{
			display: block;
			flex-grow: 1;
			position: relative;
			margin-top: 10px;
		}
		`);

		// 添加 GUI 界面
		let GUIDiv = document.createElement('div');
		let GUIDivInnerHTMLString = `
		<div class="modal fade in" id="RollMonitoringGUIDiv-modal" tabindex="-1" aria-labelledby="RollMonitoringGUISwitchModalLabel" style="display: none;">
			<div class="modal-dialog" id="RollMonitoringGUIDiv-modal-dialog">
				<div class="modal-content" id="RollMonitoringGUIDiv-modal-content">
					<div class="modal-header" style="min-height: 51px;">
						<h4 class="modal-title" id="RollMonitoringGUISwitchModalLabel" style='float:left; font-family: "阿里巴巴普惠体 2.0", "Fira Code", "Times New Roman"'><span class="glyphicon glyphicon-stats"></span> 卷王监视器</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close" style="float:right" id="closeRollMonitoringGUIDivButtonUpperRight">
						<span aria-hidden="true">×</span>
						</button>
					</div>

					<div class="embedded-scrollbar" id="RollMonitoringGUIDiv-modal-content-body">
						<div class="RollMonitoringGUIDiv-panel" id="RollMonitoringGUIDiv-panel1">
							<div display="inline-flex">
								<form class="inline-form" name="form">
									<input class="form-control userNameInputClass" placeholder="输入要爬取的用户名" type="text" name="userName" style="width: 200px;">
									<label>时间（左闭右闭）:</label>
									<input type="text" class="form-control" name="StartTime" value="" style="width:10em">
									<label>~</label>
									<input type="text" class="form-control" name="EndTime" value="" style="width:10em">
									<button class="btn btn-primary">分析卷题情况</button>
								</form>
								<span style="margin-left: 10px;">
									<span name="StatusSpan" style="font-family: var(--main-font-sans); font-weight: bold;"></span>
									<strong>爬取的用户：</strong>
									<span class="uoj-username" name="UserNameSpan" style="color:rgb(57,204,58)"></span>
								</span>
							</div>
							<div name="svgDiv">
							</div>
						</div>
						<div class="RollMonitoringGUIDiv-panel" id="RollMonitoringGUIDiv-panel2">
							<div display="inline-flex">
								<form class="inline-form" style="display: flex;" name="form">
									<input class="form-control" placeholder="输入要爬取的用户名列表" type="text" name="userName" style="width: 300px;">
									<label>时间（左闭右闭）:</label>
									<input type="text" class="form-control" name="StartTime" value="" style="width:10em">
									<label>~</label>
									<input type="text" class="form-control" name="EndTime" value="" style="width:10em">
									<button class="btn btn-primary">分析卷题情况</button>
								</form>
								<span style="margin-left: 10px;">
									<span name="StatusSpan" style="font-family: var(--main-font-sans); font-weight: bold;"></span>
								</span>
							</div>
							<div name="svgDiv">
							</div>
						</div>
						<div id="RollMonitoringGUIDiv-panel-switch">
							<button class="RollMonitoringGUIDiv-panel-switch-option btn btn-info" id="RollMonitoringGUIDiv-panel-switch-option1">分析单个用户的卷题情况</button>
							<button class="RollMonitoringGUIDiv-panel-switch-option btn btn-info" id="RollMonitoringGUIDiv-panel-switch-option2">对比多个用户的卷题情况</button>
							<div class="modal-footer" style="flex-basis: 65px; margin-top: auto;">
								<button type="button" class="btn btn-warning" data-dismiss="modal" id="closeRollMonitoringGUIDivButtonBottom">关闭</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>`;
		GUIDiv.innerHTML = GUIDivInnerHTMLString;
		document.body.appendChild(GUIDiv);

		// 添加进入界面的按钮
		let div = document.querySelector('.nav.nav-pills.pull-right');
		let showGUIDivButtonLi = document.createElement('li');
		showGUIDivButtonLi.innerHTML = `
		<button class="btn btn-warning btn-block btn-always-bold" id="openRollMonitoringButton">
			<span class="glyphicon glyphicon-stats"></span> 卷王监视器
		</button>
		`;
		div?.insertBefore(showGUIDivButtonLi, div.firstChild);

		// 添加打开设置界面时的处理函数
		function openRollMonitoringGUIDiv() {
			document.querySelector('#RollMonitoringGUIDiv-modal').style = "display: block;";
			document.body.style.overflow = "hidden";
		}
		document.querySelector('#openRollMonitoringButton').addEventListener('click', openRollMonitoringGUIDiv);

		// 添加关闭设置界面（不保存）时的处理函数
		function closeRollMonitoringGUIDiv() {
			document.querySelector('#RollMonitoringGUIDiv-modal').style = "display: none;";
			document.body.style.overflow = "auto";
		}
		document.querySelector('#closeRollMonitoringGUIDivButtonUpperRight').addEventListener('click', closeRollMonitoringGUIDiv);
		document.querySelector('#closeRollMonitoringGUIDivButtonBottom').addEventListener('click', closeRollMonitoringGUIDiv);

		function HideAllThePanels() {
			document.querySelector('#RollMonitoringGUIDiv-panel1').style.display = 'none';
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option1').classList.remove('btn-primary');
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option1').classList.add('btn-info');
			document.querySelector('#RollMonitoringGUIDiv-panel2').style.display = 'none';
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option2').classList.remove('btn-primary');
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option2').classList.add('btn-info');

		}
		HideAllThePanels();
		document.querySelector('#RollMonitoringGUIDiv-panel-switch-option1').addEventListener('click', function() {
			HideAllThePanels();
			document.querySelector('#RollMonitoringGUIDiv-panel1').style.display = 'block';
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option1').classList.remove('btn-info');
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option1').classList.add('btn-primary');
		});
		document.querySelector('#RollMonitoringGUIDiv-panel-switch-option2').addEventListener('click', function() {
			HideAllThePanels();
			document.querySelector('#RollMonitoringGUIDiv-panel2').style.display = 'block';
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option2').classList.remove('btn-info');
			document.querySelector('#RollMonitoringGUIDiv-panel-switch-option2').classList.add('btn-primary');
		});

		let panel1 = document.querySelector('#RollMonitoringGUIDiv-panel1');
		panel1.querySelector('[name="form"]').addEventListener('submit', async function(event) {
			let fetchStatusSpan = panel1.querySelector('[name="StatusSpan"]');

			event.preventDefault();
			let userName = panel1.querySelector('[name="form"]').elements['userName'].value;
			if (userName == '') userName = selfUserName;
			let StartTime, EndTime;
			let StartTimeString = panel1.querySelector('[name="form"]').elements['StartTime'].value;
			if (StartTimeString == '') StartTime = new Date();
			else StartTime = RemoveHours(new Date(StartTimeString));
			let EndTimeString = panel1.querySelector('[name="form"]').elements['EndTime'].value;
			if (EndTimeString == '') EndTime = new Date();
			else EndTime = RemoveHours(new Date(EndTimeString));
			console.log(StartTime, EndTime);
			if (StartTime > EndTime) {
				sweetAlert("起始时间大于终止时间！");
				return;
			}

			console.log(StartTime, EndTime);

			let dateCount = getDaysDiff(StartTime, EndTime) + 1;
			let AC_quantity = new Array(dateCount).fill(0);
			let AC_quantity_prefix_sum = new Array(dateCount).fill(0);
			let submission_quantity = new Array(dateCount).fill(0);
			panel1.querySelector('[name="UserNameSpan"]').innerHTML = userName;
			function getDateDiff_FromStartTime(time) {
				return getDaysDiff(StartTime, RemoveHours(time));
			}
			async function fetchRollMonitoring_oneUser() {
				fetchStatusSpan.style.color = "blue";
				fetchStatusSpan.innerHTML = "爬取中...";

				let AC_time = {};
				for (let PageInd = 1; PageInd <= 500; ++PageInd) {
					// console.log(PageInd.toString());
					let resp = await fetchDOM_simple(`${uojHome}/submissions?submitter=${userName}&page=${PageInd}`);
					let currentPageInd = resp.querySelector('.uoj-content .pagination.top-buffer-no.bot-buffer-sm .active').innerText;
					// console.log(currentPageInd);
					if (currentPageInd != PageInd) {
						console.log("Reached page max");
						break;
					}

					let table = resp.querySelector('.uoj-content .table-responsive');
					let tr_list = table.querySelector('tbody').querySelectorAll('tr');
					// console.log(tr_list);
					let whetherBreak = false;
					for (let tr of tr_list) {
						// console.log(tr);
						let time = RemoveHours(new Date(tr.lastChild.innerText));
						console.log(time);
						if (time < StartTime) {
							whetherBreak = true;
							break;
						}
						if (time >= StartTime && time <= EndTime) {
							// console.log(tr.childNodes[3].innerText);
							let problemId = tr.childNodes[1].querySelector('a').href.match(/problem\/(\d+)/)[1];
							++submission_quantity[getDateDiff_FromStartTime(time)];
							if (parseInt(tr.childNodes[3].innerText) == 100) {
								// console.log(problemId);
								AC_time[problemId] = time;
							}
						}
					}
					if (whetherBreak) {
						break;
					}
				}

				// console.log(AC_quantity.length);
				for (let problemId in AC_time) {
					// console.log(problemId, AC_time[problemId]);
					++AC_quantity[getDateDiff_FromStartTime(AC_time[problemId])];
				}
				AC_quantity_prefix_sum = getArrayPrefixSum(AC_quantity);
			}
			await fetchRollMonitoring_oneUser();

			Highcharts.chart(panel1.querySelector('[name="svgDiv"]'), {
				chart: {
					type: 'column',
					style: {
						fontFamily: 'var(--main-font-sans)',
						fontSize: '16px' // 设置全局字体大小
					}
				},
				title: {
					text: `${userName} 的卷题数量条形图`
				},
				xAxis: {
					categories: Array.from({length: dateCount}, (_, i) => {
						let curDate = new Date(StartTime);
						curDate.setDate(StartTime.getDate() + i);
						// console.log(curDate, StartTime);
						return (curDate.getMonth() + 1).toString() + '/' + curDate.getDate().toString();
						// return curDate;
					}),
					// labels: {
					// 	style: {
					// 		fontSize: '16px'
					// 	}
					// },
					// title: {
					// 	text: '日期',
					// 	style: {
					// 		fontSize: '18px'
					// 	}
					// }
				},
				yAxis: [
					{
						title: {
							text: '当日数量',
							style: {
								fontSize: '18px'
							}
						},
						labels: {
							style: {
								fontSize: '18px'
							}
						}
					},
					{
						title: {
							text: '累计数量',
							style: {
								fontSize: '18px'
							}
						},
						opposite: true,
						labels: {
							style: {
								fontSize: '18px'
							}
						}
					}
				],
				series: [
					{
						name: "时期内累计通过数",
						type: 'line',
						data: AC_quantity_prefix_sum,
						color: '#70AD45',
						yAxis: 1
					},
					{
						name: '当日通过数',
						type: 'column',
						data: AC_quantity,
						color: '#00CF96',
						yAxis: 0
					},
					{
						name: "当日提交数",
						type: 'column',
						data: submission_quantity,
						color: '#0E90D2',
						yAxis: 0
					},
				]
			});

			fetchStatusSpan.style.color = "green";
			fetchStatusSpan.innerHTML = "爬取成功！";
		});

		let panel2 = document.querySelector('#RollMonitoringGUIDiv-panel2');
		panel2.querySelector('[name="form"]').addEventListener('submit', async function(event) {
			let fetchStatusSpan = panel2.querySelector('[name="StatusSpan"]');

			event.preventDefault();
			let userNameList = panel2.querySelector('[name="form"]').elements['userName'].value.toString().replaceAll(' ', '').split(/[,;]/);
			if (userNameList == []) {
				sweetAlert('用户名列表为空！');
				return;
			}
			let StartTime, EndTime;
			let StartTimeString = panel2.querySelector('[name="form"]').elements['StartTime'].value;
			if (StartTimeString == '') StartTime = new Date();
			else StartTime = RemoveHours(new Date(StartTimeString));
			let EndTimeString = panel2.querySelector('[name="form"]').elements['EndTime'].value;
			if (EndTimeString == '') EndTime = new Date();
			else EndTime = RemoveHours(new Date(EndTimeString));
			console.log(StartTime, EndTime);
			if (StartTime > EndTime) {
				sweetAlert("起始时间大于终止时间！");
				return;
			}

			fetchStatusSpan.style.color = "blue";
			fetchStatusSpan.innerHTML = "爬取中...";

			let dateCount = getDaysDiff(StartTime, EndTime) + 1;
			let AC_quantity = {};
			let submission_quantity = {};
			function getDateDiff_FromStartTime(time) {
				return getDaysDiff(StartTime, RemoveHours(time));
			}
			async function fetchRollMonitoring_oneUser(userName) {
				AC_quantity[userName] = new Array(dateCount).fill(0);
				submission_quantity[userName] = new Array(dateCount).fill(0);

				let AC_time = {};
				for (let PageInd = 1; PageInd <= 500; ++PageInd) {
					// console.log(PageInd.toString());
					let resp = await fetchDOM_simple(`${uojHome}/submissions?submitter=${userName}&page=${PageInd}`);
					let currentPageInd = resp.querySelector('.uoj-content .pagination.top-buffer-no.bot-buffer-sm .active').innerText;
					// console.log(currentPageInd);
					if (currentPageInd != PageInd) {
						console.log("Reached page max");
						break;
					}

					let table = resp.querySelector('.uoj-content .table-responsive');
					let tr_list = table.querySelector('tbody').querySelectorAll('tr');
					// console.log(tr_list);
					let whetherBreak = false;
					for (let tr of tr_list) {
						// console.log(tr);
						let time = new Date(tr.lastChild.innerText);
						// console.log(time);
						if (time < StartTime) {
							whetherBreak = true;
							break;
						}
						if (time >= StartTime && time <= EndTime) {
							// console.log(tr.childNodes[3].innerText);
							let problemId = tr.childNodes[1].querySelector('a').href.match(/problem\/(\d+)/)[1];
							++submission_quantity[userName][getDateDiff_FromStartTime(time)];
							if (parseInt(tr.childNodes[3].innerText) == 100) {
								// console.log(problemId);
								AC_time[problemId] = time;
							}
						}
					}
					if (whetherBreak) {
						break;
					}
				}

				// console.log(AC_quantity[userName].length);
				for (let problemId in AC_time) {
					// console.log(problemId, AC_time[problemId]);
					++AC_quantity[userName][getDateDiff_FromStartTime(AC_time[problemId])];
				}
			}
			for (let userName of userNameList) {
				await fetchRollMonitoring_oneUser(userName);
			}

			// console.log("sdfdf");
			// console.log(dateCount);
			// console.log(AC_quantity['sl2022phx']);
			// console.log(userNameList.map(userName => {
			// 	return {
			// 		name: userName,
			// 		data: AC_quantity[userName],
			// 	}
			// }));
			// console.log([...userNameList.map(userName => {
			// 	return {
			// 		name: userName + "当日通过数",
			// 		data: AC_quantity[userName],
			// 		yAxis: 0
			// 	}
			// }), ...userNameList.map(userName => {
			// 	return {
			// 		name: userName + "时期内累计通过数",
			// 		data: getArrayPrefixSum(AC_quantity[userName]),
			// 		yAxis: 1
			// 	}
			// })]);

			Highcharts.chart(panel2.querySelector('[name="svgDiv"]'), {
				chart: {
					type: 'column',
					style: {
						fontFamily: 'var(--main-font-sans)',
						fontSize: '16px' // 设置全局字体大小
					}
				},
				title: {
					text: `${userNameList} 的卷题数量条形图`
				},
				xAxis: {
					categories: Array.from({length: dateCount}, (_, i) => {
						let curDate = new Date(StartTime);
						curDate.setDate(StartTime.getDate() + i);
						// console.log(curDate, StartTime);
						return (curDate.getMonth() + 1).toString() + '/' + curDate.getDate().toString();
						// return curDate;
					}),
					// labels: {
					// 	style: {
					// 		fontSize: '16px'
					// 	}
					// },
					// title: {
					// 	text: '日期',
					// 	style: {
					// 		fontSize: '18px'
					// 	}
					// }
				},
				yAxis: [
					{
						title: {
							text: '当日数量',
							style: {
								fontSize: '18px'
							}
						},
						labels: {
							style: {
								fontSize: '18px'
							}
						}
					},
					{
						title: {
							text: '累计数量',
							style: {
								fontSize: '18px'
							}
						},
						opposite: true,
						labels: {
							style: {
								fontSize: '18px'
							}
						}
					}
				],
				series: [...userNameList.map(userName => {
					return {
						name: userName + " 时期内累计通过数",
						type: "line",
						data: getArrayPrefixSum(AC_quantity[userName]),
						yAxis: 1
					}
				}), ...userNameList.map(userName => {
					return {
						name: userName + " 当日通过数",
						type: "column",
						data: AC_quantity[userName],
						yAxis: 0
					}
				})]
			});

			fetchStatusSpan.style.color = "green";
			fetchStatusSpan.innerHTML = "爬取成功！";
		});
	})();

	function userNameInputAddDatalist(inputElement) {
		let listId = "userNameDatalist_" + randomToken();
		inputElement.setAttribute('list', listId);

		let datalistElement = $(`<datalist id="${listId}"></datalist>`)[0];
		// inputElement.appendChild(datalistElement);

		if (!Cache.hasOwnProperty('userCache')) {
			Cache.userCache = {};
		}

		let userNameList = Object.keys(Cache.userCache).sort();
		for (let x of userNameList) {
			let optionElement = $(`<option>${x}</option>`)[0];
			datalistElement.appendChild(optionElement);
		}

		// let timeout;
		inputElement.addEventListener('input', function () {
			if (inputElement.value.length == 0) {
				inputElement.removeChild(datalistElement);
				return;
			}
			// if (timeout) {
			// 	clearTimeout(timeout);
			// }
			// timeout = setTimeout(function() {
				if (inputElement.value.length > 0) {
					inputElement.appendChild(datalistElement);
				}
			// }, 200);
		});

		// inputElement.addEventListener('keydown', function (event) {
		// 	if (event.key == 'Tab') {
		// 		event.preventDefault();
		// 		let firstOption;
		// 		let optionList = datalistElement.options;
		// 		for (let x of optionList) {
		// 			console.log(x);
		// 			let style = window.getComputedStyle(x);
		// 			if (style.display !== 'none') {
		// 				firstOption = x;
		// 				console.log(style.display);
		// 				break;
		// 			}
		// 		}
		// 		if (firstOption) {
		// 			inputElement.value = firstOption.innerHTML;
		// 		}
		// 	}
		// });
	}
	function userNameInputAddDatalist(inputElement, whetherHasForm) {
		injectCSS(`
			.autoCompleteDiv {
				position: absolute;
				top: 100%;
				left: 0;
				right: 0;

				white-space: nowrap;
				min-width: min-content;
				overflow-x: visible;

				border-color: #66afe9;
				outline: 0;
				-webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
				box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6)
			}
			.userNameInputDatalistOptionDiv {
				position: relative;

				z-index: 10;
				padding: 0 0.5em;

				border: 1px solid #ccc;
				border-top: none;
				-webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);
				box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);

				font-family: var(--main-font-sans);
				user-select: none;
			}
			.userNameInputDatalistOptionDiv-backgroundColorWhite {
				background-color: white;
			}
			.userNameInputDatalistOptionDiv-backgroundColorLightGrey {
				background-color: #f9f9f9;
			}
			.userNameInputDatalistOptionDiv:hover {
				background-color: #eeeeee;
			}
		`);

		// let inputId = "userNameInput_" + randomToken();

		if (whetherHasForm === undefined) {
			whetherHasForm = (inputElement.parentNode.nodeName == 'FORM');
		}

		inputElement.style.position = 'relative';

		let formElement;
		if (whetherHasForm) {
			formElement = inputElement.parentNode;
		}
		else {
			formElement = $(`<div></div>`)[0];
			inputElement.parentNode.insertBefore(formElement, inputElement);
			formElement.appendChild(inputElement);
		}
		formElement.style.display = 'inline-flex';

		let inputDiv = $(`<div></div>`)[0];
		inputDiv.style.position = 'relative';
		inputDiv.style.display = 'inline-block';

		let autoCompleteDiv = $(`<div class="autoCompleteDiv"></div>`)[0];
		formElement.insertBefore(inputDiv, inputElement);
		inputDiv.appendChild(inputElement);
		inputDiv.appendChild(autoCompleteDiv);

		// if (!Cache.hasOwnProperty('userCache')) {
		// 	Cache.userCache = {};
		// }
		// for (let s in Cache.userCache) {
		// 	if (!Cache.userCache[s].isRealUser) {
		// 		delete Cache.userCache[s];
		// 	}
		// }
		// syncCache();

		// let userNameList = Object.keys(Cache.userCache).sort();

		let userNameList = getGMVariable('starredUserNameList').actualValue.sort();
		let searchUserNameList = userNameList;
		let searchUserNameListFocusIndex = /* null */ 0;

		function removeRenderSearchUserNameListFocus() {
			// console.log("A ", searchUserNameListFocusIndex);
			if (searchUserNameListFocusIndex >= 0 && searchUserNameListFocusIndex < searchUserNameList.length) {
				autoCompleteDiv.childNodes[searchUserNameListFocusIndex].style.backgroundColor = '';
			}
		}

		function addRenderSearchUserNameListFocus() {
			// console.log("B ", searchUserNameListFocusIndex);
			if (searchUserNameListFocusIndex >= 0 && searchUserNameListFocusIndex < searchUserNameList.length) {
				autoCompleteDiv.childNodes[searchUserNameListFocusIndex].style.backgroundColor = '#C2F1F9';
			}
		}

		let inputElementKeyDownFunction;
		// let whetherClickedSearchUserNameList = false;
		function RenderUserNameDataList() {
			function boldSubString(s, t) {
				let ind = s.indexOf(t);
				return s.substring(0, ind) + `<strong style="color: blue;">${t}</strong>` + s.substring(ind + t.length, s.length);
			}

			clearNode(autoCompleteDiv);
			searchUserNameList.forEach((s, i) => {
				let optionDiv = $(`
					<div class="userNameInputDatalistOptionDiv small-scrollbar ${i % 2 == 0 ? 'userNameInputDatalistOptionDiv-backgroundColorWhite' : 'userNameInputDatalistOptionDiv-backgroundColorLightGrey'}"
					style="${i == searchUserNameList.length - 1 ? 'border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;' : ' '}">
						${boldSubString(s, inputElement.value)}
					</div>`)[0];
				autoCompleteDiv.appendChild(optionDiv);

				// optionDiv.addEventListener('click', function (event) {
				// 	event.preventDefault();
				// 	event.stopPropagation();
				// 	inputElement.value = s;
				// 	whetherClickedSearchUserNameList = true;
				// 	console.log("click option");
				// 	inputElement.focus();
				// 	// searchUserAndRender();
				// });
				optionDiv.addEventListener('mousedown', function (event) {
					event.preventDefault();
					event.stopPropagation();
					inputElement.value = s;
					// whetherClickedSearchUserNameList = true;
					// console.log("mousedown");
					// inputElement.focus();
					searchUserAndRender();
				});
				// optionDiv.addEventListener('focus', function() {
				// 	console.log('F');
				// 	inputElement.focus();
				// });
			});

			inputElement.removeEventListener('keydown', inputElementKeyDownFunction);

			inputElementKeyDownFunction = function (event) {
				// console.log(event.key);
				if (event.key == 'Enter' && searchUserNameListFocusIndex !== null && searchUserNameListFocusIndex >= 0 && searchUserNameListFocusIndex < searchUserNameList.length) {
					// if (searchUserNameListFocusIndex !== null && searchUserNameListFocusIndex >= 0 && searchUserNameListFocusIndex < searchUserNameList.length) {
						if (inputElement.value != searchUserNameList[searchUserNameListFocusIndex]) {
							event.preventDefault();
							inputElement.value = searchUserNameList[searchUserNameListFocusIndex];
						}
					// }
					// else if (searchUserNameList.length > 0) {
					// 	inputElement.value = searchUserNameList[0];
					// }
					// inputElement.focus();
					// console.log(inputElement);
					searchUserAndRender();
				}
				else if (event.key == 'ArrowUp') {
					event.preventDefault();
					// console.log("C ", searchUserNameListFocusIndex, searchUserNameList.length);
					if (searchUserNameListFocusIndex === null) {
						searchUserNameListFocusIndex = searchUserNameList.length - 1;
						addRenderSearchUserNameListFocus();
					}
					else if (searchUserNameListFocusIndex == 0) {
						removeRenderSearchUserNameListFocus();
						searchUserNameListFocusIndex = searchUserNameList.length - 1;
						addRenderSearchUserNameListFocus();
					}
					else {
						removeRenderSearchUserNameListFocus();
						--searchUserNameListFocusIndex;
						addRenderSearchUserNameListFocus();
					}
				}
				else if (event.key == 'ArrowDown' || event.key == ' ') {
					event.preventDefault();
					// console.log("D ", searchUserNameListFocusIndex, searchUserNameList.length);
					if (searchUserNameListFocusIndex === null) {
						searchUserNameListFocusIndex = 0;
						addRenderSearchUserNameListFocus();
					}
					else if (searchUserNameListFocusIndex == searchUserNameList.length - 1) {
						removeRenderSearchUserNameListFocus();
						searchUserNameListFocusIndex = 0;
						addRenderSearchUserNameListFocus();
					}
					else {
						removeRenderSearchUserNameListFocus();
						++searchUserNameListFocusIndex;
						addRenderSearchUserNameListFocus();
					}
				}
			}
			removeRenderSearchUserNameListFocus();
			searchUserNameListFocusIndex = /* null */ 0;
			addRenderSearchUserNameListFocus();

			inputElement.addEventListener('keydown', inputElementKeyDownFunction);
		}

		function searchUserAndRender() {
			if (inputElement.value.length == 0) {
				searchUserNameList = [];
				RenderUserNameDataList();
				return;
			}
			if (inputElement.value.length > 0) {
				searchUserNameList = userNameList	.filter(s => s.includes(inputElement.value))
													.sort((s, t) => {
														if (s == t) return 0;
														let u = (s.indexOf(inputElement.value) == 0 ? 0 : 1), v = (t.indexOf(inputElement.value) == 0 ? 0 : 1);
														if ((u ^ v) == 1) return u - v;
														else return (s < t ? -1 : 1);
													});
				RenderUserNameDataList();
			}
		}
		inputElement.addEventListener('input', searchUserAndRender);
		// inputDiv.setAttribute('tabindex', '0');
		// console.log("C", inputDiv);
		inputDiv.addEventListener('focusin', function () {
			// console.log("focusin");
			// console.log(document.activeElement);
			searchUserAndRender();
		});
		inputDiv.addEventListener('focusout', function () {
			// console.log("focusout");
			clearNode(autoCompleteDiv);
			// setTimeout(function () {
			// 	// console.log(whetherClickedSearchUserNameList);
			// 	if (!whetherClickedSearchUserNameList) {
			// 		clearNode(autoCompleteDiv);
			// 	}
			// 	whetherClickedSearchUserNameList = false;
			// }, 100);
			// console.log(document.activeElement);
			// clearNode(autoCompleteDiv);
		});
		// inputDiv.focus();
	}

	(function addDatalistForAllUserNameInputFeature() {
		if (!getGMVariable('whetherAddDatalistForAllUserNameInput').actualValue) {
			return;
		}
		[...document.querySelectorAll('.userNameInputClass')].forEach(e => {
			userNameInputAddDatalist(e);
		});
	})();

	(function addNailongInSubmissionPage() {
		if (!getGMVariable('whetherAddNailongInSubmissionPage').actualValue) {
			return;
		}
		if (!isSubmissionPage()) {
			return;
		}

		/*
		rainbow submission: http://zhengruioi.com/submission/895811
		*/

		// injectCSS(`
		// .panel-uoj-wrong {
		// 	border-color: #ff0000;
		// }
		// .panel-uoj-wrong>.panel-heading {
		// 	cursor:pointer;
		// 	color: #eeeeee;
		// 	background-color: #dd0000;
		// 	border-color: #ff0000;
		// }
		// .panel-uoj-wrong>.panel-heading:hover {
		// 	background-color: #ff0000;
		// }
		// .panel-uoj-wrong>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #dd0000;
		// }
		// .panel-uoj-wrong>.panel-heading .badge {
		// 	color: #dd0000;
		// 	background-color: #eeeeee;
		// }
		// .panel-uoj-wrong>.panel-heading:hover .badge {
		// 	color: #ff0000;
		// }
		// .panel-uoj-wrong>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #ff0000;
		// }

		// .panel-uoj-DangerousSyscalls {
		// 	border-color: #690722;
		// }
		// .panel-uoj-DangerousSyscalls>.panel-heading {
		// 	cursor:pointer;
		// 	color: #dddddd;
		// 	background-color: #420516;
		// 	border-color: #690722;
		// }
		// .panel-uoj-DangerousSyscalls>.panel-heading:hover {
		// 	background-color: #690722;
		// }
		// .panel-uoj-DangerousSyscalls>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #420516;
		// }
		// .panel-uoj-DangerousSyscalls>.panel-heading .badge {
		// 	color: #420516;
		// 	background-color: #dddddd;
		// }
		// .panel-uoj-DangerousSyscalls>.panel-heading:hover .badge {
		// 	color: #690722;
		// }
		// .panel-uoj-DangerousSyscalls>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #690722;
		// }

		// .panel-uoj-TimeLimitExceeded {
		// 	border-color: #0B4687;
		// }
		// .panel-uoj-TimeLimitExceeded>.panel-heading {
		// 	cursor:pointer;
		// 	color: #dddddd;
		// 	background-color: #083363;
		// 	border-color: #0B4687;
		// }
		// .panel-uoj-TimeLimitExceeded>.panel-heading:hover {
		// 	background-color: #0B4687;
		// }
		// .panel-uoj-TimeLimitExceeded>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #083363;
		// }
		// .panel-uoj-TimeLimitExceeded>.panel-heading .badge {
		// 	color: #083363;
		// 	background-color: #dddddd;
		// }
		// .panel-uoj-TimeLimitExceeded>.panel-heading:hover .badge {
		// 	color: #0B4687;
		// }
		// .panel-uoj-TimeLimitExceeded>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #0B4687;
		// }

		// .panel-uoj-RuntimeError {
		// 	border-color: #B446ED;
		// }
		// .panel-uoj-RuntimeError>.panel-heading {
		// 	cursor:pointer;
		// 	color: #dddddd;
		// 	background-color: #9D3DCF;
		// 	border-color: #B446ED;
		// }
		// .panel-uoj-RuntimeError>.panel-heading:hover {
		// 	background-color: #B446ED;
		// }
		// .panel-uoj-RuntimeError>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #9D3DCF;
		// }
		// .panel-uoj-RuntimeError>.panel-heading .badge {
		// 	color: #9D3DCF;
		// 	background-color: #dddddd;
		// }
		// .panel-uoj-RuntimeError>.panel-heading:hover .badge {
		// 	color: #B446ED;
		// }
		// .panel-uoj-RuntimeError>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #B446ED;
		// }

		// .panel-uoj-MemoryLimitExceeded {
		// 	border-color: #FAE42E;
		// }
		// .panel-uoj-MemoryLimitExceeded>.panel-heading {
		// 	cursor:pointer;
		// 	color: #303030;
		// 	background-color: #EBD62B;
		// 	border-color: #FAE42E;
		// }
		// .panel-uoj-MemoryLimitExceeded>.panel-heading:hover {
		// 	background-color: #FAE42E;
		// }
		// .panel-uoj-MemoryLimitExceeded>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #EBD62B;
		// }
		// .panel-uoj-MemoryLimitExceeded>.panel-heading .badge {
		// 	color: #EBD62B;
		// 	background-color: #303030;
		// }
		// .panel-uoj-MemoryLimitExceeded>.panel-heading:hover .badge {
		// 	color: #FAE42E;
		// }
		// .panel-uoj-MemoryLimitExceeded>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #FAE42E;
		// }

		// .panel-uoj-OutputLimitExceeded {
		// 	border-color: #1DF2F2;
		// }
		// .panel-uoj-OutputLimitExceeded>.panel-heading {
		// 	cursor:pointer;
		// 	color: #303030;
		// 	background-color: #1AD8D9;
		// 	border-color: #1DF2F2;
		// }
		// .panel-uoj-OutputLimitExceeded>.panel-heading:hover {
		// 	background-color: #1DF2F2;
		// }
		// .panel-uoj-OutputLimitExceeded>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #1AD8D9;
		// }
		// .panel-uoj-OutputLimitExceeded>.panel-heading .badge {
		// 	color: #1AD8D9;
		// 	background-color: #303030;
		// }
		// .panel-uoj-OutputLimitExceeded>.panel-heading:hover .badge {
		// 	color: #1DF2F2;
		// }
		// .panel-uoj-OutputLimitExceeded>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #1DF2F2;
		// }

		// .panel-uoj-acceptable-answer {
		// 	border-color: #ff7700;
		// }
		// .panel-uoj-acceptable-answer>.panel-heading {
		// 	cursor:pointer;
		// 	color: #eeeeee;
		// 	background-color: #ee5500;
		// 	border-color: #ff0000;
		// }
		// .panel-uoj-acceptable-answer>.panel-heading:hover {
		// 	background-color: #ff7700;
		// }
		// .panel-uoj-acceptable-answer>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #ee5500;
		// }
		// .panel-uoj-acceptable-answer>.panel-heading .badge {
		// 	color: #ff7700;
		// 	background-color: #eeeeee;
		// }
		// .panel-uoj-acceptable-answer>.panel-heading:hover .badge {
		// 	color: #ff7700;
		// }
		// .panel-uoj-acceptable-answer>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #ff7700;
		// }

		// .panel-uoj-Skipped {
		// 	border-color: #777777;
		// }
		// .panel-uoj-Skipped>.panel-heading {
		// 	cursor:pointer;
		// 	color: #dddddd;
		// 	background-color: #666666;
		// 	border-color: #777777;
		// }
		// .panel-uoj-Skipped>.panel-heading:hover {
		// 	background-color: #777777;
		// }
		// .panel-uoj-Skipped>.panel-heading+.panel-collapse>.panel-body {
		// 	border-top-color: #666666;
		// }
		// .panel-uoj-Skipped>.panel-heading .badge {
		// 	color: #666666;
		// 	background-color: #dddddd;
		// }
		// .panel-uoj-Skipped>.panel-heading:hover .badge {
		// 	color: #777777;
		// }
		// .panel-uoj-Skipped>.panel-footer+.panel-collapse>.panel-body {
		// 	border-bottom-color: #777777;
		// }
		// `);

		for (let verdict of judgementVerdicts) {
			let backgroundColor = getGMVariable(`${verdict.cssName}_verdictBackgroundColor`).actualValue;
			let hoverColor = getGMVariable(`${verdict.cssName}_verdictHoverColor`).actualValue;
			let textColor = getGMVariable(`${verdict.cssName}_verdictTextColor`).actualValue;
			// console.log(verdict.cssName, backgroundColor, hoverColor, textColor);
			injectCSS(`
				.${verdict.cssName} {
					border-color: ${hoverColor};
				}
				.${verdict.cssName}>.panel-heading {
					cursor:pointer;
					color: ${textColor};
					background-color: ${backgroundColor};
					border-color: ${hoverColor};
				}
				.${verdict.cssName}>.panel-heading:hover {
					background-color: ${hoverColor};
				}
				.${verdict.cssName}>.panel-heading+.panel-collapse>.panel-body {
					border-top-color: ${backgroundColor};
				}
				.${verdict.cssName}>.panel-heading .badge {
					color: ${backgroundColor};
					background-color: ${textColor};
				}
				.${verdict.cssName}>.panel-heading:hover .badge {
					color: ${hoverColor};
				}
				.${verdict.cssName}>.panel-footer+.panel-collapse>.panel-body {
					border-bottom-color: ${hoverColor};
				}
			`);
		}

		let panel1 = document.querySelector('#details_details_accordion');
		if (!panel1) return;
		let panel_body = panel1.parentNode;
		// console.log(panel1);
		// console.log(panel_body);
		let dest_div = $(`<div></div>`)[0];
		panel_body.appendChild(dest_div);
		// console.log(panel1);
		// console.log(panel1.childNodes);
		// console.log(document.querySelectorAll('.panel'));
		// console.log(Array.from(panel1.childNodes)[0].classList);
		let elem_list1 = [...panel1.childNodes].filter(e => {
			// console.log(e, e.classList);
			if (e.nodeType == Node.TEXT_NODE) return 0;
			return e.classList.contains('panel');
		});
		if (elem_list1.length == 0) return;

		function change_color(e) {
			if (e.innerText.includes('Dangerous Syscalls')) {
				e.classList.remove('panel-uoj-wrong');
				e.classList.add('panel-uoj-DangerousSyscalls');
			}
			else if (e.innerText.includes('Time Limit Exceeded')) {
				e.classList.remove('panel-uoj-tle');
				e.classList.add('panel-uoj-TimeLimitExceeded');
			}
			else if (e.innerText.includes('Runtime Error')) {
				e.classList.remove('panel-uoj-wrong');
				e.classList.add('panel-uoj-RuntimeError');
			}
			else if (e.innerText.includes('Memory Limit Exceeded')) {
				e.classList.remove('panel-uoj-wrong');
				e.classList.add('panel-uoj-MemoryLimitExceeded');
			}
			else if (e.innerText.includes('Output Limit Exceeded')) {
				e.classList.remove('panel-uoj-wrong');
				e.classList.add('panel-uoj-OutputLimitExceeded');
			}
			else if (e.innerText.includes('Skipped')) {
				e.classList.remove('panel-uoj-wrong');
				e.classList.add('panel-uoj-Skipped');
			}
			else if (e.innerText.includes('Acceptable Answer'));
			else if (e.innerText.includes('Accepted'));
			else if (e.innerText.includes('Wrong Answer'));
			// e.style = "background: linear-gradient(rgba(231, 76, 60, 0.3), rgba(231, 76, 60, 0.3)) 0% 0% / cover, url(https://jsdelivrcn.netlify.app/gh/chenyuxuan2009/luogu_submission_better/theme/nailoong/WA.gif);";
			// e.appendChild($(`<img src="https://jsdelivrcn.netlify.app/gh/chenyuxuan2009/luogu_submission_better/theme/nailoong/WA.gif" />`)[0]);
		}
		function proc_test_points(elems) {
			elems.forEach(e => {
				change_color(e);
			});
		}

		if (elem_list1[0].innerText.includes('Subtask')) {
			// console.log("Subtask 模式");
			elem_list1.forEach(e => {
				change_color(e);
				let panel2 = e.querySelector('.panel-group');
				if (panel2) {
					// console.log(e), console.log(panel2);
					let elem_list2 = [...panel2.childNodes].filter(e => {
						// console.log(e, e.classList);
						if (e.nodeType == Node.TEXT_NODE) return 0;
						return e.classList.contains('panel');
					});
					proc_test_points(elem_list2);
				}
			})
		}
		else {
			// console.log("测试点模式");
			proc_test_points(elem_list1);
		}
	})();

	// 更改网页 CSS 样式
	(function changeWebsiteCSSFeature() {
		if (!getGMVariable("whetherChangeWebsiteCSS").actualValue) {
			return;
		}

		// let userProfileLegendLabel = document.querySelector('.legendLabel');
		// if (userProfileLegendLabel != undefined) {
		// 	let userProfileLegendLabelNameText = userProfileLegendLabel.querySelector('a');
		// 	userProfileLegendLabelNameText.style = userProfileLegendLabelNameText.getAttribute('style') + "; font-size:94%";
		// }

		injectCSS(`
		/* 更改几乎所有内容的字体为 Latin Modern Roman 10 和 宋体-简，并相应地放大字号使得更为清晰 */
		body {
			font-family: var(` + getGMVariable("mainContentFontType").actualValue + `);
			font-size: 160%;
		`
		+ (getGMVariable("whetherAnimationTransitionEnabled").actualValue ? `transition: all 0.15s;` : '') +
		`
		}

		/* 更改选中区域的背景颜色 */
		::selection {
			background: #aeeeee;
		}

		/* 自定义整个滚动条 */
		::-webkit-scrollbar {
		width: 12px; /* 设置滚动条的宽度 */
		}
		/* 自定义滚动条轨道 */
		::-webkit-scrollbar-track {
			background: #dedede; /* 设置轨道的背景颜色 */
		}
		/* 自定义滚动条的滑块（thumb） */
		::-webkit-scrollbar-thumb {
			border-radius: 5px;
			background: #aaaaaa; /* 设置滑块的背景颜色 */
		}
		/* 当 hover 或 active 状态时，自定义滚动条滑块的颜色 */
		::-webkit-scrollbar-thumb:hover {
			background: #888888;
		}
		/* 当active状态时，自定义滚动条滑块的颜色 */
		::-webkit-scrollbar-thumb:active {
			background: #666666;
		}

		/* 略放大题目界面显示时间限制等题目基本信息的条 */
		button.uoj-tag{
			font-family: "Latin Modern Sans 10", "阿里巴巴普惠体 2.0", "Fira Code", "Times New Roman", "宋体";
			color: black;
			font-size: 110%;
		}
		/* 页面最上方导航栏字体改为阿里巴巴普惠体 2.0，鼠标悬浮时变为粗体 */
		.container-fluid a{
			font-family: var(--main-font-sans);
			font-size: 115%;
		}
		.container-fluid a:hover{
			font-weight: bold;
		}
		/* 题目界面“描述”“提交”等按钮字体改为阿里巴巴普惠体 2.0，鼠标悬浮时变为粗体 */
		.nav-tabs a{
			font-family: var(--main-font-sans);
		}
		.nav-tabs a:hover{
			font-weight: bold;
		}
		/* 按钮字体改为阿里巴巴普惠体 2.0，鼠标悬浮时变为粗体 */
		.btn{
			font-family: var(--main-font-sans);
			` + (getGMVariable("whetherAnimationTransitionEnabled").actualValue ? `transition: all 0.15s;` : '') + `
			user-select: none;
		}
		.btn:hover{
			font-weight: bold;
		}
		.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus {
			outline: 0;
		}
		/* 更改用户名字体 */
		.uoj-username{
			font-family: var(--main-font-sans);
		}
		.uoj-honor{
			font-family: var(--main-font-sans);
		}
		/* 更改链接颜色 */
		a{
			color: #5e72e4;
			` + (getGMVariable("whetherAnimationTransitionEnabled").actualValue ? `transition: all 0.15s;` : '') + `
		}
		a:hover{
			color: #0056b3;
			` + (getGMVariable("whetherUnderlineAHoverEnabled").actualValue ? '' : `background-color: #e5f3f8;`) + `
			text-decoration: ` + (getGMVariable("whetherUnderlineAHoverEnabled").actualValue ? `underline` : `none`) + `
		}
		/* 更改 ZROJ Faker 中用户主页的比赛信息表的字体 */
		#rating-chart{
			font-family: var(--main-font-serif);
		}
		/* 更改代码框的字体为 Fira Code，略粗 */
		pre{
			font-family: var(--main-font-monospace);
			font-weight: 500;
			font-size: 15px;
			overflow: visible;
			// margin-left: 5.5em;
			` + (getGMVariable('whetherAddCodeLineNumber').actualValue ? `overflow: auto;` : '') + `
			white-space: pre;
		}
		pre code{
			font-family: var(--main-font-monospace);
			font-weight: 500;
			font-size: 15px;
			` + (getGMVariable('whetherAddCodeLineNumber').actualValue ? `overflow: auto;` : '') + `
			white-space: pre;
		}
		/* 更改输入框的字体为 Fira Code, 略粗*/
		input[type="text"]{
			font-family: "Fira Code", "阿里巴巴普惠体 2.0", "Consolas", "微软雅黑";
			font-weight: 500;
			` + (getGMVariable("whetherAnimationTransitionEnabled").actualValue ? `transition: all 0.15s;` : '') + `
		}
		input::placeholder {
			font-weight: 300;
			color: silver;
		}
		`);
	})();
})();