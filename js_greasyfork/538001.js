// ==UserScript==
// @name         WhatsApp Web Blur & Quick Message (with Super Toggle)
// @namespace    http://tampermonkey.net/
// @version      1.3.1
// @description  Blurs inactive WhatsApp chats/messages, unblurs on hover, enables messaging without saving numbers, toggles blur for unread messages, and now supports a master blur toggle button.
// @author       Noushad Bhuiyan
// @match        https://web.whatsapp.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=whatsapp.com
// @grant        GM_setValue
// @grant        GM_getValue
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/538001/WhatsApp%20Web%20Blur%20%20Quick%20Message%20%28with%20Super%20Toggle%29.user.js
// @updateURL https://update.greasyfork.org/scripts/538001/WhatsApp%20Web%20Blur%20%20Quick%20Message%20%28with%20Super%20Toggle%29.meta.js
// ==/UserScript==

(() => {
    let blurUnread = GM_getValue('blurUnread', true);
    let blurEnabled = GM_getValue('blurEnabled', true);

    // Data URLs for toggle icons
    const toggleOffIcon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAArpJREFUWIXtl01IVFEUx3/nORpBKbpRyITSCJIUhAgiEMogKmwhCG6E0Ny4cBAU1I07cRb5hQulZbQQjISijQUSRAvRINyYtJIoU8ePFuOb++a0qHmOM85HjjOL6g8P3nvnP+/87j2He+/Avy5JZhgd1fy8PIpFKFKlUITT8byqbFkW39va5APA1JTmbG9zxXEo9nhYam2VlejfeOIkLc3NpVOVeqA8FEp9RMZQBzA2ppfX13kCVAHYNoyP6xTQ0t4uP+ICjIzoTVWmbZuC1NO6etvRIa8nJrQgEOBFKERZVLwR2AEehl9YkdHBQS01hmljKDAGjnC9BNjdpd0YyuJ4WoaG9PyhM6BKpzFHGnlYqwCOw6UEHlGlEvgcA+A43E8jOaq/4I1hLZFPZD/ulqC/X/ON4dwRpx5jwHG4BhAM8tQYNI5vsaKC+RgAoMQYJB0AY2jo69Oz/f0ybwxeYwhGxddUaW5sFMedjfBNT49eBd6nU4Lfmt3Y4M7kpAR7e7UqFKJZhBJVPorweGBANg6UI3zT1aW3gVfHAAAwK8IDn09WowPd3XoL8Pt8Mg8RTWgMJ1SPKT3UActerz5X5Z1lsQmUqXLXtrkO3AsbXQDbxpKkC/Mf6STQBDQ5zsGAyH7vuQCOc3BRyqREyIkBMCb5xpRRAMeBY+yBZADuYF2AYJAspQcR3P01sgR/sOn+jQDBIIEsAri5IpvQn60mVGUzBmBvD7+VpZXAsvDHAHg8fLNtlBQOqmlKA4H988CBZLW1ugKUZxhgeW5OLoYfok9EM6p0ZhhgJvIhGuBRKEQLpHUuTKQtj4fhyBcx9a6p0RsiPMsAxJYqDQsL8iYhAEB1tZ5RxQvUAxfi+VKQAp+AmZwchhcX5Uu0IemHKyv1FFACFAGFquQn8ouwA2wCfuDr0tL+v6D/Okw/AWuAfPZgEcTJAAAAAElFTkSuQmCC';
    const toggleOnIcon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA8lJREFUWIXFl09oHGUUwH9vNtWwRZKNRVBrDy2oSAvqJgqttSLYgif/EDyJeghJa1PFNJCWNqSFULZJqCEYU0GKHjy0gnrooV6MKB5iU6QqoYUUSSsFNdmoNWR33nzPw0ymk7BtliabPBiY771v5v3e9+d974NVFlmsw8mTVmPGfSLUmZER4Z5S/TyPX5qaZCypO3XKqlVpCALqRLjS3Cw/lwUwNGT1ztEiwi4z1pcZzOSePbJurjE4aK3AESCT6POT59HU0iLn5xRVyT+cPm2p69fpKxbZl4CbAX4H8tHzzy0Afph76e+3o6ocBhBhzIyrwBPA48C3AwO2o7U1hJgHcO0afcA7wKwI/cBX6TTnm5vFL3MU6O21x4KAg4Az4622NvkUoKfH1lZV8bEZrwEfAU+SiJJczupFGAEKzvFCR4d8X67TpORydlSEwyJ80t4ubyZtPT221ozfgHXOsbmjQ3715ozOsVsV8X3679Q5QBCwURV8n+8W2trb5T9VLqiCKhshMQWq7AQQ4cs7dQ7gHHkzMGNDKbsqG0RAhDyAB9DVZbWqrFdlZmKC0aUAqHJOFZzj7a4um7eDOjvtjSDgUVWmVBmBaA0cOGAPex6XgMvd3fLIUgDA5NAhvjFjBzAJfCDChBnbgdcJg97d3S1DcHMKMqpAuM2WKGJBYK86x+fAc0BnwqjAkVwudB4DFIvURu3ppQPAsWMyCfb8/v286Bw7RbgXGE+l+Oz4cbmU7FsF4PtURwtjdjkAQhHr7eUscPZ2vaoAnIvzgS0fQGlpbbU2Mw46xzODgzLmAaiSivZmUGkA3+dpVerM2AzRCKiu3AgEAUR5ghhgobKSUiwi0XqzGMD348gXrQ+WKqp4EYCLAVTDBlFmXBUAkZUBcC72cRPAjNloHVRXGkA19OF5FGKAQoF8NAKZW365fAB10etUDADko7NgJQAyEB7bEM35jRv8GSWiB7NZW1Mp542Ndpcq96tCocBfMcDwsEyrclWVdG0t9ZUCmJykXpW0KhPDwzIdAwAEAV8HARSLvFQpAFVeCYKwaJnTJWvCD1WxIGDftm22fbmdb91qz6qyVxXzfeJ6YF7ma2iwEyK8CxTMGAC+cI4fR0fLL8uTks3aGhGeSqV42Yy9wN3AiZERea8kQGOjpcbH6YOSF5Npworp70X81hDupgzwAJCO9Aa8v2kT7WfOSHzqlsz9W7ZYVoQWYBfwUDnR3kYmgHPA0MWLcmGhcdHDJ5u1mpmZ8HIqQsas9OU0/qHwrxl5M6bSaf4YHZXFRmx15X/BpK1mTxvAuwAAAABJRU5ErkJggg==';
    const superTogglerIconOff = `data:image/png;base64,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`
    const superTogglerIconOn = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABjFAAAYxQFbyZrJAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAwBQTFRF////JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW9JpW90qjuZwAAAP90Uk5TAAECAwQF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`

    const applyBlur = el => {
        if (!blurEnabled) return;
        if (!el.hasAttribute('is-blurred') && !el.hasAttribute('aria-selected')) {
            const isUnread = el.querySelector('[aria-label*="unread"]') || el.querySelector('[aria-label*="Unread"]');
            if (!isUnread) {
                el.style.filter = 'blur(8px)';
                el.style.transition = 'filter 0.3s ease-in-out';
                el.setAttribute('is-blurred', 'true');
                el.addEventListener('mouseenter', () => { el.style.filter = '' });
                el.addEventListener('mouseleave', () => { el.style.filter = 'blur(8px)' });
            }
        }
    };

    const clearBlurFromActiveChat = () => {
        document.querySelectorAll('[aria-label="Chat list"] [aria-selected="true"]').forEach(el => {
            const listItem = el.closest('[role="listitem"]');
            if (listItem?.hasAttribute('is-blurred')) {
                listItem.style.filter = 'none';
                listItem.style.transition = 'none';
                listItem.removeAttribute('is-blurred');
            }
        });
    };

    const clearBlurFromUnread = () => {
        document.querySelectorAll('[aria-label="Chat list"] [role="listitem"]').forEach(el => {
            if (el.querySelector('[aria-label*="unread"]') || el.querySelector('[aria-label*="Unread"]')) {
                if (el.hasAttribute('is-blurred')) {
                    el.style.filter = 'none';
                    el.style.transition = 'none';
                    el.removeAttribute('is-blurred');
                }
            }
        });
    };

    const blurElements = () => {
        if (!blurEnabled) {
            document.querySelectorAll('[role="listitem"], [data-testid="conversation-panel-messages"]').forEach(el => {
                el.style.filter = 'none';
                el.removeAttribute('is-blurred');
            });
            return;
        }
        document.querySelectorAll('[aria-label="Chat list"] [role="listitem"], [role="application"] [data-testid="conversation-panel-messages"]').forEach(applyBlur);
        clearBlurFromActiveChat();
        if (!blurUnread) clearBlurFromUnread();
    };

    const addButtons = () => {
        const h1 = document.querySelector('h1');
        if (h1 && !document.getElementById('quick-message-btn')) {
            const msgBtn = document.createElement('button');
            msgBtn.id = 'quick-message-btn';
            msgBtn.title = 'Send message to a number without saving';
            msgBtn.style = 'margin-left:10px;cursor:pointer;background:none;border:none;vertical-align:middle';
            msgBtn.innerHTML = `<img src="data:image/jpeg;base64,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" alt="Message Icon" style="width:20px;height:20px">`
            msgBtn.onclick = showModal;
            h1.parentElement.parentElement.insertBefore(msgBtn, h1.parentElement.nextSibling);

            const toggleBtn = document.createElement('button');
            toggleBtn.id = 'toggle-blur-btn';
            toggleBtn.title = blurUnread ? 'Disable blur for unread messages' : 'Enable blur for unread messages';
            toggleBtn.style = 'margin-left:10px;cursor:pointer;background:none;border:none;vertical-align:middle';
            toggleBtn.innerHTML = `<img src="${blurUnread ? toggleOnIcon : toggleOffIcon}" alt="Toggle Blur Icon" style="width:20px;height:20px">`;
            toggleBtn.onclick = () => {
                blurUnread = !blurUnread;
                GM_setValue('blurUnread', blurUnread);
                toggleBtn.title = blurUnread ? 'Disable blur for unread messages' : 'Enable blur for unread messages';
                toggleBtn.innerHTML = `<img src="${blurUnread ? toggleOnIcon : toggleOffIcon}" alt="Toggle Blur Icon" style="width:20px;height:20px">`;
                blurElements();
            };
            h1.parentElement.parentElement.insertBefore(toggleBtn, msgBtn.nextSibling);

            const superToggleBtn = document.createElement('button');
            superToggleBtn.id = 'super-toggle-blur-btn';
            superToggleBtn.title = blurEnabled ? 'Disable all blur effects' : 'Enable all blur effects';
            superToggleBtn.style = 'margin-left:10px;cursor:pointer;background:none;border:none;vertical-align:middle';
            superToggleBtn.innerHTML = `<img src="${blurEnabled ? superTogglerIconOn: superTogglerIconOff}" alt="Super Toggle Blur Icon" style="width:20px;height:20px">`;
            superToggleBtn.onclick = () => {
                blurEnabled = !blurEnabled;
                GM_setValue('blurEnabled', blurEnabled);
                superToggleBtn.title = blurEnabled ? 'Disable all blur effects' : 'Enable all blur effects';
                superToggleBtn.innerHTML = `<img src="${blurEnabled ? superTogglerIconOn: superTogglerIconOff}" alt="Super Toggle Blur Icon" style="width:20px;height:20px">`;
                blurElements();
            };
            h1.parentElement.parentElement.insertBefore(superToggleBtn, toggleBtn.nextSibling);
        }
    };

    const showModal = () => {
        document.getElementById('quick-message-modal')?.remove();
        const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const modal = document.createElement('div');
        modal.id = 'quick-message-modal';
        modal.style = `position:fixed;top:0;left:0;width:100%;height:100%;background:${isDark ? 'rgba(0,0,0,0.7)' : 'rgba(0,0,0,0.5)'};backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:1000`;

        const content = document.createElement('div');
        content.style = `background:${isDark ? '#1a1a1a' : '#fff'};color:${isDark ? '#fff' : '#000'};padding:20px;border-radius:8px;max-width:400px;width:100%;box-shadow:0 4px 8px rgba(0,0,0,0.2)`;
        content.onclick = e => e.stopPropagation();

        const input = document.createElement('input');
        input.type = 'text';
        input.placeholder = 'Enter phone number';
        input.style = 'width:-webkit-fill-available;padding:10px;margin:10px 0;border-radius:4px;background:rgb(51,51,51);color:rgb(255,255,255)';
        input.autofocus = true;

        const note = document.createElement('div');
        note.style = `font-size:12px;color:${isDark ? '#bbb' : '#555'};margin-bottom:10px`;
        note.innerHTML = 'Please include the country code (e.g., +1234567890)';

        const btnRow = document.createElement('div');
        btnRow.style = 'display:flex;gap:10px';

        const checkBtn = document.createElement('button');
        checkBtn.textContent = 'Check Number';
        checkBtn.style = 'background:#25D366;color:#fff;padding:10px;border:none;border-radius:4px;cursor:pointer;flex:1';
        checkBtn.onclick = () => {
            const num = input.value.trim().replace(/[\s-+]/g, '');
            if (num) {
                window.location.href = `https://web.whatsapp.com/send/?phone=${num}`;
                modal.remove();
            }
        };

        const closeBtn = document.createElement('button');
        closeBtn.textContent = 'Close';
        closeBtn.style = `background:${isDark ? '#444' : '#ccc'};color:${isDark ? '#fff' : '#000'};padding:10px;border:none;border-radius:4px;cursor:pointer;flex:1`;
        closeBtn.onclick = () => modal.remove();
        modal.onclick = e => e.target === modal && modal.remove();

        btnRow.append(checkBtn, closeBtn);
        content.append(input, note, btnRow);
        modal.appendChild(content);
        document.body.appendChild(modal);
    };

    blurElements();
    addButtons();

    const observer = new MutationObserver(mutations => mutations.forEach(m => m.addedNodes.length && (blurElements(), addButtons())));
    const target = document.querySelector('body');
    target && observer.observe(target, { childList: true, subtree: true });
    window.addEventListener('unload', () => observer.disconnect());
})();
