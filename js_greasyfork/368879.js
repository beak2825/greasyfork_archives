// ==UserScript==
// @name         Steam: Game Trailer and Gameplay Buttons
// @author       WIRLYWIRLY
// @namespace    https://github.com/WirlyWirlyPool
// @version      2.0
// @homepage     https://gist.github.com/WirlyWirlyPool/c682c27daf748022db3ff9760c3ac6cc
// @description  This will add buttons on steam gamepages that when clicked will search YouTube for gameplay or trailer videos. This is based off the script "Steam Game Page - Add Links To Game Trailer & Gameplay Search On YouTube" written by CoopCoding.
// @match        htt*://store.steampowered.com/app/*
// @icon         https://store.steampowered.com/favicon.ico
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/368879/Steam%3A%20Game%20Trailer%20and%20Gameplay%20Buttons.user.js
// @updateURL https://update.greasyfork.org/scripts/368879/Steam%3A%20Game%20Trailer%20and%20Gameplay%20Buttons.meta.js
// ==/UserScript==

//Get Game Title
var gametitle = document.querySelector('.apphub_AppName').textContent.trim()

//Add Gameplay Search Button
var gplink = document.createElement("a")
gplink.className = "btnv6_blue_hoverfade btn_medium"
gplink.href = 'https://www.youtube.com/results?search_query=' + encodeURIComponent(gametitle) + ' gameplay'
gplink.setAttribute("style","padding: 1px 0px; text-align: center")
gplink.setAttribute("target","_blank")
var gpblock = document.createElement("span")
gpblock.setAttribute("style", "text-align: center;")
var gpimg = document.createElement("img")
gpimg.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGf2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNS0xMlQxNTo1ODowOS0wNzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDUtMTJUMTg6Mzc6MDgtMDc6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDUtMTJUMTg6Mzc6MDgtMDc6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmY1YWI5Yzk0LWM4ZjMtNjI0NC05YTdkLWIzZDQ1YTNiOTlhYyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozZmZkYmNiYS02ZDFlLTViNDItOWQ4Yy1lYzEzNGIxZjlkMjkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZmZkYmNiYS02ZDFlLTViNDItOWQ4Yy1lYzEzNGIxZjlkMjkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNmZmRiY2JhLTZkMWUtNWI0Mi05ZDhjLWVjMTM0YjFmOWQyOSIgc3RFdnQ6d2hlbj0iMjAxOC0wNS0xMlQxNTo1ODowOS0wNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Yzc0NzU2YzUtZTZmNi0wZjQzLWI4NTItMWEwMWE1MzFhOTNmIiBzdEV2dDp3aGVuPSIyMDE4LTA1LTEyVDE4OjMwOjU3LTA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmNWFiOWM5NC1jOGYzLTYyNDQtOWE3ZC1iM2Q0NWEzYjk5YWMiIHN0RXZ0OndoZW49IjIwMTgtMDUtMTJUMTg6Mzc6MDgtMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+JNjb2QAAAURJREFUOI3tlLsuRFEUhr9GR6JCYpqjkYjCJRLirGNkCrVHEK/AC4hulKNUaWj0osMTSNASJG4R13Y+xQwijltyCoWV/NVa69s7a+9/oVKkCoX9A/8ssAQmdNUrzDtO1WDdYNfgwODM4Nrgrqlrg9Nmbtdg3ZRqvcK8CZ2WAAfoMeXCDM3Q+KVe+lIuHCLBYNkymuYUjqOjPzgoRctomRoGm58WTrZoP9rbbPoOnLGFwV5uchid7tbtDZ0d1RIN+NejOcTgKDc5gE61+RqrS5q1NsAj6EQu8AaDy1zgIDrVqg+3b9DLY12c0cl2HcsFPmLw8DmwTZ/u/RArC9pHHvSx6BveFT3Ds6JfeQ+zAv9hsIlBrTCnTFB78fJ5AV4+b3i5G0zorFeYM6VqsGawY7BvcGJw5du2ufL9tllrbps5EzoswTNZVUtFEkDKRwAAAABJRU5ErkJggg=="
gpimg.align = "top"
var gptxt = document.createElement("span")
gptxt.innerHTML = " Gameplay"
gpblock.appendChild(gpimg)
gpblock.appendChild(gptxt)
gplink.appendChild(gpblock)
document.getElementsByClassName("apphub_OtherSiteInfo")[0].insertBefore(gplink,document.getElementsByClassName("btnv6_blue_hoverfade btn_medium")[0])
var gpspc = document.createTextNode(" ")
document.getElementsByClassName("apphub_OtherSiteInfo")[0].insertBefore(gpspc,document.getElementsByClassName("btnv6_blue_hoverfade btn_medium")[1])

//Add Trailer Search Button
var trlink = document.createElement("a")
trlink.className = "btnv6_blue_hoverfade btn_medium"
trlink.href = 'https://www.youtube.com/results?search_query=' + encodeURIComponent(gametitle) + ' trailer'
trlink.setAttribute("style","padding: 1px 0px; text-align: center")
trlink.setAttribute("target","_blank")
var trblock = document.createElement("span")
trblock.setAttribute("style", "text-align: center;")
var trimg = document.createElement("img")
trimg.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGf2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNS0xMlQxNTo1ODowOS0wNzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDUtMTJUMTg6Mzc6MDgtMDc6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDUtMTJUMTg6Mzc6MDgtMDc6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmY1YWI5Yzk0LWM4ZjMtNjI0NC05YTdkLWIzZDQ1YTNiOTlhYyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozZmZkYmNiYS02ZDFlLTViNDItOWQ4Yy1lYzEzNGIxZjlkMjkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozZmZkYmNiYS02ZDFlLTViNDItOWQ4Yy1lYzEzNGIxZjlkMjkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNmZmRiY2JhLTZkMWUtNWI0Mi05ZDhjLWVjMTM0YjFmOWQyOSIgc3RFdnQ6d2hlbj0iMjAxOC0wNS0xMlQxNTo1ODowOS0wNzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Yzc0NzU2YzUtZTZmNi0wZjQzLWI4NTItMWEwMWE1MzFhOTNmIiBzdEV2dDp3aGVuPSIyMDE4LTA1LTEyVDE4OjMwOjU3LTA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmNWFiOWM5NC1jOGYzLTYyNDQtOWE3ZC1iM2Q0NWEzYjk5YWMiIHN0RXZ0OndoZW49IjIwMTgtMDUtMTJUMTg6Mzc6MDgtMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+JNjb2QAAAURJREFUOI3tlLsuRFEUhr9GR6JCYpqjkYjCJRLirGNkCrVHEK/AC4hulKNUaWj0osMTSNASJG4R13Y+xQwijltyCoWV/NVa69s7a+9/oVKkCoX9A/8ssAQmdNUrzDtO1WDdYNfgwODM4Nrgrqlrg9Nmbtdg3ZRqvcK8CZ2WAAfoMeXCDM3Q+KVe+lIuHCLBYNkymuYUjqOjPzgoRctomRoGm58WTrZoP9rbbPoOnLGFwV5uchid7tbtDZ0d1RIN+NejOcTgKDc5gE61+RqrS5q1NsAj6EQu8AaDy1zgIDrVqg+3b9DLY12c0cl2HcsFPmLw8DmwTZ/u/RArC9pHHvSx6BveFT3Ds6JfeQ+zAv9hsIlBrTCnTFB78fJ5AV4+b3i5G0zorFeYM6VqsGawY7BvcGJw5du2ufL9tllrbps5EzoswTNZVUtFEkDKRwAAAABJRU5ErkJggg=="
trimg.align = "top"
var trtxt = document.createElement("span")
trtxt.innerHTML = " Trailer"
trblock.appendChild(trimg)
trblock.appendChild(trtxt)
trlink.appendChild(trblock)
document.getElementsByClassName("apphub_OtherSiteInfo")[0].insertBefore(trlink,document.getElementsByClassName("btnv6_blue_hoverfade btn_medium")[0])
var trspc = document.createTextNode(" ")
document.getElementsByClassName("apphub_OtherSiteInfo")[0].insertBefore(trspc,document.getElementsByClassName("btnv6_blue_hoverfade btn_medium")[1])