// ==UserScript==
// @name        maidx-net - map length
// @namespace   esterTion
// @match       https://maimaidx-eng.com/maimai-mobile/map/mapDetail/*
// @match       https://maimaidx-eng.com/maimai-mobile/map/eventMapDetail/*
// @match       https://maimaidx-eng.com/maimai-mobile/map/eventMapLogDetail/*
// @match       https://maimaidx.jp/maimai-mobile/map/mapDetail/*
// @match       https://maimaidx.jp/maimai-mobile/map/eventMapDetail/*
// @match       https://maimaidx.jp/maimai-mobile/map/eventMapLogDetail/*
// @grant       none
// @run-at      document-end
// @version     1.60.06
// @author      -
// @description Map length & task song info @ maimaidx-net
// @downloadURL https://update.greasyfork.org/scripts/453455/maidx-net%20-%20map%20length.user.js
// @updateURL https://update.greasyfork.org/scripts/453455/maidx-net%20-%20map%20length.meta.js
// ==/UserScript==

(async function () {

function _(e,t,i){var a=null;if("text"===e)return document.createTextNode(t);a=document.createElement(e);for(var n in t)if("style"===n)for(var o in t.style)a.style[o]=t.style[o];else if("className"===n)a.className=t[n];else if("event"===n)for(var o in t.event)a.addEventListener(o,t.event[o]);else a.setAttribute(n,t[n]);if(i)if("string"==typeof i)a.innerHTML=i;else if(Array.isArray(i))for(var l=0;l<i.length;l++)null!=i[l]&&a.appendChild(i[l]);return a}

let mapName = document.querySelector('.mapdetail_name_block_inner').textContent;
const mapData = {"はじまりのちほー":[0,0.012,0.03,0.04,0.095,0.25,0.8,2.9,4,6.8],"はじまりのちほー-task-pos":[],"青春ちほー":[0,0.012,0.04,0.12,0.9,4.5,15],"青春ちほー-task-pos":[],"でらっくすちほー":[99.999,999.999,1999.999,2999.999,3999.999,4999.999,9999.999,40075,99999.999,384400],"でらっくすちほー-task-pos":[],"メトロポリスちほー":[0,0.012,0.04,0.12,0.2,0.4,1.2,4.5,8.5,14],"メトロポリスちほー-task-pos":[],"ドラゴンちほー":[0,0.012,0.05,0.14,0.3,0.6,1.75,5,9.4],"ドラゴンちほー-task-pos":[],"天界ちほー":[0,0.04,0.06,0.15,2,4,20],"天界ちほー-task-pos":[],"BLACK ROSEちほー":[0,9,27,57,87,120,159,201,243,285,369],"BLACK ROSEちほー-task-pos":[[1,11002,0],[3,11001,0]],"けものフレンズ2ちほー":[0,0.01,0.025,0.06,0.18,0.5,1.25,2.5,7.5,14],"けものフレンズ2ちほー-task-pos":[],"SSSS.GRIDMANちほー":[0,0.01,0.045,0.15,0.4,3.5,5.5,7,9.5,12,15],"SSSS.GRIDMANちほー-task-pos":[],"GYARIちほー":[0,0.01,0.05,0.3,1.3,1.4,8.61],"GYARIちほー-task-pos":[],"東方Projectちほー":[0,0.01,0.02,0.04,0.065,0.22,0.32,0.45,0.7,0.9,2,5,10.5,17],"東方Projectちほー-task-pos":[],"Project DIVAちほー":[0,0.005,0.01,0.1,0.125,0.3,0.35,2.2,2.5,7,12,22,35],"Project DIVAちほー-task-pos":[],"ゾンビランドサガちほー":[0,0.01,0.025,0.05,0.1,0.15,0.3,0.45,0.75,5,10,22],"ゾンビランドサガちほー-task-pos":[],"ポプテピピックちほー":[0,0.01,0.025,0.14,0.2,3,26.11],"ポプテピピックちほー-task-pos":[],"からめるちほー":[0,25,50,80,120,160,200],"からめるちほー-task-pos":[[1,11014,0],[4,10734,0]],"イロドリミドリちほー":[0,0.01,0.04,0.095,0.15,0.45,0.6,0.9,1.5,3.1,7.5,14],"イロドリミドリちほー-task-pos":[],"怪獣娘ちほー":[0,0.01,0.025,0.05,0.15,0.24,0.35,0.8,1.6,4.5,9.5,15],"怪獣娘ちほー-task-pos":[],"結月ゆかりちほー":[0,0.01,0.08,0.18,0.7,2.8,7.8],"結月ゆかりちほー-task-pos":[],"はじまりのちほー2":[0,14,28,42,56,84,112,154,196,252],"はじまりのちほー2-task-pos":[[1,11094,0],[3,11095,0],[5,11096,0],[7,11093,0]],"メトロポリスちほー2 イーシュ襲来":[0,14,42,84,126,168],"メトロポリスちほー2 イーシュ襲来-task-pos":[[1,11090,0],[3,11089,0]],"メトロポリスちほー2 黒姫の逆襲":[14,42,84,168,252],"メトロポリスちほー2 黒姫の逆襲-task-pos":[[1,11091,0],[3,11092,0]],"みかんヶ岡ちほー 朝焼け通り":[0,14,42,56,70,126],"みかんヶ岡ちほー 朝焼け通り-task-pos":[[1,11100,0],[3,11097,0]],"みかんヶ岡ちほー 月夜通り":[14,42,84,126,168],"みかんヶ岡ちほー 月夜通り-task-pos":[[1,11098,0],[3,11099,0]],"天界ちほー2":[0,9,39,49,82,134,246,386,554,806,1072],"天界ちほー2-task-pos":[[2,11101,0],[7,11103,0],[9,11102,0]],"でらっくすちほー2":[112,532,1064,1596,2128,2660,3192,4256],"でらっくすちほー2-task-pos":[],"BLACK ROSEちほー2 黒薔薇病篇":[126,252,378],"BLACK ROSEちほー2 黒薔薇病篇-task-pos":[],"BLACK ROSEちほー2 二つの仮面篇":[84,168,294],"BLACK ROSEちほー2 二つの仮面篇-task-pos":[],"かぐや様は告らせたい～天才たちの恋愛頭脳戦～ちほー":[0,0.01,0.025,0.3,1.8,4.5,18],"かぐや様は告らせたい～天才たちの恋愛頭脳戦～ちほー-task-pos":[],"異世界かるてっとちほー":[0,0.01,0.025,0.055,0.18,0.45,1,1.8,5,6.8,10,11,14.5,15,16.5,19,19.5,25],"異世界かるてっとちほー-task-pos":[],"オンゲキちほー":[0,0.01,0.04,0.12,0.3,1,2,3.6,6,19],"オンゲキちほー-task-pos":[],"＃コンパスちほー":[0,0.01,0.02,0.04,0.1,0.22,0.5,1.2,2.6,5.5,8.5,16],"＃コンパスちほー-task-pos":[],"ポンコツクエストちほー":[0,0.01,0.04,0.15,0.55,1.7,9],"ポンコツクエストちほー-task-pos":[],"Project DIVAちほー2":[0,0.01,0.045,0.18,0.6,2,11],"Project DIVAちほー2-task-pos":[],"うちの娘の為ならば、俺はもしかしたら魔王も倒せるかもしれない。ちほー":[0,0.005,0.01,0.05,0.2,0.6,2.5,4.5,14],"うちの娘の為ならば、俺はもしかしたら魔王も倒せるかもしれない。ちほー-task-pos":[],"東方Project×アトレ秋葉原ちほー":[0,0.01,0.025,0.14,0.65,3,16.5],"東方Project×アトレ秋葉原ちほー-task-pos":[],"しゅわしゅわちほー":[0,42,70,126,154,210,238,294,322,504,630],"しゅわしゅわちほー-task-pos":[[1,11152,0],[3,11153,0],[7,11154,0],[9,0,1]],"メトロポリスちほー3":[0,84,98,210,224,294,308,420,546,756,882],"メトロポリスちほー3-task-pos":[[1,11157,0],[3,11158,0],[7,11159,0],[9,0,1]],"スカイストリートちほー":[0,28,42,70,84,112,126,154,168,280,336],"スカイストリートちほー-task-pos":[[1,11163,0],[3,11162,0],[7,11161,0],[9,0,1]],"天界ちほー3":[0,84,168,252,420,504,672,840,1260,1386],"天界ちほー3-task-pos":[[1,11166,0],[4,11167,0],[8,0,1]],"BLACK ROSEちほー3":[0,42,84,126,252,294,336,504],"BLACK ROSEちほー3-task-pos":[],"しゅわーランドちほー":[3000,20000,40000,60000,80000,100000],"しゅわーランドちほー-task-pos":[],"まちカドまぞくちほー":[0,18,38,60,138,177,219,261,303,387],"まちカドまぞくちほー-task-pos":[],"ご注文はうさぎですか？？ちほー":[0,18,38,126,159,198,366],"ご注文はうさぎですか？？ちほー-task-pos":[],"ナユタン星人ちほー":[0,18,58,124,157,196,238,364],"ナユタン星人ちほー-task-pos":[],"GYARIちほー2":[0,28,84,168,210,252,420],"GYARIちほー2-task-pos":[],"東方Projectリバイバルちほー":[0,70,154,252,322,420,588],"東方Projectリバイバルちほー-task-pos":[],"Arcaeaちほー":[0,18,58,88,143,273,312,382,522,564,634,774],"Arcaeaちほー-task-pos":[[2,11208,0],[5,11209,0]],"かいりきベアちほー":[0,18,58,124,157,196,364],"かいりきベアちほー-task-pos":[],"プロジェクトセカイちほー":[0,28,70,112,168,294,336,406,476,546,616,840],"プロジェクトセカイちほー-task-pos":[],"にじさんじちほー":[0,18,48,81,133,175,259,301,371,441,511,581,637,805],"にじさんじちほー-task-pos":[],"いらすとやちほー":[0,18,48,92,170,209,279,349,461,503,545,671,797],"いらすとやちほー-task-pos":[],"オンゲキちほー2":[0,84,126,168,336,420,504,630,840],"オンゲキちほー2-task-pos":[],"そらみこちほー":[0,18,58,118,151,307],"そらみこちほー-task-pos":[],"しゅわしゅわちほー2":[0,30,70,120,170,230,290,360,440,530,666,800],"しゅわしゅわちほー2-task-pos":[[1,11224,0],[3,11225,0],[7,11226,0],[10,0,1]],"BLACK ROSEちほー4":[0,70,200,350,500],"BLACK ROSEちほー4-task-pos":[],"スカイストリートちほー2":[0,36,96,156,228,312,324,408,432,540,612],"スカイストリートちほー2-task-pos":[[1,11228,0],[3,11229,0],[7,11231,0],[9,0,1]],"kawaiiちほー":[0,111,222,333,444,555,666,777,900,1111,1300],"kawaiiちほー-task-pos":[[1,11232,0],[3,11233,0],[7,11234,0],[9,0,1]],"高天原ちほー":[0,70,170,270,400,530,670,800,999,1111],"高天原ちほー-task-pos":[[2,11236,0],[4,11237,0],[8,0,1]],"しゅわーランドちほー2":[3000,20000,40000,60000,80000,100000],"しゅわーランドちほー2-task-pos":[],"炎炎ノ消防隊ちほー":[0,9,29,62,100,140,180,250],"炎炎ノ消防隊ちほー-task-pos":[],"すみっコぐらしちほー":[0,9,29,62,98,140,180,220,260,300],"すみっコぐらしちほー-task-pos":[],"HaNaMiNaちほー":[0,70,150,230,350,450,600],"HaNaMiNaちほー-task-pos":[],"HARDCORE TANO*Cちほー":[0,60,100,160,200,260,330,400,500,570,670,740,840,900,999],"HARDCORE TANO*Cちほー-task-pos":[],"東方Projectリバイバルちほー2":[0,36,72,140,200,260,330,400,500],"東方Projectリバイバルちほー2-task-pos":[],"乙女ゲームの破滅フラグしかない悪役令嬢に転生してしまった…ちほー":[0,9,29,62,98,140,180,220,260,300],"乙女ゲームの破滅フラグしかない悪役令嬢に転生してしまった…ちほー-task-pos":[],"ビックカメラちほー":[0,9,29,62,98,134,206,242,278,314,350,386,422,500],"ビックカメラちほー-task-pos":[],"はるまきごはんちほー":[0,30,70,140,210,280,400],"はるまきごはんちほー-task-pos":[],"オンゲキちほー3":[0,50,110,200,270,350,500,600],"オンゲキちほー3-task-pos":[],"宇宙すてーしょんちほー":[0,36,72,180,216,276,324,468,504,684,800],"宇宙すてーしょんちほー-task-pos":[[1,11296,0],[3,11297,0],[7,11298,0],[9,0,1]],"天界ちほー4":[0,36,72,180,252,360,396,432,540,800],"天界ちほー4-task-pos":[[1,11301,0],[3,11303,0],[8,0,1]],"メトロポリスちほー4":[0,72,108,216,288,396,468,612,720,900,1000],"メトロポリスちほー4-task-pos":[[1,11304,0],[3,11305,0],[7,11306,0],[9,0,1]],"7sRefちほー":[0,180,240,288,468,576,792,900,1199,1200,1300],"7sRefちほー-task-pos":[[1,11310,0],[4,11309,0],[8,0,1],[9,11308,0]],"ユニバースちほー":[3000,20000,40000,60000,80000,100000],"ユニバースちほー-task-pos":[],"BLACK ROSEちほー5":[0,72,144,252,312,360,500],"BLACK ROSEちほー5-task-pos":[],"アイドルマスター ミリオンライブ！ちほー":[0,24,51,111,141,180,250],"アイドルマスター ミリオンライブ！ちほー-task-pos":[],"アイドルマスター SideMちほー":[0,24,60,90,150],"アイドルマスター SideMちほー-task-pos":[],"cosMo@暴走Pちほー":[0,24,78,105,135,234,267,303,339,411],"cosMo@暴走Pちほー-task-pos":[],"オーイシ×加藤のピザラジオちほー":[0,24,51,132],"オーイシ×加藤のピザラジオちほー-task-pos":[],"東方ダンマクカグラちほー":[0,50,110,210,280,350,450],"東方ダンマクカグラちほー-task-pos":[],"キノシタちほー":[0,36,70,110,180,220,260,300,400],"キノシタちほー-task-pos":[],"ゆるキャン△ SEASON2ちほー":[0,24,51,81,111,144,180,252],"ゆるキャン△ SEASON2ちほー-task-pos":[],"宇崎ちゃんは遊びたい！ちほー":[0,24,42,72,116,149,173,221,293],"宇崎ちゃんは遊びたい！ちほー-task-pos":[],"Rain Dropsちほー":[0,36,110,170,250],"Rain Dropsちほー-task-pos":[],"プロジェクトセカイちほー2":[0,24,48,72,108,144,156,180,204,228,264,288,300,324,348,372,408,432,468,504,576],"プロジェクトセカイちほー2-task-pos":[],"Project DIVAちほー3":[0,36,60,108,144,180,216,288],"Project DIVAちほー3-task-pos":[],"オンゲキちほー4":[0,72,120,170,250,320,500,550,600],"オンゲキちほー4-task-pos":[],"舞ヶ原シンセ研究会ちほー":[0,108,144,324,360,432],"舞ヶ原シンセ研究会ちほー-task-pos":[],"宇宙すてーしょんちほー2":[0,35,70,120,180,240,300,450,550,700,800],"宇宙すてーしょんちほー2-task-pos":[[1,11375,0],[3,11376,0],[7,11377,0],[9,0,1]],"メトロポリスちほー5":[0,35,80,150,210,270,330,500,600,800,900],"メトロポリスちほー5-task-pos":[[1,11383,0],[3,11384,0],[7,11382,0],[9,0,1]],"天界ちほー5":[0,70,120,220,300,380,460,600,700,900,1000],"天界ちほー5-task-pos":[[1,11387,0],[3,11388,0],[7,11386,0],[9,0,1]],"7sRefちほー2":[0,150,200,400,450,550,600,850,900,1200,1300],"7sRefちほー2-task-pos":[[1,11395,0],[3,11393,0],[7,11392,0],[9,0,1]],"ユニバースちほー2":[3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"ユニバースちほー2-task-pos":[],"BLACK ROSEちほー6":[0,70,80,170,240,250,400],"BLACK ROSEちほー6-task-pos":[[2,11380,0],[5,11381,0]],"10周年記念ちほー":[1,12,24,36,43,49,62,76,83,89,102,116,123,129,142,156,163,169,182,196,203,209,222,236,243,249,262,276,283,289,302,316,323,329,342,356,363,369,382,396,403,409,422,436,443,449,462,476,483,489,502,516,523,529,542,556,563,569,582,596,603,609,622,636,643,649,662,676,685,694,703,711,720,730,740,750,760,777],"10周年記念ちほー-task-pos":[[3,11390,0],[7,11224,0],[11,11152,0],[15,11095,0],[19,11003,0],[23,835,0],[27,737,0],[31,674,0],[35,614,0],[39,561,0],[43,529,0],[47,472,0],[51,242,0],[55,351,0],[59,229,0],[63,241,0],[67,159,0],[71,25,0],[76,0,1]],"小林さんちのメイドラゴンSちほー":[0,9,25,50,100,110,140,170,200,250],"小林さんちのメイドラゴンSちほー-task-pos":[[1,11406,0],[5,11114,0]],"ツユちほー":[0,9,25,30,60,70,130,210,300,350],"ツユちほー-task-pos":[[1,11407,0],[3,11347,0],[5,11408,0],[8,11396,0]],"D4DJ Groovy Mixちほー":[0,25,60,90,120,130,170,200,230,260,290,320,330,370,400],"D4DJ Groovy Mixちほー-task-pos":[[5,11420,0],[12,11421,0]],"Diverse Systemちほー":[0,25,100,130,200,230,300,350,700,730,800],"Diverse Systemちほー-task-pos":[[2,11424,0],[4,11425,0],[6,11426,0],[8,0,1]],"Rain Dropsちほー2":[0,35,70,80,150,160,250],"Rain Dropsちほー2-task-pos":[[3,11430,0],[5,11348,0]],"ゲームセンターCXちほー":[0,25,35,50,75,100,125,150,200],"ゲームセンターCXちほー-task-pos":[[1,11431,0]],"東方Project 博麗神社～春祭りちほー":[0,35,70,120,210,260,310,400],"東方Project 博麗神社～春祭りちほー-task-pos":[],"CHUNITHMちほー":[0,25,26,60,120,150,160,200,280,320,410,500],"CHUNITHMちほー-task-pos":[[2,11399,0],[6,11401,0],[10,11400,0]],"すりぃちほー":[0,20,25,45,65,85,90,110,130,170,180,200,220,230,250,270,280,330,400,450],"すりぃちほー-task-pos":[[2,11439,0],[6,11447,0],[10,11132,0],[13,11325,0],[16,11365,0],[18,11449,0]],"オンゲキちほー5":[0,35,70,75,110,150,190,200,250,300,390,450,540,600],"オンゲキちほー5-task-pos":[[3,11451,0],[7,11402,0],[10,11404,0],[12,11405,0]],"ハピフェスちほー":[0,30,70,120,170,230,290,360,440,530,700,800],"ハピフェスちほー-task-pos":[[1,11452,0],[3,11453,0],[7,11454,0],[10,0,1]],"メトロポリスちほー6":[0,70,120,220,300,380,460,600,700,1000,1100],"メトロポリスちほー6-task-pos":[[1,11459,0],[3,11460,0],[7,11461,0],[9,0,1]],"スカイストリートちほー3":[0,35,80,150,210,270,330,500,600,800,900],"スカイストリートちほー3-task-pos":[[1,11463,0],[3,11464,0],[7,11465,0],[9,0,1]],"天界ちほー6":[0,150,200,400,450,550,600,850,900,1300,1400],"天界ちほー6-task-pos":[[1,11467,0],[3,11468,0],[7,11469,0],[9,0,1]],"フェスティバルちほー":[3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"フェスティバルちほー-task-pos":[],"BLACK ROSEちほー7":[0,30,80,150,200,250,400,500],"BLACK ROSEちほー7-task-pos":[[6,11456,0]],"先輩がうざい後輩の話ちほー":[0,9,30,60,70,100,110,140,150,180,190,220,230,260,270,300,310,340],"先輩がうざい後輩の話ちほー-task-pos":[[2,11480,0]],"DECO*27ちほー":[0,9,30,40,70,80,90,130,140,160,170,210,220,230,280,290,380,400],"DECO*27ちほー-task-pos":[[2,11481,0],[9,11482,0],[16,10190,0]],"プロジェクトセカイちほー3":[0,30,70,100,130,170,240,280,320,360,400,500],"プロジェクトセカイちほー3-task-pos":[[1,11492,0],[5,11493,0],[8,11494,0]],"東方Project×オンゲキちほー":[0,9,30,60,100,130,160,200,300,350,550,600],"東方Project×オンゲキちほー-task-pos":[[2,11495,0],[4,11496,0],[7,11473,0],[8,11474,0],[10,11475,0]],"さなちゃんねるちほー":[0,9,40,70,80,90,130,150,160,170,180,210,220,260],"さなちゃんねるちほー-task-pos":[[7,11498,0]],"ZONeちほー":[0,9,30,50,100,110,120,140,160,170,190,240,250,270,290,300,350],"ZONeちほー-task-pos":[[2,11501,0]],"樋口楓ちほー":[0,9,30,40,70,80,120,130,140,180,190,250],"樋口楓ちほー-task-pos":[[2,11503,0]],"電音部ちほー":[0,30,40,70,80,120,130,170,180,220,230,270,330,400],"電音部ちほー-task-pos":[[1,11506,0],[3,11507,0]],"CHUNITHMちほー2":[0,30,70,90,110,130,160,180,210,230,260,300,380,420,550,600],"CHUNITHMちほー2-task-pos":[[1,11477,0],[4,11525,0],[6,603,0],[8,627,0],[10,719,0],[12,11478,0],[14,11479,0]],"syudouちほー":[0,30,40,70,90,120,150,180,230,270,350],"syudouちほー-task-pos":[[1,11510,0],[3,11121,0],[5,11511,0],[7,11105,0]],"Arcaeaちほー2":[0,30,60,160,190,220,320,350,500,550,650,800,900],"Arcaeaちほー2-task-pos":[[2,11514,0],[5,11524,0],[8,11516,0],[11,11517,0]],"ハピフェスちほー2":[0,30,70,120,170,230,290,360,440,700,800],"ハピフェスちほー2-task-pos":[[1,11526,0],[3,11527,0],[7,11528,0],[9,0,1]],"スカイストリートちほー4":[0,30,70,150,250,300,450,530,800,900],"スカイストリートちほー4-task-pos":[[1,11538,0],[4,11539,0],[6,11541,0],[8,0,1]],"ドラゴンちほー2":[0,100,150,300,400,600,700,1000,1111],"ドラゴンちほー2-task-pos":[[1,11545,0],[3,11546,0],[5,11547,0],[7,0,1]],"フェスティバルちほー2":[3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"フェスティバルちほー2-task-pos":[],"BLACK ROSEちほー8":[0,30,70,110,150,200,250,400,500],"BLACK ROSEちほー8-task-pos":[[1,11532,0],[7,11533,0]],"10周年記念ちほー2":[0,12,24,36,50,65,80,95,110,125,160,180,200,220,240,260,280,300,400,425,450,475,500,525,550,580,610,640,670,700,1000,1111],"10周年記念ちほー2-task-pos":[[3,11542,0],[18,11543,0],[30,0,1]],"ヒメヒナちほー":[0,8,25,30,50,70,100,110,140,170,220,230],"ヒメヒナちほー-task-pos":[[2,11555,0],[6,11557,0],[10,11556,0]],"ピノキオピーちほー":[0,25,30,40,70,80,100,130,140,160,200,210,240,300,310,400],"ピノキオピーちほー-task-pos":[[1,11558,0],[4,11337,0],[7,448,0],[10,11274,0],[13,11559,0]],"Muse Dashちほー":[0,25,50,80,130,145,170,220,235,260,310,325,350,400,420,470,500,530,560,650,660],"Muse Dashちほー-task-pos":[[4,11571,0],[7,11572,0],[10,11573,0],[13,11574,0],[15,11575,0],[19,11576,0]],"東方Project×イロドリミドリちほー":[0,20,40,100,110,130,150,170,190,260,270,300,330,360,440,450,480,510,540,570,660,670],"東方Project×イロドリミドリちほー-task-pos":[[3,11606,0],[9,11604,0],[14,11603,0],[20,11605,0]],"MEGAREXちほー":[0,25,50,75,130,140,170,250,285,320,420,430,470,510,550,680,730,900,910],"MEGAREXちほー-task-pos":[[1,11584,0],[4,11585,0],[7,11586,0],[10,11589,0],[15,11588,0],[17,11587,0]],"からめるちほー2":[0,10,20,30,40,60,70,90,110,130,150,180,190,220,250,280,320,330,399,400,401,450,700,710],"からめるちほー2-task-pos":[[5,11590,0],[11,10734,0],[16,11390,0],[22,11591,0]],"音楽的同位体　可不ちほー":[0,25,50,150,200,300,310],"音楽的同位体　可不ちほー-task-pos":[[1,11592,0],[5,11593,0]],"オンゲキちほー6":[0,30,50,70,100,130,160,200,230,260,350,380,410,600,610],"オンゲキちほー6-task-pos":[[1,11551,0],[4,11552,0],[10,11553,0],[13,11554,0]],"パーリィちほー":[0,15,30,70,120,160,210,260,330,400,500,600,700,800],"パーリィちほー-task-pos":[[2,11608,0],[4,11609,0],[9,11610,0],[12,0,1]],"メトロポリスちほー7":[0,70,120,220,300,380,460,600,700,900,1000],"メトロポリスちほー7-task-pos":[[1,11615,0],[3,11616,0],[7,11617,0],[9,0,1]],"スカイストリートちほー5":[0,35,80,150,210,270,330,500,600,800,900],"スカイストリートちほー5-task-pos":[[1,11620,0],[3,11622,0],[7,11623,0],[9,0,1]],"7sRefちほー3":[0,150,200,400,450,550,600,850,900,1300,1400],"7sRefちほー3-task-pos":[[1,11535,0],[3,11536,0],[7,11534,0],[9,0,1]],"バディーズちほー":[3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"バディーズちほー-task-pos":[],"BLACK ROSEちほー9":[0,30,70,110,150,200,250,400,500],"BLACK ROSEちほー9-task-pos":[[1,11613,0],[7,11614,0]],"いよわちほー":[0,25,30,40,65,75,90,120,130,150,190,200,220],"いよわちほー-task-pos":[[1,11512,0],[4,11630,0],[7,11631,0],[10,11629,0]],"グルーヴコースターちほー":[0,30,40,60,90,120,130,160,220,260,300,350,360],"グルーヴコースターちほー-task-pos":[[1,11632,0],[5,11664,0],[8,11633,0],[11,390,0]],"ヘブンバーンズレッドちほー":[0,5,10,15,20,25,30,40,60,80,105,130,160,190,220,260,300],"ヘブンバーンズレッドちほー-task-pos":[[6,11639,0]],"WACCAちほー":[0,30,40,60,110,150,200,210,250,320,330,390,480,490,640,700],"WACCAちほー-task-pos":[[1,11640,0],[4,11641,0],[6,11565,0],[9,11642,0],[12,11566,0],[14,11643,0]],"異世界おじさんちほー":[0,8,20,30,45,60,80,100,120,140,160,180,200],"異世界おじさんちほー-task-pos":[[2,11644,0]],"sasakure.UKちほー":[0,25,30,40,75,90,100,120,150,160,180,230,240],"sasakure.UKちほー-task-pos":[[1,11645,0],[5,836,0],[8,10185,0],[11,11668,0]],"TJ.hangneilちほー":[0,30,60,120,150,300,400,444],"TJ.hangneilちほー-task-pos":[[1,11647,0],[6,0,1]],"月面ちほー":[1,100,120,140,160,180,200,240],"月面ちほー-task-pos":[[1,11648,0]],"裏 月面ちほー":[199,200,210,654,660,666],"裏 月面ちほー-task-pos":[[1,0,1],[3,0,1]],"東北ずん子ちほー":[0,8,25,35,50,65,80,100,120,140,150,180,210,240,280],"東北ずん子ちほー-task-pos":[[2,11650,0],[9,11651,0]],"CHUNITHMちほー3":[0,30,50,110,130,190,210,270,280,300,360,380,480,600],"CHUNITHMちほー3-task-pos":[[1,11626,0],[3,11627,0],[5,11443,0],[7,736,0],[10,11471,0],[12,11628,0]],"プロジェクトセカイちほー4":[0,8,15,25,35,50,65,75,85,95,105,120,135,150,160,170,185,200,210,225,240,250,270,290,310,330,350,370,390,400,420,440,470,500,530,560,590,600],"プロジェクトセカイちほー4-task-pos":[[20,11665,0],[28,11667,0],[36,11666,0]],"パーリィちほー2":[0,30,70,140,200,280,400,550,800,900],"パーリィちほー2-task-pos":[[1,11669,0],[3,11670,0],[6,11671,0],[8,0,1]],"メトロポリスちほー8":[0,70,120,300,400,500,650,800,1000,1100],"メトロポリスちほー8-task-pos":[[1,11674,0],[3,11675,0],[6,11676,0],[8,0,1]],"ドラゴンちほー3":[0,30,70,140,200,280,400,550,800,900],"ドラゴンちほー3-task-pos":[[1,11678,0],[3,11679,0],[6,11680,0],[8,0,1]],"天界ちほー7":[0,150,200,400,450,550,600,850,900,1300,1400],"天界ちほー7-task-pos":[[1,11682,0],[3,11683,0],[7,11684,0],[9,0,1]],"バディーズちほー2":[500,3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"バディーズちほー2-task-pos":[],"NEEDY GIRL OVERDOSEちほー":[0,8,16,25,40,70,120,170,180,250],"NEEDY GIRL OVERDOSEちほー-task-pos":[[2,11692,0],[7,11568,0]],"花譜ちほー":[0,25,30,45,60,80,100,120,150,200],"花譜ちほー-task-pos":[[1,11693,0]],"ゆこぴちほー":[0,8,16,25,50,60,85,86,87,88,100,120,140,160,170,190,210,230,250],"ゆこぴちほー-task-pos":[[4,11694,0],[13,11695,0]],"グルーヴコースターちほー2":[0,15,35,50,60,100,200,300,450,550],"グルーヴコースターちほー2-task-pos":[[3,11705,0],[6,11706,0],[8,11707,0]],"まいまいまいごえんちほー":[0,8,16,24,30,35,45,55,75,85,95,105,120,135,150,165,180,195,210,225,250,265,280,295,310,320,350],"まいまいまいごえんちほー-task-pos":[[3,11708,0],[24,11709,0]],"にじさんじのB級バラエティ（仮）ちほー":[0,6,12,18,25,50,60,100,140,180,240,250],"にじさんじのB級バラエティ（仮）ちほー-task-pos":[[5,11712,0]],"東方ダンマクカグラ ファンタジア・ロストちほー":[0,8,25,50,60,90,120,160,200,210,300,450,600,650],"東方ダンマクカグラ ファンタジア・ロストちほー-task-pos":[[3,11717,0],[8,11718,0],[12,11720,0]],"HARDCORE TANO*Cちほー2":[0,30,40,80,130,180,250,260,320,400,500,700,800],"HARDCORE TANO*Cちほー2-task-pos":[[1,11726,0],[4,11722,0],[6,11724,0],[9,11723,0],[11,11725,0]],"＃コンパスちほー2":[0,25,30,70,100,140,150,220,290,300],"＃コンパスちほー2-task-pos":[[1,11727,0],[5,11728,0],[8,11729,0]],"周防パトラちほー":[0,8,25,30,45,60,75,90,100,120,140,165,190,220,250],"周防パトラちほー-task-pos":[[2,11730,0],[7,11731,0]],"オンゲキちほー7":[0,12,30,40,80,130,140,200,300,400,550,650],"オンゲキちほー7-task-pos":[[2,11689,0],[5,11688,0],[8,11690,0],[10,11691,0]],"スカイストリートちほー6":[0,30,100,150,200,300,350,450,600,800],"スカイストリートちほー6-task-pos":[[1,11737,0],[5,11738,0],[8,0,1]],"天界ちほー8":[0,50,100,200,300,500,550,700,900,1100],"天界ちほー8-task-pos":[[1,11742,0],[5,11743,0],[8,0,1]],"BLACK ROSEちほー10":[0,50,100,150,250,300,350,450,600,800],"BLACK ROSEちほー10-task-pos":[[1,11747,0],[8,11748,0]],"メトロポリスちほー9":[0,150,200,350,450,600,850,1000,1200,1400],"メトロポリスちほー9-task-pos":[[1,11750,0],[5,11751,0],[8,0,1]],"プリズムちほー":[500,3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"プリズムちほー-task-pos":[],"葬送のフリーレンちほー":[0,12,36,48,72,100,120,140,160,180,200,220,240,260,280,300,350],"葬送のフリーレンちほー-task-pos":[[4,11760,0]],"かいりきベアちほー2":[0,20,40,50,75,100,130,160,190,240,300],"かいりきベアちほー2-task-pos":[[2,11761,0],[5,11637,0],[9,11763,0]],"MonsterZ MATEちほー":[0,20,50,60,75,95,125,145,165,185,205,250],"MonsterZ MATEちほー-task-pos":[[2,11774,0]],"おめがシスターズちほー":[0,25,50,80,110,150,200],"おめがシスターズちほー-task-pos":[[2,11775,0]],"ワールドダイスター 夢のステラリウムちほー":[0,20,40,70,90,110,130,150,200,235,270,305,355,390,425,475,550],"ワールドダイスター 夢のステラリウムちほー-task-pos":[[7,11778,0],[15,11779,0]],"夢限大みゅーたいぷちほー":[0,25,40,65,80,105,130,150,180,225,255,300],"夢限大みゅーたいぷちほー-task-pos":[[6,11782,0]],"Arcaeaちほー3":[0,50,100,175,225,300,350,450,500,650,750],"Arcaeaちほー3-task-pos":[[1,11786,0],[5,11787,0],[7,11788,0],[9,11789,0]],"重音テトちほー":[0,25,50,75,100,125,150,175,200,225,275,325,350,400,475,500],"重音テトちほー-task-pos":[[1,11793,0],[5,11794,0],[8,11795,0],[11,11796,0],[14,11797,0]],"ななひらちほー":[0,25,50,80,110,140,170,200,240,300,350],"ななひらちほー-task-pos":[[1,11798,0],[6,11799,0],[9,11800,0]],"オンゲキちほー8":[0,20,40,60,80,100,120,140,160,200,220,250,280,310,340,370,420,450,480,510,540,570,650,750],"オンゲキちほー8-task-pos":[[3,11757,0],[9,11756,0],[16,11758,0],[22,11759,0]],"なないろちほー":[0,30,50,150,200,250,350,400,500,550,700,900],"なないろちほー-task-pos":[[1,11806,0],[6,11807,0],[10,0,1]],"ドラゴンちほー4":[0,50,100,250,350,550,600,800,1000,1200],"ドラゴンちほー4-task-pos":[[1,11811,0],[5,11812,0],[8,0,1]],"7sRefちほー4":[0,25,50,100,150,250,300,450,500,600,700,800,850,900,950,1000,1050,1100,1500,1550,1650,1750,1800,1850,1900,1950,2000],"7sRefちほー4-task-pos":[[5,11815,0],[7,11816,0],[18,0,1]],"プリズムちほー2":[500,3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"プリズムちほー2-task-pos":[],"NEEDY GIRL OVERDOSEちほー2":[0,10,25,40,80,100,125,150,175,200,230,260,290,320,350],"NEEDY GIRL OVERDOSEちほー2-task-pos":[[2,11831,0],[13,11832,0]],"神椿市協奏中。ちほー":[0,10,25,50,75,90,100,130,180,230,280,300],"神椿市協奏中。ちほー-task-pos":[[2,11833,0],[10,11834,0]],"那須どうぶつ王国ちほー":[0,12,23,48,72,108,140,180,200],"那須どうぶつ王国ちほー-task-pos":[[2,11845,0],[7,11846,0]],"DECO*27ちほー2":[0,25,50,75,100,125,150,200,225,275,300,325,350],"DECO*27ちほー2-task-pos":[[1,11850,0],[4,11697,0],[7,11767,0],[11,11851,0]],"ビートまりおちほー":[0,25,50,80,125,200,275,350,375,450,550,600],"ビートまりおちほー-task-pos":[[1,11853,0],[7,11854,0],[10,11855,0]],"小春六花・夏色花梨・花隈千冬ちほー":[0,15,30,50,70,100,140,160,180,200,230,270,290,310,330,360,400,420,460,500],"小春六花・夏色花梨・花隈千冬ちほー-task-pos":[[6,11856,0],[11,11857,0],[16,11858,0],[18,11859,0]],"CHUNITHMちほー4":[0,30,100,150,250,350,400,450,500,550,600,650,750,800],"CHUNITHMちほー4-task-pos":[[1,11828,0],[4,11825,0],[5,11824,0],[8,11826,0],[10,11827,0],[12,11829,0]],"三枝明那ちほー":[0,25,50,100,125,150,175,225,300],"三枝明那ちほー-task-pos":[[1,11867,0],[3,11577,0],[7,11868,0]],"Phigrosちほー":[0,25,50,100,150,200,300,350,550,600,700,750],"Phigrosちほー-task-pos":[[1,11874,0],[6,11875,0],[8,11876,0],[10,11877,0]],"トリコロちほー":[0,30,50,125,200,300,350,400,475,550,700,800],"トリコロちほー-task-pos":[[1,11880,0],[5,11881,0],[10,0,1]],"サークルちほー":[500,3000,20000,25000,30000,35000,40000,50000,60000,70000,80000,90000,100000],"サークルちほー-task-pos":[],"ブルーアーカイブちほー":[0,20,25,30,40,50,75,85,100,120,150,165,180,195,225,250,300,325,375,400],"ブルーアーカイブちほー-task-pos":[[1,11906,0],[18,11907,0]],"こっちのけんとちほー":[0,15,30,40,50,60,70,80,100,120,150,180,210,250],"こっちのけんとちほー-task-pos":[[1,11835,0],[8,11908,0],[12,11909,0]],"五等分の花嫁∽ちほー":[0,10,20,30,40,50,60,80,100,120,140,160,180,200,220,240,250],"五等分の花嫁∽ちほー-task-pos":[[5,11910,0]],"FEAT CONTESTちほー":[0,25,50,75,100,125,150,200,225,250,275,325,400,425,475,550,600],"FEAT CONTESTちほー-task-pos":[[1,11921,0],[5,11922,0],[9,11923,0],[12,11924,0],[15,0,1]],"劇場版プロジェクトセカイ　壊れたセカイと歌えないミクちほー":[0,10,15,20,25,30,35,40,45,50,60,70,80,90,100,110,120,140,160,180,200,220,240,260,280,300,320,340,360,380,400,420,440,460,480,500,520,540,560,580,600,625],"劇場版プロジェクトセカイ　壊れたセカイと歌えないミクちほー-task-pos":[[1,11926,0],[38,11927,0]],"kawaiiちほー2":[0,75,150,300,350,450,600,700,900,1000],"kawaiiちほー2-task-pos":[[1,11886,0],[3,11887,0],[6,11888,0],[8,0,1]],"Project ONSOKUちほー":[0,15,30,45,60,75,90,110,125,150,175,200,225,250,285,320,355,390,425],"Project ONSOKUちほー-task-pos":[[1,11934,0],[4,11931,0],[7,11932,0],[13,11933,0],[17,11930,0]],"高天原ちほー2":[0,75,150,300,350,450,600,700,800,1000],"高天原ちほー2-task-pos":[[1,11890,0],[3,11891,0],[6,11892,0],[8,0,1]],"cosMo@暴走Pちほー2":[0,20,30,50,60,80,100,120,140,150,175,200,300,500,550],"cosMo@暴走Pちほー2-task-pos":[[1,11936,0],[5,10411,0],[8,750,0],[10,11935,0],[13,11901,0]],"しぐれういちほー":[0,15,30,45,60,90,120,150,180,200],"しぐれういちほー-task-pos":[[1,11939,0],[8,11940,0]],"Paradigm: Rebootちほー":[0,50,100,150,200,300,350,450,600,700],"Paradigm: Rebootちほー-task-pos":[[1,11944,0],[5,11945,0],[8,11946,0]]}
window.mapData = mapData;

const current = mapData[mapName]
if (current) {

const tr = Array.from(document.querySelectorAll('.see_through_area .col5:not(:empty)'))

const currentPos = document.getElementsByClassName('mapdetail_total').length ? parseInt(document.getElementsByClassName('mapdetail_total')[0].textContent.replace(/,/g, '').replace(' Km', '')) :
  /eventMapLogDetail/.test(location.href)&&tr.length&&tr[0].parentNode.firstElementChild.classList.contains('t_c') ? 999999999 : 0

const useData = current
const taskMusics = mapData[mapName + '-task-pos']
taskMusics.forEach(([idx, mid, taskType]) => {
  const isOverEndOfList = idx >= tr.length
  const shouldBeTaskMusic = isOverEndOfList ? tr.slice(-1)[0] : tr[idx]
  const ver30 = shouldBeTaskMusic.tagName.toLowerCase() === 'td'
  const isFound = currentPos > useData[idx - 1]
  const insertDiv = _(ver30 ? 'td' : 'div', {className: ver30 ? 'col5 t_c' : 'col5 d_ib p_5'}, [
    _('div', {className: 'basic_block p_r p_3' + (ver30 ? ' m_3' : '')}, taskType ? [
      _('div', { style: { height: '80px', width: '80px', fontSize: '60px', lineHeight: '80px' } }, [_('text', '？')]),
      _('img', {src:"/maimai-mobile/img/icon_perfectchallenge.png", className:"mapdetail_taskmusic_icon"}),
    ] : [
      _('img', {loading: 'lazy', className:"w_80"+(isFound?'':' gray_img'), src:"https://estertion.win/__maimai_jacket__/"+((mid%10000)+10000+'').substr(1)+".jpg"}),
      _('img', {src:"/maimai-mobile/img/icon_taskmusic.png", className:"mapdetail_taskmusic_icon"}),
      isFound ? _('img', {src:currentPos <= useData[idx] ? "/maimai-mobile/img/map_bonus_next.png" : "/maimai-mobile/img/map_bonus_get.png", className:"mapdetail_bonus_icon"}) : _('text', ''),
    ])
  ])
  if (isOverEndOfList) {
    shouldBeTaskMusic.parentNode.appendChild(insertDiv)
  } else {
    shouldBeTaskMusic.parentNode.insertBefore(insertDiv, shouldBeTaskMusic)
  }
  if (!isOverEndOfList && shouldBeTaskMusic.querySelectorAll('.mapdetail_taskmusic_icon, .mapdetail_perfectchallenge_icon').length > 0) {
    //shouldBeTaskMusic.remove()
    //tr.splice(idx, 1)
    insertDiv.remove()
  } else {
    tr.splice(idx, 0, insertDiv)
  }
})
if (tr.length < useData.length) {
  const ver30 = tr[0].tagName.toLowerCase() === 'td'
  for (let i = tr.length; i < useData.length; i++) {
    const insertDiv = _(ver30 ? 'td' : 'div', {className: ver30 ? 'col5 t_c' : 'col5 d_ib p_5'}, [
      _('div', {className: 'basic_block p_r p_3' + (ver30 ? ' m_3' : '')}, [
        _('div', { style: { height: '80px', width: '80px', fontSize: '60px', lineHeight: '80px' } }, [_('text', '？')])
      ])
    ])
    tr.push(insertDiv)
  }
}

const relayoutArr = []
tr.forEach(i => {
  const div = _('div', {
    className: 'f_16 l_h_15 t_c'
  }, [_('text', useData.shift() + ' km')])
  i.appendChild(div)
  if (i.tagName.toLowerCase() === 'td') {
    relayoutArr.push(i)
  }
})
if (relayoutArr.length > 5) {
  const tbody = relayoutArr[0].parentNode.parentNode
  while (tbody.children.length) tbody.children[0].remove()
  while (relayoutArr.length) {
    tbody.appendChild(_('tr', {}, relayoutArr.splice(0, 5)))
  }
}

}

const titleImg = document.querySelector('.title')
if (titleImg) {
  const grayImgStyle = document.head.appendChild(_('style'))
  titleImg.parentNode.insertBefore(_('div', {}, [
    _('label', {}, [
      _('input', {type: 'checkbox', id: 'favorite', checked: '', event: { change: e => {
        grayImgStyle.textContent = e.target.checked ? '.gray_img {  }' : '.gray_img { filter: none; opacity: 1 }'
      } }}),
      _('text', 'Gray Image')
    ])
  ]), titleImg.nextSibling)
}

})()