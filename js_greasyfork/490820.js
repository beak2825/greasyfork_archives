// ==UserScript==
// @name         ChatGPT访问助手大师版tools/Keep ChatGPT无需魔法Magic梯子科学上网工具Plus修改功能增强免费可体验使用不限时间地点Pro高级版赠送精品ChatGPT帐号一枚个人独享可改密
// @name:zh-HK   ChatGPT訪問助手大師版tools/Keep ChatGPT無需魔法Magic梯子科學上網工具Plus修改功能增強免費可體驗使用不限時間地點Pro高級版贈送精品ChatGPT帳號一枚個人獨享可改密
// @name:zh-TW   ChatGPT訪問助手大師版tools/Keep ChatGPT無需魔法Magic梯子科學上網工具Plus修改功能增強免費可體驗使用不限時間地點Pro高級版贈送精品ChatGPT帳號一枚個人獨享可改密
// @name:en-US   ChatGPT Access Assistant Master Edition/Keep ChatGPT No Magic Magic/Ladder
// @name:ru      ChatGPT Access Assistant Master Edition/Keep ChatGPT No Magic Magic/Ladder
// @name:kp      ChatGPT Access Assistant Master Edition/Keep ChatGPT No Magic Magic/Ladder
// @name:cu      ChatGPT Access Assistant Master Edition/Keep ChatGPT No Magic Magic/Ladder
// @name:ir      ChatGPT Access Assistant Edition Master/Keep ChatGPT No Magic/Science Internet Tool/Ladder
// @name:sy      الإصدار الرئيسي من ChatGPT Access Assistant / Keep ChatGPT No Magic Magic
// @name:it      ChatGPT Access Assistant Master Edition/Keep ChatGPT No Magic Magic/Ladder
// @namespace    ChatGPT Access Helper
// @version      1.3.8
// @description  ChatGPT访问助手大师解决无法打开ChatGPT或者OpenAI问题/KeepChatGPT访问通畅GPT3.5/GPT4-mobile/文生视频Sora，东方ip被OpenAI屏蔽或电信运营商屏蔽无法注册或无法访问Access denied/chatgpt，解决报错不再刷新，保持活跃取消审计克隆对话净化首页展示大屏全屏言无不尽拦截跟踪等多个高级功能，使AI体验无比丝滑顺畅简洁高效，侧栏联动显示Chat搜索&ChatGPT回答自定义搜索代码区高亮逐字显示，即刻体验OpenAI/Claude/Bard/文心一言/通义千问/天工/360智脑/星火/曹植/MOSS/ChatGLM/盘古/悟道/CPM/山海/紫东太初/封神榜MindBot，无需翻墙，无需注册，无需下载，无需等待！无须繁琐注册流程，无须cookie&key，直接与AI对话！轻松导出ChatGPT聊天记录，以便进一步自行保存、分析及分享永页机，解锁ChatGPT Plus会员功能：主动关闭数据监管会话导入导出高负载限制解锁！使用ChatGPT过程更高效顺畅，完美解决ChatGPT网络错误无需频繁刷新网页取消后台监管审计解决报错
// @description:zh-HK   ChatGPT訪問助手大師解決無法打開ChatGPT或者OpenAI的問題/KeepChatGPT訪問通暢/GPT3.5/GPT4-mobile/文生影片Sora，東方ip被OpenAI屏蔽或者電信運營商屏蔽無法註冊或無法訪問Access denied/chatgpt，提供Google谷歌、Bing必應、百度、Yandex、360搜索、DuckDuckGo、Startpage、Fsou、DeepL翻譯，側欄聯動顯示Chat搜索&ChatGPT回答+自定義搜索+代碼區高亮+逐字顯示，即刻體驗OpenAI，無需翻牆，無需註冊，無需下載，無需等待！無須繁瑣註冊流程，無須cookie&key，直接與AI對話！輕鬆導出ChatGPT聊天記錄，以便進一步自行保存、分析及分享永頁機，解鎖ChatGPT Plus會員功能：主動關閉數據監管；會話導入導出；高負載限制解鎖！使用ChatGPT過程更高效順暢，完美解決ChatGPT網絡錯誤/無需頻繁地刷新網頁/取消後台監管審計解決報錯
// @description:zh-TW   ChatGPT訪問助手大師解決無法打開ChatGPT或者OpenAI的問題/KeepChatGPT訪問通暢/GPT3.5/GPT4-mobile/文生影片Sora，東方ip被OpenAI屏蔽或者電信運營商屏蔽無法註冊或無法訪問Access denied/chatgpt，提供Google谷歌、Bing必應、百度、Yandex、360搜索、DuckDuckGo、Startpage、Fsou、DeepL翻譯，側欄聯動顯示Chat搜索&ChatGPT回答+自定義搜索+代碼區高亮+逐字顯示，即刻體驗OpenAI，無需翻牆，無需註冊，無需下載，無需等待！無須繁瑣註冊流程，無須cookie&key，直接與AI對話！輕鬆導出ChatGPT聊天記錄，以便進一步自行保存、分析及分享永頁機，解鎖ChatGPT Plus會員功能：主動關閉數據監管；會話導入導出；高負載限制解鎖！使用ChatGPT過程中更高效&順暢，完美解決ChatGPT網絡錯誤/無需頻繁地刷新網頁/取消後台監管審計/解決了這幾類報錯
// @description:en-US   ChatGPT access assistant master solves the problem of not being able to open ChatGPT or OpenAI/KeepChatGPT access is smooth/GPT3.5/GPT4-mobile, the Eastern ip is blocked by OpenAI or telecom operators cannot register or cannot access Access denied/chatgpt, Conversation not found,NetworkError when attempting to fetch resource,Something went wrong,If this issue persists please contact us through our help center at help.openai.com,This content may violate our content policy, no need to go over the wall
// @description:ru      Мастер доступа к ChatGPT решает проблему невозможности открыть доступ к ChatGPT или OpenAI/KeepChatGPT, восточный ip заблокирован OpenAI или операторы связи не могут зарегистрироваться или не могут получить доступ Отказано в доступе/chatgpt, предоставляя Google, Bing, Baidu, Yandex , Поиск 360°, DuckDuckGo, Стартовая страница
// @description:kp      ChatGPT 액세스 어시스턴트 마스터는 ChatGPT 또는 OpenAI/KeepChatGPT 액세스를 열 수 없는 문제를 해결합니다. 동부 IP가 OpenAI에 의해 차단되거나 통신 사업자가 등록할 수 없거나 액세스 거부/chatgpt에 액세스할 수 없는 문제를 해결하여 Google, Bing, Baidu, Yandex를 제공합니다. , 360 검색, DuckDuckGo, 시작 페이지, Fsou, DeepL 번역, 사이드바 연결 표시 채팅 검색 및 ChatGPT 응답 + 사용자 지정 검색 + 코드 영역 강조 표시 + 축어적 표시, OpenAI를 즉시 경험, 벽을 넘을 필요 없음, 등록 없음, 다운로드 없음, 기다릴 필요 없어!
// @description:cu      El maestro asistente de acceso de ChatGPT resuelve el problema de no poder abrir ChatGPT u OpenAI/KeepChatGPT. El acceso es fluido, OpenAI bloquea la ip oriental o los operadores de telecomunicaciones no pueden registrarse o no pueden acceder Acceso denegado/chatgpt, proporcionando Google, Bing, Baidu, Yandex , 360 Search, DuckDuckGo, Startpage, Fsou, traducción DeepL, pantalla de enlace de barra lateral Búsqueda de chat y respuesta
// @description:ir      استاد دستیار دسترسی ChatGPT مشکل عدم امکان باز کردن ChatGPT یا OpenAI/KeepChatGPT را حل می کند، دسترسی آسان است، IP شرقی توسط OpenAI مسدود شده است یا اپراتورهای مخابراتی نمی توانند ثبت نام کنند یا نمی توانند به دسترسی رد شده/chatgpt دسترسی داشته باشند، Google، Bing، Baidu، Yandex ، جستجوی 360، DuckDuckGo، Startpage، Fsou، ترجمه DeepL، نمایش پیوند نوار کناری جستجوی چت و پاسخ ChatGPT + جستجوی سفارشی + برجسته‌سازی ناحیه کد + نمایش کلمه به کلمه، تجربه OpenAI
// @description:sy      يحل مساعد الوصول الرئيسي في ChatGPT مشكلة عدم القدرة على فتح الوصول إلى ChatGPT أو OpenAI / KeepChatGPT بشكل سلس ، ويتم حظر عنوان IP الشرقي بواسطة OpenAI أو لا يمكن لمشغلي الاتصالات التسجيل أو لا يمكنهم الوصول إلى رفض الوصول / chatgpt ، مما يوفر Google و Bing و Baidu و Yandex ، 360 Search ، DuckDuckGo ، Startpage ، Fsou ، ترجمة DeepL ، عرض ارتباط الشريط الجانبي ، بحث الدردشة وإجابة ChatGPT + بحث مخصص + تمييز منطقة الكود + عرض حرفي ، تجربة OpenAI على الفور
// @description:it      ChatGPT access assistant master risolve il problema di non essere in grado di aprire ChatGPT o OpenAI/KeepChatGPT l'accesso è fluido, l'IP orientale è bloccato da OpenAI o gli operatori di telecomunicazioni non possono registrarsi o non possono accedere Accesso negato/chatgpt, fornendo Google, Bing, Baidu, Yandex , 360 Search, DuckDuckGo, Startpage, Fsou, traduzione DeepL, visualizzazione collegamento barra laterale Ricerca chat e risposta
// @author       ChatGPT Access Helper
// @icon         data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAArlBMVEUcnH3///+Dybj7/v0gnoDf8e0jn4InoYOr28+Nzr7z+vjc8Ou949pJsJfr9/TC5dwzpov4/Pvv+Pbo9fIro4bR6+V8xrRArJI4qI3j8++JzLtDrZTL6OGy3tOo2c1cuKJRs5w9qpC64dh3xLFiu6X1+/nm9PGv3NKByLdywq5sv6ua08XF5t6W0sPW7ujH59+24NWc1MdnvahUtZ3Z7+qi1sqS0MFNspovpYhYtqDLFPfwAAAD1UlEQVRYw+1W2XqyUAw0gqAgCigqgrjgiktdq33/F/sncLDyg7XtdeeiH6FmkkwSzin94Q9fwdg2dc2yK81a9zfu5rpFKdyD+WP/jzMBlm03LAKc6w/9pw14VYLI8LrHS4WTmJ5W0dTofbd8+M8uaenjtUYkSaDRdodvpaJs4B992p0Z3dF6V18ThPjhMjXkqc/BZ/OdM9cIaL6sQ3aIJmmc64CAyuGqKnLbq7ms6NcM42ghkTYVxrsND3t7dxkHsDft5+7tvk7AmxIby9gYjB712aKg/nP5fYpRZWPoxCNwVLIFBqho/MT/qrPO6OEWxslmo5+IoUbrNI+eyxIXoutycA8harDK6HtVzMKpDmMt4tbQCaXIX0X7LZRXTQkqU0EcaMTQy2rMhsTMovHp4Dfl0gNBPXlfniOvVSyIz5QmahwVEIwcCC4/EjRVniOHJCeS0R/eD2nglRQsx7CAYKuRDeJHArl0XcBrnwjpVWcw7L6hFxP4xB6ZEro1mySL5hdDLGkzlgIvjQICtGBdyhC0EGpzOjV5hdrJnIUVYuxg5tBCe7MEcOwgezUE93klJ1OwntGTNjZyBLOD2AHzXcN+CeWHSEJaFRCgWdsswQZBBXgnZ+tuMhZQa16wkWcSjYfw/bSNAsqCFnvsQDJJHnIIbjmCvUSuxw9r1Dj+j2BAobqCnx/Lv0QKUY7g6HLqgLmwqNFvh1kCzOgNuS3YHLsi2wzaiNz4iB8jVPk2eSCQq/GQhxL8hCR6XoSbjiqNhKzsis+KwD4m6KSBa+hw0WlgfdY2PlhkLTxhBFqWoI9ki/ZxwuuSfgNGTYns2g2Z8RrlCJBBUQ0ABDSTwkN0dnc87vC3kiWootiiLyJC+gQ4Ym7NckzZ6ptBhkB1IFABwZA/lxH7SGJulT2eAw+yZwiOFmnvxQQ7JRl80rAHCnZP2nzIPImPBO1NPFF5jMTHzhhYxHMLTfUwKeaRQN7ivygyDxP7dEqm8i2RcyvkjO4iTkoK++/hX9zGixjLJbKvGiKziUR3go86/M+9p8dyY5yeH52haMXaJjHkZey0xl3ySsXonXPJxTsIKeOuHIgh1Z/fupYSilAeG9MkYBcqMRkrM/Oh31OoPMyDe4JGMOPsaz3BppF0Gba/vt1xkPlhaKrKbRi0iPmMB3b/9f1wQIDV0PWWxfU6U/leH7e/9BIyGniH1P983wFhHWyv0a1tOLqt8R6kguPQv18sXqPtjYZTg09bcqurU9c4Xlz2/+l9tVePy9Bs2yLAz4/Paz10SuHiePwFemH17TzX/X25W/rDH77AP8OHSPwBjE3hAAAAAElFTkSuQmCC
// @resource     brand https://s2.loli.net/2023/03/22/WIFETy26gc5tRUp.png
// @require      http://cdn.staticfile.org/jquery/1.12.4/jquery.min.js
// @supportURL   http://letsmain.com/chatgpt-access-master?utm_source=greasyfork
// @match        *://*.ai.com/*
// @match        *://chat.openai.com/chat
// @match        *://*.openai.com/*
// @match        *://*.chatgpt.com/*
// @match        *://brad.google.com/*
// @match        *://yiyan.baidu.com/*
// @include      *://*.google.com/*
// @include      *://*.google.com.hk/*
// @include      *://*.ecnu.cf/*
// @include      *://*.aust.cf/*
// @include      *://*.bing.com/*
// @include      *://*.yandex.com/*
// @include      *://*.yandex.ru/*
// @include      *://*.duckduckgo.com/*
// @include      *://*.baidu.com/*
// @include      *://*.sogou.com/*
// @include      *://*.so.com/*
// @include      *://*.sm.cn/*
// @include      *://*.startpage.com/*
// @include      *://*.fsoufsou.com/*
// @include      *://*.deepl.com/*
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_download
// @grant        GM_addStyle
// @grant        GM_openInTab
// @grant        unsafeWindow
// @run-at       document-idle
// @run-at       document-start
// @grant        GM_setClipboard
// @grant        GM_getResourceURL
// @grant        GM_getResourceURL
// @grant        GM_getResourceText
// @grant        GM_xmlhttpRequest
// @antifeature  payment
// @compatible	 Chrome
// @compatible	 Edge
// @compatible	 Firefox
// @compatible	 Safari
// @compatible	 Opera
// @license      GPL-3.0-only
// @downloadURL https://update.greasyfork.org/scripts/490820/ChatGPT%E8%AE%BF%E9%97%AE%E5%8A%A9%E6%89%8B%E5%A4%A7%E5%B8%88%E7%89%88toolsKeep%20ChatGPT%E6%97%A0%E9%9C%80%E9%AD%94%E6%B3%95Magic%E6%A2%AF%E5%AD%90%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%B7%A5%E5%85%B7Plus%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%E5%A2%9E%E5%BC%BA%E5%85%8D%E8%B4%B9%E5%8F%AF%E4%BD%93%E9%AA%8C%E4%BD%BF%E7%94%A8%E4%B8%8D%E9%99%90%E6%97%B6%E9%97%B4%E5%9C%B0%E7%82%B9Pro%E9%AB%98%E7%BA%A7%E7%89%88%E8%B5%A0%E9%80%81%E7%B2%BE%E5%93%81ChatGPT%E5%B8%90%E5%8F%B7%E4%B8%80%E6%9E%9A%E4%B8%AA%E4%BA%BA%E7%8B%AC%E4%BA%AB%E5%8F%AF%E6%94%B9%E5%AF%86.user.js
// @updateURL https://update.greasyfork.org/scripts/490820/ChatGPT%E8%AE%BF%E9%97%AE%E5%8A%A9%E6%89%8B%E5%A4%A7%E5%B8%88%E7%89%88toolsKeep%20ChatGPT%E6%97%A0%E9%9C%80%E9%AD%94%E6%B3%95Magic%E6%A2%AF%E5%AD%90%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%B7%A5%E5%85%B7Plus%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD%E5%A2%9E%E5%BC%BA%E5%85%8D%E8%B4%B9%E5%8F%AF%E4%BD%93%E9%AA%8C%E4%BD%BF%E7%94%A8%E4%B8%8D%E9%99%90%E6%97%B6%E9%97%B4%E5%9C%B0%E7%82%B9Pro%E9%AB%98%E7%BA%A7%E7%89%88%E8%B5%A0%E9%80%81%E7%B2%BE%E5%93%81ChatGPT%E5%B8%90%E5%8F%B7%E4%B8%80%E6%9E%9A%E4%B8%AA%E4%BA%BA%E7%8B%AC%E4%BA%AB%E5%8F%AF%E6%94%B9%E5%AF%86.meta.js
// ==/UserScript==
 
(function() {
    'use strict';
    var $ = window.jQuery;
    if (!$) {
        var script = document.createElement('script');
        script.src = 'https://code.jquery.com/jquery-3.6.0.min.js';
        document.head.appendChild(script);
        $ = window.jQuery;
    }
    var currentUrl = window.location.href;
    var currentHost = window.location.host;
    var resourceAnalysis = {};
    resourceAnalysis.addHtml = function() {
        var brandImgUrl = GM_getResourceURL('brand');
        var floatBoxHtml = '<div style="position:fixed;z-index:1092975;cursor:pointer;top:72px;left:0px;">' +
            '<div id="chatgpt-resources-wrap" style="width:136px;height:28px;line-height:28px;text-align:center;font-size:12px;color:#fff;background-color:#54CBF2;border:1px solid #54CBF2;border-left:none;border-top-right-radius:5px;border-bottom-right-radius:5px;">' +
            '<img src="' + brandImgUrl + '" style="width:20px;height:20px;position:relative;top:5px;" />&nbsp;ChatGPT访问助手' +
            '</div>' +
            '<div id="chatgpt-url-wrap" style="font-size:12px;padding:6px 4px;">' +
            '<a href="http://letsmain.com/chatgpt-access-master?utm_source=greasyfork" target="_blank" style="color:#3b8cff;text-decoration:none">http://letsmain.com/chatgpt-access-master</a>' +
            '</div>' +
            '</div>';
        $('body').append(floatBoxHtml);
        var defaultVipUrl = 'http://letsmain.com/chatgpt-access-master?utm_source=greasyfork&invitation-code=#';
        $('body').on('click', '#chatgpt-resources-wrap', function() {
            defaultVipUrl = defaultVipUrl.replace(/#/g, encodeURIComponent(currentUrl));
            window.open(defaultVipUrl, '_blank');
        });
    };
    resourceAnalysis.init = function() {
        resourceAnalysis.addHtml();
    };
    resourceAnalysis.init();
 
    const settings = {
        hookEventNames: "contextmenu|select|selectstart|copy|cut|dragstart",
        unhookEventNames: "mousedown|mouseup|keydown|keyup",
        doms: true,
        hookAddEventListener: true,
        hookPreventDefault: true,
        addCss: true,
        iframeSrc: "about:blank",
    };
 
    const dontHook = e => !!e.closest('form');
 
    const init = () => {
        const hookEventNames = settings.hookEventNames.split("|");
        const unhookEventNames = settings.unhookEventNames.split("|");
        const eventNames = [...hookEventNames, ...unhookEventNames];
 
        const clearLoop = () => {
            const targets = [document, document.body, ...document.getElementsByTagName('div')];
            const iframe = document.querySelector(`iframe[src="${settings.iframeSrc}"]`);
            if (iframe && iframe.clientWidth > 99 && iframe.clientHeight > 11) {
                targets.push(iframe.contentWindow.document, iframe.contentWindow.document.body);
            }
 
            for (const target of targets) {
                if (!target) continue;
 
                for (const type of eventNames) {
                    const prop = 'on' + type;
                    target[prop] = null;
                }
            }
        };
 
        if (settings.doms) {
            setInterval(clearLoop, 9e3);
            setTimeout(clearLoop, 1e3);
            window.addEventListener('load', clearLoop, true);
        }
 
        if (settings.hookAddEventListener) {
            const originalAddEventListener = EventTarget.prototype.addEventListener;
            const newAddEventListener = function (type, listener, options) {
                const useCapture = typeof options === "boolean" ? options : options && options.capture;
                if (!hookEventNames.includes(type)) {
                    originalAddEventListener.call(this, type, listener, useCapture);
                } else {
                    originalAddEventListener.call(this, type, e => {
                        if (dontHook(e) || !hookEventNames.includes(e.type)) {
                        e.preventDefault();
                    } else {
                        listener(e);
                    }
                }, useCapture);
            }
        };
        EventTarget.prototype.addEventListener = newAddEventListener;
        document.addEventListener = newAddEventListener;
    }
 
        if (settings.hookPreventDefault) {
            const originalPreventDefault = Event.prototype.preventDefault;
            Event.prototype.preventDefault = function () {
                if (dontHook(this) || !eventNames.includes(this.type)) {
                    originalPreventDefault.call(this);
                }
            };
        }
 
        if (settings.addCss) {
            GM_addStyle(
                `html, * {
                    -webkit-user-select: text !important;
                    -moz-user-select: text !important;
                    user-select: text !important;
                }
            ::-moz-selection {
                color: #FFF!important;
                background: #3399FF!important;
            }
            ::selection {
                color: #FFF!important;
                background: #3399FF!important;
            }`
        );
        }
    };
    init();
})();


