// ==UserScript==
// @name          kbin dark
// @namespace     http://userstyles.org
// @match       https://kbin.social/*
// @match       https://karab.in/*
// @match       https://fedia.io/*
// @description	  dark mode for ios
// @author        solo
// @homepage      https://userstyles.org/styles/265543
// @run-at        document-start
// @version       1.0

// @downloadURL https://update.greasyfork.org/scripts/468597/kbin%20dark.user.js
// @updateURL https://update.greasyfork.org/scripts/468597/kbin%20dark.meta.js
// ==/UserScript==
(function() {var css = "";
if (false || (document.domain == "kbin.social" || document.domain.substring(document.domain.indexOf(".kbin.social") + 1) == "kbin.social"))
	css += [
		"body {",
		"        background-color: #0c0c0c;",
		"    }",
		"    #header {",
		"        border-bottom: #1a1a1b;",
		"    }",
		"    #header > .kbin-container {",
		"        max-width: 100%;",
		"        background-color: #1a1a1b;",
		"    }",
		"    #middle {",
		"        background-color: #0c0c0c;",
		"    }",
		"    #content {",
		"        background-color: #0c0c0c;",
		"    }",
		"    .entry.section {",
		"        background-color: #1a1a1b;",
		"    }",
		"    .section.post.subject.show-preview {",
		"        background-color: #1a1a1b;",
		"        border-color: #323235;",
		"        border-top: #1a1a1b;",
		"        border-right: #1a1a1b;",
		"    }",
		"    div.content.formatted a.kbin-media-link {",
		"        color: #009edb!important;",
		"    }",
		"    div.content.formatted a.kbin-media-link:hover {",
		"        color: #027aa9!important;",
		"    }",
		"    div.content p a.kbin-media-link {",
		"        color: #009edb!important;",
		"    }",
		"    div.content p a.kbin-media-link:hover {",
		"        color: #027aa9!important;",
		"    }",
		"    span.preview a {",
		"        color: #009edb!important;",
		"    }",
		"    span.preview a:hover {",
		"        color: #027aa9!important;",
		"    }",
		"    a.mention.u-url {",
		"        color: #009edb!important;",
		"    }",
		"    a.mention.u-url:hover {",
		"        color: #027aa9!important;",
		"    }",
		"    a.hashtag.tag {",
		"        color: #009edb!important;",
		"    }",
		"    a.hashtag.tag:hover {",
		"        color: #027aa9!important;",
		"    }",
		"    a.stretched-link {",
		"        color: #009edb!important;",
		"    }",
		"    a.stretched-link:hover {",
		"        color: #027aa9!important;",
		"    }",
		"    div.row header h4 a {",
		"        color: #009edb!important;",
		"    }",
		"    div.row header h4 a:hover {",
		"        color: #027aa9!important;",
		"    }",
		"",
		"    .options__main::before {",
		"        color: #d7d7d7!important;",
		"    }",
		"    h2,",
		"    h3,",
		"    h4,",
		"    h5,",
		"    h6,",
		"    h7,",
		"    h8,",
		"    h9,",
		"    h10 {",
		"        color: #d7d7d7!important;",
		"    }",
		"    section.section:nth-child(2) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(3) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(4) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(5) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(6) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(7) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(8) {",
		"        background-color: #1a1a1b;",
		"    }",
		"    section.section:nth-child(9) {",
		"        background-color: #1a1a1b;",
		"    }",
		"",
		"",
		"    .options {",
		"        align-items: center;",
		"        border: #1a1a1b;",
		"        border-radius: 4px;",
		"        padding: 10px 12px;",
		"        height: auto;",
		"        background-color: #1a1a1b;",
		"    }",
		"    .options > * a {",
		"        border: none !important;",
		"        border-radius: 20px;",
		"        margin-right: 8px;",
		"    }",
		"    .options > * a:hover,",
		"    .options > * a.active {",
		"        background-color: rgb(0 0 0 / 10%);",
		"    }",
		"    .options > * a.active:hover {",
		"        background-color: rgb(0 0 0 / 15%);",
		"    }",
		"    #sidebar .section,",
		"    article.entry {",
		"        border: #1a1a1b;",
		"        border-radius: 4px;",
		"    }",
		"    .post {",
		"        border-radius: 4px;",
		"    }",
		"    .vote button {",
		"        background: #141415;",
		"        border: #1a1a1b;",
		"        border-radius: 4px;",
		"    }",
		"    .vote .active.vote__up button {",
		"        color: #c0814a;",
		"    }",
		"    .comment-add .dropdown__menu,",
		"    .comment-edit .dropdown__menu,",
		"    .page-entry-create .dropdown__menu,",
		"    .post-add .dropdown__menu,",
		"    .post-edit .dropdown__menu {",
		"        top: -17.7rem;",
		"    }",
		"    .dropdown__menu {",
		"        line-height: 1.5;",
		"    }",
		"    .btn__secondary,",
		"    .btn,",
		"    markdown-toolbar > * {",
		"        cursor: pointer;",
		"    }",
		"    #sidebar li:last-child,",
		"    #sidebar figure:last-child {",
		"        border: 0 !important;",
		"    }",
		"    #sidebar .section {",
		"        padding: .5rem .5rem 0 .5rem;",
		"    }",
		"    .sidebar-options {",
		"        margin-bottom: .5rem;",
		"    }",
		"    .dropdown__menu {",
		"        border-radius: px;",
		"    }",
		"",
		"    #header .login:after {",
		"        content: \' \';",
		"        display: inline-block;",
		"        width: 18px;",
		"        height: 16px;",
		"        background-image: url(https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/expand_more/wght300/24px.svg);",
		"        margin-right: 4px;",
		"    }",
		"    body.theme--solarized-dark #header .login:after {",
		"        filter: invert(59%) sepia(5%) saturate(661%) hue-rotate(138deg) brightness(95%) contrast(96%);",
		"    }",
		"    body.theme--solarized-light #header .login:after {",
		"        filter: invert(44%) sepia(7%) saturate(958%) hue-rotate(148deg) brightness(91%) contrast(93%);",
		"    }",
		"    body.theme--dark #header .login:after,",
		"    body.theme--light #header .login:after,",
		"    body.theme--kbin #header .login:after {",
		"        filter: invert(100%);",
		"    }",
		"    #header menu {",
		"        margin-right: 8px;",
		"    }",
		"    #header menu .dropdown__menu {",
		"        left: -0.75rem;",
		"    }",
		"    p code {",
		"        padding: 4px 6px;",
		"        font-size: .8em;",
		"        white-space: normal;",
		"        background: #272822;",
		"        color: #f0f0ea;",
		"        font-family: Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace;",
		"        word-spacing: normal;",
		"        word-break: break-all;",
		"        word-wrap: normal;",
		"        line-height: 1.5;",
		"        -moz-tab-size: 4;",
		"        -o-tab-size: 4;",
		"        tab-size: 4;",
		"        -webkit-hyphens: none;",
		"        -moz-hyphens: none;",
		"        -ms-hyphens: none;",
		"        hyphens: none;",
		"    }"
	].join("\n");
if (false || (new RegExp("^(?:http:\\/\\/|https:\\/\\/)?(?:kbin.social\\/)(?:\\/)?m\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$")).test(document.location.href) || (new RegExp("^(?:http:\\/\\/|https:\\/\\/)?(?:karab.in\\/)(?:\\/)?m\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$")).test(document.location.href) || (new RegExp("^(?:http:\\/\\/|https:\\/\\/)?(?:fedia.io\\/)(?:\\/)?m\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$")).test(document.location.href))
	css += [
		"article.entry,",
		"    .options:not(.options--top) {",
		"        border: 5px;",
		"",
		"        margin-bottom: 8px;",
		"        background-color: #1a1a1b;",
		"    }",
		"    article.entry {",
		"        border-radius: 4px 4px 0 0;",
		"        order: 1;",
		"        background-color: #1a1a1b;",
		"    }",
		"    .options:not(.options--top) {",
		"        border-top: var(--kbin-section-border);",
		"    }",
		"     .options:not(.options-activity) {",
		"        border-top: var(--kbin-section-border);",
		"    }"
	].join("\n");
css += [
		".options.options--top {",
		"    padding: 0;",
		"}",
		"#content {",
		"    display: grid;",
		"}",
		"#activity {",
		"    order: 2;",
		"}",
		".options {",
		"    order: 4;",
		"    z-index: 3;",
		"}",
		"#comment-add {",
		"    order: 3;",
		"    background-color: #1a1a1b;",
		"}",
		"#entry_comment_body {",
		"    background-color: #0d0d0d;",
		"}",
		"#comments {",
		"    order: 5;",
		"}",
		".options:not(#activity) > .options__main:before {",
		"    content: \'Sort by:\';",
		"    display: block;",
		"    margin-right: 8px;",
		"    color: #bcb8b8;",
		"}",
		".sidebar-options {",
		"    align-items: center;",
		"    border: var(--kbin-section-border);",
		"    background: var(--kbin-options-bg);",
		"    border-radius: 4px;",
		"    padding: 10px 12px;",
		"    height: auto;",
		"}",
		"#entry_comment_submit {",
		"    background-color: #026999;",
		"    border-radius: 20px;",
		"}",
		"#entry_comment_submit:hover {",
		"    opacity: 0.8;",
		"    background-color: #027aa9;",		
		"}",
		".section.comment {",
		"    border-right: 0;",
		"    border-top: 0;",
		"    background-color: #1a1a1b;",
		"}",
		".section.comment figure:before {",
		"    /* content: \' \'; */",
		"    display: block;",
		"    background-color: var(--newCommunityTheme-line);",
		"    width: 2px;",
		"    height: 75%;",
		"    position: absolute;",
		"    left: 4px;",
		"}",
		"#main {",
		"    border: #1a1a1b;",
		"    padding: 0;",
		"    border-radius: 4px;",
		"}",
		"#middle #main {",
		"    padding: 0;",
		"    height: fit-content;",
		"}",
		"",
		"",
		"",
		"",
		".pagination {",
		"    margin-bottom: 0;",
		"}",
		"#main > .options--top {",
		"    align-items: center;",
		"    border: #1a1a1b;",
		"    border-radius: 4px;",
		"    padding: 10px 12px;",
		"    height: auto;",
		"}",
		".sidebar-options[data-controller=\"options\"] {",
		"    background: transparent;",
		"    border: 0;",
		"    padding: 0;",
		"}",
		"#sidebar > .sidebar-options > .options.options--top {",
		"    align-items: center;",
		"    border: #1a1a1b;",
		"    border-radius: 4px;",
		"    padding: 10px 12px;",
		"    height: auto;",
		"    background-color: #1a1a1b;",
		"}"
	].join("\n");
if (typeof GM_addStyle != "undefined") {
	GM_addStyle(css);
} else if (typeof PRO_addStyle != "undefined") {
	PRO_addStyle(css);
} else if (typeof addStyle != "undefined") {
	addStyle(css);
} else {
	var node = document.createElement("style");
	node.type = "text/css";
	node.appendChild(document.createTextNode(css));
	var heads = document.getElementsByTagName("head");
	if (heads.length > 0) {
		heads[0].appendChild(node);
	} else {
		// no head yet, stick it whereever
		document.documentElement.appendChild(node);
	}
}
})();
