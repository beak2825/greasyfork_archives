// ==UserScript==
// @name        Chibi
// @description Load scratch extension everywhere.
// @version     4
// @author      SimonShiki
// @match       http://localhost:8601/*
// @match       https://scratch.mit.edu/projects/*
// @match       https://aerfaying.com/Projects/*
// @match       https://www.ccw.site/*
// @match       https://gitblock.cn/Projects/*
// @match       https://world.xiaomawang.com/*
// @match       https://cocrea.world/*
// @match       https://create.codelab.club/*
// @match       https://www.scratch-cn.cn/*
// @match       https://www.40code.com/*
// @match       https://turbowarp.org/*
// @match       https://codingclip.com/*
// @match       https://editor.turbowarp.cn/*
// @match       https://0832.ink/rc/*
// @grant       none
// @license     AGPL-3.0-only
// @namespace   ScratchChibiLoader
// @run-at      document-start
// @source      https://github.com/SimonShiki/chibi
// @downloadURL https://update.greasyfork.org/scripts/478800/Chibi.user.js
// @updateURL https://update.greasyfork.org/scripts/478800/Chibi.meta.js
// ==/UserScript==

/*! For license information please see chibi.js.LICENSE.txt */
(()=>{var r,n,t,e,a,o,i={809:(r,n,t)=>{"use strict";t.a(r,(async(r,n)=>{try{var e=t(215),a=t(921),o=window.open;(0,a.cM)("Chibi ".concat("4")),await(0,e.z)(o),void 0!==window.chibi.vm?(0,e.f)(window.chibi.vm):(0,a.cM)("Cannot find vm in this page, stop injecting."),n()}catch(r){n(r)}}),1)},215:(r,n,t)=>{"use strict";t.d(n,{f:()=>kr,z:()=>xr});var e=t(921),a={convertProcCall:!0,dontExposeCtx:!1,noConfirmDialog:!1,takeOverUrlLoadRequest:!1},o="$CHIBI_SETTINGS";function i(){try{var r=window.localStorage.getItem(o);return r?JSON.parse(r):null}catch(r){return null}}window.localStorage.getItem(o)||window.localStorage.setItem(o,JSON.stringify(a));var l=new Proxy(a,{get:function(r,n){var t=i();return t&&n in t?t[n]:r[n]},set:function(r,n,t){var e=i();return e||(e=Object.assign({},a)),e[n]=t,window.localStorage.setItem(o,JSON.stringify(e)),!0}}),c=function(r){return r.ANGLE="angle",r.BOOLEAN="Boolean",r.COLOR="color",r.NUMBER="number",r.STRING="string",r.MATRIX="matrix",r.NOTE="note",r.IMAGE="image",r}(c||{}),u=function(r){return r.BOOLEAN="Boolean",r.BUTTON="button",r.COMMAND="command",r.CONDITIONAL="conditional",r.EVENT="event",r.HAT="hat",r.LOOP="loop",r.REPORTER="reporter",r.Lambda="Lambda",r}(u||{}),s=function(r){return r.GLOBAL="global",r.TARGET="target",r}(s||{}),f=function(r){return r.SPRITE="sprite",r.STAGE="stage",r}(f||{}),d=t(831),h=t.n(d),p=function(r,n,t){return r&&r.id&&r.default?h()(r,n,t):r};function y(r){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},y(r)}function v(r,n){if(r){if("string"==typeof r)return m(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(r,n):void 0}}function m(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function b(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,w(e.key),e)}}function g(r,n,t){return(n=w(n))in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function w(r){var n=function(r,n){if("object"!==y(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,"string");if("object"!==y(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===y(n)?n:String(n)}function x(r){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x(r)}function k(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,I(e.key),e)}}function S(r,n){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},S(r,n)}function E(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function O(r){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O(r)}function M(r,n,t){return(n=I(n))in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function I(r){var n=function(r,n){if("object"!==x(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,"string");if("object"!==x(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===x(n)?n:String(n)}var j=new(function(r){!function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&S(r,n)}(i,r);var n,t,e,a,o=(e=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}(),function(){var r,n=O(e);if(a){var t=O(this).constructor;r=Reflect.construct(n,arguments,t)}else r=n.apply(this,arguments);return function(r,n){if(n&&("object"===x(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return E(r)}(this,r)});function i(){var r;return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),M(E(r=o.call(this)),"workerClass","undefined"==typeof Worker?null:Worker),M(E(r),"workers",[]),r.services={},r}return n=i,t=[{key:"callSync",value:function(r,n){var t=this._getServiceProvider(r),e=t.provider,a=t.isRemote;if(e){if(a)throw new Error("Cannot use 'callSync' on remote provider for service ".concat(r,"."));for(var o=arguments.length,i=new Array(o>2?o-2:0),l=2;l<o;l++)i[l-2]=arguments[l];return e[n].apply(e,i)}throw new Error("Provider not found for service: ".concat(r))}},{key:"setServiceSync",value:function(r,n){this.services.hasOwnProperty(r)&&console.warn("Central dispatch replacing existing service provider for ".concat(r)),this.services[r]=n}},{key:"setService",value:function(r,n){try{return this.setServiceSync(r,n),Promise.resolve()}catch(r){return Promise.reject(r)}}},{key:"addWorker",value:function(r){-1===this.workers.indexOf(r)?(this.workers.push(r),r.onmessage=this._onMessage.bind(this,r),this._remoteCall(r,"dispatch","handshake").catch((function(r){console.error("Could not handshake with worker: ".concat(r))}))):console.warn("Central dispatch ignoring attempt to add duplicate worker")}},{key:"_getServiceProvider",value:function(r){var n=this.services[r];return n&&{provider:n,isRemote:Boolean(this.workerClass&&n instanceof this.workerClass||n.isRemote)}}},{key:"_onDispatchMessage",value:function(r,n){var t;switch(n.method){case"setService":if(!n.args){console.error("setService received empty argument");break}t=this.setService(String(n.args[0]),r);break;default:console.error("Central dispatch received message for unknown method: ".concat(n.method))}return t}}],t&&k(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),g(this,"callbacks",[]),g(this,"nextResponseId",0)}var n,t;return n=r,t=[{key:"call",value:function(r,n){for(var t=arguments.length,e=new Array(t>2?t-2:0),a=2;a<t;a++)e[a-2]=arguments[a];return this.transferCall.apply(this,[r,n,null].concat(e))}},{key:"transferCall",value:function(r,n,t){try{var e=this._getServiceProvider(r),a=e.provider,o=e.isRemote;if(a){for(var i=arguments.length,l=new Array(i>3?i-3:0),c=3;c<i;c++)l[c-3]=arguments[c];if(o)return this._remoteTransferCall.apply(this,[a,r,n,t].concat(l));var u=a[n].apply(a,l);return Promise.resolve(u)}return Promise.reject(new Error("Service not found: ".concat(r)))}catch(r){return Promise.reject(r)}}},{key:"_isRemoteService",value:function(r){return this._getServiceProvider(r).isRemote}},{key:"_remoteCall",value:function(r,n,t){for(var e=arguments.length,a=new Array(e>3?e-3:0),o=3;o<e;o++)a[o-3]=arguments[o];return this._remoteTransferCall.apply(this,[r,n,t,null].concat(a))}},{key:"_remoteTransferCall",value:function(r,n,t,e){for(var a=this,o=arguments.length,i=new Array(o>4?o-4:0),l=4;l<o;l++)i[l-4]=arguments[l];return new Promise((function(o,l){var c=a._storeCallbacks(o,l);i&&(i=a._purifyObject(i)),e?r.postMessage({service:n,method:t,responseId:c,args:i},e):r.postMessage({service:n,method:t,responseId:c,args:i})}))}},{key:"_storeCallbacks",value:function(r,n){var t=this.nextResponseId++;return this.callbacks[t]=[r,n],t}},{key:"_deliverResponse",value:function(r,n){try{var t=(o=this.callbacks[r],i=2,function(r){if(Array.isArray(r))return r}(o)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(e=o.call(t)).done)&&(l.push(e.value),l.length!==n);c=!0);}catch(r){u=!0,a=r}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(o,i)||v(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],a=t[1];delete this.callbacks[r],n.error?a(n.error):e(n.result)}catch(r){console.error("Dispatch callback failed: ".concat(r))}var o,i}},{key:"_onMessage",value:function(r,n){var t=n.data;t.args=t.args||[];var e,a=void 0;t.service?a="dispatch"===t.service?this._onDispatchMessage(r,t):this.call.apply(this,[t.service,t.method].concat(function(r){if(Array.isArray(r))return m(r)}(e=t.args)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):void 0===t.responseId?console.error("Dispatch caught malformed message from a worker: ".concat(JSON.stringify(n))):this._deliverResponse(t.responseId,t),a&&(void 0===t.responseId?console.error("Dispatch message missing required response ID: ".concat(JSON.stringify(n))):a.then((function(n){return r.postMessage({responseId:t.responseId,result:n})}),(function(n){return r.postMessage({responseId:t.responseId,error:"".concat(n)})})))}},{key:"_getServiceProvider",value:function(r){throw new Error("Could not get provider for ".concat(r,": _getServiceProvider not implemented"))}},{key:"_onDispatchMessage",value:function(r,n){throw new Error("Unimplemented dispatch message handler cannot handle ".concat(n.method," method"))}},{key:"_purifyObject",value:function(r){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("function"!=typeof r&&"symbol"!==y(r)){if(null!==r&&"object"===y(r)){if(t.has(r))return;if(t.add(r),Array.isArray(r))return r.map((function(r){return n._purifyObject(r,t,e+1)}));var a={};for(var o in r){var i=r[o];a[o]=this._purifyObject(i,t,e+1)}return a}return r}}}],t&&b(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),r}()));function L(r){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},L(r)}function _(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,(void 0,a=function(r,n){if("object"!==L(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,"string");if("object"!==L(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e.key),"symbol"===L(a)?a:String(a)),e)}var a}const T=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}var n,t;return n=r,t=[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(r){r<0&&(r+=16777216);var n=Number(r).toString(16);return"#".concat("000000".substr(0,6-n.length)).concat(n)}},{key:"decimalToRgb",value:function(r){var n=r>>24&255;return{r:r>>16&255,g:r>>8&255,b:255&r,a:n>0?n:255}}},{key:"hexToRgb",value:function(r){r.startsWith("#")&&(r=r.substring(1));var n=parseInt(r,16);if(isNaN(n))return null;if(6===r.length)return{r:n>>16&255,g:n>>8&255,b:255&n};if(3===r.length){var t=n>>8&15,e=n>>4&15,a=15&n;return{r:t<<4|t,g:e<<4|e,b:a<<4|a}}return null}},{key:"rgbToHex",value:function(n){return r.decimalToHex(r.rgbToDecimal(n))}},{key:"rgbToDecimal",value:function(r){if(null===r)throw new Error("rgb must be an RGBObject");return(r.r<<16)+(r.g<<8)+r.b}},{key:"hexToDecimal",value:function(n){return r.rgbToDecimal(r.hexToRgb(n))}},{key:"hsvToRgb",value:function(r){var n=r.h%360;n<0&&(n+=360);var t,e,a,o=Math.max(0,Math.min(r.s,1)),i=Math.max(0,Math.min(r.v,1)),l=Math.floor(n/60),c=n/60-l,u=i*(1-o),s=i*(1-o*c),f=i*(1-o*(1-c));switch(l){default:case 0:t=i,e=f,a=u;break;case 1:t=s,e=i,a=u;break;case 2:t=u,e=i,a=f;break;case 3:t=u,e=s,a=i;break;case 4:t=f,e=u,a=i;break;case 5:t=i,e=u,a=s}return{r:Math.floor(255*t),g:Math.floor(255*e),b:Math.floor(255*a)}}},{key:"rgbToHsv",value:function(r){var n=r.r/255,t=r.g/255,e=r.b/255,a=Math.min(Math.min(n,t),e),o=Math.max(Math.max(n,t),e),i=0,l=0;return a!==o&&(i=60*((n===a?3:t===a?5:1)-(n===a?t-e:t===a?e-n:n-t)/(o-a))%360,l=(o-a)/o),{h:i,s:l,v:o}}},{key:"mixRgb",value:function(r,n,t){if(t<=0)return r;if(t>=1)return n;var e=1-t;return{r:e*r.r+t*n.r,g:e*r.g+t*n.g,b:e*r.b+t*n.b}}}],null&&_(n.prototype,null),t&&_(n,t),Object.defineProperty(n,"prototype",{writable:!1}),r}();function P(r){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},P(r)}function A(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,(void 0,a=function(r,n){if("object"!==P(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,"string");if("object"!==P(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e.key),"symbol"===P(a)?a:String(a)),e)}var a}var N=function(r){if("string"!=typeof r)return!1;for(var n=0;n<r.length;n++){var t=r.charCodeAt(n);if(48===t||9===t)return!1}return!0},R=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}var n,t;return n=r,t=[{key:"toNumber",value:function(r){if("number"==typeof r)return Number.isNaN(r)?0:r;var n=Number(r);return Number.isNaN(n)?0:n}},{key:"toBoolean",value:function(r){return"boolean"==typeof r?r:"string"==typeof r?""!==r&&"0"!==r&&"false"!==r.toLowerCase():Boolean(r)}},{key:"toString",value:function(r){return String(r)}},{key:"toRgbColorList",value:function(n){var t=r.toRgbColorObject(n);return[t.r,t.g,t.b]}},{key:"toRgbColorObject",value:function(n){var t;return"string"==typeof n&&"#"===n.substring(0,1)?(t=T.hexToRgb(n))||(t={r:0,g:0,b:0,a:255}):t=T.decimalToRgb(r.toNumber(n)),t}},{key:"isWhiteSpace",value:function(r){return null===r||"string"==typeof r&&0===r.trim().length}},{key:"compare",value:function(r,n){var t=Number(r),e=Number(n);if(0===t&&N(r)?t=NaN:0===e&&N(n)&&(e=NaN),isNaN(t)||isNaN(e)){var a=String(r).toLowerCase(),o=String(n).toLowerCase();return a<o?-1:a>o?1:0}return t===1/0&&e===1/0||t===-1/0&&e===-1/0?0:t-e}},{key:"isInt",value:function(r){return"number"==typeof r?!!isNaN(r)||r===Math.floor(r):"boolean"==typeof r||"string"==typeof r&&r.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(n,t,e){if("number"!=typeof n){if("all"===n)return e?r.LIST_ALL:r.LIST_INVALID;if("last"===n)return t>0?t:r.LIST_INVALID;if("random"===n||"any"===n)return t>0?1+Math.floor(Math.random()*t):r.LIST_INVALID}return(n=Math.floor(r.toNumber(n)))<1||n>t?r.LIST_INVALID:n}}],null&&A(n.prototype,null),t&&A(n,t),Object.defineProperty(n,"prototype",{writable:!1}),r}();function C(r){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},C(r)}function D(r){var n=h().namespace(),t=function(r,t){if(r&&"object"===C(r));else{if("string"!=typeof r)throw new Error("unsupported data type in translate()");r={default:r}}return n(r,t)},e=function(r){return"_".concat(r)},a={};return t.setup=function(t){t&&(a=t),n.setup({locale:r?r.getLocale():"undefined"!=typeof navigator?navigator.language:"en",missingTranslation:"ignore",generateId:e,translations:a})},t.setup({}),r&&r.on("LOCALE_CHANGED",(function(){t.setup(null)})),t}function F(r){var n={ArgumentType:c,BlockType:u,TargetType:f,ReporterScope:s,Cast:R,extensions:{register:function(){throw new Error("not implemented")},unsandboxed:!!r,chibi:!0},translate:D(r)};return r&&(n.vm=r,n.renderer=r.runtime.renderer),n}var U=t(945),B=t.n(U);function G(){return B()('// ==UserScript==\n// @name        Chibi\n// @description Load scratch extension everywhere.\n// @version     4\n// @author      SimonShiki\n// @match       http://localhost:8601/*\n// @match       https://scratch.mit.edu/projects/*\n// @match       https://aerfaying.com/Projects/*\n// @match       https://www.ccw.site/*\n// @match       https://gitblock.cn/Projects/*\n// @match       https://world.xiaomawang.com/*\n// @match       https://cocrea.world/*\n// @match       https://create.codelab.club/*\n// @match       https://www.scratch-cn.cn/*\n// @match       https://www.40code.com/*\n// @match       https://turbowarp.org/*\n// @match       https://codingclip.com/*\n// @match       https://editor.turbowarp.cn/*\n// @match       https://0832.ink/rc/*\n// @grant       none\n// @license     AGPL-3.0-only\n// @namespace   ScratchChibiLoader\n// @run-at      document-start\n// @source      https://github.com/SimonShiki/chibi\n// ==/UserScript==\n\n(()=>{var r={28:r=>{var n="long",e="short",t="narrow",a="numeric",i="2-digit";r.exports={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:a,day:a,year:i},medium:{month:e,day:a,year:a},long:{month:n,day:a,year:a},full:{month:n,day:a,year:a,weekday:n},default:{month:e,day:a,year:a}},time:{short:{hour:a,minute:a},medium:{hour:a,minute:a,second:a},long:{hour:a,minute:a,second:a,timeZoneName:e},full:{hour:a,minute:a,second:a,timeZoneName:e},default:{hour:a,minute:a,second:a}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(r){if(r){var n={},e=r.match(/\\b[A-Z]{3}\\b/i),t=r.replace(/[^Â¤]/g,"").length;if(!t&&e&&(t=1),t?(n.style="currency",n.currencyDisplay=1===t?"symbol":2===t?"code":"name",n.currency=e?e[0].toUpperCase():"USD"):r.indexOf("%")>=0&&(n.style="percent"),!/[@#0]/.test(r))return n.style?n:void 0;if(n.useGrouping=r.indexOf(",")>=0,/E\\+?[@#0]+/i.test(r)||r.indexOf("@")>=0){var a=r.replace(/E\\+?[@#0]+|[^@#0]/gi,"");n.minimumSignificantDigits=Math.min(Math.max(a.replace(/[^@0]/g,"").length,1),21),n.maximumSignificantDigits=Math.min(Math.max(a.length,1),21)}else{for(var i=r.replace(/[^#0.]/g,"").split("."),o=i[0],l=o.length-1;"0"===o[l];)--l;n.minimumIntegerDigits=Math.min(Math.max(o.length-1-l,1),21);var c=i[1]||"";for(l=0;"0"===c[l];)++l;for(n.minimumFractionDigits=Math.min(Math.max(l,0),20);"#"===c[l];)++l;n.maximumFractionDigits=Math.min(Math.max(l,0),20)}return n}},parseDatePattern:function(r){if(r){for(var o={},l=0;l<r.length;){for(var c=r[l],u=1;r[++l]===c;)++u;switch(c){case"G":o.era=5===u?t:4===u?n:e;break;case"y":case"Y":o.year=2===u?i:a;break;case"M":case"L":u=Math.min(Math.max(u-1,0),4),o.month=[a,i,e,n,t][u];break;case"E":case"e":case"c":o.weekday=5===u?t:4===u?n:e;break;case"d":case"D":o.day=2===u?i:a;break;case"h":case"K":o.hour12=!0,o.hour=2===u?i:a;break;case"H":case"k":o.hour12=!1,o.hour=2===u?i:a;break;case"m":o.minute=2===u?i:a;break;case"s":case"S":o.second=2===u?i:a;break;case"z":case"Z":case"v":case"V":o.timeZoneName=1===u?e:n}}return Object.keys(o).length?o:void 0}}}},146:(r,n,e)=>{"use strict";var t=e(28),a=e(962),i=e(567);function o(r,n,e,t,a){var i=r.map((function(r){return function(r,n,e,t,a){if("string"==typeof r){var i=r;return function(){return i}}var c,u=r[0],s=r[1];if(n&&"#"===r[0]){u=n[0];var f=n[2],h=(t.number||d.number)([u,"number"],e);return function(r){return h(l(u,r)-f,r)}}"plural"===s||"selectordinal"===s?(c={},Object.keys(r[3]).forEach((function(n){c[n]=o(r[3][n],r,e,t,a)})),r=[r[0],r[1],r[2],c]):r[2]&&"object"==typeof r[2]&&(c={},Object.keys(r[2]).forEach((function(n){c[n]=o(r[2][n],r,e,t,a)})),r=[r[0],r[1],c]);var p=s&&(t[s]||d[s]);if(p){var m=p(r,e);return function(r){return m(l(u,r),r)}}return a?function(r){return String(l(u,r))}:function(r){return l(u,r)}}(r,n,e,t,a)}));return a?1===i.length?i[0]:function(r){for(var n="",e=0;e<i.length;++e)n+=i[e](r);return n}:function(r){return i.reduce((function(n,e){return n.concat(e(r))}),[])}}function l(r,n){if(n&&r in n)return n[r];for(var e=r.split("."),t=n,a=0,i=e.length;t&&a<i;++a)t=t[e[a]];return t}function c(r,n){var e=r[2],a=t.number[e]||t.parseNumberPattern(e)||t.number.default;return new Intl.NumberFormat(n,a).format}function u(r,n){var e=r[1],a=r[2],i=t[e][a]||t.parseDatePattern(a)||t[e].default;return new Intl.DateTimeFormat(n,i).format}function s(r,n){var e,t="selectordinal"===r[1]?"ordinal":"cardinal",o=r[2],l=r[3];if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(n).length>0)e=new Intl.PluralRules(n,{type:t});else{var c=a(n,i),u=c&&i[c][t]||f;e={select:u}}return function(r,n){return(l["="+ +r]||l[e.select(r-o)]||l.other)(n)}}function f(){return"other"}(n=r.exports=function(r,n,e){return o(r,null,n||"en",e||{},!0)}).toParts=function(r,n,e){return o(r,null,n||"en",e||{},!1)};var d={number:c,ordinal:c,spellout:c,duration:function(r,n){var e=r[2],a=t.duration[e]||t.duration.default,i=new Intl.NumberFormat(n,a.seconds).format,o=new Intl.NumberFormat(n,a.minutes).format,l=new Intl.NumberFormat(n,a.hours).format,c=/^fi$|^fi-|^da/.test(String(n))?".":":";return function(r,n){if(r=+r,!isFinite(r))return i(r);var e=~~(r/60/60),t=~~(r/60%60),a=(e?l(Math.abs(e))+c:"")+o(Math.abs(t))+c+i(Math.abs(r%60));return r<0?l(-1).replace(l(1),a):a}},date:u,time:u,plural:s,selectordinal:s,select:function(r,n){var e=r[2];return function(r,n){return(e[r]||e.other)(n)}}};n.types=d},567:r=>{"use strict";var n="zero",e="one",t="two",a="few",i="many",o="other",l=[function(r){return 1==+r?e:o},function(r){var n=+r;return 0<=n&&n<=1?e:o},function(r){return 0===Math.floor(Math.abs(+r))||1==+r?e:o},function(r){var l=+r;return 0===l?n:1===l?e:2===l?t:3<=l%100&&l%100<=10?a:11<=l%100&&l%100<=99?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===n&&0===t?e:o},function(r){var n=+r;return n%10==1&&n%100!=11?e:2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:n%10==0||5<=n%10&&n%10<=9||11<=n%100&&n%100<=14?i:o},function(r){var n=+r;return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?e:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?t:(3<=n%10&&n%10<=4||n%10==9)&&(n%100<10||19<n%100)&&(n%100<70||79<n%100)&&(n%100<90||99<n%100)?a:0!==n&&n%1e6==0?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,i=+(r+".").split(".")[1];return 0===t&&n%10==1&&n%100!=11||i%10==1&&i%100!=11?e:0===t&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)||2<=i%10&&i%10<=4&&(i%100<12||14<i%100)?a:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===n&&0===t?e:2<=n&&n<=4&&0===t?a:0!==t?i:o},function(r){var l=+r;return 0===l?n:1===l?e:2===l?t:3===l?a:6===l?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 1==+r||0!==t&&(0===n||1===n)?e:o},function(r){var n=Math.floor(Math.abs(+r)),i=(r+".").split(".")[1].length,l=+(r+".").split(".")[1];return 0===i&&n%100==1||l%100==1?e:0===i&&n%100==2||l%100==2?t:0===i&&3<=n%100&&n%100<=4||3<=l%100&&l%100<=4?a:o},function(r){var n=Math.floor(Math.abs(+r));return 0===n||1===n?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===t&&(1===n||2===n||3===n)||0===t&&n%10!=4&&n%10!=6&&n%10!=9||0!==t&&a%10!=4&&a%10!=6&&a%10!=9?e:o},function(r){var n=+r;return 1===n?e:2===n?t:3<=n&&n<=6?a:7<=n&&n<=10?i:o},function(r){var n=+r;return 1===n||11===n?e:2===n||12===n?t:3<=n&&n<=10||13<=n&&n<=19?a:o},function(r){var n=Math.floor(Math.abs(+r)),l=(r+".").split(".")[1].length;return 0===l&&n%10==1?e:0===l&&n%10==2?t:0!==l||n%100!=0&&n%100!=20&&n%100!=40&&n%100!=60&&n%100!=80?0!==l?i:o:a},function(r){var n=Math.floor(Math.abs(+r)),a=(r+".").split(".")[1].length,l=+r;return 1===n&&0===a?e:2===n&&0===a?t:0===a&&(l<0||10<l)&&l%10==0?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 0===t&&n%10==1&&n%100!=11||0!==t?e:o},function(r){var n=+r;return 1===n?e:2===n?t:o},function(r){var t=+r;return 0===t?n:1===t?e:o},function(r){var t=Math.floor(Math.abs(+r)),a=+r;return 0===a?n:0!==t&&1!==t||0===a?o:e},function(r){var n=+(r+".").split(".")[1],t=+r;return t%10==1&&(t%100<11||19<t%100)?e:2<=t%10&&t%10<=9&&(t%100<11||19<t%100)?a:0!==n?i:o},function(r){var t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1],i=+r;return i%10==0||11<=i%100&&i%100<=19||2===t&&11<=a%100&&a%100<=19?n:i%10==1&&i%100!=11||2===t&&a%10==1&&a%100!=11||2!==t&&a%10==1?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===t&&n%10==1&&n%100!=11||a%10==1&&a%100!=11?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length,i=+r;return 1===n&&0===t?e:0!==t||0===i||1!==i&&1<=i%100&&i%100<=19?a:o},function(r){var n=+r;return 1===n?e:0===n||2<=n%100&&n%100<=10?a:11<=n%100&&n%100<=19?i:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 1===n&&0===t?e:0===t&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:0===t&&1!==n&&0<=n%10&&n%10<=1||0===t&&5<=n%10&&n%10<=9||0===t&&12<=n%100&&n%100<=14?i:o},function(r){var n=Math.floor(Math.abs(+r));return 0<=n&&n<=1?e:o},function(r){var n=Math.floor(Math.abs(+r)),t=(r+".").split(".")[1].length;return 0===t&&n%10==1&&n%100!=11?e:0===t&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:0===t&&n%10==0||0===t&&5<=n%10&&n%10<=9||0===t&&11<=n%100&&n%100<=14?i:o},function(r){var n=+r;return 0===Math.floor(Math.abs(+r))||1===n?e:2<=n&&n<=10?a:o},function(r){var n=Math.floor(Math.abs(+r)),t=+(r+".").split(".")[1],a=+r;return 0===a||1===a||0===n&&1===t?e:o},function(r){var n=Math.floor(Math.abs(+r)),i=(r+".").split(".")[1].length;return 0===i&&n%100==1?e:0===i&&n%100==2?t:0===i&&3<=n%100&&n%100<=4||0!==i?a:o},function(r){var n=+r;return 0<=n&&n<=1||11<=n&&n<=99?e:o},function(r){var n=+r;return 1===n||5===n||7===n||8===n||9===n||10===n?e:2===n||3===n?t:4===n?a:6===n?i:o},function(r){var n=Math.floor(Math.abs(+r));return n%10==1||n%10==2||n%10==5||n%10==7||n%10==8||n%100==20||n%100==50||n%100==70||n%100==80?e:n%10==3||n%10==4||n%1e3==100||n%1e3==200||n%1e3==300||n%1e3==400||n%1e3==500||n%1e3==600||n%1e3==700||n%1e3==800||n%1e3==900?a:0===n||n%10==6||n%100==40||n%100==60||n%100==90?i:o},function(r){var n=+r;return n%10!=2&&n%10!=3||n%100==12||n%100==13?o:a},function(r){var n=+r;return 1===n||3===n?e:2===n?t:4===n?a:o},function(r){var l=+r;return 0===l||7===l||8===l||9===l?n:1===l?e:2===l?t:3===l||4===l?a:5===l||6===l?i:o},function(r){var n=+r;return n%10==1&&n%100!=11?e:n%10==2&&n%100!=12?t:n%10==3&&n%100!=13?a:o},function(r){var n=+r;return 1===n||11===n?e:2===n||12===n?t:3===n||13===n?a:o},function(r){var n=+r;return 1===n?e:2===n||3===n?t:4===n?a:6===n?i:o},function(r){var n=+r;return 1===n||5===n?e:o},function(r){var n=+r;return 11===n||8===n||80===n||800===n?i:o},function(r){var n=Math.floor(Math.abs(+r));return 1===n?e:0===n||2<=n%100&&n%100<=20||n%100==40||n%100==60||n%100==80?i:o},function(r){var n=+r;return n%10==6||n%10==9||n%10==0&&0!==n?i:o},function(r){var n=Math.floor(Math.abs(+r));return n%10==1&&n%100!=11?e:n%10==2&&n%100!=12?t:n%10!=7&&n%10!=8||n%100==17||n%100==18?o:i},function(r){var n=+r;return 1===n?e:2===n||3===n?t:4===n?a:o},function(r){var n=+r;return 1<=n&&n<=4?e:o},function(r){var n=+r;return 1===n||5===n||7<=n&&n<=9?e:2===n||3===n?t:4===n?a:6===n?i:o},function(r){var n=+r;return 1===n?e:n%10==4&&n%100!=14?i:o},function(r){var n=+r;return n%10!=1&&n%10!=2||n%100==11||n%100==12?o:e},function(r){var n=+r;return n%10==6||n%10==9||10===n?a:o},function(r){var n=+r;return n%10==3&&n%100!=13?a:o}];r.exports={af:{cardinal:l[0]},ak:{cardinal:l[1]},am:{cardinal:l[2]},ar:{cardinal:l[3]},ars:{cardinal:l[3]},as:{cardinal:l[2],ordinal:l[34]},asa:{cardinal:l[0]},ast:{cardinal:l[4]},az:{cardinal:l[0],ordinal:l[35]},be:{cardinal:l[5],ordinal:l[36]},bem:{cardinal:l[0]},bez:{cardinal:l[0]},bg:{cardinal:l[0]},bh:{cardinal:l[1]},bn:{cardinal:l[2],ordinal:l[34]},br:{cardinal:l[6]},brx:{cardinal:l[0]},bs:{cardinal:l[7]},ca:{cardinal:l[4],ordinal:l[37]},ce:{cardinal:l[0]},cgg:{cardinal:l[0]},chr:{cardinal:l[0]},ckb:{cardinal:l[0]},cs:{cardinal:l[8]},cy:{cardinal:l[9],ordinal:l[38]},da:{cardinal:l[10]},de:{cardinal:l[4]},dsb:{cardinal:l[11]},dv:{cardinal:l[0]},ee:{cardinal:l[0]},el:{cardinal:l[0]},en:{cardinal:l[4],ordinal:l[39]},eo:{cardinal:l[0]},es:{cardinal:l[0]},et:{cardinal:l[4]},eu:{cardinal:l[0]},fa:{cardinal:l[2]},ff:{cardinal:l[12]},fi:{cardinal:l[4]},fil:{cardinal:l[13],ordinal:l[0]},fo:{cardinal:l[0]},fr:{cardinal:l[12],ordinal:l[0]},fur:{cardinal:l[0]},fy:{cardinal:l[4]},ga:{cardinal:l[14],ordinal:l[0]},gd:{cardinal:l[15],ordinal:l[40]},gl:{cardinal:l[4]},gsw:{cardinal:l[0]},gu:{cardinal:l[2],ordinal:l[41]},guw:{cardinal:l[1]},gv:{cardinal:l[16]},ha:{cardinal:l[0]},haw:{cardinal:l[0]},he:{cardinal:l[17]},hi:{cardinal:l[2],ordinal:l[41]},hr:{cardinal:l[7]},hsb:{cardinal:l[11]},hu:{cardinal:l[0],ordinal:l[42]},hy:{cardinal:l[12],ordinal:l[0]},ia:{cardinal:l[4]},io:{cardinal:l[4]},is:{cardinal:l[18]},it:{cardinal:l[4],ordinal:l[43]},iu:{cardinal:l[19]},iw:{cardinal:l[17]},jgo:{cardinal:l[0]},ji:{cardinal:l[4]},jmc:{cardinal:l[0]},ka:{cardinal:l[0],ordinal:l[44]},kab:{cardinal:l[12]},kaj:{cardinal:l[0]},kcg:{cardinal:l[0]},kk:{cardinal:l[0],ordinal:l[45]},kkj:{cardinal:l[0]},kl:{cardinal:l[0]},kn:{cardinal:l[2]},ks:{cardinal:l[0]},ksb:{cardinal:l[0]},ksh:{cardinal:l[20]},ku:{cardinal:l[0]},kw:{cardinal:l[19]},ky:{cardinal:l[0]},lag:{cardinal:l[21]},lb:{cardinal:l[0]},lg:{cardinal:l[0]},ln:{cardinal:l[1]},lt:{cardinal:l[22]},lv:{cardinal:l[23]},mas:{cardinal:l[0]},mg:{cardinal:l[1]},mgo:{cardinal:l[0]},mk:{cardinal:l[24],ordinal:l[46]},ml:{cardinal:l[0]},mn:{cardinal:l[0]},mo:{cardinal:l[25],ordinal:l[0]},mr:{cardinal:l[2],ordinal:l[47]},mt:{cardinal:l[26]},nah:{cardinal:l[0]},naq:{cardinal:l[19]},nb:{cardinal:l[0]},nd:{cardinal:l[0]},ne:{cardinal:l[0],ordinal:l[48]},nl:{cardinal:l[4]},nn:{cardinal:l[0]},nnh:{cardinal:l[0]},no:{cardinal:l[0]},nr:{cardinal:l[0]},nso:{cardinal:l[1]},ny:{cardinal:l[0]},nyn:{cardinal:l[0]},om:{cardinal:l[0]},or:{cardinal:l[0],ordinal:l[49]},os:{cardinal:l[0]},pa:{cardinal:l[1]},pap:{cardinal:l[0]},pl:{cardinal:l[27]},prg:{cardinal:l[23]},ps:{cardinal:l[0]},pt:{cardinal:l[28]},"pt-PT":{cardinal:l[4]},rm:{cardinal:l[0]},ro:{cardinal:l[25],ordinal:l[0]},rof:{cardinal:l[0]},ru:{cardinal:l[29]},rwk:{cardinal:l[0]},saq:{cardinal:l[0]},sc:{cardinal:l[4],ordinal:l[43]},scn:{cardinal:l[4],ordinal:l[43]},sd:{cardinal:l[0]},sdh:{cardinal:l[0]},se:{cardinal:l[19]},seh:{cardinal:l[0]},sh:{cardinal:l[7]},shi:{cardinal:l[30]},si:{cardinal:l[31]},sk:{cardinal:l[8]},sl:{cardinal:l[32]},sma:{cardinal:l[19]},smi:{cardinal:l[19]},smj:{cardinal:l[19]},smn:{cardinal:l[19]},sms:{cardinal:l[19]},sn:{cardinal:l[0]},so:{cardinal:l[0]},sq:{cardinal:l[0],ordinal:l[50]},sr:{cardinal:l[7]},ss:{cardinal:l[0]},ssy:{cardinal:l[0]},st:{cardinal:l[0]},sv:{cardinal:l[4],ordinal:l[51]},sw:{cardinal:l[4]},syr:{cardinal:l[0]},ta:{cardinal:l[0]},te:{cardinal:l[0]},teo:{cardinal:l[0]},ti:{cardinal:l[1]},tig:{cardinal:l[0]},tk:{cardinal:l[0],ordinal:l[52]},tl:{cardinal:l[13],ordinal:l[0]},tn:{cardinal:l[0]},tr:{cardinal:l[0]},ts:{cardinal:l[0]},tzm:{cardinal:l[33]},ug:{cardinal:l[0]},uk:{cardinal:l[29],ordinal:l[53]},ur:{cardinal:l[4]},uz:{cardinal:l[0]},ve:{cardinal:l[0]},vo:{cardinal:l[0]},vun:{cardinal:l[0]},wa:{cardinal:l[1]},wae:{cardinal:l[0]},xh:{cardinal:l[0]},xog:{cardinal:l[0]},yi:{cardinal:l[4]},zu:{cardinal:l[2]},lo:{ordinal:l[0]},ms:{ordinal:l[0]},vi:{ordinal:l[0]}}},700:(r,n)=>{"use strict";var e="{",t="}",a=",",i="#",o="<",l=">",c="</",u="/>",s="\'",f="offset:",d=["number","date","time","ordinal","duration","spellout"],h=["plural","select","selectordinal"];function p(r,n){var e=r.pattern,a=e.length,i=[],o=r.index,l=m(r,n);for(l&&i.push(l),l&&r.tokens&&r.tokens.push(["text",e.slice(o,r.index)]);r.index<a;){if(e[r.index]===t){if(!n)throw S(r);break}if(n&&r.tagsType&&e.slice(r.index,r.index+c.length)===c)break;i.push(b(r)),o=r.index,(l=m(r,n))&&i.push(l),l&&r.tokens&&r.tokens.push(["text",e.slice(o,r.index)])}return i}function m(r,n){for(var a=r.pattern,l=a.length,c="plural"===n||"selectordinal"===n,u=!!r.tagsType,f="{style}"===n,d="";r.index<l;){var h=a[r.index];if(h===e||h===t||c&&h===i||u&&h===o||f&&y(h.charCodeAt(0)))break;if(h===s)if((h=a[++r.index])===s)d+=h,++r.index;else if(h===e||h===t||c&&h===i||u&&h===o||f)for(d+=h;++r.index<l;)if((h=a[r.index])===s&&a[r.index+1]===s)d+=s,++r.index;else{if(h===s){++r.index;break}d+=h}else d+=s;else d+=h,++r.index}return d}function y(r){return r>=9&&r<=13||32===r||133===r||160===r||6158===r||r>=8192&&r<=8205||8232===r||8233===r||8239===r||8287===r||8288===r||12288===r||65279===r}function v(r){for(var n=r.pattern,e=n.length,t=r.index;r.index<e&&y(n.charCodeAt(r.index));)++r.index;t<r.index&&r.tokens&&r.tokens.push(["space",r.pattern.slice(t,r.index)])}function b(r){var n=r.pattern;if(n[r.index]===i)return r.tokens&&r.tokens.push(["syntax",i]),++r.index,[i];var s=function(r){var n=r.tagsType;if(n&&r.pattern[r.index]===o){if(r.pattern.slice(r.index,r.index+c.length)===c)throw S(r,null,"closing tag without matching opening tag");r.tokens&&r.tokens.push(["syntax",o]),++r.index;var e=g(r,!0);if(!e)throw S(r,"placeholder id");if(r.tokens&&r.tokens.push(["id",e]),v(r),r.pattern.slice(r.index,r.index+u.length)===u)return r.tokens&&r.tokens.push(["syntax",u]),r.index+=u.length,[e,n];if(r.pattern[r.index]!==l)throw S(r,l);r.tokens&&r.tokens.push(["syntax",l]),++r.index;var t=p(r,n),a=r.index;if(r.pattern.slice(r.index,r.index+c.length)!==c)throw S(r,c+e+l);r.tokens&&r.tokens.push(["syntax",c]),r.index+=c.length;var i=g(r,!0);if(i&&r.tokens&&r.tokens.push(["id",i]),e!==i)throw r.index=a,S(r,c+e+l,c+i+l);if(v(r),r.pattern[r.index]!==l)throw S(r,l);return r.tokens&&r.tokens.push(["syntax",l]),++r.index,[e,n,{children:t}]}}(r);if(s)return s;if(n[r.index]!==e)throw S(r,e);r.tokens&&r.tokens.push(["syntax",e]),++r.index,v(r);var h=g(r);if(!h)throw S(r,"placeholder id");r.tokens&&r.tokens.push(["id",h]),v(r);var m=n[r.index];if(m===t)return r.tokens&&r.tokens.push(["syntax",t]),++r.index,[h];if(m!==a)throw S(r,a+" or "+t);r.tokens&&r.tokens.push(["syntax",a]),++r.index,v(r);var y,b=g(r);if(!b)throw S(r,"placeholder type");if(r.tokens&&r.tokens.push(["type",b]),v(r),(m=n[r.index])===t){if(r.tokens&&r.tokens.push(["syntax",t]),"plural"===b||"selectordinal"===b||"select"===b)throw S(r,b+" sub-messages");return++r.index,[h,b]}if(m!==a)throw S(r,a+" or "+t);if(r.tokens&&r.tokens.push(["syntax",a]),++r.index,v(r),"plural"===b||"selectordinal"===b){var w=function(r){var n,e=r.pattern,t=e.length,a=0;if(e.slice(r.index,r.index+f.length)===f){r.tokens&&r.tokens.push(["offset","offset"],["syntax",":"]),r.index+=f.length,v(r);for(var i=r.index;r.index<t&&((n=e.charCodeAt(r.index))>=48&&n<=57);)++r.index;if(i===r.index)throw S(r,"offset number");r.tokens&&r.tokens.push(["number",e.slice(i,r.index)]),a=+e.slice(i,r.index)}return a}(r);v(r),y=[h,b,w,k(r,b)]}else if("select"===b)y=[h,b,k(r,b)];else if(d.indexOf(b)>=0)y=[h,b,x(r)];else{var M=r.index,O=x(r);v(r),n[r.index]===e&&(r.index=M,O=k(r,b)),y=[h,b,O]}if(v(r),n[r.index]!==t)throw S(r,t);return r.tokens&&r.tokens.push(["syntax",t]),++r.index,y}function g(r,n){for(var c=r.pattern,u=c.length,f="";r.index<u;){var d=c[r.index];if(d===e||d===t||d===a||d===i||d===s||y(d.charCodeAt(0))||n&&(d===o||d===l||"/"===d))break;f+=d,++r.index}return f}function x(r){var n=r.index,e=m(r,"{style}");if(!e)throw S(r,"placeholder style name");return r.tokens&&r.tokens.push(["style",r.pattern.slice(n,r.index)]),e}function k(r,n){for(var e=r.pattern,a=e.length,i={};r.index<a&&e[r.index]!==t;){var o=g(r);if(!o)throw S(r,"sub-message selector");r.tokens&&r.tokens.push(["selector",o]),v(r),i[o]=w(r,n),v(r)}if(!i.other&&h.indexOf(n)>=0)throw S(r,null,null,\'"other" sub-message must be specified in \'+n);return i}function w(r,n){if(r.pattern[r.index]!==e)throw S(r,e+" to start sub-message");r.tokens&&r.tokens.push(["syntax",e]),++r.index;var a=p(r,n);if(r.pattern[r.index]!==t)throw S(r,t+" to end sub-message");return r.tokens&&r.tokens.push(["syntax",t]),++r.index,a}function S(r,n,e,t){var a=r.pattern,i=a.slice(0,r.index).split(/\\r?\\n/),o=r.index,l=i.length,c=i.slice(-1)[0].length;return e=e||(r.index>=a.length?"end of message pattern":g(r)||a[r.index]),t||(t=function(r,n){return r?"Expected "+r+" but found "+n:"Unexpected "+n+" found"}(n,e)),new M(t+=" in "+a.replace(/\\r?\\n/g,"\\n"),n,e,o,l,c)}function M(r,n,e,t,a,i){Error.call(this,r),this.name="SyntaxError",this.message=r,this.expected=n,this.found=e,this.offset=t,this.line=a,this.column=i}n=r.exports=function(r,n){return p({pattern:String(r),index:0,tagsType:n&&n.tagsType||null,tokens:n&&n.tokens||null},"")},M.prototype=Object.create(Error.prototype),n.SyntaxError=M},831:(r,n,e)=>{"use strict";var t=e(700),a=e(146),i=e(567),o=e(962),l=e(28);function c(r,n){return Object.keys(n).forEach((function(e){r[e]=n[e]})),r}r.exports=function r(){var n=c({},l),e="en",u={},s=function(r){return r},f=null,d="warning",h={};function p(r,n,i){var o="string"==typeof r?r:r.default,l=v(o,"object"==typeof r&&r.id||s(o),i||e);return(l.format||(l.format=a(t(l.message),i||e,h)))(n)}p.rich=function(r,n,i){var o="string"==typeof r?r:r.default,l=v(o,"object"==typeof r&&r.id||s(o),i||e);return(l.toParts||(l.toParts=a.toParts(t(l.message,{tagsType:m}),i||e,h)))(n)};var m="<>";function y(r,n){var e=r[2];return function(r,n){var t="object"==typeof e?function(r,n){return Object.keys(r).reduce((function(e,t){return e[t]=r[t](n),e}),{})}(e,n):e;return"function"==typeof r?r(t):r}}function v(r,n,e){var t=o(e,u)||"en",a=u[t]||(u[t]={}),i=a[n];if("string"==typeof i&&(i=a[n]={message:i}),!i){var l=\'Translation for "\'+n+\'" in "\'+t+\'" is missing\';if("warning"===d)"undefined"!=typeof console&&console.warn(l);else if("ignore"!==d)throw new Error(l);var c="function"==typeof f?f(r,n,t)||r:f||r;i=a[n]={message:c}}return i}function b(r,n,t,a,l){"object"==typeof t&&"object"!=typeof a&&(l=a,a=t,t=0);var c=o(l||e,i),u=c&&i[c][r]||g;return a["="+ +n]||a[u(n-t)]||a.other}function g(){return"other"}return h[m]=y,p.setup=function(r){return(r=r||{}).locale&&(e=r.locale),"translations"in r&&(u=r.translations||{}),r.generateId&&(s=r.generateId),"missingReplacement"in r&&(f=r.missingReplacement),r.missingTranslation&&(d=r.missingTranslation),r.formats&&(r.formats.number&&c(n.number,r.formats.number),r.formats.date&&c(n.date,r.formats.date),r.formats.time&&c(n.time,r.formats.time)),r.types&&((h=r.types)[m]=y),{locale:e,translations:u,generateId:s,missingReplacement:f,missingTranslation:d,formats:n,types:h}},p.number=function(r,t,a){var i=t&&n.number[t]||n.parseNumberPattern(t)||n.number.default;return new Intl.NumberFormat(a||e,i).format(r)},p.date=function(r,t,a){var i=t&&n.date[t]||n.parseDatePattern(t)||n.date.default;return new Intl.DateTimeFormat(a||e,i).format(r)},p.time=function(r,t,a){var i=t&&n.time[t]||n.parseDatePattern(t)||n.time.default;return new Intl.DateTimeFormat(a||e,i).format(r)},p.select=function(r,n){return n[r]||n.other},p.custom=function(r,n,e,t){return r[1]in h?h[r[1]](r,n)(e,t):e},p.plural=b.bind(null,"cardinal"),p.selectordinal=b.bind(null,"ordinal"),p.namespace=r,p}()},962:r=>{r.exports=function(r,n){if("string"==typeof r&&n[r])return r;for(var e=[].concat(r||[]),t=0,a=e.length;t<a;++t)for(var i=e[t].split("-");i.length;){var o=i.join("-");if(n[o])return o;i.pop()}}}},n={};function e(t){var a=n[t];if(void 0!==a)return a.exports;var i=n[t]={exports:{}};return r[t](i,i.exports,e),i.exports}e.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return e.d(n,{a:n}),n},e.d=(r,n)=>{for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},e.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),(()=>{"use strict";var r=function(r){return r.ANGLE="angle",r.BOOLEAN="Boolean",r.COLOR="color",r.NUMBER="number",r.STRING="string",r.MATRIX="matrix",r.NOTE="note",r.IMAGE="image",r}(r||{}),n=function(r){return r.BOOLEAN="Boolean",r.BUTTON="button",r.COMMAND="command",r.CONDITIONAL="conditional",r.EVENT="event",r.HAT="hat",r.LOOP="loop",r.REPORTER="reporter",r.Lambda="Lambda",r}(n||{}),t=function(r){return r.GLOBAL="global",r.TARGET="target",r}(t||{}),a=function(r){return r.SPRITE="sprite",r.STAGE="stage",r}(a||{});function i(r){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i(r)}function o(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,(void 0,a=function(r,n){if("object"!==i(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!==i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t.key),"symbol"===i(a)?a:String(a)),t)}var a}const l=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}var n,e;return n=r,e=[{key:"RGB_BLACK",get:function(){return{r:0,g:0,b:0}}},{key:"RGB_WHITE",get:function(){return{r:255,g:255,b:255}}},{key:"decimalToHex",value:function(r){r<0&&(r+=16777216);var n=Number(r).toString(16);return"#".concat("000000".substr(0,6-n.length)).concat(n)}},{key:"decimalToRgb",value:function(r){var n=r>>24&255;return{r:r>>16&255,g:r>>8&255,b:255&r,a:n>0?n:255}}},{key:"hexToRgb",value:function(r){r.startsWith("#")&&(r=r.substring(1));var n=parseInt(r,16);if(isNaN(n))return null;if(6===r.length)return{r:n>>16&255,g:n>>8&255,b:255&n};if(3===r.length){var e=n>>8&15,t=n>>4&15,a=15&n;return{r:e<<4|e,g:t<<4|t,b:a<<4|a}}return null}},{key:"rgbToHex",value:function(n){return r.decimalToHex(r.rgbToDecimal(n))}},{key:"rgbToDecimal",value:function(r){if(null===r)throw new Error("rgb must be an RGBObject");return(r.r<<16)+(r.g<<8)+r.b}},{key:"hexToDecimal",value:function(n){return r.rgbToDecimal(r.hexToRgb(n))}},{key:"hsvToRgb",value:function(r){var n=r.h%360;n<0&&(n+=360);var e,t,a,i=Math.max(0,Math.min(r.s,1)),o=Math.max(0,Math.min(r.v,1)),l=Math.floor(n/60),c=n/60-l,u=o*(1-i),s=o*(1-i*c),f=o*(1-i*(1-c));switch(l){default:case 0:e=o,t=f,a=u;break;case 1:e=s,t=o,a=u;break;case 2:e=u,t=o,a=f;break;case 3:e=u,t=s,a=o;break;case 4:e=f,t=u,a=o;break;case 5:e=o,t=u,a=s}return{r:Math.floor(255*e),g:Math.floor(255*t),b:Math.floor(255*a)}}},{key:"rgbToHsv",value:function(r){var n=r.r/255,e=r.g/255,t=r.b/255,a=Math.min(Math.min(n,e),t),i=Math.max(Math.max(n,e),t),o=0,l=0;return a!==i&&(o=60*((n===a?3:e===a?5:1)-(n===a?e-t:e===a?t-n:n-e)/(i-a))%360,l=(i-a)/i),{h:o,s:l,v:i}}},{key:"mixRgb",value:function(r,n,e){if(e<=0)return r;if(e>=1)return n;var t=1-e;return{r:t*r.r+e*n.r,g:t*r.g+e*n.g,b:t*r.b+e*n.b}}}],null&&o(n.prototype,null),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),r}();function c(r){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c(r)}function u(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,(void 0,a=function(r,n){if("object"!==c(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!==c(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t.key),"symbol"===c(a)?a:String(a)),t)}var a}var s=function(r){if("string"!=typeof r)return!1;for(var n=0;n<r.length;n++){var e=r.charCodeAt(n);if(48===e||9===e)return!1}return!0},f=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}var n,e;return n=r,e=[{key:"toNumber",value:function(r){if("number"==typeof r)return Number.isNaN(r)?0:r;var n=Number(r);return Number.isNaN(n)?0:n}},{key:"toBoolean",value:function(r){return"boolean"==typeof r?r:"string"==typeof r?""!==r&&"0"!==r&&"false"!==r.toLowerCase():Boolean(r)}},{key:"toString",value:function(r){return String(r)}},{key:"toRgbColorList",value:function(n){var e=r.toRgbColorObject(n);return[e.r,e.g,e.b]}},{key:"toRgbColorObject",value:function(n){var e;return"string"==typeof n&&"#"===n.substring(0,1)?(e=l.hexToRgb(n))||(e={r:0,g:0,b:0,a:255}):e=l.decimalToRgb(r.toNumber(n)),e}},{key:"isWhiteSpace",value:function(r){return null===r||"string"==typeof r&&0===r.trim().length}},{key:"compare",value:function(r,n){var e=Number(r),t=Number(n);if(0===e&&s(r)?e=NaN:0===t&&s(n)&&(t=NaN),isNaN(e)||isNaN(t)){var a=String(r).toLowerCase(),i=String(n).toLowerCase();return a<i?-1:a>i?1:0}return e===1/0&&t===1/0||e===-1/0&&t===-1/0?0:e-t}},{key:"isInt",value:function(r){return"number"==typeof r?!!isNaN(r)||r===Math.floor(r):"boolean"==typeof r||"string"==typeof r&&r.indexOf(".")<0}},{key:"LIST_INVALID",get:function(){return"INVALID"}},{key:"LIST_ALL",get:function(){return"ALL"}},{key:"toListIndex",value:function(n,e,t){if("number"!=typeof n){if("all"===n)return t?r.LIST_ALL:r.LIST_INVALID;if("last"===n)return e>0?e:r.LIST_INVALID;if("random"===n||"any"===n)return e>0?1+Math.floor(Math.random()*e):r.LIST_INVALID}return(n=Math.floor(r.toNumber(n)))<1||n>e?r.LIST_INVALID:n}}],null&&u(n.prototype,null),e&&u(n,e),Object.defineProperty(n,"prototype",{writable:!1}),r}(),d=e(831),h=e.n(d);function p(r){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},p(r)}function m(r){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m(r)}function y(r,n){if(r){if("string"==typeof r)return v(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(r,n):void 0}}function v(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function b(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,x(t.key),t)}}function g(r,n,e){return(n=x(n))in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function x(r){var n=function(r,n){if("object"!==m(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!==m(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===m(n)?n:String(n)}function k(r){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k(r)}function w(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,j(t.key),t)}}function S(r,n){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},S(r,n)}function M(r){if(void 0===r)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return r}function O(r){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O(r)}function j(r){var n=function(r,n){if("object"!==k(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!==k(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===k(n)?n:String(n)}var T=new(function(r){!function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&S(r,n)}(o,r);var n,e,t,a,i=(t=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}(),function(){var r,n=O(t);if(a){var e=O(this).constructor;r=Reflect.construct(n,arguments,e)}else r=n.apply(this,arguments);return function(r,n){if(n&&("object"===k(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return M(r)}(this,r)});function o(){var r,n,e,t;return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),n=M(r=i.call(this)),t={},(e=j(e="services"))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,r._connectionPromise=new Promise((function(n){r._onConnect=n})),r._onMessage=r._onMessage.bind(M(r),self),"undefined"!=typeof self&&(self.onmessage=r._onMessage),r}return n=o,(e=[{key:"waitForConnection",get:function(){return this._connectionPromise}},{key:"setService",value:function(r,n){var e=this;return this.services.hasOwnProperty(r)&&console.warn("Worker dispatch replacing existing service provider for ".concat(r)),this.services[r]=n,this.waitForConnection.then((function(){return e._remoteCall(self,"dispatch","setService",r)}))}},{key:"_getServiceProvider",value:function(r){var n=this.services[r];return{provider:n||self,isRemote:!n}}},{key:"_onDispatchMessage",value:function(r,n){var e;switch(n.method){case"handshake":e=this._onConnect();break;case"terminate":setTimeout((function(){return self.close()}),0),e=Promise.resolve();break;default:console.error("Worker dispatch received message for unknown method: ".concat(n.method))}return e}}])&&w(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),o}(function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),g(this,"callbacks",[]),g(this,"nextResponseId",0)}var n,e;return n=r,e=[{key:"call",value:function(r,n){for(var e=arguments.length,t=new Array(e>2?e-2:0),a=2;a<e;a++)t[a-2]=arguments[a];return this.transferCall.apply(this,[r,n,null].concat(t))}},{key:"transferCall",value:function(r,n,e){try{var t=this._getServiceProvider(r),a=t.provider,i=t.isRemote;if(a){for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];if(i)return this._remoteTransferCall.apply(this,[a,r,n,e].concat(l));var u=a[n].apply(a,l);return Promise.resolve(u)}return Promise.reject(new Error("Service not found: ".concat(r)))}catch(r){return Promise.reject(r)}}},{key:"_isRemoteService",value:function(r){return this._getServiceProvider(r).isRemote}},{key:"_remoteCall",value:function(r,n,e){for(var t=arguments.length,a=new Array(t>3?t-3:0),i=3;i<t;i++)a[i-3]=arguments[i];return this._remoteTransferCall.apply(this,[r,n,e,null].concat(a))}},{key:"_remoteTransferCall",value:function(r,n,e,t){for(var a=this,i=arguments.length,o=new Array(i>4?i-4:0),l=4;l<i;l++)o[l-4]=arguments[l];return new Promise((function(i,l){var c=a._storeCallbacks(i,l);o&&(o=a._purifyObject(o)),t?r.postMessage({service:n,method:e,responseId:c,args:o},t):r.postMessage({service:n,method:e,responseId:c,args:o})}))}},{key:"_storeCallbacks",value:function(r,n){var e=this.nextResponseId++;return this.callbacks[e]=[r,n],e}},{key:"_deliverResponse",value:function(r,n){try{var e=(i=this.callbacks[r],o=2,function(r){if(Array.isArray(r))return r}(i)||function(r,n){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,i,o,l=[],c=!0,u=!1;try{if(i=(e=e.call(r)).next,0===n){if(Object(e)!==e)return;c=!1}else for(;!(c=(t=i.call(e)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(r){u=!0,a=r}finally{try{if(!c&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(i,o)||y(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],a=e[1];delete this.callbacks[r],n.error?a(n.error):t(n.result)}catch(r){console.error("Dispatch callback failed: ".concat(r))}var i,o}},{key:"_onMessage",value:function(r,n){var e=n.data;e.args=e.args||[];var t,a=void 0;e.service?a="dispatch"===e.service?this._onDispatchMessage(r,e):this.call.apply(this,[e.service,e.method].concat(function(r){if(Array.isArray(r))return v(r)}(t=e.args)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())):void 0===e.responseId?console.error("Dispatch caught malformed message from a worker: ".concat(JSON.stringify(n))):this._deliverResponse(e.responseId,e),a&&(void 0===e.responseId?console.error("Dispatch message missing required response ID: ".concat(JSON.stringify(n))):a.then((function(n){return r.postMessage({responseId:e.responseId,result:n})}),(function(n){return r.postMessage({responseId:e.responseId,error:"".concat(n)})})))}},{key:"_getServiceProvider",value:function(r){throw new Error("Could not get provider for ".concat(r,": _getServiceProvider not implemented"))}},{key:"_onDispatchMessage",value:function(r,n){throw new Error("Unimplemented dispatch message handler cannot handle ".concat(n.method," method"))}},{key:"_purifyObject",value:function(r){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("function"!=typeof r&&"symbol"!==m(r)){if(null!==r&&"object"===m(r)){if(e.has(r))return;if(e.add(r),Array.isArray(r))return r.map((function(r){return n._purifyObject(r,e,t+1)}));var a={};for(var i in r){var o=r[i];a[i]=this._purifyObject(o,e,t+1)}return a}return r}}}],e&&b(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),r}()));function I(r){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},I(r)}function P(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function N(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,E(t.key),t)}}function A(r,n,e){return(n=E(n))in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}function E(r){var n=function(r,n){if("object"!==I(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,"string");if("object"!==I(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===I(n)?n:String(n)}var R,_,D=function(){function r(){var n=this;!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),A(this,"nextExtensionId",0),A(this,"initialRegistrations",[]),A(this,"extensions",[]),A(this,"extensionURL",""),T.waitForConnection.then((function(){T.call("loader","allocateWorker").then((function(r){var e,t,a=(t=2,function(r){if(Array.isArray(r))return r}(e=r)||function(r,n){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,i,o,l=[],c=!0,u=!1;try{if(i=(e=e.call(r)).next,0===n){if(Object(e)!==e)return;c=!1}else for(;!(c=(t=i.call(e)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(r){u=!0,a=r}finally{try{if(!c&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(r,n){if(r){if("string"==typeof r)return P(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?P(r,n):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],o=a[1];n.workerId=i,n.extensionURL=o;try{importScripts(o);var l=n.initialRegistrations;n.initialRegistrations=[],Promise.all(l).then((function(){return T.call("scratchAdapter","onWorkerInit",i)}))}catch(r){T.call("scratchAdapter","onWorkerInit",i,r)}}))})),this.extensions=[]}var n,e;return n=r,(e=[{key:"register",value:function(r){var n=this,e=this.nextExtensionId++;this.extensions.push(r);var t="extension.".concat(this.workerId,".").concat(e),a=T.setService(t,r).then((function(){return T.call("loader","registerExtensionService",n.extensionURL,t)}));return this.initialRegistrations&&this.initialRegistrations.push(a),a}}])&&N(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),r}();globalThis.Scratch=(_={ArgumentType:r,BlockType:n,TargetType:a,ReporterScope:t,Cast:f,extensions:{register:function(){throw new Error("not implemented")},unsandboxed:!1,chibi:!0},translate:function(r){var n=h().namespace(),e=function(r,e){if(r&&"object"===p(r));else{if("string"!=typeof r)throw new Error("unsupported data type in translate()");r={default:r}}return n(r,e)},t=function(r){return"_".concat(r)},a={};return e.setup=function(e){e&&(a=e),n.setup({locale:r?r.getLocale():"undefined"!=typeof navigator?navigator.language:"en",missingTranslation:"ignore",generateId:t,translations:a})},e.setup({}),r&&r.on("LOCALE_CHANGED",(function(){e.setup(null)})),e}(R)},_);var L=new D;globalThis.Scratch.extensions.register=L.register.bind(L)})()})();',"Worker",void 0,t.p+"sandbox.worker.user.js")}function W(r){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W(r)}function H(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(e=o.call(t)).done)&&(l.push(e.value),l.length!==n);c=!0);}catch(r){u=!0,a=r}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(r,n)||V(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(r,n){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=V(r))||n&&r&&"number"==typeof r.length){t&&(r=t);var e=0,a=function(){};return{s:a,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,o=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function V(r,n){if(r){if("string"==typeof r)return Z(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(r,n):void 0}}function Z(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function K(){K=function(){return n};var r,n={},t=Object.prototype,e=t.hasOwnProperty,a=Object.defineProperty||function(r,n,t){r[n]=t.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(r,n,t){return Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[n]}try{u({},"")}catch(r){u=function(r,n,t){return r[n]=t}}function s(r,n,t,e){var o=n&&n.prototype instanceof m?n:m,i=Object.create(o.prototype),l=new _(e||[]);return a(i,"_invoke",{value:M(r,t,l)}),i}function f(r,n,t){try{return{type:"normal",arg:r.call(n,t)}}catch(r){return{type:"throw",arg:r}}}n.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==t&&e.call(k,i)&&(w=k);var S=g.prototype=m.prototype=Object.create(w);function E(r){["next","throw","return"].forEach((function(n){u(r,n,(function(r){return this._invoke(n,r)}))}))}function O(r,n){function t(a,o,i,l){var c=f(r[a],r,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==W(s)&&e.call(s,"__await")?n.resolve(s.__await).then((function(r){t("next",r,i,l)}),(function(r){t("throw",r,i,l)})):n.resolve(s).then((function(r){u.value=r,i(u)}),(function(r){return t("throw",r,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(r,e){function a(){return new n((function(n,a){t(r,e,n,a)}))}return o=o?o.then(a,a):a()}})}function M(n,t,e){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:r,done:!0}}for(e.method=o,e.arg=i;;){var l=e.delegate;if(l){var c=I(l,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(a===d)throw a=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);a=p;var u=f(n,t,e);if("normal"===u.type){if(a=e.done?y:h,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(a=y,e.method="throw",e.arg=u.arg)}}}function I(n,t){var e=t.method,a=n.iterator[e];if(a===r)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=r,I(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),v;var o=f(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(r){var n={tryLoc:r[0]};1 in r&&(n.catchLoc=r[1]),2 in r&&(n.finallyLoc=r[2],n.afterLoc=r[3]),this.tryEntries.push(n)}function L(r){var n=r.completion||{};n.type="normal",delete n.arg,r.completion=n}function _(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(j,this),this.reset(!0)}function T(n){if(n||""===n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(e.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}throw new TypeError(W(n)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,c,"GeneratorFunction"),n.isGeneratorFunction=function(r){var n="function"==typeof r&&r.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,u(r,c,"GeneratorFunction")),r.prototype=Object.create(S),r},n.awrap=function(r){return{__await:r}},E(O.prototype),u(O.prototype,l,(function(){return this})),n.AsyncIterator=O,n.async=function(r,t,e,a,o){void 0===o&&(o=Promise);var i=new O(s(r,t,e,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},E(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),n.keys=function(r){var n=Object(r),t=[];for(var e in n)t.push(e);return t.reverse(),function r(){for(;t.length;){var e=t.pop();if(e in n)return r.value=e,r.done=!1,r}return r.done=!0,r}},n.values=T,_.prototype={constructor:_,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(e,a){return l.type="throw",l.arg=n,t.next=e,a&&(t.method="next",t.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(r,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&e.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(r,n){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&n&&(this.next=n),v},finish:function(r){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===r)return this.complete(t.completion,t.afterLoc),L(t),v}},catch:function(r){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===r){var e=t.completion;if("throw"===e.type){var a=e.arg;L(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:T(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=r),v}},n}function J(r,n,t,e,a,o,i){try{var l=r[o](i),c=l.value}catch(r){return void t(r)}l.done?n(c):Promise.resolve(c).then(e,a)}function $(r){return function(){var n=this,t=arguments;return new Promise((function(e,a){var o=r.apply(n,t);function i(r){J(o,e,a,i,l,"next",r)}function l(r){J(o,e,a,i,l,"throw",r)}i(void 0)}))}}function q(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,X(e.key),e)}}function Y(r,n,t){return(n=X(n))in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function X(r){var n=function(r,n){if("object"!==W(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,"string");if("object"!==W(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===W(n)?n:String(n)}var Q=function(){function r(n){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),Y(this,"nextExtensionWorker",0),Y(this,"pendingExtensions",[]),Y(this,"pendingWorkers",[]),Y(this,"loadedScratchExtension",new Map),this.vm=n,j.setService("loader",this).catch((function(r){(0,e.vU)("ChibiLoader was unable to register extension service: ".concat(JSON.stringify(r)))}))}var n,t,a,o,i,l,c;return n=r,t=[{key:"load",value:(c=$(K().mark((function r(n){var t,e,a,o,i,l,c,u=this,s=arguments;return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=s.length>1&&void 0!==s[1]?s[1]:"sandboxed","string"!=typeof n){r.next=19;break}r.t0=t,r.next="sandboxed"===r.t0?5:"unsandboxed"===r.t0?6:18;break;case 5:return r.abrupt("return",new Promise((function(r,t){var e=new G;u.pendingExtensions.push({extensionURL:n,resolve:r,reject:t}),j.addWorker(e)})));case 6:return r.next=8,fetch(n);case 8:return e=r.sent,r.next=11,e.text();case 11:return a=r.sent,o=new Function("Scratch",a),i=F(this.vm),"Scratch"in window||(window.Scratch=i),i.extensions.register=function(r){var t=r.getInfo();u._registerExtensionInfo(r,t,n)},o(i),r.abrupt("return");case 18:throw new Error("unexpected env");case 19:return l=new n(this.vm.runtime),c=l.getInfo(),this._registerExtensionInfo(l,c,c.id),r.abrupt("return",c);case 23:case"end":return r.stop()}}),r,this)}))),function(r){return c.apply(this,arguments)})},{key:"reload",value:(l=$(K().mark((function r(n){var t,e,a,o;return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=this.loadedScratchExtension.get(n)){r.next=3;break}throw new Error("Cannot locate extension ".concat(n,"."));case 3:if("string"!=typeof t.instance){r.next=10;break}return r.next=6,j.call(t.instance,"getInfo");case 6:return e=r.sent,a=this._prepareExtensionInfo(null,e,t.instance),this.vm.runtime._refreshExtensionPrimitives(a),r.abrupt("return",a);case 10:return o=t.instance.getInfo(),o=this._prepareExtensionInfo(t.instance,o),this.vm.runtime._refreshExtensionPrimitives(o),r.abrupt("return",o);case 14:case"end":return r.stop()}}),r,this)}))),function(r){return l.apply(this,arguments)})},{key:"getIdByUrl",value:function(r){var n,t=z(this.loadedScratchExtension.entries());try{for(t.s();!(n=t.n()).done;){var e=H(n.value,2),a=e[0];if(e[1].url===r)return a}}catch(r){t.e(r)}finally{t.f()}}},{key:"reloadAll",value:function(){var r,n=[],t=z(this.loadedScratchExtension.entries());try{for(t.s();!(r=t.n()).done;){var e=H(r.value,1)[0];n.push(this.reload(e))}}catch(r){t.e(r)}finally{t.f()}return Promise.all(n)}},{key:"_registerExtensionInfo",value:function(r,n,t,e){if(!this.loadedScratchExtension.has(n.id)){if(!r&&!e)throw new Error("Cannnot mark ".concat(n.id," as loaded."));this.loadedScratchExtension.set(n.id,{type:"scratch",id:n.id,url:t,info:n,instance:null!=r?r:e,env:e?"sandboxed":"unsandboxed"})}n=this._prepareExtensionInfo(r,n,e),this.vm.runtime._registerExtensionPrimitives(n)}},{key:"_sanitizeID",value:function(r){return r.toString().replace(/[<"&]/,"_")}},{key:"_prepareExtensionInfo",value:function(r,n,t){var a=this;if(n=Object.assign({},n),!/^[a-z0-9]+$/i.test(n.id))throw new Error("Invalid extension id");return n.name=n.name||n.id,n.blocks=n.blocks||[],n.targetTypes=n.targetTypes||[],n.blocks=n.blocks.reduce((function(n,o){try{var i;i="---"===o?"---":a._prepareBlockInfo(r,o,t),n.push(i)}catch(r){(0,e.vU)("Error processing block: ".concat(r.message,", Block:\n").concat(JSON.stringify(o)))}return n}),[]),n.menus=n.menus||{},n.menus=this._prepareMenuInfo(r,n.menus,t),n}},{key:"_prepareMenuInfo",value:function(r,n,t){for(var e=Object.getOwnPropertyNames(n),a=0;a<e.length;a++){var o=e[a],i=n[o];if(i.items||(i={items:i},n[o]=i),"string"==typeof i.items){var l=i.items;i.items=this._getExtensionMenuItems.bind(this,r,l,t)}}return n}},{key:"_getExtensionMenuItems",value:function(r,n,t){var e=this.vm.runtime.getEditingTarget()||this.vm.runtime.getTargetForStage(),a=e?e.id:null,o=this.vm.runtime.makeMessageContextForTarget(e),i=r[n].call(r,a).map((function(r){switch(W(r=p(r,o))){case"object":return[p(r.text,o),r.value];case"string":return[r,r];default:return r}}));if(!i||i.length<1)throw new Error("Extension menu returned no items: ".concat(n));return i}},{key:"_prepareBlockInfo",value:function(r,n,t){switch((n=Object.assign({},{blockType:u.COMMAND,terminal:!1,blockAllThreads:!1,arguments:{}},n)).opcode=n.opcode&&this._sanitizeID(n.opcode),n.text=n.text||n.opcode,n.blockType){case u.EVENT:n.func&&(0,e.ZK)('Ignoring function "'.concat(n.func,'" for event block ').concat(n.opcode));break;case u.BUTTON:n.opcode&&(0,e.ZK)('Ignoring opcode "'.concat(n.opcode,'" for button with text: ').concat(n.text));break;default:if(!n.opcode)throw new Error("Missing opcode for block");var a=n.func?this._sanitizeID(n.func):n.opcode,o=n.isDynamic?function(r){return r&&r.mutation&&r.mutation.blockInfo}:function(){return n},i=null===r?t&&j._isRemoteService(t)?function(r,n,e){return j.call(t,a,r,void 0,e)}:((0,e.ZK)("Could not find extension block function called ".concat(a)),function(){}):(r[a]||(0,e.ZK)("Could not find extension block function called ".concat(a)),function(n,t,e){return r[a](n,t,e)});n.func=function(r,n){var t=o(r);return i(r,n,t)}}return n}},{key:"updateLocales",value:(i=$(K().mark((function r(){return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.reloadAll();case 2:case"end":return r.stop()}}),r,this)}))),function(){return i.apply(this,arguments)})},{key:"refreshBlocks",value:(o=$(K().mark((function r(){return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.reloadAll();case 2:case"end":return r.stop()}}),r,this)}))),function(){return o.apply(this,arguments)})},{key:"allocateWorker",value:function(){var r=this.pendingExtensions.shift();if(r){var n=this.nextExtensionWorker++;return this.pendingWorkers[n]=r,[n,r.extensionURL]}(0,e.ZK)("pending extension queue is empty")}},{key:"registerExtensionService",value:(a=$(K().mark((function r(n,t){var e;return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.call(t,"getInfo");case 2:e=r.sent,this._registerExtensionInfo(null,e,n,t);case 4:case"end":return r.stop()}}),r,this)}))),function(r,n){return a.apply(this,arguments)})},{key:"onWorkerInit",value:function(r,n){var t=this.pendingWorkers[r];delete this.pendingWorkers[r],n?t.reject(n):t.resolve(r)}}],t&&q(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),r}();function rr(r){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rr(r)}function nr(){nr=function(){return n};var r,n={},t=Object.prototype,e=t.hasOwnProperty,a=Object.defineProperty||function(r,n,t){r[n]=t.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(r,n,t){return Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[n]}try{u({},"")}catch(r){u=function(r,n,t){return r[n]=t}}function s(r,n,t,e){var o=n&&n.prototype instanceof m?n:m,i=Object.create(o.prototype),l=new _(e||[]);return a(i,"_invoke",{value:M(r,t,l)}),i}function f(r,n,t){try{return{type:"normal",arg:r.call(n,t)}}catch(r){return{type:"throw",arg:r}}}n.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==t&&e.call(k,i)&&(w=k);var S=g.prototype=m.prototype=Object.create(w);function E(r){["next","throw","return"].forEach((function(n){u(r,n,(function(r){return this._invoke(n,r)}))}))}function O(r,n){function t(a,o,i,l){var c=f(r[a],r,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==rr(s)&&e.call(s,"__await")?n.resolve(s.__await).then((function(r){t("next",r,i,l)}),(function(r){t("throw",r,i,l)})):n.resolve(s).then((function(r){u.value=r,i(u)}),(function(r){return t("throw",r,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(r,e){function a(){return new n((function(n,a){t(r,e,n,a)}))}return o=o?o.then(a,a):a()}})}function M(n,t,e){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:r,done:!0}}for(e.method=o,e.arg=i;;){var l=e.delegate;if(l){var c=I(l,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(a===d)throw a=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);a=p;var u=f(n,t,e);if("normal"===u.type){if(a=e.done?y:h,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(a=y,e.method="throw",e.arg=u.arg)}}}function I(n,t){var e=t.method,a=n.iterator[e];if(a===r)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=r,I(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),v;var o=f(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(r){var n={tryLoc:r[0]};1 in r&&(n.catchLoc=r[1]),2 in r&&(n.finallyLoc=r[2],n.afterLoc=r[3]),this.tryEntries.push(n)}function L(r){var n=r.completion||{};n.type="normal",delete n.arg,r.completion=n}function _(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(j,this),this.reset(!0)}function T(n){if(n||""===n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(e.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}throw new TypeError(rr(n)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,c,"GeneratorFunction"),n.isGeneratorFunction=function(r){var n="function"==typeof r&&r.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,u(r,c,"GeneratorFunction")),r.prototype=Object.create(S),r},n.awrap=function(r){return{__await:r}},E(O.prototype),u(O.prototype,l,(function(){return this})),n.AsyncIterator=O,n.async=function(r,t,e,a,o){void 0===o&&(o=Promise);var i=new O(s(r,t,e,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},E(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),n.keys=function(r){var n=Object(r),t=[];for(var e in n)t.push(e);return t.reverse(),function r(){for(;t.length;){var e=t.pop();if(e in n)return r.value=e,r.done=!1,r}return r.done=!0,r}},n.values=T,_.prototype={constructor:_,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(e,a){return l.type="throw",l.arg=n,t.next=e,a&&(t.method="next",t.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(r,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&e.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(r,n){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&n&&(this.next=n),v},finish:function(r){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===r)return this.complete(t.completion,t.afterLoc),L(t),v}},catch:function(r){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===r){var e=t.completion;if("throw"===e.type){var a=e.arg;L(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:T(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=r),v}},n}function tr(r,n,t,e,a,o,i){try{var l=r[o](i),c=l.value}catch(r){return void t(r)}l.done?n(c):Promise.resolve(c).then(e,a)}function er(r,n){if(r){if("string"==typeof r)return ar(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ar(r,n):void 0}}function ar(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}var or=null;function ir(){var r,n,t,e=[],a=function(r,n){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=er(r))){t&&(r=t);var e=0,a=function(){};return{s:a,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,o=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}(window.chibi.loader.loadedScratchExtension.entries());try{for(a.s();!(r=a.n()).done;){var o=(n=r.value,t=2,function(r){if(Array.isArray(r))return r}(n)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(e=o.call(t)).done)&&(l.push(e.value),l.length!==n);c=!0);}catch(r){u=!0,a=r}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(n,t)||er(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];e.push({name:i,sandboxed:"sandboxed"===l.env})}}catch(r){a.e(r)}finally{a.f()}return e}function lr(){var r;return r=nr().mark((function r(n){var t,e,a;return nr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("https://chibi.codingclip.cc"===n.origin){r.next=2;break}return r.abrupt("return");case 2:if("type"in n.data){r.next=4;break}return r.abrupt("return");case 4:r.t0=n.data.type,r.next="allocate"===r.t0?7:"load"===r.t0?11:15;break;case 7:return console.log("handshake with frontend"),null===(t=or)||void 0===t||t.postMessage({type:"handshake",clientInfo:{version:Number(window.chibi.version),url:window.location.host}},"*"),null===(e=or)||void 0===e||e.postMessage({type:"extension",extensions:ir()},"*"),r.abrupt("break",15);case 11:return r.next=13,window.chibi.loader.load(n.data.info.url,n.data.info.sandboxed?"sandboxed":"unsandboxed");case 13:return null===(a=or)||void 0===a||a.postMessage({type:"extension",extensions:ir()},"*"),r.abrupt("break",15);case 15:case"end":return r.stop()}}),r)})),lr=function(){var n=this,t=arguments;return new Promise((function(e,a){var o=r.apply(n,t);function i(r){tr(o,e,a,i,l,"next",r)}function l(r){tr(o,e,a,i,l,"throw",r)}i(void 0)}))},lr.apply(this,arguments)}window.addEventListener("message",(function(r){return lr.apply(this,arguments)}));const cr=function(r){or=r("https://chibi.codingclip.cc/#manage","Chibi","popup=yes,status=no,location=no,toolbar=no,menubar=no")},ur=JSON.parse('{"zh-cn":{"chibi.openFrontend":"æå¼é¢æ¿","chibi.sideload":"ä» URL ä¾§è½½æ©å±","chibi.errorIgnored":"å¨å è½½æ©å±æ©å±æ¶åºç°éè¯¯ãä¸ºäºé¿åå è½½è¿ç¨çä¸­æ­ï¼æ­¤éè¯¯å·²è¢«å¿½ç¥ã","chibi.tryLoad":"ð¤¨ é¡¹ç®æ­£ä» {url} å è½½æ©å± {extensionURL}ãè¦å è½½ä¹ï¼","chibi.tryLoadInEnv":"ð¤¨ é¡¹ç®æ­£ä»¥ {env} æ¨¡å¼ä» {url} å è½½æ©å± {extensionURL}ãè¦å è½½ä¹ï¼","chibi.loadInSandbox":"ð¤¨ è¦å¨æ²ç®±æ¨¡å¼ä¸­å è½½æ©å±ä¹ï¼","chibi.enterURL":"ð è¾å¥ URL"},"en":{"chibi.openFrontend":"Open Frontend","chibi.sideload":"Sideload from URL","chibi.errorIgnored":"Error occurred while sideloading extension. To avoid interrupting the loading process, we chose to ignore this error.","chibi.tryLoad":"ð¤¨ Project is trying to sideloading {extensionURL} from {url}. Do you want to load?","chibi.tryLoadInEnv":"ð¤¨ Project is trying to sideloading {extensionURL} from {url} in {env} mode. Do you want to load?","chibi.loadInSandbox":"ð¤¨ Do you want to load it in the sandbox?","chibi.enterURL":"ð Enter URL"},"ja":{"chibi.openFrontend":"ããã·ã¥ãã¼ããéã","chibi.sideload":"URL ããæ¡å¼µæ©è½ãå°å¥","chibi.errorIgnored":"æ¡å¼µæ©è½ã®ãµã¤ãã­ã¼ãä¸­ã§ã¨ã©ã¼ãçºçãã¾ãããã­ã¼ãã®ä¸­æ­ãé²ãããã«ããã®ã¨ã©ã¼ã¯ç¡è¦ãã¾ããã","chibi.tryLoad":"ð¤¨ ãã­ã¸ã§ã¯ãã¯ {url} ãã {extensionURL} ããµã¤ãã­ã¼ããã¦ãã¾ããã­ã¼ããã¾ããï¼","chibi.tryLoadInEnv":"ð¤¨ ãã­ã¸ã§ã¯ãã¯ {env} ã¢ã¼ãã§ã{url} ãã {extensionURL} ããµã¤ãã­ã¼ããã¦ãã¾ããã­ã¼ããã¾ããï¼","chibi.loadInSandbox":"ð¤¨ ãµã³ãããã¯ã¹ç°å¢ã§ã­ã¼ããã¾ããï¼","chibi.enterURL":"ð URL ãå¥åãã¦ãã ããã"}}');var sr=t.t(ur,2);function fr(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(e=o.call(t)).done)&&(l.push(e.value),l.length!==n);c=!0);}catch(r){u=!0,a=r}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(r,n)||vr(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(){dr=function(){return n};var r,n={},t=Object.prototype,e=t.hasOwnProperty,a=Object.defineProperty||function(r,n,t){r[n]=t.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(r,n,t){return Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[n]}try{u({},"")}catch(r){u=function(r,n,t){return r[n]=t}}function s(r,n,t,e){var o=n&&n.prototype instanceof m?n:m,i=Object.create(o.prototype),l=new _(e||[]);return a(i,"_invoke",{value:M(r,t,l)}),i}function f(r,n,t){try{return{type:"normal",arg:r.call(n,t)}}catch(r){return{type:"throw",arg:r}}}n.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function m(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==t&&e.call(k,i)&&(w=k);var S=g.prototype=m.prototype=Object.create(w);function E(r){["next","throw","return"].forEach((function(n){u(r,n,(function(r){return this._invoke(n,r)}))}))}function O(r,n){function t(a,o,i,l){var c=f(r[a],r,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==br(s)&&e.call(s,"__await")?n.resolve(s.__await).then((function(r){t("next",r,i,l)}),(function(r){t("throw",r,i,l)})):n.resolve(s).then((function(r){u.value=r,i(u)}),(function(r){return t("throw",r,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(r,e){function a(){return new n((function(n,a){t(r,e,n,a)}))}return o=o?o.then(a,a):a()}})}function M(n,t,e){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:r,done:!0}}for(e.method=o,e.arg=i;;){var l=e.delegate;if(l){var c=I(l,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(a===d)throw a=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);a=p;var u=f(n,t,e);if("normal"===u.type){if(a=e.done?y:h,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(a=y,e.method="throw",e.arg=u.arg)}}}function I(n,t){var e=t.method,a=n.iterator[e];if(a===r)return t.delegate=null,"throw"===e&&n.iterator.return&&(t.method="return",t.arg=r,I(n,t),"throw"===t.method)||"return"!==e&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+e+"' method")),v;var o=f(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(r){var n={tryLoc:r[0]};1 in r&&(n.catchLoc=r[1]),2 in r&&(n.finallyLoc=r[2],n.afterLoc=r[3]),this.tryEntries.push(n)}function L(r){var n=r.completion||{};n.type="normal",delete n.arg,r.completion=n}function _(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(j,this),this.reset(!0)}function T(n){if(n||""===n){var t=n[i];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(e.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}throw new TypeError(br(n)+" is not iterable")}return b.prototype=g,a(S,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,c,"GeneratorFunction"),n.isGeneratorFunction=function(r){var n="function"==typeof r&&r.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,g):(r.__proto__=g,u(r,c,"GeneratorFunction")),r.prototype=Object.create(S),r},n.awrap=function(r){return{__await:r}},E(O.prototype),u(O.prototype,l,(function(){return this})),n.AsyncIterator=O,n.async=function(r,t,e,a,o){void 0===o&&(o=Promise);var i=new O(s(r,t,e,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(r){return r.done?r.value:i.next()}))},E(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),n.keys=function(r){var n=Object(r),t=[];for(var e in n)t.push(e);return t.reverse(),function r(){for(;t.length;){var e=t.pop();if(e in n)return r.value=e,r.done=!1,r}return r.done=!0,r}},n.values=T,_.prototype={constructor:_,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!n)for(var t in this)"t"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(e,a){return l.type="throw",l.arg=n,t.next=e,a&&(t.method="next",t.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=e.call(i,"catchLoc"),u=e.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(r,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&e.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===r||"continue"===r)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=r,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(r,n){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&n&&(this.next=n),v},finish:function(r){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===r)return this.complete(t.completion,t.afterLoc),L(t),v}},catch:function(r){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===r){var e=t.completion;if("throw"===e.type){var a=e.arg;L(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:T(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=r),v}},n}function hr(r,n,t,e,a,o,i){try{var l=r[o](i),c=l.value}catch(r){return void t(r)}l.done?n(c):Promise.resolve(c).then(e,a)}function pr(r){return function(){var n=this,t=arguments;return new Promise((function(e,a){var o=r.apply(n,t);function i(r){hr(o,e,a,i,l,"next",r)}function l(r){hr(o,e,a,i,l,"throw",r)}i(void 0)}))}}function yr(r,n){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=vr(r))||n&&r&&"number"==typeof r.length){t&&(r=t);var e=0,a=function(){};return{s:a,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,o=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function vr(r,n){if(r){if("string"==typeof r)return mr(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mr(r,n):void 0}}function mr(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function br(r){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},br(r)}var gr=3e4;function wr(r){var n=r.indexOf("_"),t=r.substring(0,n).replace(/[^\w-]/g,"-");if(""!==t)return t}function xr(r){window.chibi={version:"4",registeredExtension:{},settings:l,openFrontend:cr.bind(null,r)},(0,e.cM)("Listening bind function...");var n=Function.prototype.bind;return new Promise((function(r){var t=setTimeout((function(){(0,e.cM)("Cannot find vm instance, stop listening."),Function.prototype.bind=n,r()}),gr);Function.prototype.bind=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return Function.prototype.bind===n?n.apply(this,o):o[0]&&Object.prototype.hasOwnProperty.call(o[0],"editingTarget")&&Object.prototype.hasOwnProperty.call(o[0],"runtime")?((0,e.cM)("VM detected!"),window.chibi.vm=o[0],Function.prototype.bind=n,clearTimeout(t),r(),n.apply(this,o)):n.apply(this,o)}}))}function kr(r){var n=window.chibi.loader=new Q(r),t=r.extensionManager.loadExtensionURL,a=r.getLocale,o=h().namespace();o.setup({locale:a?a.call(r):"en",missingTranslation:"ignore",generateId:function(r){return"".concat(r)},translations:sr}),r.extensionManager.loadExtensionURL=function(){var a=pr(dr().mark((function a(i){var l,c,u,s,f,d,h,p=arguments;return dr().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(l=p.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=p[u];if(!(i in window.chibi.registeredExtension)){a.next=20;break}if(s=window.chibi.registeredExtension[i],f=s.url,d=s.env,a.prev=3,!(d?confirm(o("chibi.tryLoadInEnv",{extensionURL:i,url:f,env:d})):confirm(o("chibi.tryLoadInEnv",{extensionURL:i,url:f})))){a.next=12;break}return a.next=8,n.load(f,d||(confirm(o("chibi.loadInSandbox"))?"sandboxed":"unsandboxed"));case 8:h=n.getIdByUrl(f),r.extensionManager._loadedExtensions.set(h,"Chibi"),a.next=13;break;case 12:return a.abrupt("return",t.call.apply(t,[this,i].concat(c)));case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),(0,e.vU)(o("chibi.errorIgnored"),a.t0);case 18:a.next=21;break;case 20:return a.abrupt("return",t.call.apply(t,[this,i].concat(c)));case 21:case"end":return a.stop()}}),a,this,[[3,15]])})));return function(r){return a.apply(this,arguments)}}();var i=r.extensionManager.refreshBlocks;r.extensionManager.refreshBlocks=pr(dr().mark((function r(){var n,t,e,a,o=arguments;return dr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=o.length,t=new Array(n),e=0;e<n;e++)t[e]=o[e];return r.next=3,i.call.apply(i,[this].concat(t));case 3:return a=r.sent,r.next=6,window.chibi.loader.refreshBlocks();case 6:return r.abrupt("return",a);case 7:case"end":return r.stop()}}),r,this)})));var l=r.toJSON;r.toJSON=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];var a,o=l.call.apply(l,[this,r].concat(t)),i=JSON.parse(o),c={},u={},s=[],f=yr(window.chibi.loader.loadedScratchExtension.entries());try{for(f.s();!(a=f.n()).done;){var d=fr(a.value,2),h=d[0],p=d[1];c[h]=p.url,u[h]=p.env,s.push(h)}}catch(r){f.e(r)}finally{f.f()}if(i.extensionURLs=Object.assign({},i.extensionURLs,c),i.extensionEnvs=Object.assign({},i.extensionEnvs,u),window.chibi.settings.convertProcCall){var y,v=yr(i.targets);try{for(v.s();!(y=v.n()).done;){var m=y.value;for(var b in m.blocks){var g=m.blocks[b];if(g.opcode){var w=wr(g.opcode);w&&s.includes(w)&&("mutation"in g||(g.mutation={}),g.mutation.proccode="[ð Sideload] ".concat(g.opcode),g.mutation.children=[],g.mutation.tagName="mutation",g.opcode="procedures_call")}}}}catch(r){v.e(r)}finally{v.f()}for(var x in i.monitors){var k=i.monitors[x];if(k.opcode){var S=wr(k.opcode);S&&s.includes(S)&&("sideloadMonitors"in i||(i.sideloadMonitors=[]),i.sideloadMonitors.push(k),i.monitors.splice(x,1))}}}return JSON.stringify(i)};var c=r.deserializeProject;r.deserializeProject=function(r){if("object"===br(r.extensionURLs)){for(var n in r.extensionURLs)window.chibi.registeredExtension[n]={url:r.extensionURLs[n],env:"object"===br(r.extensionEnvs)?r.extensionEnvs[n]:"sandboxed"};var t,a,o=yr(r.targets);try{for(o.s();!(t=o.n()).done;){var i=t.value;for(var l in i.blocks){var u=i.blocks[l];if("procedures_call"===u.opcode&&"mutation"in u){if(!u.mutation.proccode.trim().startsWith("[ð Sideload] "))continue;var s=u.mutation.proccode.trim().substring(14),f=wr(s);if(!f){(0,e.ZK)("find a sideload block with an invalid id: ".concat(s,", ignored."));continue}if(!(f in window.chibi.registeredExtension)){(0,e.ZK)("find a sideload block with unregistered extension: ".concat(f,", ignored."));continue}u.opcode=s,delete u.mutation}}}}catch(r){o.e(r)}finally{o.f()}"sideloadMonitors"in r&&((a=r.monitors).push.apply(a,function(r){if(Array.isArray(r))return mr(r)}(d=r.sideloadMonitors)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(d)||vr(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),delete r.sideloadMonitors)}for(var d,h=arguments.length,p=new Array(h>1?h-1:0),y=1;y<h;y++)p[y-1]=arguments[y];return c.call.apply(c,[this,r].concat(p))};var u=r.setLocale;r.setLocale=function(n){o.setup({locale:n,missingTranslation:"ignore",generateId:function(r){return"".concat(r)},translations:sr});for(var t=arguments.length,e=new Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];var i=u.call.apply(u,[this,n].concat(e));return r.emit("LOCALE_CHANGED",n),i};var s=r.runtime._primitives.argument_reporter_boolean;if(r.runtime._primitives.argument_reporter_boolean=function(r){switch(r.VALUE){case"ð§ Chibi Installed?":return(0,e.ZK)("'ð§ Chibi Installed?' is deprecated, use 'ð§ Chibi?' instead."),!0;case"ð§ Chibi?":return!0;default:for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return s.call.apply(s,[this,r].concat(t))}},"object"===br(r.ccExtensionManager)){var f=r.ccExtensionManager.getExtensionLoadOrder;r.ccExtensionManager.getExtensionLoadOrder=function(n){var t,e=yr(n);try{for(e.s();!(t=e.n()).done;){var a=t.value;!r.ccExtensionManager.info.hasOwnProperty(a)&&a in window.chibi.registeredExtension&&(r.ccExtensionManager.info[a]={api:0})}}catch(r){e.e(r)}finally{e.f()}for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return f.call.apply(f,[this,n].concat(i))}}setTimeout((function(){var n=window.chibi.blockly=function(r){var n;function t(r){var n=Function.prototype.apply;Function.prototype.apply=function(r){return r};var t=r();return Function.prototype.apply=n,t}var e=null===(n=r._events)||void 0===n?void 0:n.EXTENSION_ADDED;if(e)if(e instanceof Function){var a=t(e);if(a&&"object"===br(a)&&"ScratchBlocks"in a)return a.ScratchBlocks}else{var o,i=yr(e);try{for(i.s();!(o=i.n()).done;){var l=t(o.value);if(l&&"object"===br(l)&&"ScratchBlocks"in l)return l.ScratchBlocks}}catch(r){i.e(r)}finally{i.f()}}return null}(r);if(!n){var t;(0,e.ZK)("Cannot find real blockly instance, try alternative method...");var a=null===(t=window.Blockly)||void 0===t?void 0:t.getMainWorkspace().toolboxCategoryCallbacks_.PROCEDURE;if(!a)return void(0,e.vU)("alternative method failed, stop injecting");window.Blockly.getMainWorkspace().toolboxCategoryCallbacks_.PROCEDURE=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];var i=a.call.apply(a,[this,r].concat(t)),l=document.createElement("sep");l.setAttribute("gap","36"),i.push(l);var c=document.createElement("label");c.setAttribute("text","ð Chibi"),i.push(c);var u=document.createElement("button");u.setAttribute("text",o("chibi.openFrontend")),u.setAttribute("callbackKey","CHIBI_FRONTEND"),r.registerButtonCallback("CHIBI_FRONTEND",(function(){window.chibi.openFrontend()})),i.push(u);var s=document.createElement("button");s.setAttribute("text",o("chibi.sideload")),s.setAttribute("callbackKey","CHIBI_SIDELOAD_FROM_URL"),r.registerButtonCallback("CHIBI_SIDELOAD_FROM_URL",(function(){var r=prompt(o("chibi.enterURL"));if(r){var n=confirm(o("chibi.loadInSandbox"))?"sandboxed":"unsandboxed";window.chibi.loader.load(r,n)}})),i.push(s);var f=document.createElement("mutation");f.setAttribute("chibi","installed");var d=document.createElement("field");d.setAttribute("name","VALUE"),d.innerHTML="ð§ Chibi?";var h=document.createElement("block");return h.setAttribute("type","argument_reporter_boolean"),h.setAttribute("gap","16"),h.appendChild(d),h.appendChild(f),i.push(h),i};var i=window.Blockly.getMainWorkspace();return i.getToolbox().refreshSelection(),void(i.toolboxRefreshEnabled_=!0)}var l=n.Procedures.addCreateButton_;n.Procedures.addCreateButton_=function(r,n){for(var t=arguments.length,e=new Array(t>2?t-2:0),a=2;a<t;a++)e[a-2]=arguments[a];l.call.apply(l,[this,r,n].concat(e));var i=document.createElement("sep");i.setAttribute("gap","36"),n.push(i);var c=document.createElement("label");c.setAttribute("text","ð Chibi"),n.push(c);var u=document.createElement("button");u.setAttribute("text",o("chibi.openFrontend")),u.setAttribute("callbackKey","CHIBI_FRONTEND"),r.registerButtonCallback("CHIBI_FRONTEND",(function(){window.chibi.openFrontend()})),n.push(u);var s=document.createElement("button");s.setAttribute("text",o("chibi.sideload")),s.setAttribute("callbackKey","CHIBI_SIDELOAD_FROM_URL"),r.registerButtonCallback("CHIBI_SIDELOAD_FROM_URL",(function(){var r=prompt(o("chibi.enterURL"));if(r){var n=confirm(o("chibi.loadInSandbox"))?"sandboxed":"unsandboxed";window.chibi.loader.load(r,n)}})),n.push(s);var f=document.createElement("mutation");f.setAttribute("chibi","installed");var d=document.createElement("field");d.setAttribute("name","VALUE"),d.innerHTML="ð§ Chibi?";var h=document.createElement("block");h.setAttribute("type","argument_reporter_boolean"),h.setAttribute("gap","16"),h.appendChild(d),h.appendChild(f),n.push(h)};var c=n.getMainWorkspace();c.getToolbox().refreshSelection(),c.toolboxRefreshEnabled_=!0}),3e3)}},921:(r,n,t)=>{"use strict";function e(){for(var r,n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];(r=console).log.apply(r,["%cð Chibi"," background-color: #f7c7bb; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(t))}function a(){for(var r,n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];(r=console).warn.apply(r,["%cð¨ Chibi"," background-color: #f7c7bb; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(t))}function o(){for(var r,n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];(r=console).error.apply(r,["%cðµ Chibi"," background-color: #f7c7bb; border-radius: 1rem; margin-right: 0.25rem; padding: 0 0.5rem; color: #271919;"].concat(t))}t.d(n,{ZK:()=>a,cM:()=>e,vU:()=>o})},945:r=>{"use strict";r.exports=function(r,n,t,e){var a=self||window;try{try{var o;try{o=new a.Blob([r])}catch(n){(o=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(r),o=o.getBlob()}var i=a.URL||a.webkitURL,l=i.createObjectURL(o),c=new a[n](l,t);return i.revokeObjectURL(l),c}catch(e){return new a[n]("data:application/javascript,".concat(encodeURIComponent(r)),t)}}catch(r){if(!e)throw Error("Inline worker is not supported");return new a[n](e,t)}}},28:r=>{var n="long",t="short",e="narrow",a="numeric",o="2-digit";r.exports={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:a,day:a,year:o},medium:{month:t,day:a,year:a},long:{month:n,day:a,year:a},full:{month:n,day:a,year:a,weekday:n},default:{month:t,day:a,year:a}},time:{short:{hour:a,minute:a},medium:{hour:a,minute:a,second:a},long:{hour:a,minute:a,second:a,timeZoneName:t},full:{hour:a,minute:a,second:a,timeZoneName:t},default:{hour:a,minute:a,second:a}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(r){if(r){var n={},t=r.match(/\b[A-Z]{3}\b/i),e=r.replace(/[^Â¤]/g,"").length;if(!e&&t&&(e=1),e?(n.style="currency",n.currencyDisplay=1===e?"symbol":2===e?"code":"name",n.currency=t?t[0].toUpperCase():"USD"):r.indexOf("%")>=0&&(n.style="percent"),!/[@#0]/.test(r))return n.style?n:void 0;if(n.useGrouping=r.indexOf(",")>=0,/E\+?[@#0]+/i.test(r)||r.indexOf("@")>=0){var a=r.replace(/E\+?[@#0]+|[^@#0]/gi,"");n.minimumSignificantDigits=Math.min(Math.max(a.replace(/[^@0]/g,"").length,1),21),n.maximumSignificantDigits=Math.min(Math.max(a.length,1),21)}else{for(var o=r.replace(/[^#0.]/g,"").split("."),i=o[0],l=i.length-1;"0"===i[l];)--l;n.minimumIntegerDigits=Math.min(Math.max(i.length-1-l,1),21);var c=o[1]||"";for(l=0;"0"===c[l];)++l;for(n.minimumFractionDigits=Math.min(Math.max(l,0),20);"#"===c[l];)++l;n.maximumFractionDigits=Math.min(Math.max(l,0),20)}return n}},parseDatePattern:function(r){if(r){for(var i={},l=0;l<r.length;){for(var c=r[l],u=1;r[++l]===c;)++u;switch(c){case"G":i.era=5===u?e:4===u?n:t;break;case"y":case"Y":i.year=2===u?o:a;break;case"M":case"L":u=Math.min(Math.max(u-1,0),4),i.month=[a,o,t,n,e][u];break;case"E":case"e":case"c":i.weekday=5===u?e:4===u?n:t;break;case"d":case"D":i.day=2===u?o:a;break;case"h":case"K":i.hour12=!0,i.hour=2===u?o:a;break;case"H":case"k":i.hour12=!1,i.hour=2===u?o:a;break;case"m":i.minute=2===u?o:a;break;case"s":case"S":i.second=2===u?o:a;break;case"z":case"Z":case"v":case"V":i.timeZoneName=1===u?t:n}}return Object.keys(i).length?i:void 0}}}},146:(r,n,t)=>{"use strict";var e=t(28),a=t(962),o=t(567);function i(r,n,t,e,a){var o=r.map((function(r){return function(r,n,t,e,a){if("string"==typeof r){var o=r;return function(){return o}}var c,u=r[0],s=r[1];if(n&&"#"===r[0]){u=n[0];var f=n[2],h=(e.number||d.number)([u,"number"],t);return function(r){return h(l(u,r)-f,r)}}"plural"===s||"selectordinal"===s?(c={},Object.keys(r[3]).forEach((function(n){c[n]=i(r[3][n],r,t,e,a)})),r=[r[0],r[1],r[2],c]):r[2]&&"object"==typeof r[2]&&(c={},Object.keys(r[2]).forEach((function(n){c[n]=i(r[2][n],r,t,e,a)})),r=[r[0],r[1],c]);var p=s&&(e[s]||d[s]);if(p){var y=p(r,t);return function(r){return y(l(u,r),r)}}return a?function(r){return String(l(u,r))}:function(r){return l(u,r)}}(r,n,t,e,a)}));return a?1===o.length?o[0]:function(r){for(var n="",t=0;t<o.length;++t)n+=o[t](r);return n}:function(r){return o.reduce((function(n,t){return n.concat(t(r))}),[])}}function l(r,n){if(n&&r in n)return n[r];for(var t=r.split("."),e=n,a=0,o=t.length;e&&a<o;++a)e=e[t[a]];return e}function c(r,n){var t=r[2],a=e.number[t]||e.parseNumberPattern(t)||e.number.default;return new Intl.NumberFormat(n,a).format}function u(r,n){var t=r[1],a=r[2],o=e[t][a]||e.parseDatePattern(a)||e[t].default;return new Intl.DateTimeFormat(n,o).format}function s(r,n){var t,e="selectordinal"===r[1]?"ordinal":"cardinal",i=r[2],l=r[3];if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(n).length>0)t=new Intl.PluralRules(n,{type:e});else{var c=a(n,o),u=c&&o[c][e]||f;t={select:u}}return function(r,n){return(l["="+ +r]||l[t.select(r-i)]||l.other)(n)}}function f(){return"other"}(n=r.exports=function(r,n,t){return i(r,null,n||"en",t||{},!0)}).toParts=function(r,n,t){return i(r,null,n||"en",t||{},!1)};var d={number:c,ordinal:c,spellout:c,duration:function(r,n){var t=r[2],a=e.duration[t]||e.duration.default,o=new Intl.NumberFormat(n,a.seconds).format,i=new Intl.NumberFormat(n,a.minutes).format,l=new Intl.NumberFormat(n,a.hours).format,c=/^fi$|^fi-|^da/.test(String(n))?".":":";return function(r,n){if(r=+r,!isFinite(r))return o(r);var t=~~(r/60/60),e=~~(r/60%60),a=(t?l(Math.abs(t))+c:"")+i(Math.abs(e))+c+o(Math.abs(r%60));return r<0?l(-1).replace(l(1),a):a}},date:u,time:u,plural:s,selectordinal:s,select:function(r,n){var t=r[2];return function(r,n){return(t[r]||t.other)(n)}}};n.types=d},567:r=>{"use strict";var n="zero",t="one",e="two",a="few",o="many",i="other",l=[function(r){return 1==+r?t:i},function(r){var n=+r;return 0<=n&&n<=1?t:i},function(r){return 0===Math.floor(Math.abs(+r))||1==+r?t:i},function(r){var l=+r;return 0===l?n:1===l?t:2===l?e:3<=l%100&&l%100<=10?a:11<=l%100&&l%100<=99?o:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 1===n&&0===e?t:i},function(r){var n=+r;return n%10==1&&n%100!=11?t:2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:n%10==0||5<=n%10&&n%10<=9||11<=n%100&&n%100<=14?o:i},function(r){var n=+r;return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?t:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?e:(3<=n%10&&n%10<=4||n%10==9)&&(n%100<10||19<n%100)&&(n%100<70||79<n%100)&&(n%100<90||99<n%100)?a:0!==n&&n%1e6==0?o:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,o=+(r+".").split(".")[1];return 0===e&&n%10==1&&n%100!=11||o%10==1&&o%100!=11?t:0===e&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)||2<=o%10&&o%10<=4&&(o%100<12||14<o%100)?a:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 1===n&&0===e?t:2<=n&&n<=4&&0===e?a:0!==e?o:i},function(r){var l=+r;return 0===l?n:1===l?t:2===l?e:3===l?a:6===l?o:i},function(r){var n=Math.floor(Math.abs(+r)),e=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 1==+r||0!==e&&(0===n||1===n)?t:i},function(r){var n=Math.floor(Math.abs(+r)),o=(r+".").split(".")[1].length,l=+(r+".").split(".")[1];return 0===o&&n%100==1||l%100==1?t:0===o&&n%100==2||l%100==2?e:0===o&&3<=n%100&&n%100<=4||3<=l%100&&l%100<=4?a:i},function(r){var n=Math.floor(Math.abs(+r));return 0===n||1===n?t:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===e&&(1===n||2===n||3===n)||0===e&&n%10!=4&&n%10!=6&&n%10!=9||0!==e&&a%10!=4&&a%10!=6&&a%10!=9?t:i},function(r){var n=+r;return 1===n?t:2===n?e:3<=n&&n<=6?a:7<=n&&n<=10?o:i},function(r){var n=+r;return 1===n||11===n?t:2===n||12===n?e:3<=n&&n<=10||13<=n&&n<=19?a:i},function(r){var n=Math.floor(Math.abs(+r)),l=(r+".").split(".")[1].length;return 0===l&&n%10==1?t:0===l&&n%10==2?e:0!==l||n%100!=0&&n%100!=20&&n%100!=40&&n%100!=60&&n%100!=80?0!==l?o:i:a},function(r){var n=Math.floor(Math.abs(+r)),a=(r+".").split(".")[1].length,l=+r;return 1===n&&0===a?t:2===n&&0===a?e:0===a&&(l<0||10<l)&&l%10==0?o:i},function(r){var n=Math.floor(Math.abs(+r)),e=+(""+r).replace(/^[^.]*.?|0+$/g,"");return 0===e&&n%10==1&&n%100!=11||0!==e?t:i},function(r){var n=+r;return 1===n?t:2===n?e:i},function(r){var e=+r;return 0===e?n:1===e?t:i},function(r){var e=Math.floor(Math.abs(+r)),a=+r;return 0===a?n:0!==e&&1!==e||0===a?i:t},function(r){var n=+(r+".").split(".")[1],e=+r;return e%10==1&&(e%100<11||19<e%100)?t:2<=e%10&&e%10<=9&&(e%100<11||19<e%100)?a:0!==n?o:i},function(r){var e=(r+".").split(".")[1].length,a=+(r+".").split(".")[1],o=+r;return o%10==0||11<=o%100&&o%100<=19||2===e&&11<=a%100&&a%100<=19?n:o%10==1&&o%100!=11||2===e&&a%10==1&&a%100!=11||2!==e&&a%10==1?t:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,a=+(r+".").split(".")[1];return 0===e&&n%10==1&&n%100!=11||a%10==1&&a%100!=11?t:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length,o=+r;return 1===n&&0===e?t:0!==e||0===o||1!==o&&1<=o%100&&o%100<=19?a:i},function(r){var n=+r;return 1===n?t:0===n||2<=n%100&&n%100<=10?a:11<=n%100&&n%100<=19?o:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 1===n&&0===e?t:0===e&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:0===e&&1!==n&&0<=n%10&&n%10<=1||0===e&&5<=n%10&&n%10<=9||0===e&&12<=n%100&&n%100<=14?o:i},function(r){var n=Math.floor(Math.abs(+r));return 0<=n&&n<=1?t:i},function(r){var n=Math.floor(Math.abs(+r)),e=(r+".").split(".")[1].length;return 0===e&&n%10==1&&n%100!=11?t:0===e&&2<=n%10&&n%10<=4&&(n%100<12||14<n%100)?a:0===e&&n%10==0||0===e&&5<=n%10&&n%10<=9||0===e&&11<=n%100&&n%100<=14?o:i},function(r){var n=+r;return 0===Math.floor(Math.abs(+r))||1===n?t:2<=n&&n<=10?a:i},function(r){var n=Math.floor(Math.abs(+r)),e=+(r+".").split(".")[1],a=+r;return 0===a||1===a||0===n&&1===e?t:i},function(r){var n=Math.floor(Math.abs(+r)),o=(r+".").split(".")[1].length;return 0===o&&n%100==1?t:0===o&&n%100==2?e:0===o&&3<=n%100&&n%100<=4||0!==o?a:i},function(r){var n=+r;return 0<=n&&n<=1||11<=n&&n<=99?t:i},function(r){var n=+r;return 1===n||5===n||7===n||8===n||9===n||10===n?t:2===n||3===n?e:4===n?a:6===n?o:i},function(r){var n=Math.floor(Math.abs(+r));return n%10==1||n%10==2||n%10==5||n%10==7||n%10==8||n%100==20||n%100==50||n%100==70||n%100==80?t:n%10==3||n%10==4||n%1e3==100||n%1e3==200||n%1e3==300||n%1e3==400||n%1e3==500||n%1e3==600||n%1e3==700||n%1e3==800||n%1e3==900?a:0===n||n%10==6||n%100==40||n%100==60||n%100==90?o:i},function(r){var n=+r;return n%10!=2&&n%10!=3||n%100==12||n%100==13?i:a},function(r){var n=+r;return 1===n||3===n?t:2===n?e:4===n?a:i},function(r){var l=+r;return 0===l||7===l||8===l||9===l?n:1===l?t:2===l?e:3===l||4===l?a:5===l||6===l?o:i},function(r){var n=+r;return n%10==1&&n%100!=11?t:n%10==2&&n%100!=12?e:n%10==3&&n%100!=13?a:i},function(r){var n=+r;return 1===n||11===n?t:2===n||12===n?e:3===n||13===n?a:i},function(r){var n=+r;return 1===n?t:2===n||3===n?e:4===n?a:6===n?o:i},function(r){var n=+r;return 1===n||5===n?t:i},function(r){var n=+r;return 11===n||8===n||80===n||800===n?o:i},function(r){var n=Math.floor(Math.abs(+r));return 1===n?t:0===n||2<=n%100&&n%100<=20||n%100==40||n%100==60||n%100==80?o:i},function(r){var n=+r;return n%10==6||n%10==9||n%10==0&&0!==n?o:i},function(r){var n=Math.floor(Math.abs(+r));return n%10==1&&n%100!=11?t:n%10==2&&n%100!=12?e:n%10!=7&&n%10!=8||n%100==17||n%100==18?i:o},function(r){var n=+r;return 1===n?t:2===n||3===n?e:4===n?a:i},function(r){var n=+r;return 1<=n&&n<=4?t:i},function(r){var n=+r;return 1===n||5===n||7<=n&&n<=9?t:2===n||3===n?e:4===n?a:6===n?o:i},function(r){var n=+r;return 1===n?t:n%10==4&&n%100!=14?o:i},function(r){var n=+r;return n%10!=1&&n%10!=2||n%100==11||n%100==12?i:t},function(r){var n=+r;return n%10==6||n%10==9||10===n?a:i},function(r){var n=+r;return n%10==3&&n%100!=13?a:i}];r.exports={af:{cardinal:l[0]},ak:{cardinal:l[1]},am:{cardinal:l[2]},ar:{cardinal:l[3]},ars:{cardinal:l[3]},as:{cardinal:l[2],ordinal:l[34]},asa:{cardinal:l[0]},ast:{cardinal:l[4]},az:{cardinal:l[0],ordinal:l[35]},be:{cardinal:l[5],ordinal:l[36]},bem:{cardinal:l[0]},bez:{cardinal:l[0]},bg:{cardinal:l[0]},bh:{cardinal:l[1]},bn:{cardinal:l[2],ordinal:l[34]},br:{cardinal:l[6]},brx:{cardinal:l[0]},bs:{cardinal:l[7]},ca:{cardinal:l[4],ordinal:l[37]},ce:{cardinal:l[0]},cgg:{cardinal:l[0]},chr:{cardinal:l[0]},ckb:{cardinal:l[0]},cs:{cardinal:l[8]},cy:{cardinal:l[9],ordinal:l[38]},da:{cardinal:l[10]},de:{cardinal:l[4]},dsb:{cardinal:l[11]},dv:{cardinal:l[0]},ee:{cardinal:l[0]},el:{cardinal:l[0]},en:{cardinal:l[4],ordinal:l[39]},eo:{cardinal:l[0]},es:{cardinal:l[0]},et:{cardinal:l[4]},eu:{cardinal:l[0]},fa:{cardinal:l[2]},ff:{cardinal:l[12]},fi:{cardinal:l[4]},fil:{cardinal:l[13],ordinal:l[0]},fo:{cardinal:l[0]},fr:{cardinal:l[12],ordinal:l[0]},fur:{cardinal:l[0]},fy:{cardinal:l[4]},ga:{cardinal:l[14],ordinal:l[0]},gd:{cardinal:l[15],ordinal:l[40]},gl:{cardinal:l[4]},gsw:{cardinal:l[0]},gu:{cardinal:l[2],ordinal:l[41]},guw:{cardinal:l[1]},gv:{cardinal:l[16]},ha:{cardinal:l[0]},haw:{cardinal:l[0]},he:{cardinal:l[17]},hi:{cardinal:l[2],ordinal:l[41]},hr:{cardinal:l[7]},hsb:{cardinal:l[11]},hu:{cardinal:l[0],ordinal:l[42]},hy:{cardinal:l[12],ordinal:l[0]},ia:{cardinal:l[4]},io:{cardinal:l[4]},is:{cardinal:l[18]},it:{cardinal:l[4],ordinal:l[43]},iu:{cardinal:l[19]},iw:{cardinal:l[17]},jgo:{cardinal:l[0]},ji:{cardinal:l[4]},jmc:{cardinal:l[0]},ka:{cardinal:l[0],ordinal:l[44]},kab:{cardinal:l[12]},kaj:{cardinal:l[0]},kcg:{cardinal:l[0]},kk:{cardinal:l[0],ordinal:l[45]},kkj:{cardinal:l[0]},kl:{cardinal:l[0]},kn:{cardinal:l[2]},ks:{cardinal:l[0]},ksb:{cardinal:l[0]},ksh:{cardinal:l[20]},ku:{cardinal:l[0]},kw:{cardinal:l[19]},ky:{cardinal:l[0]},lag:{cardinal:l[21]},lb:{cardinal:l[0]},lg:{cardinal:l[0]},ln:{cardinal:l[1]},lt:{cardinal:l[22]},lv:{cardinal:l[23]},mas:{cardinal:l[0]},mg:{cardinal:l[1]},mgo:{cardinal:l[0]},mk:{cardinal:l[24],ordinal:l[46]},ml:{cardinal:l[0]},mn:{cardinal:l[0]},mo:{cardinal:l[25],ordinal:l[0]},mr:{cardinal:l[2],ordinal:l[47]},mt:{cardinal:l[26]},nah:{cardinal:l[0]},naq:{cardinal:l[19]},nb:{cardinal:l[0]},nd:{cardinal:l[0]},ne:{cardinal:l[0],ordinal:l[48]},nl:{cardinal:l[4]},nn:{cardinal:l[0]},nnh:{cardinal:l[0]},no:{cardinal:l[0]},nr:{cardinal:l[0]},nso:{cardinal:l[1]},ny:{cardinal:l[0]},nyn:{cardinal:l[0]},om:{cardinal:l[0]},or:{cardinal:l[0],ordinal:l[49]},os:{cardinal:l[0]},pa:{cardinal:l[1]},pap:{cardinal:l[0]},pl:{cardinal:l[27]},prg:{cardinal:l[23]},ps:{cardinal:l[0]},pt:{cardinal:l[28]},"pt-PT":{cardinal:l[4]},rm:{cardinal:l[0]},ro:{cardinal:l[25],ordinal:l[0]},rof:{cardinal:l[0]},ru:{cardinal:l[29]},rwk:{cardinal:l[0]},saq:{cardinal:l[0]},sc:{cardinal:l[4],ordinal:l[43]},scn:{cardinal:l[4],ordinal:l[43]},sd:{cardinal:l[0]},sdh:{cardinal:l[0]},se:{cardinal:l[19]},seh:{cardinal:l[0]},sh:{cardinal:l[7]},shi:{cardinal:l[30]},si:{cardinal:l[31]},sk:{cardinal:l[8]},sl:{cardinal:l[32]},sma:{cardinal:l[19]},smi:{cardinal:l[19]},smj:{cardinal:l[19]},smn:{cardinal:l[19]},sms:{cardinal:l[19]},sn:{cardinal:l[0]},so:{cardinal:l[0]},sq:{cardinal:l[0],ordinal:l[50]},sr:{cardinal:l[7]},ss:{cardinal:l[0]},ssy:{cardinal:l[0]},st:{cardinal:l[0]},sv:{cardinal:l[4],ordinal:l[51]},sw:{cardinal:l[4]},syr:{cardinal:l[0]},ta:{cardinal:l[0]},te:{cardinal:l[0]},teo:{cardinal:l[0]},ti:{cardinal:l[1]},tig:{cardinal:l[0]},tk:{cardinal:l[0],ordinal:l[52]},tl:{cardinal:l[13],ordinal:l[0]},tn:{cardinal:l[0]},tr:{cardinal:l[0]},ts:{cardinal:l[0]},tzm:{cardinal:l[33]},ug:{cardinal:l[0]},uk:{cardinal:l[29],ordinal:l[53]},ur:{cardinal:l[4]},uz:{cardinal:l[0]},ve:{cardinal:l[0]},vo:{cardinal:l[0]},vun:{cardinal:l[0]},wa:{cardinal:l[1]},wae:{cardinal:l[0]},xh:{cardinal:l[0]},xog:{cardinal:l[0]},yi:{cardinal:l[4]},zu:{cardinal:l[2]},lo:{ordinal:l[0]},ms:{ordinal:l[0]},vi:{ordinal:l[0]}}},700:(r,n)=>{"use strict";var t="{",e="}",a=",",o="#",i="<",l=">",c="</",u="/>",s="'",f="offset:",d=["number","date","time","ordinal","duration","spellout"],h=["plural","select","selectordinal"];function p(r,n){var t=r.pattern,a=t.length,o=[],i=r.index,l=y(r,n);for(l&&o.push(l),l&&r.tokens&&r.tokens.push(["text",t.slice(i,r.index)]);r.index<a;){if(t[r.index]===e){if(!n)throw S(r);break}if(n&&r.tagsType&&t.slice(r.index,r.index+c.length)===c)break;o.push(b(r)),i=r.index,(l=y(r,n))&&o.push(l),l&&r.tokens&&r.tokens.push(["text",t.slice(i,r.index)])}return o}function y(r,n){for(var a=r.pattern,l=a.length,c="plural"===n||"selectordinal"===n,u=!!r.tagsType,f="{style}"===n,d="";r.index<l;){var h=a[r.index];if(h===t||h===e||c&&h===o||u&&h===i||f&&v(h.charCodeAt(0)))break;if(h===s)if((h=a[++r.index])===s)d+=h,++r.index;else if(h===t||h===e||c&&h===o||u&&h===i||f)for(d+=h;++r.index<l;)if((h=a[r.index])===s&&a[r.index+1]===s)d+=s,++r.index;else{if(h===s){++r.index;break}d+=h}else d+=s;else d+=h,++r.index}return d}function v(r){return r>=9&&r<=13||32===r||133===r||160===r||6158===r||r>=8192&&r<=8205||8232===r||8233===r||8239===r||8287===r||8288===r||12288===r||65279===r}function m(r){for(var n=r.pattern,t=n.length,e=r.index;r.index<t&&v(n.charCodeAt(r.index));)++r.index;e<r.index&&r.tokens&&r.tokens.push(["space",r.pattern.slice(e,r.index)])}function b(r){var n=r.pattern;if(n[r.index]===o)return r.tokens&&r.tokens.push(["syntax",o]),++r.index,[o];var s=function(r){var n=r.tagsType;if(n&&r.pattern[r.index]===i){if(r.pattern.slice(r.index,r.index+c.length)===c)throw S(r,null,"closing tag without matching opening tag");r.tokens&&r.tokens.push(["syntax",i]),++r.index;var t=g(r,!0);if(!t)throw S(r,"placeholder id");if(r.tokens&&r.tokens.push(["id",t]),m(r),r.pattern.slice(r.index,r.index+u.length)===u)return r.tokens&&r.tokens.push(["syntax",u]),r.index+=u.length,[t,n];if(r.pattern[r.index]!==l)throw S(r,l);r.tokens&&r.tokens.push(["syntax",l]),++r.index;var e=p(r,n),a=r.index;if(r.pattern.slice(r.index,r.index+c.length)!==c)throw S(r,c+t+l);r.tokens&&r.tokens.push(["syntax",c]),r.index+=c.length;var o=g(r,!0);if(o&&r.tokens&&r.tokens.push(["id",o]),t!==o)throw r.index=a,S(r,c+t+l,c+o+l);if(m(r),r.pattern[r.index]!==l)throw S(r,l);return r.tokens&&r.tokens.push(["syntax",l]),++r.index,[t,n,{children:e}]}}(r);if(s)return s;if(n[r.index]!==t)throw S(r,t);r.tokens&&r.tokens.push(["syntax",t]),++r.index,m(r);var h=g(r);if(!h)throw S(r,"placeholder id");r.tokens&&r.tokens.push(["id",h]),m(r);var y=n[r.index];if(y===e)return r.tokens&&r.tokens.push(["syntax",e]),++r.index,[h];if(y!==a)throw S(r,a+" or "+e);r.tokens&&r.tokens.push(["syntax",a]),++r.index,m(r);var v,b=g(r);if(!b)throw S(r,"placeholder type");if(r.tokens&&r.tokens.push(["type",b]),m(r),(y=n[r.index])===e){if(r.tokens&&r.tokens.push(["syntax",e]),"plural"===b||"selectordinal"===b||"select"===b)throw S(r,b+" sub-messages");return++r.index,[h,b]}if(y!==a)throw S(r,a+" or "+e);if(r.tokens&&r.tokens.push(["syntax",a]),++r.index,m(r),"plural"===b||"selectordinal"===b){var k=function(r){var n,t=r.pattern,e=t.length,a=0;if(t.slice(r.index,r.index+f.length)===f){r.tokens&&r.tokens.push(["offset","offset"],["syntax",":"]),r.index+=f.length,m(r);for(var o=r.index;r.index<e&&((n=t.charCodeAt(r.index))>=48&&n<=57);)++r.index;if(o===r.index)throw S(r,"offset number");r.tokens&&r.tokens.push(["number",t.slice(o,r.index)]),a=+t.slice(o,r.index)}return a}(r);m(r),v=[h,b,k,x(r,b)]}else if("select"===b)v=[h,b,x(r,b)];else if(d.indexOf(b)>=0)v=[h,b,w(r)];else{var E=r.index,O=w(r);m(r),n[r.index]===t&&(r.index=E,O=x(r,b)),v=[h,b,O]}if(m(r),n[r.index]!==e)throw S(r,e);return r.tokens&&r.tokens.push(["syntax",e]),++r.index,v}function g(r,n){for(var c=r.pattern,u=c.length,f="";r.index<u;){var d=c[r.index];if(d===t||d===e||d===a||d===o||d===s||v(d.charCodeAt(0))||n&&(d===i||d===l||"/"===d))break;f+=d,++r.index}return f}function w(r){var n=r.index,t=y(r,"{style}");if(!t)throw S(r,"placeholder style name");return r.tokens&&r.tokens.push(["style",r.pattern.slice(n,r.index)]),t}function x(r,n){for(var t=r.pattern,a=t.length,o={};r.index<a&&t[r.index]!==e;){var i=g(r);if(!i)throw S(r,"sub-message selector");r.tokens&&r.tokens.push(["selector",i]),m(r),o[i]=k(r,n),m(r)}if(!o.other&&h.indexOf(n)>=0)throw S(r,null,null,'"other" sub-message must be specified in '+n);return o}function k(r,n){if(r.pattern[r.index]!==t)throw S(r,t+" to start sub-message");r.tokens&&r.tokens.push(["syntax",t]),++r.index;var a=p(r,n);if(r.pattern[r.index]!==e)throw S(r,e+" to end sub-message");return r.tokens&&r.tokens.push(["syntax",e]),++r.index,a}function S(r,n,t,e){var a=r.pattern,o=a.slice(0,r.index).split(/\r?\n/),i=r.index,l=o.length,c=o.slice(-1)[0].length;return t=t||(r.index>=a.length?"end of message pattern":g(r)||a[r.index]),e||(e=function(r,n){return r?"Expected "+r+" but found "+n:"Unexpected "+n+" found"}(n,t)),new E(e+=" in "+a.replace(/\r?\n/g,"\n"),n,t,i,l,c)}function E(r,n,t,e,a,o){Error.call(this,r),this.name="SyntaxError",this.message=r,this.expected=n,this.found=t,this.offset=e,this.line=a,this.column=o}n=r.exports=function(r,n){return p({pattern:String(r),index:0,tagsType:n&&n.tagsType||null,tokens:n&&n.tokens||null},"")},E.prototype=Object.create(Error.prototype),n.SyntaxError=E},831:(r,n,t)=>{"use strict";var e=t(700),a=t(146),o=t(567),i=t(962),l=t(28);function c(r,n){return Object.keys(n).forEach((function(t){r[t]=n[t]})),r}r.exports=function r(){var n=c({},l),t="en",u={},s=function(r){return r},f=null,d="warning",h={};function p(r,n,o){var i="string"==typeof r?r:r.default,l=m(i,"object"==typeof r&&r.id||s(i),o||t);return(l.format||(l.format=a(e(l.message),o||t,h)))(n)}p.rich=function(r,n,o){var i="string"==typeof r?r:r.default,l=m(i,"object"==typeof r&&r.id||s(i),o||t);return(l.toParts||(l.toParts=a.toParts(e(l.message,{tagsType:y}),o||t,h)))(n)};var y="<>";function v(r,n){var t=r[2];return function(r,n){var e="object"==typeof t?function(r,n){return Object.keys(r).reduce((function(t,e){return t[e]=r[e](n),t}),{})}(t,n):t;return"function"==typeof r?r(e):r}}function m(r,n,t){var e=i(t,u)||"en",a=u[e]||(u[e]={}),o=a[n];if("string"==typeof o&&(o=a[n]={message:o}),!o){var l='Translation for "'+n+'" in "'+e+'" is missing';if("warning"===d)"undefined"!=typeof console&&console.warn(l);else if("ignore"!==d)throw new Error(l);var c="function"==typeof f?f(r,n,e)||r:f||r;o=a[n]={message:c}}return o}function b(r,n,e,a,l){"object"==typeof e&&"object"!=typeof a&&(l=a,a=e,e=0);var c=i(l||t,o),u=c&&o[c][r]||g;return a["="+ +n]||a[u(n-e)]||a.other}function g(){return"other"}return h[y]=v,p.setup=function(r){return(r=r||{}).locale&&(t=r.locale),"translations"in r&&(u=r.translations||{}),r.generateId&&(s=r.generateId),"missingReplacement"in r&&(f=r.missingReplacement),r.missingTranslation&&(d=r.missingTranslation),r.formats&&(r.formats.number&&c(n.number,r.formats.number),r.formats.date&&c(n.date,r.formats.date),r.formats.time&&c(n.time,r.formats.time)),r.types&&((h=r.types)[y]=v),{locale:t,translations:u,generateId:s,missingReplacement:f,missingTranslation:d,formats:n,types:h}},p.number=function(r,e,a){var o=e&&n.number[e]||n.parseNumberPattern(e)||n.number.default;return new Intl.NumberFormat(a||t,o).format(r)},p.date=function(r,e,a){var o=e&&n.date[e]||n.parseDatePattern(e)||n.date.default;return new Intl.DateTimeFormat(a||t,o).format(r)},p.time=function(r,e,a){var o=e&&n.time[e]||n.parseDatePattern(e)||n.time.default;return new Intl.DateTimeFormat(a||t,o).format(r)},p.select=function(r,n){return n[r]||n.other},p.custom=function(r,n,t,e){return r[1]in h?h[r[1]](r,n)(t,e):t},p.plural=b.bind(null,"cardinal"),p.selectordinal=b.bind(null,"ordinal"),p.namespace=r,p}()},962:r=>{r.exports=function(r,n){if("string"==typeof r&&n[r])return r;for(var t=[].concat(r||[]),e=0,a=t.length;e<a;++e)for(var o=t[e].split("-");o.length;){var i=o.join("-");if(n[i])return i;o.pop()}}}},l={};function c(r){var n=l[r];if(void 0!==n)return n.exports;var t=l[r]={exports:{}};return i[r](t,t.exports,c),t.exports}r="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",e=r=>{r&&r.d<1&&(r.d=1,r.forEach((r=>r.r--)),r.forEach((r=>r.r--?r.r++:r())))},c.a=(a,o,i)=>{var l;i&&((l=[]).d=-1);var c,u,s,f=new Set,d=a.exports,h=new Promise(((r,n)=>{s=n,u=r}));h[n]=d,h[r]=r=>(l&&r(l),f.forEach(r),h.catch((r=>{}))),a.exports=h,o((a=>{var o;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[r])return a;if(a.then){var o=[];o.d=0,a.then((r=>{i[n]=r,e(o)}),(r=>{i[t]=r,e(o)}));var i={};return i[r]=r=>r(o),i}}var l={};return l[r]=r=>{},l[n]=a,l})))(a);var i=()=>c.map((r=>{if(r[t])throw r[t];return r[n]})),u=new Promise((n=>{(o=()=>n(i)).r=0;var t=r=>r!==l&&!f.has(r)&&(f.add(r),r&&!r.d&&(o.r++,r.push(o)));c.map((n=>n[r](t)))}));return o.r?u:i()}),(r=>(r?s(h[t]=r):u(d),e(l)))),l&&l.d<0&&(l.d=0)},c.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return c.d(n,{a:n}),n},o=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__,c.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var t=Object.create(null);c.r(t);var e={};a=a||[null,o({}),o([]),o(o)];for(var i=2&n&&r;"object"==typeof i&&!~a.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((n=>e[n]=()=>r[n]));return e.default=()=>r,c.d(t,e),t},c.d=(r,n)=>{for(var t in n)c.o(n,t)&&!c.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},c.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),c.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},c.p="./",c(809)})();