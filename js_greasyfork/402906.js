// ==UserScript==
// @name              空洞骑士BINGO助手3.0
// @namespace         https://github.com/magegihk/HKBingoAss.git
// @version           3.1.0
// @icon              https://greasyfork.org/system/screenshots/screenshots/000/014/163/thumb/images.png
// @description       2020-09-13 一键翻译脚本
// @author            MageGi forked from elderFish
// @supportURL        https://github.com/magegihk/HKBingoAss/issues
// @match             *://www.bingosync.com/room/*
// @match             *://bingosync.com/room/*
// @run-at            document-end
// @grant             unsafeWindow
// @grant             GM_setClipboard
// @downloadURL https://update.greasyfork.org/scripts/402906/%E7%A9%BA%E6%B4%9E%E9%AA%91%E5%A3%ABBINGO%E5%8A%A9%E6%89%8B30.user.js
// @updateURL https://update.greasyfork.org/scripts/402906/%E7%A9%BA%E6%B4%9E%E9%AA%91%E5%A3%ABBINGO%E5%8A%A9%E6%89%8B30.meta.js
// ==/UserScript==

var $ = unsafeWindow.jQuery;
$(document).ready(function () {
  var targetDom = $('#bingo-chat').closest('.panel').children('.panel-heading');
  var trsBtn = '<span id="hkbingoAssBtn" class="btn btn-default btn-xs pull-right collapse-button" data-lang="cn">显示中文</span>';

var rollTranslate = {
    		"Defeat two Dream Bosses":"2梦Boss",
		"Defeat Broken Vessel":"表哥",
		"Defeat Lost Kin":"梦表哥",
		"Defeat Crystal Guardian 1":"椅子哥1",
		"Defeat Crystal Guardian 2":"椅子哥2",
		"Defeat Collector":"收藏家",
		"Defeat Dung Defender":"芬达",
		"Defeat White Defender":"白芬达",
		"Defeat Failed Champion":"梦大锤",
		"Defeat False Knight + Brooding Mawlek":"大锤+电饭煲",
		"Defeat Flukemarm":"虫母",
		"Defeat Hive Knight":"蜂骑",
		"Defeat Hornet 2":"小姐姐2",
		"Defeat Mantis Lords":"三螳螂",
		"Defeat Nosk":"诺斯克",
		"Defeat Pale Lurker":"小忍者",
		"Defeat any one Radiant Boss":"辐辉Boss",
		"Defeat Soul Master":"大师",
		"Defeat Soul Tyrant":"梦大师",
		"Defeat Traitor Lord":"叛徒领主",
		"Defeat Troupe Master Grimm":"格林",
		"Defeat Nightmare King Grimm":"梦格林",
		"Defeat Uumuu":"大水母",
		"Defeat Watcher Knights":"滚滚",
		"Defeat Vengefly King + Massive Moss Charger":"大蚊子+大草团",
		"Defeat two dream warriors":"2梦战士",
		"Defeat Galien":"加利安",
		"Defeat Gorb":"戈布",
		"Defeat Elder Hu":"胡长老",
		"Defeat Marmu":"马尔穆",
		"Defeat Markoth":"马科斯",
		"Defeat No Eyes":"无眼",
		"Defeat Xero":"泽若",
		"Kill two Soul Warriors":"2灵魂战士",
		"Kill three different Great Husk Sentries":"3泪城卫兵",
		"Kill an Aluba":"1蜻蜓",
		"Kill two different Alubas":"2蜻蜓",
		"Colosseum 1":"竞技场1",
		"Defeat Colosseum Zote":"竞技场左特",
		"Crystal Crawler Journal Entry":"激光爬虫日志",
		"Kill 6 different Stalking Devouts":"6镰刀虫",
		"Kill a Durandoo":"杀长脚贝壳",
		"Kill a Great Hopper":"1大跳蚤",
		"Kill Gorgeous Husk":"金闪闪",
		"Kill a Gulka with its own projectile":"弹反击杀篮球怪",
		"Kill a Kingsmould":"1白宫守卫",
		"Kill a Lightseed":"1光子",
		"Kill two different Maggots":"2蛆虫",
		"Dream Nail Marissa":"抽歌姬",
		"Slash Millibelle in Pleasure House":"打银行家",
		"Kill 4 Mimics":"4假虫",
		"Kill Myla ":"杀米拉",
		"Obtain Herrah":"赫拉",
		"Obtain Lurien":"卢瑞恩",
		"Obtain Monomon":"莫诺蒙",
		"Ride the stag to Distant Village":"坐虫去遥远村庄",
		"Ride the stag to Queen's Gardens":"坐虫去王后花园",
		"Ride the stag to Hidden Station":"坐虫去隐藏的鹿角站",
		"Ride the stag to King's Station":"坐虫去国王驿站",
		"Ride the stag to Queen's Station":"坐虫去王后驿站",
		"Have 5 or more Charms":"5+护符",
		"Equip 5 Charms at the same time":"装备5护符",
		"Obtain Carefree Melody":"无忧旋律",
		"Obtain Wayward Compass or Gathering Swarm":"指南针或蜂群",
		"Obtain Dream Wielder or Dreamshield":"舞梦者或梦盾",
		"Obtain two Unbreakable charms":"2坚固",
		"Obtain Flukenest or Fury of the Fallen":"虫巢或亡怒",
		"Obtain Grubsong or Grubberfly's Elegy":"虫歌或挽歌",
		"Obtain Glowing Womb or Weaversong":"子宫或编织者",
		"Obtain Heavy Blow or Steady Body":"沉重或稳定",
		"Obtain Hiveblood or Sharp Shadow":"蜂血或锋利",
		"Obtain two Lifeblood charms":"2蓝血护符",
		"Obtain Longnail or Mark of Pride":"修长或骄傲",
		"Obtain Quick Slash or Nailmaster's Glory":"快劈或荣耀",
		"Obtain Quick Focus or Deep Focus":"快聚或深聚",
		"Obtain Shaman Stone or Spell Twister":"萨满或扭曲",
		"Obtain Sprintmaster or Dashmaster":"飞毛腿或冲刺大师",
		"Obtain Soul Eater or Soul Catcher":"噬魂或捕手",
		"Obtain Thorns of Agony or Stalwart Shell":"荆棘或坚硬",
		"Obtain Shape of Unn or Baldur Shell":"乌恩或巴德尔",
		"Obtain the Love Key":"爱之钥",
		"Obtain Descending Dark":"黑砸",
		"Obtain Dream Nail":"梦钉",
		"Obtain Dream Gate":"梦门",
		"Obtain 2 Nail Arts":"2剑技",
		"Obtain Abyss Shriek":"黑吼",
		"Obtain Shade Soul":"黑波",
		"Obtain Isma's Tear":"酸泪",
		"Obtain Vengeful Spirit":"白波",
		"Obtain Howling Wraiths":"白吼",
		"Obtain 15 grubs":"15虫",
		"Obtain 2 Pale Ore":"2矿石",
		"Use 2 Simple Keys":"用2钥匙",
		"Have 3 different maps not counting Dirtmouth or Hive":"有3地图",
		"Obtain Collector's Map":"收藏家地图",
		"Obtain 1 Arcane Egg":"1神秘蛋",
		"Obtain Godtuner":"调谐器",
		"Obtain 3 King's Idols":"3雕像",
		"Obtain 5 Wanderer's Journals":"5日记",
		"Obtain Lumafly Lantern":"灯",
		"Obtain 1 extra mask":"1血",
		"Have 6 Charm Notches total":"6槽",
		"Obtain 4 Rancid Eggs":"4臭蛋",
		"Obtain 5 Hallownest Seals":"5印章",
		"Obtain 1 extra soul vessel":"1魔",
		"Obtain Tram Pass":"车票",
		"Obtain World Sense":"完成度",
		"Interact with 3 Cornifer locations":"3绘图师",
		"Check Crystal Heart":"看超冲",
		"Open the Crystal Peaks chest":"矿山宝箱",
		"Check Deep Focus":"看深聚",
		"Get 2 Dreamer's checks (Requires Dream nail)":"得2守梦处东西（要梦钉）",
		"Complete the Greenpath Root":"苍绿树",
		"Check the Hallownest Crown":"看圣巢冠",
		"Buy the Basin fountain check":"买喷泉",
		"Bow to the Fungal Core Elder":"巨蘑菇鞠躬",
		"Check Glowing Womb":"看子宫",
		"Check the Hive Mask Shard":"看蜂巢碎片",
		"Check Joni's Blessing":"看乔尼",
		"Complete the Kingdom's Edge Root":"边境树",
		"Check Love Key":"看爱之钥",
		"Check 2 Nailmasters":"看2骨钉大师",
		"Get two Pale Ore checks (Grubs / Essence excluded)":"得2矿石东西（虫或精华不算）",
		"Check the journal below Stone Sanctuary":"看庇护所下日记",
		"Check Sheo":"看席奥",
		"Visit all 4 shops (Sly, Iselda, Salubra and Leg Eater)":"去4商店",
		"Check three different spell locations":"看3法术",
		"Check the Stag Nest vessel fragment":"看鹿角虫巢碎片",
		"Check Shade Soul":"看黑波",
		"Get the Abyss Shriek check":"得黑吼处东西",
		"Check Isma's Tear":"看酸泪",
		"Complete 4 full dream trees":"4树",
		"Check Shape of Unn":"看乌恩",
		"Check the journal above Mantis Village":"看螳螂村日记",
		"Check Void Heart":"看虚空之心",
		"Check/Free all grubs in Ancient Basin (2)":"看或救盆地2虫",
		"Check/Free all grubs in City of Tears (5)":"看或救泪城5虫",
		"Check/Free all grubs in Crossroads (5) + Fog Canyon (1)":"看或救十字路5虫+雾谷1虫",
		"Check/Free all grubs in Deepnest (5)":"看或救深巢5虫",
		"Check/Free all grubs in Greenpath (4) and in Fungal (2)":"看或救苍绿4虫+真菌2虫",
		"Check/Free all grubs in Crystal Peaks (7)":"看或救矿山7虫",
		"Check/Free all grubs in Queen's Gardens (3)":"看或救花园3虫",
		"Check/Free all grubs in Waterways (3)":"看或救水道3虫",
		"Break 3 floors using Dive":"白砸3地板",
		"Break the 420 geo rock in Kingdom's Edge":"边境大钱堆",
		"Collect 500 essence":"500精华",
		"Spend 3000 geo":"花3000",
		"Spend 4000 geo":"花4000",
		"Spend 5000 geo":"花5000",
		"Have 1500 geo in the bank":"存1500",
		"Talk to Bardoon":"巴冬对话",
		"Rescue Bretta + Sly":"救布蕾塔+斯莱",
		"Get Brumm's flame":"布鲁姆的火",
		"Talk to Cloth":"阿布对话",
		"Complete either ending of the Cloth questline":"阿布结局",
		"Sit on the City of Tears Quirrel bench":"坐泪城奎若边",
		"Use City Crest + Ride both CoT large elevators":"用纹章+坐泪城2大电梯",
		"Kill 3 Oomas using a minion charm":"跟班杀3水母",
		"Rescue Zote in Deepnest":"深巢救左特",
		"Read the Dung Defender sign before Isma's Grove":"读芬达牌子",
		"Open the Dirtmouth / Crystal Peaks elevator":"开德-山电梯",
		"Give Flower to Elderbug":"送花村长",
		"Talk to Emilitia (shortcut out of sewers)":"贵妇对话",
		"Talk to the Fluke Hermit":"隐士对话",
		"Enter Godhome":"进神居",
		"Goam and Garpede Journal Entries":"伸缩虫和蜈蚣日志",
		"Open Jiji's Hut":"开吉吉小屋",
		"Hit the Oro scarecrow up until the hoppers spawn":"稻草人",
		"Talk to Lemm in his shop with Defender's Crest equipped":"店里臭古董商",
		"Buy out Leg Eater":"买空食腿者",
		"10 Lifeblood masks at the same time":"10蓝血",
		"Enter the Lifeblood Core room without wearing any Lifeblood charms":"打蓝血进核心",
		"Read 3 lore tablets in Teacher's Archives":"读档案馆3碑",
		"Read the lore tablet in Ancient Basin":"读盆地碑",
		"Read two lore tablets in City of Tears proper (No sub areas)":"读泪城2碑（无子区域）",
		"Read the lore tablet in Howling Cliffs":"读呼啸碑",
		"Read three lore tablets in Greenpath":"读苍绿3石碑",
		"Read the lore tablet in Kingdom's Edge (requires Spore Shroom)":"读边缘碑（要孢子）",
		"Read both Pilgrim's Way lore tablets":"读朝圣者2碑（苍绿真菌）",
		"Read both lore tablets in Soul Sanctum":"读圣所2碑",
		"Read both lore tablets in Mantis Village":"读螳螂村2碑",
		"Charged Lumafly Journal Entry":"电萤日志",
		"Talk to Mask Maker":"面具师对话",
		"Talk to Midwife":"助产士对话",
		"Bow to Moss Prophet, dead or alive":"神棍鞠躬",
		"Interact with Mr. Mushroom once (Does not require Spore Shroom)":"蘑菇先生（不要孢子）",
		"Nail 2":"升2钉",
		"Nail 3":"升3钉",
		"Use a Nail Art in its vanilla Nailmaster's Hut":"剑技班门弄斧",
		"Eternal Ordeal: 20 Zotes":"无尽20左特",
		"Talk to Salubra while overcharmed":"过载对话萨鲁巴",
		"Complete Path of Pain":"苦痛之路",
		"Buy 6 map pins from Iselda (All but two)":"6图钉",
		"Buy 8 map pins from Iselda (All)":"8图钉",
		"Parry Revek 3 times without dying (Spirit's Glade Guard)":"墓地3拼刀",
		"Buy out Salubra":"买空萨鲁巴",
		"Slash two Shade Gates":"2黑门",
		"Take a bath in 4 different Hot Springs":"4温泉",
		"Splash the NPC in the Colosseum's hot spring":"竞技场温泉NPC溅水",
		"Visit Shrine of Believers":"信仰者神龛",
		"Look through Lurien's telescope":"用望远镜",
		"Void Tendrils Journal Entry":"黑须日志",
		"Swat Tiso's shield away from his corpse":"打飞提索盾",
		"Slash the Beast's Den Trilobite":"打野兽巢穴吊灯",
		"Talk to Tuk":"臭蛋商对话",
		"Visit Distant Village or Hive":"远村或蜂巢",
		"Visit Lake of Unn or Blue Lake":"乌恩湖或蓝湖",
		"Visit Overgrown Mound or Crystalised Mound (Crystalised requires dive)":"植物山丘或结晶山丘",
		"Visit Queen's Gardens or Cast Off Shell":"拜访花园或遗弃外壳",
		"Visit Soul Sanctum or Royal Waterways":"圣所或水道",
		"Visit Tower of Love (Love Key not required)":"爱之塔（不需要爱之匙）",
		"Swim in a Void Pool":"虚空游泳",
		"Dream Nail White Lady":"梦钉抽白夫人",
		"Dream Nail Willoh's meal":"梦钉抽长颈鹿食物",
		"Sit down in Hidden Station":"隐藏鹿角站坐下"
};
var rollTips = {
    		"Defeat two Dream Bosses":"Defeat two Dream Bosses",
		"Defeat Broken Vessel":"Defeat Broken Vessel",
		"Defeat Lost Kin":"Defeat Lost Kin",
		"Defeat Crystal Guardian 1":"Defeat Crystal Guardian 1",
		"Defeat Crystal Guardian 2":"Defeat Crystal Guardian 2",
		"Defeat Collector":"Defeat Collector",
		"Defeat Dung Defender":"Defeat Dung Defender",
		"Defeat White Defender":"Defeat White Defender",
		"Defeat Failed Champion":"Defeat Failed Champion",
		"Defeat False Knight + Brooding Mawlek":"Defeat False Knight + Brooding Mawlek",
		"Defeat Flukemarm":"Defeat Flukemarm",
		"Defeat Hive Knight":"Defeat Hive Knight",
		"Defeat Hornet 2":"Defeat Hornet 2",
		"Defeat Mantis Lords":"Defeat Mantis Lords",
		"Defeat Nosk":"Defeat Nosk",
		"Defeat Pale Lurker":"Defeat Pale Lurker",
		"Defeat any one Radiant Boss":"Defeat any one Radiant Boss",
		"Defeat Soul Master":"Defeat Soul Master",
		"Defeat Soul Tyrant":"Defeat Soul Tyrant",
		"Defeat Traitor Lord":"Defeat Traitor Lord",
		"Defeat Troupe Master Grimm":"Defeat Troupe Master Grimm",
		"Defeat Nightmare King Grimm":"Defeat Nightmare King Grimm",
		"Defeat Uumuu":"Defeat Uumuu",
		"Defeat Watcher Knights":"Defeat Watcher Knights",
		"Defeat Vengefly King + Massive Moss Charger":"Defeat Vengefly King + Massive Moss Charger",
		"Defeat two dream warriors":"Defeat two dream warriors",
		"Defeat Galien":"Defeat Galien",
		"Defeat Gorb":"Defeat Gorb",
		"Defeat Elder Hu":"Defeat Elder Hu",
		"Defeat Marmu":"Defeat Marmu",
		"Defeat Markoth":"Defeat Markoth",
		"Defeat No Eyes":"Defeat No Eyes",
		"Defeat Xero":"Defeat Xero",
		"Kill two Soul Warriors":"Kill two Soul Warriors",
		"Kill three different Great Husk Sentries":"Kill three different Great Husk Sentries",
		"Kill an Aluba":"Kill an Aluba",
		"Kill two different Alubas":"Kill two different Alubas",
		"Colosseum 1":"Colosseum 1",
		"Defeat Colosseum Zote":"Defeat Colosseum Zote",
		"Crystal Crawler Journal Entry":"Crystal Crawler Journal Entry",
		"Kill 6 different Stalking Devouts":"Kill 6 different Stalking Devouts",
		"Kill a Durandoo":"Kill a Durandoo",
		"Kill a Great Hopper":"Kill a Great Hopper",
		"Kill Gorgeous Husk":"Kill Gorgeous Husk",
		"Kill a Gulka with its own projectile":"Kill a Gulka with its own projectile",
		"Kill a Kingsmould":"Kill a Kingsmould",
		"Kill a Lightseed":"Kill a Lightseed",
		"Kill two different Maggots":"Kill two different Maggots",
		"Dream Nail Marissa":"Dream Nail Marissa",
		"Slash Millibelle in Pleasure House":"Slash Millibelle in Pleasure House",
		"Kill 4 Mimics":"Kill 4 Mimics",
		"Kill Myla ":"Kill Myla ",
		"Obtain Herrah":"Obtain Herrah",
		"Obtain Lurien":"Obtain Lurien",
		"Obtain Monomon":"Obtain Monomon",
		"Ride the stag to Distant Village":"Ride the stag to Distant Village",
		"Ride the stag to Queen's Gardens":"Ride the stag to Queen's Gardens",
		"Ride the stag to Hidden Station":"Ride the stag to Hidden Station",
		"Ride the stag to King's Station":"Ride the stag to King's Station",
		"Ride the stag to Queen's Station":"Ride the stag to Queen's Station",
		"Have 5 or more Charms":"Have 5 or more Charms",
		"Equip 5 Charms at the same time":"Equip 5 Charms at the same time",
		"Obtain Carefree Melody":"Obtain Carefree Melody",
		"Obtain Wayward Compass or Gathering Swarm":"Obtain Wayward Compass or Gathering Swarm",
		"Obtain Dream Wielder or Dreamshield":"Obtain Dream Wielder or Dreamshield",
		"Obtain two Unbreakable charms":"Obtain two Unbreakable charms",
		"Obtain Flukenest or Fury of the Fallen":"Obtain Flukenest or Fury of the Fallen",
		"Obtain Grubsong or Grubberfly's Elegy":"Obtain Grubsong or Grubberfly's Elegy",
		"Obtain Glowing Womb or Weaversong":"Obtain Glowing Womb or Weaversong",
		"Obtain Heavy Blow or Steady Body":"Obtain Heavy Blow or Steady Body",
		"Obtain Hiveblood or Sharp Shadow":"Obtain Hiveblood or Sharp Shadow",
		"Obtain two Lifeblood charms":"Obtain two Lifeblood charms",
		"Obtain Longnail or Mark of Pride":"Obtain Longnail or Mark of Pride",
		"Obtain Quick Slash or Nailmaster's Glory":"Obtain Quick Slash or Nailmaster's Glory",
		"Obtain Quick Focus or Deep Focus":"Obtain Quick Focus or Deep Focus",
		"Obtain Shaman Stone or Spell Twister":"Obtain Shaman Stone or Spell Twister",
		"Obtain Sprintmaster or Dashmaster":"Obtain Sprintmaster or Dashmaster",
		"Obtain Soul Eater or Soul Catcher":"Obtain Soul Eater or Soul Catcher",
		"Obtain Thorns of Agony or Stalwart Shell":"Obtain Thorns of Agony or Stalwart Shell",
		"Obtain Shape of Unn or Baldur Shell":"Obtain Shape of Unn or Baldur Shell",
		"Obtain the Love Key":"Obtain the Love Key",
		"Obtain Descending Dark":"Obtain Descending Dark",
		"Obtain Dream Nail":"Obtain Dream Nail",
		"Obtain Dream Gate":"Obtain Dream Gate",
		"Obtain 2 Nail Arts":"Obtain 2 Nail Arts",
		"Obtain Abyss Shriek":"Obtain Abyss Shriek",
		"Obtain Shade Soul":"Obtain Shade Soul",
		"Obtain Isma's Tear":"Obtain Isma's Tear",
		"Obtain Vengeful Spirit":"Obtain Vengeful Spirit",
		"Obtain Howling Wraiths":"Obtain Howling Wraiths",
		"Obtain 15 grubs":"Obtain 15 grubs",
		"Obtain 2 Pale Ore":"Obtain 2 Pale Ore",
		"Use 2 Simple Keys":"Use 2 Simple Keys",
		"Have 3 different maps not counting Dirtmouth or Hive":"Have 3 different maps not counting Dirtmouth or Hive",
		"Obtain Collector's Map":"Obtain Collector's Map",
		"Obtain 1 Arcane Egg":"Obtain 1 Arcane Egg",
		"Obtain Godtuner":"Obtain Godtuner",
		"Obtain 3 King's Idols":"Obtain 3 King's Idols",
		"Obtain 5 Wanderer's Journals":"Obtain 5 Wanderer's Journals",
		"Obtain Lumafly Lantern":"Obtain Lumafly Lantern",
		"Obtain 1 extra mask":"Obtain 1 extra mask",
		"Have 6 Charm Notches total":"Have 6 Charm Notches total",
		"Obtain 4 Rancid Eggs":"Obtain 4 Rancid Eggs",
		"Obtain 5 Hallownest Seals":"Obtain 5 Hallownest Seals",
		"Obtain 1 extra soul vessel":"Obtain 1 extra soul vessel",
		"Obtain Tram Pass":"Obtain Tram Pass",
		"Obtain World Sense":"Obtain World Sense",
		"Interact with 3 Cornifer locations":"Interact with 3 Cornifer locations",
		"Check Crystal Heart":"Check Crystal Heart",
		"Open the Crystal Peaks chest":"Open the Crystal Peaks chest",
		"Check Deep Focus":"Check Deep Focus",
		"Get 2 Dreamer's checks (Requires Dream nail)":"Get 2 Dreamer's checks (Requires Dream nail)",
		"Complete the Greenpath Root":"Complete the Greenpath Root",
		"Check the Hallownest Crown":"Check the Hallownest Crown",
		"Buy the Basin fountain check":"Buy the Basin fountain check",
		"Bow to the Fungal Core Elder":"Bow to the Fungal Core Elder",
		"Check Glowing Womb":"Check Glowing Womb",
		"Check the Hive Mask Shard":"Check the Hive Mask Shard",
		"Check Joni's Blessing":"Check Joni's Blessing",
		"Complete the Kingdom's Edge Root":"Complete the Kingdom's Edge Root",
		"Check Love Key":"Check Love Key",
		"Check 2 Nailmasters":"Check 2 Nailmasters",
		"Get two Pale Ore checks (Grubs / Essence excluded)":"Get two Pale Ore checks (Grubs / Essence excluded)",
		"Check the journal below Stone Sanctuary":"Check the journal below Stone Sanctuary",
		"Check Sheo":"Check Sheo",
		"Visit all 4 shops (Sly, Iselda, Salubra and Leg Eater)":"Visit all 4 shops (Sly, Iselda, Salubra and Leg Eater)",
		"Check three different spell locations":"Check three different spell locations",
		"Check the Stag Nest vessel fragment":"Check the Stag Nest vessel fragment",
		"Check Shade Soul":"Check Shade Soul",
		"Get the Abyss Shriek check":"Get the Abyss Shriek check",
		"Check Isma's Tear":"Check Isma's Tear",
		"Complete 4 full dream trees":"Complete 4 full dream trees",
		"Check Shape of Unn":"Check Shape of Unn",
		"Check the journal above Mantis Village":"Check the journal above Mantis Village",
		"Check Void Heart":"Check Void Heart",
		"Check/Free all grubs in Ancient Basin (2)":"Check/Free all grubs in Ancient Basin (2)",
		"Check/Free all grubs in City of Tears (5)":"Check/Free all grubs in City of Tears (5)",
		"Check/Free all grubs in Crossroads (5) + Fog Canyon (1)":"Check/Free all grubs in Crossroads (5) + Fog Canyon (1)",
		"Check/Free all grubs in Deepnest (5)":"Check/Free all grubs in Deepnest (5)",
		"Check/Free all grubs in Greenpath (4) and in Fungal (2)":"Check/Free all grubs in Greenpath (4) and in Fungal (2)",
		"Check/Free all grubs in Crystal Peaks (7)":"Check/Free all grubs in Crystal Peaks (7)",
		"Check/Free all grubs in Queen's Gardens (3)":"Check/Free all grubs in Queen's Gardens (3)",
		"Check/Free all grubs in Waterways (3)":"Check/Free all grubs in Waterways (3)",
		"Break 3 floors using Dive":"Break 3 floors using Dive",
		"Break the 420 geo rock in Kingdom's Edge":"Break the 420 geo rock in Kingdom's Edge",
		"Collect 500 essence":"Collect 500 essence",
		"Spend 3000 geo":"Spend 3000 geo",
		"Spend 4000 geo":"Spend 4000 geo",
		"Spend 5000 geo":"Spend 5000 geo",
		"Have 1500 geo in the bank":"Have 1500 geo in the bank",
		"Talk to Bardoon":"Talk to Bardoon",
		"Rescue Bretta + Sly":"Rescue Bretta + Sly",
		"Get Brumm's flame":"Get Brumm's flame",
		"Talk to Cloth":"Talk to Cloth",
		"Complete either ending of the Cloth questline":"Complete either ending of the Cloth questline",
		"Sit on the City of Tears Quirrel bench":"Sit on the City of Tears Quirrel bench",
		"Use City Crest + Ride both CoT large elevators":"Use City Crest + Ride both CoT large elevators",
		"Kill 3 Oomas using a minion charm":"Kill 3 Oomas using a minion charm",
		"Rescue Zote in Deepnest":"Rescue Zote in Deepnest",
		"Read the Dung Defender sign before Isma's Grove":"Read the Dung Defender sign before Isma's Grove",
		"Open the Dirtmouth / Crystal Peaks elevator":"Open the Dirtmouth / Crystal Peaks elevator",
		"Give Flower to Elderbug":"Give Flower to Elderbug",
		"Talk to Emilitia (shortcut out of sewers)":"Talk to Emilitia (shortcut out of sewers)",
		"Talk to the Fluke Hermit":"Talk to the Fluke Hermit",
		"Enter Godhome":"Enter Godhome",
		"Goam and Garpede Journal Entries":"Goam and Garpede Journal Entries",
		"Open Jiji's Hut":"Open Jiji's Hut",
		"Hit the Oro scarecrow up until the hoppers spawn":"Hit the Oro scarecrow up until the hoppers spawn",
		"Talk to Lemm in his shop with Defender's Crest equipped":"Talk to Lemm in his shop with Defender's Crest equipped",
		"Buy out Leg Eater":"Buy out Leg Eater",
		"10 Lifeblood masks at the same time":"10 Lifeblood masks at the same time",
		"Enter the Lifeblood Core room without wearing any Lifeblood charms":"Enter the Lifeblood Core room without wearing any Lifeblood charms",
		"Read 3 lore tablets in Teacher's Archives":"Read 3 lore tablets in Teacher's Archives",
		"Read the lore tablet in Ancient Basin":"Read the lore tablet in Ancient Basin",
		"Read two lore tablets in City of Tears proper (No sub areas)":"Read two lore tablets in City of Tears proper (No sub areas)",
		"Read the lore tablet in Howling Cliffs":"Read the lore tablet in Howling Cliffs",
		"Read three lore tablets in Greenpath":"Read three lore tablets in Greenpath",
		"Read the lore tablet in Kingdom's Edge (requires Spore Shroom)":"Read the lore tablet in Kingdom's Edge (requires Spore Shroom)",
		"Read both Pilgrim's Way lore tablets":"Read both Pilgrim's Way lore tablets",
		"Read both lore tablets in Soul Sanctum":"Read both lore tablets in Soul Sanctum",
		"Read both lore tablets in Mantis Village":"Read both lore tablets in Mantis Village",
		"Charged Lumafly Journal Entry":"Charged Lumafly Journal Entry",
		"Talk to Mask Maker":"Talk to Mask Maker",
		"Talk to Midwife":"Talk to Midwife",
		"Bow to Moss Prophet, dead or alive":"Bow to Moss Prophet, dead or alive",
		"Interact with Mr. Mushroom once (Does not require Spore Shroom)":"Interact with Mr. Mushroom once (Does not require Spore Shroom)",
		"Nail 2":"Nail 2",
		"Nail 3":"Nail 3",
		"Use a Nail Art in its vanilla Nailmaster's Hut":"Use a Nail Art in its vanilla Nailmaster's Hut",
		"Eternal Ordeal: 20 Zotes":"Eternal Ordeal: 20 Zotes",
		"Talk to Salubra while overcharmed":"Talk to Salubra while overcharmed",
		"Complete Path of Pain":"Complete Path of Pain",
		"Buy 6 map pins from Iselda (All but two)":"Buy 6 map pins from Iselda (All but two)",
		"Buy 8 map pins from Iselda (All)":"Buy 8 map pins from Iselda (All)",
		"Parry Revek 3 times without dying (Spirit's Glade Guard)":"Parry Revek 3 times without dying (Spirit's Glade Guard)",
		"Buy out Salubra":"Buy out Salubra",
		"Slash two Shade Gates":"Slash two Shade Gates",
		"Take a bath in 4 different Hot Springs":"Take a bath in 4 different Hot Springs",
		"Splash the NPC in the Colosseum's hot spring":"Splash the NPC in the Colosseum's hot spring",
		"Visit Shrine of Believers":"Visit Shrine of Believers",
		"Look through Lurien's telescope":"Look through Lurien's telescope",
		"Void Tendrils Journal Entry":"Void Tendrils Journal Entry",
		"Swat Tiso's shield away from his corpse":"Swat Tiso's shield away from his corpse",
		"Slash the Beast's Den Trilobite":"Slash the Beast's Den Trilobite",
		"Talk to Tuk":"Talk to Tuk",
		"Visit Distant Village or Hive":"Visit Distant Village or Hive",
		"Visit Lake of Unn or Blue Lake":"Visit Lake of Unn or Blue Lake",
		"Visit Overgrown Mound or Crystalised Mound (Crystalised requires dive)":"Visit Overgrown Mound or Crystalised Mound (Crystalised requires dive)",
		"Visit Queen's Gardens or Cast Off Shell":"Visit Queen's Gardens or Cast Off Shell",
		"Visit Soul Sanctum or Royal Waterways":"Visit Soul Sanctum or Royal Waterways",
		"Visit Tower of Love (Love Key not required)":"Visit Tower of Love (Love Key not required)",
		"Swim in a Void Pool":"Swim in a Void Pool",
		"Dream Nail White Lady":"Dream Nail White Lady",
		"Dream Nail Willoh's meal":"Dream Nail Willoh's meal",
		"Sit down in Hidden Station":"Sit down in Hidden Station"
};
  targetDom.append(trsBtn);

  function initLang() {
    $(".text-container").each(function () {
      var enStr = $(this).html();
      // console.log(enStr)
      $(this).attr('data-lang-en', enStr)
      if (rollTranslate[enStr]) {
        $(this).attr('data-lang-cn', rollTranslate[enStr])
        $(this).attr('title', rollTips[enStr])
      } else {
        $(this).attr('data-lang-cn', enStr)
      }
    });
    $('#hkbingoAssBtn').attr('data-inited', true)
    doTrans($('#hkbingoAssBtn').attr('data-lang'))
  }

  function doTrans(lang) {
    var targetLang = lang;
    var arlang = targetLang == 'cn' ? 'en' : 'cn'
    $('#hkbingoAssBtn').html(targetLang == 'cn' ? '显示英文' : '显示中文')
    $(".text-container").each(function () {
      $(this).html($(this).attr('data-lang-' + targetLang))
    });
    $('#hkbingoAssBtn').attr('data-lang', arlang)
  }
  function resetTrsBtn(){
    $('#hkbingoAssBtn').attr('data-inited', 'false').attr('data-lang', 'cn').html('显示中文')
  }

  $('#hkbingoAssBtn').click(function () {
    if ($(this).attr('data-inited') != 'true') {
      initLang()
    } else {
      doTrans($(this).attr('data-lang'))
    }
  })

  $(document).ajaxComplete(function (event, xhr, settings) {
    if (settings.url.indexOf('room-settings') >= 0) {
      console.log('card rebuild!')
      resetTrsBtn()
    }
  });

})
