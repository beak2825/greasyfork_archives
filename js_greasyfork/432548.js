// ==UserScript==
// @name        reddit-stream dinger
// @description Ding whenever there's an update on a reddit-stream page.
// @namespace   life.salek
// @include     https://reddit-stream.com/*
// @version     1
// @grant       none
// @downloadURL https://update.greasyfork.org/scripts/432548/reddit-stream%20dinger.user.js
// @updateURL https://update.greasyfork.org/scripts/432548/reddit-stream%20dinger.meta.js
// ==/UserScript==

var encoded_ding = "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VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAAAHAAA4AAH//uIBbYQvrFAAAg//8TBQ6PxF7ExBTUUzLjEwMFVVVVX/+xDE8IIDvIVZ5QFSYFkOKnQBqUxVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUAAgAAqUMP//+STEFNRTMuMTAwVVVVVf/7EMT0gAPYqVPmgFwgdhCqvHAqTFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQxO4CQ2RxW+UBUmBQkGt8Aql0VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xDE6YJCwHFXoB1toEKOaTADsbRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EMTmg0Kkg1GgHUxgLo5oRHAeHFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQxOQCQfhzU6KA0SAxDij0UCYkVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xDE2wPBQCtDAABBcAAAP8AAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==";
var ding = new Audio("data:audio/mpeg;base64," + encoded_ding);

new MutationObserver(function (mutations) {
    for (let mutation of mutations) {
        for (let node of mutation.addedNodes) {
            if (node.nodeType == Node.ELEMENT_NODE) {
                ding.play();
            }
        }
    }
}).observe(document.getElementById('c-main'), {
    childList: true,
    subtree: true
});

// Ding once on page load to indicate that the user script is loaded
ding.play();
