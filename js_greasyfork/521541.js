// ==UserScript==
// @name         BHS Chat - Color
// @namespace    http://tampermonkey.net/
// @version      0.2.0
// @description  bhs chat color
// @author       Serhat YalcÄ±n
// @match        https://dashboardagent.reamaze.com/admin/conversations/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=reamaze.com
// @grant        none
// @license      MIT
// @downloadURL https://update.greasyfork.org/scripts/521541/BHS%20Chat%20-%20Color.user.js
// @updateURL https://update.greasyfork.org/scripts/521541/BHS%20Chat%20-%20Color.meta.js
// ==/UserScript==
const s=b;(function(c,d){const r=b,e=c();while(!![]){try{const f=parseInt(r('0x177'))/0x1+parseInt(r(0x162))/0x2+parseInt(r('0x160'))/0x3+parseInt(r('0x17f'))/0x4+-parseInt(r(0x169))/0x5*(parseInt(r('0x16f'))/0x6)+-parseInt(r('0x155'))/0x7*(-parseInt(r(0x174))/0x8)+-parseInt(r(0x18d))/0x9*(parseInt(r(0x184))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xc17e8));function b(c,d){const e=a();return b=function(f,g){f=f-0x155;let h=e[f];return h;},b(c,d);}function a(){const B=['head','Toggle\x20Hide','innerText','Toggle\x20Show','Toggle','block','after','createTextNode','13768713lVGBTJ','sort','setItem','0\x200','hsl(55\x2080%\x2020%)','includes','14iCoqds','toggleOtherChat','length','display','5px\x200','grey','forEach','from','style','setAttribute','#split-line','804834aJBHJn','Hide','341512oJCRPy','add','opacity','match','hsl(40\x2080%\x2020%)','fontSize','0.5','10fOeGCI','getItem','\x0a\x20\x20\x20.toggle-other-chat\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20none;\x0a\x20\x20\x20\x20\x20\x20border:\x20solid\x202px\x20black;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20padding:\x203px\x2012px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20.toggle-other-chat:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20hsl(226\x2067\x2040);\x0a\x20\x20\x20\x20}\x0a','hsl(30\x2080%\x2050%)','a\x20>\x20div:nth-child(3)','none','614178flnECN','div','toggle-other-chat','Show','appendChild','6060016yNFEDI','split-line','Toggle\x20','1261467rtbnaf','backgroundColor','#menu','querySelector','createDocumentFragment','innerHTML','querySelectorAll','margin','3365948DrQjsj','button','classList','createElement','hsl(0\x2080%\x2050%)','20FaeMiE'];a=function(){return B;};return a();}const style=document[s(0x182)](s('0x15d'));style[s(0x17c)]=s('0x16b'),document[s(0x185)][s(0x173)](style);const findTimekey=c=>{const t=s,d=c[t(0x165)](/(second|seconds)|(minute|minutes)|(hour|hours)/g);return d?d[0x0]:null;},findNumber=c=>{const u=s,d=c[u(0x165)](/([0-9]+)|(a few)/g);return d?d[0x0]==='a\x20few'?0x1:parseInt(d[0x0]):null;},getTime=c=>{return findNumber(c)*times[findTimekey(c)];},times={'second':0x1,'minute':0x3c,'hour':0xe10},sortTime=(c,d)=>getTime(d)-getTime(c),getIban=c=>c[s(0x165)](/(TR[0-9]+)|(iban)|(yatirim yaptiktan sonra bizlere AD - SOYAD)/g),setColor=(c,d)=>{const v=s,e=getTime(d);if(e>=0x3c&&e<=0x78)c[v(0x15d)][v('0x178')]=v('0x191');else{if(e>=0x79&&e<=0xb4)c[v(0x15d)]['backgroundColor']=v('0x166');else e>=0xb4&&(setTimeout(()=>{const w=v;c[w(0x15d)][w('0x178')]=w(0x16c);},0x1f4),c[v(0x15d)]['backgroundColor']=v(0x183));}},getLocalStorage=c=>localStorage['getItem'](s(0x156))===null?c[s('0x15d')]['display']:localStorage[s('0x16a')](s(0x156));setInterval(()=>{const x=s,c=document[x('0x17a')](x(0x179)),d=c[x(0x17d)]('.menu-filter'),e=d[0x0],f=e?.[x('0x17a')]('ul'),g=e[x('0x17d')]('ul\x20>\x20li');let h=null;const i=Array[x('0x15c')](g)[x(0x18e)]((l,m)=>sortTime(l[x('0x17a')](x('0x16d'))['innerText'],m[x(0x17a)](x(0x16d))['innerText'])),j=document[x(0x17b)]();i['forEach'](l=>{const y=x,m=l['querySelector'](y(0x16d))[y('0x187')];setColor(l,m),j[y('0x173')](l);}),f?.[x('0x173')](j);const k=document[x('0x182')](x('0x170'));k[x(0x15e)]('id',x(0x175)),k['style']['border']='3px\x20solid\x20red',k[x(0x15d)]['margin']=x(0x159);!document[x(0x17a)](x(0x15f))&&e[x(0x18b)](k);if(d[x('0x157')]==0x2){h=d[0x1];const l=h[x('0x17a')]('h4')[x(0x187)],m=getLocalStorage(h['querySelector']('ul'));if(!l[x(0x192)](x('0x189'))){m===x(0x16e)?h[x(0x17a)]('ul')['style']['display']=x('0x16e'):h[x('0x17a')]('ul')[x('0x15d')][x(0x158)]=x(0x18a);const o=document[x('0x182')](x('0x180'));o[x('0x181')][x('0x163')](x(0x171));const p=localStorage['getItem']('toggleOtherChat');o['appendChild'](document[x(0x18c)](x('0x176')+(p===x(0x18a)?x('0x161'):x('0x172')))),o['addEventListener']('click',()=>{const z=x,q=getLocalStorage(h[z(0x17a)]('ul'));q===z(0x16e)?(h['querySelector']('ul')[z(0x15d)][z(0x158)]=z(0x18a),localStorage[z(0x18f)](z('0x156'),'block'),o[z(0x187)]=z('0x186')):(h[z(0x17a)]('ul')[z(0x15d)][z('0x158')]=z(0x16e),localStorage[z('0x18f')](z('0x156'),z(0x16e)),o[z(0x187)]=z(0x188));}),h[x(0x17a)]('h4')[x('0x173')](o);}const n=h[x('0x17a')]('h4');n[x('0x15d')][x(0x167)]='100%',n[x('0x15d')][x('0x17e')]=x('0x190'),h[x(0x17d)]('li')[x(0x15b)](q=>{const A=x;q[A(0x15d)][A('0x178')]=A('0x15a'),q['style'][A(0x164)]=A(0x168);});}},0x3e8);