// ==UserScript==
// @name         CoD Hitmarker (Call of Duty)
// @namespace    http://tampermonkey.net/
// @version      2026-01-06
// @description  Makes funny noises when you click and adds a hitmarker
// @author       opctim
// @match        https://*/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @license      MIT 
// @downloadURL https://update.greasyfork.org/scripts/561631/CoD%20Hitmarker%20%28Call%20of%20Duty%29.user.js
// @updateURL https://update.greasyfork.org/scripts/561631/CoD%20Hitmarker%20%28Call%20of%20Duty%29.meta.js
// ==/UserScript==

(function() {
    'use strict';

    const hitmarkerSrc = "data:application/ogg;base64,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";

    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const ctx = new AudioCtx();

    let buffer = null;
    let decoding = false;

    // Optional: block double-trigger / overlap spam
    let lastPlay = 0;
    const COOLDOWN_MS = 50; // tweak 30â€“80

    // ===== CURSOR SETUP =====

    const cursorDataUri = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMDAgMjAwIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiPgogICAgPCEtLSB0b3AgYXJtLCB0aGVuIHJvdGF0ZWQgNCB3YXlzIC0tPgogICAgPHJlY3QgeD0iOTQiIHk9IjE1IiB3aWR0aD0iMTIiIGhlaWdodD0iNzAiIHJ4PSIxMyIKICAgICAgICAgIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzIgogICAgICAgICAgdHJhbnNmb3JtPSJyb3RhdGUoNDUgMTAwIDEwMCkiIC8+CgogICAgPHJlY3QgeD0iOTQiIHk9IjE1IiB3aWR0aD0iMTIiIGhlaWdodD0iNzAiIHJ4PSIxMyIKICAgICAgICAgIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzIgogICAgICAgICAgdHJhbnNmb3JtPSJyb3RhdGUoMTM1IDEwMCAxMDApIiAvPgoKICAgIDxyZWN0IHg9Ijk0IiB5PSIxNSIgd2lkdGg9IjEyIiBoZWlnaHQ9IjcwIiByeD0iMTMiCiAgICAgICAgICBmaWxsPSIjZmZmIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMyIKICAgICAgICAgIHRyYW5zZm9ybT0icm90YXRlKDIyNSAxMDAgMTAwKSIgLz4KCiAgICA8cmVjdCB4PSI5NCIgeT0iMTUiIHdpZHRoPSIxMiIgaGVpZ2h0PSI3MCIgcng9IjEzIgogICAgICAgICAgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjMiCiAgICAgICAgICB0cmFuc2Zvcm09InJvdGF0ZSgzMTUgMTAwIDEwMCkiIC8+Cjwvc3ZnPg==";

    // Hotspot (center of cursor)
    const CURSOR_X = 25;
    const CURSOR_Y = 25;

    // How long cursor stays changed (ms)
    const CURSOR_MS = 100;

    const targetEl = document.documentElement;
    let cursorTimer = null;

    // Flash cursor briefly
    function flashCursor() {
        targetEl.style.cursor =
            `url("${cursorDataUri}") ${CURSOR_X} ${CURSOR_Y}, auto`;

        if (cursorTimer) clearTimeout(cursorTimer);

        cursorTimer = setTimeout(() => {
            targetEl.style.cursor = "";
            cursorTimer = null;
        }, CURSOR_MS);
    }

    // ===== AUDIO SETUP =====

    function dataUriToArrayBuffer(dataUri) {
        const base64 = dataUri.split(",")[1];
        const binary = atob(base64);
        const bytes = new Uint8Array(binary.length);
        for (let i = 0; i < binary.length; i++) {
            bytes[i] = binary.charCodeAt(i);
        }
        return bytes.buffer;
    }

    async function unlockAndDecodeOnce() {
        if (buffer || decoding) return;
        decoding = true;

        if (ctx.state !== "running") await ctx.resume();

        const arr = dataUriToArrayBuffer(hitmarkerSrc);
        buffer = await ctx.decodeAudioData(arr);

        decoding = false;
    }

    // Unlock audio ASAP
    document.addEventListener(
        "pointerdown",
        () => {
            unlockAndDecodeOnce().catch(() => {});
        },
        { once: true }
    );

    // Click = cursor flash + hitmarker
    document.addEventListener("click", () => {
        flashCursor();

        if (!buffer) return;

        const now = performance.now();
        if (now - lastPlay < COOLDOWN_MS) return;
        lastPlay = now;

        const src = ctx.createBufferSource();
        src.buffer = buffer;
        src.connect(ctx.destination);
        src.start(0);
    });
})();