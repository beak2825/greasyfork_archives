// ==UserScript==
// @name         Auto Click Banner Close Button at Zhihu
// @description  Automatically clicks the banner's close button on page load and when it appears dynamically.
// @name:ar      النقر التلقائي على زر إغلاق البانر في Zhihu
// @description:ar ينقر تلقائيًا على زر إغلاق البانر عند تحميل الصفحة وعندما يظهر ديناميكيًا
// @name:bg      Автоматично кликване върху бутона за затваряне на банера в Zhihu
// @description:bg Автоматично кликва върху бутона за затваряне на банера при зареждане на страницата и когато се появи динамично
// @name:cs      Automatické kliknutí na tlačítko zavření banneru na Zhihu
// @description:cs Automaticky klikne na tlačítko zavření banneru při načtení stránky a když se objeví dynamicky
// @name:da      Automatisk klik på bannerlukningsknappen på Zhihu
// @description:da Klikker automatisk på bannerets lukkeknap ved sidelæsning og når det dukker op dynamisk
// @name:de      Automatisches Klicken auf den Banner-Schließen-Button bei Zhihu
// @description:de Klickt automatisch auf den Schließen-Button des Banners beim Laden der Seite und wenn er dynamisch erscheint
// @name:el      Αυτόματο κλικ στο κουμπί κλεισίματος του banner στο Zhihu
// @description:el Κάνει αυτόματα κλικ στο κουμπί κλεισίματος του banner κατά τη φόρτωση της σελίδας και όταν εμφανίζεται δυναμικά
// @name:en      Auto Click Banner Close Button at Zhihu
// @description:en Automatically clicks the banner's close button on page load and when it appears dynamically
// @name:eo      Aŭtomata Klako sur la Ferma Butono de la Standardo ĉe Zhihu
// @description:eo Aŭtomate klakas la ferma butonon de la standardo dum paĝŝarĝo kaj kiam ĝi aperas dinamike
// @name:es      Clic automático en el botón de cerrar banner en Zhihu
// @description:es Hace clic automáticamente en el botón de cerrar el banner al cargar la página y cuando aparece dinámicamente
// @name:fi      Automaattinen klikkaus bannerin sulkemispainikkeeseen Zhihussa
// @description:fi Klikkaa automaattisesti bannerin sulkemispainiketta sivun latautuessa ja kun se ilmestyy dynaamisesti
// @name:fr      Clic automatique sur le bouton de fermeture de la bannière sur Zhihu
// @description:fr Clique automatiquement sur le bouton de fermeture de la bannière au chargement de la page et lorsqu’elle apparaît dynamiquement
// @name:fr-CA   Clic automatique sur le bouton de fermeture de la bannière sur Zhihu
// @description:fr-CA Clique automatiquement sur le bouton de fermeture de la bannière au chargement de la page et lorsqu’elle apparaît dynamiquement
// @name:he      לחיצה אוטומטית על כפתור סגירת הבאנר ב-Zhihu
// @description:he לוחץ אוטומטית על כפתור סגירת הבאנר בטעינת הדף וכשהוא מופיע באופן דינמי
// @name:hr      Automatski klik na gumb za zatvaranje banera na Zhihu
// @description:hr Automatski klikne na gumb za zatvaranje banera prilikom učitavanja stranice i kada se pojavi dinamički
// @name:hu      Automatikus kattintás a banner bezáró gombjára a Zhihu-n
// @description:hu Automatikusan rákattint a banner bezáró gombjára az oldal betöltésekor és amikor dinamikusan megjelenik
// @name:id      Klik Otomatis pada Tombol Tutup Banner di Zhihu
// @description:id Mengklik otomatis tombol tutup banner saat halaman dimuat dan saat muncul secara dinamis
// @name:it      Clic automatico sul pulsante di chiusura del banner su Zhihu
// @description:it Fa clic automaticamente sul pulsante di chiusura del banner al caricamento della pagina e quando appare dinamicamente
// @name:ja      Zhihuでバナーの閉じるボタンを自動クリック
// @description:ja ページ読み込み時およびバナーが動的に表示されたときに、バナーの閉じるボタンを自動的にクリックします
// @name:ka      ავტომატური დაჭერა ბანერის დახურვის ღილაკზე Zhihu-ზე
// @description:ka ავტომატურად აჭერს ბანერის დახურვის ღილაკს გვერდის ჩატვირთვისას და როცა ის დინამიურად გამოჩნდება
// @name:ko      Zhihu에서 배너 닫기 버튼 자동 클릭
// @description:ko 페이지 로드 시 및 배너가 동적으로 나타날 때 배너의 닫기 버튼을 자동으로 클릭
// @name:nb      Automatisk klikk på bannerets lukkeknapp på Zhihu
// @description:nb Klikker automatisk på bannerets lukkeknapp ved lasting av siden og når den dukker opp dynamisk
// @name:nl      Automatisch klikken op de sluitknop van de banner op Zhihu
// @description:nl Klikt automatisch op de sluitknop van de banner bij het laden van de pagina en wanneer deze dynamisch verschijnt
// @name:pl      Automatyczne kliknięcie przycisku zamknięcia banera na Zhihu
// @description:pl Automatycznie klika przycisk zamknięcia banera podczas ładowania strony i gdy pojawia się dynamicznie
// @name:pt-BR   Clique automático no botão de fechar banner no Zhihu
// @description:pt-BR Clica automaticamente no botão de fechar o banner ao carregar a página e quando ele aparece dinamicamente
// @name:ro      Clic automat pe butonul de închidere a bannerului pe Zhihu
// @description:ro Face clic automat pe butonul de închidere a bannerului la încărcarea paginii și când apare dinamic
// @name:ru      Автоклик по кнопке закрытия баннера на Zhihu
// @description:ru Автоматически нажимает кнопку закрытия баннера при загрузке страницы и когда он появляется динамически
// @name:sk      Automatické kliknutie na tlačidlo zatvorenia banneru na Zhihu
// @description:sk Automaticky klikne na tlačidlo zatvorenia banneru pri načítaní stránky a keď sa objaví dynamicky
// @name:sr      Automatski klik na dugme za zatvaranje banera na Zhihu
// @description:sr Automatski klikne na dugme za zatvaranje banera prilikom učitavanja stranice i kada se pojavi dinamički
// @name:sv      Automatiskt klick på bannerets stängknapp på Zhihu
// @description:sv Klickar automatiskt på bannerets stängknapp vid sidladdning och när den dyker upp dynamiskt
// @name:th      คลิกปุ่มปิดแบนเนอร์อัตโนมัติที่ Zhihu
// @description:th คลิกปุ่มปิดแบนเนอร์โดยอัตโนมัติเมื่อโหลดหน้าและเมื่อมันปรากฏขึ้นแบบไดนามิก
// @name:tr      Zhihu'da banner kapatma düğmesine otomatik tıklama
// @description:tr Sayfa yüklendiğinde ve dinamik olarak göründüğünde bannerın kapatma düğmesine otomatik olarak tıklar
// @name:ug      Zhihu دىكى بايراق يېپىش كۇنۇپكىسىغا ئاپتوماتىك چەككىلى بولىدۇ
// @description:ug بەت يۈكلەنگەندە ۋە ئۇ دىنامىك ھالدا كۆرۈنگەندە بايراقنىڭ يېپىش كۇنۇپكىسىغا ئاپتوماتىك چەككىلى بولىدۇ
// @name:uk      Автоклік на кнопку закриття банера на Zhihu
// @description:uk Автоматично натискає кнопку закриття банера під час завантаження сторінки та коли він з’являється динамічно
// @name:vi      Tự động nhấp vào nút đóng banner trên Zhihu
// @description:vi Tự động nhấp vào nút đóng banner khi tải trang và khi nó xuất hiện động
// @name:zh      自动点击Zhihu上的横幅关闭按钮
// @description:zh 在页面加载时及横幅动态出现时自动点击关闭按钮
// @name:zh-CN   自动点击Zhihu上的横幅关闭按钮
// @description:zh-CN 在页面加载时及横幅动态出现时自动点击关闭按钮
// @name:zh-HK   自動點擊Zhihu上嘅橫幅關閉按鈕
// @description:zh-HK 喺頁面載入時同橫幅動態出現時自動點擊關閉按鈕
// @name:zh-SG   自动点击Zhihu上的横幅关闭按钮
// @description:zh-SG 在页面加载时及横幅动态出现时自动点击关闭按钮
// @name:zh-TW   自動點擊Zhihu上的橫幅關閉按鈕
// @description:zh-TW 在頁面載入時及橫幅動態出現時自動點擊關閉按鈕
// @namespace    http://tampermonkey.net/
// @version      1.0.1.1
// @icon         data:image/png;base64,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
// @author       aspen138
// @match        *://*.zhihu.com/*
// @grant        none
// @license      MIT
// @run-at       document-end
// @downloadURL https://update.greasyfork.org/scripts/490414/Auto%20Click%20Banner%20Close%20Button%20at%20Zhihu.user.js
// @updateURL https://update.greasyfork.org/scripts/490414/Auto%20Click%20Banner%20Close%20Button%20at%20Zhihu.meta.js
// ==/UserScript==



(function() {
    'use strict';

    // Function to find the SVG element and dispatch a click event
    const findAndTriggerClickEvent = () => {
        // Select the SVG element by its class, adjust the selector if needed
        const element = document.querySelector('svg.css-1p094v5');

        if (element) {
            // Create a new click event
            const event = new MouseEvent('click', {
                view: window,
                bubbles: true,
                cancelable: true
            });

            // Dispatch the event on the SVG element
            element.dispatchEvent(event);

            console.log('Click event dispatched on element');

            // Successfully clicked, so we can stop observing
            observer.disconnect();
            console.log('Observer disconnected');
        }
    };

    // Create an observer instance linked to the callback function
    const observer = new MutationObserver(mutations => {
        mutations.forEach(() => {
            findAndTriggerClickEvent();
        });
    });

    // Start observing the document with a configuration object specifying the types of mutations to observe
    observer.observe(document.body, { childList: true, subtree: true });

    // Also apply once directly in case the element is already in the DOM
    findAndTriggerClickEvent();
})();

