// ==UserScript==
// @name         –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Ö–æ–≤
// @namespace    https://forum.myrussia.online
// @version      1.777 BETA
// @description  –î–ª—è –æ—Ç–≤–µ—Ç–∞ –ø–µ—á–µ–Ω—å–∫–∞–º
// @author       –ñ–∏–¥
// @match        https://forum.myrussia.online/*
// @include       https://forum.myrussia.online/
// @grant        none
// @license 	 MIT
// @collaborator Basis of Antonio Carrizo and consultant Rosenfeld
// @icon https://icons.iconarchive.com/icons/thesquid.ink/free-flat-sample/128/support-icon.png
// @copyright 2024, –ñ–∏–¥–ê–ê–ê
// @downloadURL https://update.greasyfork.org/scripts/487032/%D0%A1%D0%BA%D1%80%D0%B8%D0%BF%D1%82%20%D0%B4%D0%BB%D1%8F%20%D1%82%D0%B5%D1%85%D0%BE%D0%B2.user.js
// @updateURL https://update.greasyfork.org/scripts/487032/%D0%A1%D0%BA%D1%80%D0%B8%D0%BF%D1%82%20%D0%B4%D0%BB%D1%8F%20%D1%82%D0%B5%D1%85%D0%BE%D0%B2.meta.js
// ==/UserScript==
(function () {
  'use strict';
const UNACCEPT_PREFIX = 4; // Prefix that will be set when thread closes
const ACCEPT_PREFIX = 6; // Prefix that will be set when thread solved
const PIN_PREFIX = 2; // Prefix that will be set when thread pins
const WATCHED_PREFIX = 9;
const CLOSE_PREFIX = 7;
const buttons = [
	{
	  title: '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
        '[CENTER][/CENTER]'
	},
	{
	  title: '–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–¥–µ–ª–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ—Å—å–±–∞, –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤ –∫–æ—Ç–æ—Ä–æ–º –í—ã —Å–æ–∑–¥–∞–ª–∏ —Ç–µ–º—É, —Ç–∞–∫ –∫–∞–∫ –í–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∏–∫–æ–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º–µ.[/CENTER]<br><br>" +
        '[CENTER]–û—Ç–∫–∞–∑–∞–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ.[/CENTER]',

        status: false,
	},
    {
	  title: '–ñ–∞–ª–æ–±—ã —Å–µ—Ä–≤–µ—Ä–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +

    "[CENTER]–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ä–∞–∑–¥–µ–ª ¬´–ñ–∞–ª–æ–±—ã¬ª –í–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞[CENTER]" +
        '[CENTER]–û—Ç–∫–∞–∑–∞–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
        prefix: UNACCEPT_PREFIX,
        status: true,
	},
    {
	  title: '–ö—Ä–∞—à/–≤—ã–ª–µ—Ç',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–í —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –í—ã –≤—ã–ª–µ—Ç–µ–ª–∏ –∏–∑ –∏–≥—Ä—ã –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–ø—Ä–æ–∏–∑–æ—à–µ–ª –∫—Ä–∞—à), –≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –¥–∞–Ω–Ω—É—é —Ç–µ–º—É - https://forum.myrussia.online/forums/%D0%9A%D0%BB%D0%B8%D0%B5%D0%BD%D1%82-%E2%80%94-%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B.8/ [/CENTER]<br>" +
	{
	},
	  title: '–°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç',
	  content:
  '[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
  "[CENTER]–ï—Å–ª–∏ —É –í–∞—Å –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—Ö–æ–¥–æ–º –≤ –∏–≥—Ä—É –∏–∑-–∑–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–∞ –≤ –ª–∞—É–Ω—á–µ—Ä–µ, –Ω–µ —É–¥–∞—ë—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ö–æ–¥ –Ω–∞ —Å–∞–π—Ç/—Ñ–æ—Ä—É–º, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–≤–µ—Ä—à–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è: <br><br>" +
  "[LEFT]‚Ä¢ –°–º–µ–Ω–∏—Ç—å IP-–∞–¥—Ä–µ—Å –ª—é–±—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏(–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥ - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞/–º–æ–¥–µ–º–∞); <br>" +
  "[LEFT]‚Ä¢ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π Wi-Fi/–º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–ª–∏ –Ω–∞ –ª—é–±—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é —Å–µ—Ç—å; <br>"+
  "[LEFT]‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN/–ø—Ä–æ–∫—Å–∏-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è; <br>"+
  "[CENTER]–ï—Å–ª–∏ –º–µ—Ç–æ–¥—ã –≤—ã—à–µ –Ω–µ –ø–æ–º–æ–≥–ª–∏, —Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –±–æ–ª–µ–µ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ–º—É,–Ω–æ —Ä–∞–±–æ—á–µ–º—É —Å–ø–æ—Å–æ–±—É: <br><br>" +

  '[LEFT]1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´1.1.1.1: Faster & Safer Internet¬ª , –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–µ–≥–æ.<br>'+
  '[LEFT]2. –°–æ–≥–ª–∞—à–∞–µ–º—Å—è —Å–æ –≤—Å–µ–π –ø–æ–ª–∏—Ç–∏–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.<br>'+
  '[LEFT]3. –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ –ø–æ–ª–∑—É–Ω–æ–∫ –∏ –∂–¥–µ–º, –∫–æ–≥–¥–∞ —Ç–µ–∫—Å—Ç –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω–æ¬ª.<br>'+
  '[LEFT]4. –ü—Ä–æ–≤–µ—Ä—è–µ–º: –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ª–∏ —Å–µ—Ä–≤–µ—Ä—ã? –£–¥–∞–µ—Ç—Å—è –ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ö–æ–¥ –≤ –∏–≥—Ä—É? –†–∞–±–æ—Ç–∞—é—Ç –ª–∏ –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (—Å–∞–π—Ç, —Ñ–æ—Ä—É–º)? <br><br>' +

  "[CENTER]üìπ –í–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –≤–∏–¥–µ–æ: https://youtu.be/Wft0j69b9dk <br><br>" +
  "[CENTER]–í —Å–ª—É—á–∞–µ,–µ—Å–ª–∏ –≤–∞–º –Ω–µ –ø–æ–º–æ–≥–ª–∏ —Å–æ–≤–µ—Ç—ã, –≤—ã—à–µ —Å–∫–∞–∑–∞–Ω–Ω—ã, –æ–±—Å—É–¥–∏—Ç–µ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É —Å –≤–∞—à–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º/–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –º–æ–±–∏–ª—å–Ω–æ–π —Å–≤—è–∑–∏(–¢–∞ –∫–æ–º–ø–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞–º —É—Å–ª—É–≥–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–Ω–∏–Ω–µ–Ω–∏—è).<br><br>" +
	    '[CENTER]–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ.[/CENTER]',
	},
	{
	  title: '–î—É–±–ª–∏–∫–∞—Ç —Ç–µ–º—ã',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–û—Ç–≤–µ—Ç —É–∂–µ –±—ã–ª –¥–∞–Ω –≤ –ø–æ–¥–æ–±–Ω–æ–π —Ç–µ–º–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –∏–ª–∏ –ø–æ—Ö–æ–∂–∏–µ —Ç–µ–º—ã - –∏–Ω–∞—á–µ –í–∞—à —Ñ–æ—Ä—É–º–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.<br><br>" +
		'[CENTER]–û—Ç–∫–∞–∑–∞–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
	},
    {
	  title: '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ï—Å–ª–∏ –í—ã –æ–±–µ–∑–æ–ø–∞—Å–∏–ª–∏ –í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∏ [U]–ø—Ä–∏–≤—è–∑–∞–ª–∏ –µ–≥–æ –∫ –ø–æ—á—Ç–µ[/U], —Ç–æ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –∏–ª–∏ –ø–∏–Ω-–∫–æ–¥ –í—ã –≤—Å–µ–≥–¥–∞ —Å–º–æ–∂–µ—Ç–µ –ø—Ä–∏ –≤–≤–æ–¥–µ –ø–∞—Ä–æ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π —Å –ø—Ä–∏–≤—è–∑–æ–∫(–ø–æ—á—Ç–∞, –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, –¢–µ–ª–µ–≥—Ä–∞–º–º). –í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å¬ª, –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –í–∞–º —Ñ—É–Ω–∫—Ü–∏–∏.<br><br>" +
        "[CENTER]–ï—Å–ª–∏ –í—ã [U]–Ω–µ –æ–±–µ–∑–æ–ø–∞—Å–∏–ª–∏ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç - –µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å[/U]. –ò–≥—Ä–æ–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –±–µ–∑–æ–ø–∞–Ω–æ—Å—Ç—å —Å–≤–æ–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞. –ê–∫–∫–∞—É–Ω—Ç –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞.<br><br>" +
        '[CENTER]–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏–Ω–æ–≥–¥–∞ —Ä–µ—à–µ–Ω–∏–µ –ø–æ–¥–æ–±–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ù–∞–¥–µ–µ–º—Å—è, —á—Ç–æ –í—ã —Å–º–æ–∂–µ—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–∫–∫–∞—É–Ω—Ç—É! –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ.[/CENTER]',
    },
    {

        title: '–ù–µ –ø–æ —Ñ–æ—Ä–º–µ',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–í—ã —Å–æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–µ–º—É –Ω–µ –ø–æ —Ñ–æ—Ä–º–µ, –æ–∑–Ω–∞–∫–æ–º—Ç–µ—Å—å —Å –Ω–µ–π –≤ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.<br><br>" +
		'[CENTER]–û—Ç–∫–∞–∑–∞–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
	},
    {
	  title: '–°–ª–µ—Ç–µ–ª –∞–∫–∫–∞—É–Ω—Ç',
	  content:
        '[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
        "[CENTER]–ê–∫–∫–∞—É–Ω—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω, —Å–±—Ä–æ—à–µ–Ω, –ª–∏–±–æ —É–¥–∞–ª–µ–Ω –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫. –î–∞–∂–µ –µ—Å–ª–∏ –í—ã –º–µ–Ω—è–µ—Ç–µ –Ω–∏–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–Ω–æ–ø–∫—É ¬´—Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬ª, –ª–∏–±–æ —É–¥–∞–ª—è–µ—Ç–µ –ª–∞—É–Ω—á–µ—Ä —Å –∏–≥—Ä–æ–π - –í–∞—à –∞–∫–∫–∞—É–Ω—Ç –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.<br><br>" +
        "[CENTER]–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–æ–¥ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö: –ø–∞—Ä–æ–ª—å, –Ω–∏–∫–Ω–µ–π–º –∏ —Å–µ—Ä–≤–µ—Ä. –ó–∞—á–∞—Å—Ç—É—é –∏–≥—Ä–æ–∫–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–±—ã–≤–∞—é—Ç –≤–≤–µ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ –∏—Ö –∞–∫–∫–∞—É–Ω—Ç –±—ã–ª —É–¥–∞–ª–µ–Ω. –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã! –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ.<br><br>" +
        '[CENTER]–í–≤–µ—Å—Ç–∏ –Ω–∏–∫–Ω–µ–π–º –≤—ã –º–æ–∂–µ—Ç–µ –≤ —Å–∞–º–æ–º –ª–∞—É–Ω—á–µ—Ä–µ!'
	},
    {
	  title: '–ü—Ä–æ–±–ª–µ–º–∞ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–î–∞–Ω–Ω–∞—è –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞. –°–ø–∞—Å–∏–±–æ, —Ü–µ–Ω–∏–º –í–∞—à –≤–∫–ª–∞–¥.<br><br>" +
		'[CENTER]–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ.[/CENTER]',
	},
	{
	  title: '–ò–∑–≤–µ—Å—Ç–Ω–æ –æ –ø—Ä–æ–±–ª–µ–º–µ',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ö–æ–º–∞–Ω–¥–µ –ø—Ä–æ–µ–∫—Ç–∞ —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ –æ –¥–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ, –æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—É–¥–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞. –°–ø–∞—Å–∏–±–æ –∑–∞ –í–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ!<br><br>" +
		'[CENTER]–ó–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
	},
    {
	  title: '–ü–µ—Ä–µ–¥–∞–Ω–æ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–µ. –í–∞—à–∞ —Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.<br><br>" +
		'[CENTER]–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏.[/CENTER]',
	},
	{
	  title: '–ö–æ–º–∞–Ω–¥–µ –ø—Ä–æ–µ–∫—Ç–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–í–∞—à–∞ —Ç–µ–º–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∞ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∂–∏–¥–∞–π—Ç–µ –≤—ã–Ω–æ—Å–∞ –≤–µ—Ä–¥–∏–∫—Ç–∞ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–µ–∫—Ç–∞.<br><br>" +
        '[CENTER]–ß–∞—Å—Ç–æ, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –ø–æ–¥–æ–±–Ω—ã—Ö –∂–∞–ª–æ–±, –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ![CENTER]' +
		'[CENTER]–°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã —Å –¥–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π ‚Äî –Ω–µ –Ω—É–∂–Ω–æ, –æ–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ –¥–∞–Ω–Ω–æ–π —Ç–µ–º–µ. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∏—Ç—Å—è - –í—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ —É–≤–µ–¥–æ–º–∏—Ç—å –Ω–∞—Å –æ –µ–µ —Ä–µ—à–µ–Ω–∏–∏.[/CENTER]',
	},
	{
	  title: '–õ–æ–≥–∏—Ä–æ–≤—â–∏–∫—É',
	  content:
	    '[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
	    "[CENTER]–í–∞—à–∞ —Ç–µ–º–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∞ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –ø–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ –¥–∞–Ω–Ω–æ–π —Ç–µ–º–µ.<br><br>" +
	    '[CENTER]–°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã —Å –¥–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π ‚Äî –Ω–µ –Ω—É–∂–Ω–æ.[/CENTER]',
	},
	{
	  title: '–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–í–∞—à–µ –∏–≥—Ä–æ–≤–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ/–¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞. –£–±–µ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ—Å—å–±–∞, –Ω–µ –º–µ–Ω—è—Ç—å –Ω–∏–∫–Ω–µ–π–º –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.<br><br>" +
        '[CENTER]–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã: /roulette, /recovery.[/CENTER]<br><br>' +
		'[CENTER]–†–µ—à–µ–Ω–æ.[/CENTER]',
	},
	{
	  title: '–ù–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ë–µ–∑ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ (–≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–ª–∏ –≤–∏–¥–µ–æ) ‚Äì —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –ï—Å–ª–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞–π–¥—É—Ç—Å—è - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ç–µ–º—É, –ø—Ä–∏–ª–æ–∂–∏–≤ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —Å —Ñ–æ—Ç–æ-—Ö–æ—Å—Ç–∏–Ω–≥–∞ yapx.ru –∏–ª–∏ imgur.com, youtube.com (–¥–ª—è –≤–∏–¥–µ–æ-–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤)<br><br>" +
		'[CENTER]–û—Ç–∫–∞–∑–∞–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
	},
    	{
	  title: '–ü—Ä–∞–≤–∏–ª–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ—Å—å–±–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π. –í—ã —Å–æ–∑–¥–∞–ª–∏ —Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–∏–∫–æ–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º–µ. –ò–º—É—â–µ—Å—Ç–≤–æ –Ω–µ –±—É–¥–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.[/CENTER]<br><br>" +
		'[CENTER]–û—Ç–∫–∞–∑–∞–Ω–æ, –∑–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
	},
    {
	  title: '–î–æ–Ω–∞—Ç',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		'[CENTER]–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–ø–∏—à—É—Ç—Å—è, –ø–æ–∫–∞ –Ω–∞—à–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ —É–≤–µ–¥–æ–º–∏—Ç –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏ –Ω–∞ –≤–∞—à –∏–≥—Ä–æ–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –¥–æ–Ω–∞—Ç-–≤–∞–ª—é—Ç—ã. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏—è –¥–æ–Ω–∞—Ç-–≤–∞–ª—é—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ –≤ –∏–≥—Ä–µ –∫–æ–º–∞–Ω–¥—É: /donat.<br><br>' +
        '[CENTER]–í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∂–µ —Å–ª—É—á–∞—è—Ö, –µ—Å–ª–∏ –Ω–µ –±—ã–ª–∞ –∑–∞—á–∏—Å–ª–µ–Ω–∞ –¥–æ–Ω–∞—Ç-–≤–∞–ª—é—Ç–∞ ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ, –±—ã–ª–∞ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤. –ö –Ω–∞—à–µ–º—É —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫ –æ–±–º–∞–Ω–∞, –º—ã –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ –∂–∞–ª–æ–±—ã. –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏–∏ –ø–æ–∫—É–ø–æ–∫. <br><br>' +
        '[CENTER]–ï—Å–ª–∏ –í—ã —Å—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ –æ—à–∏–±–∫–∏ –±—ã—Ç—å –Ω–µ –º–æ–∂–µ—Ç –∏ —Å –º–æ–º–µ–Ω—Ç–∞ –æ–ø–ª–∞—Ç—ã –Ω–µ –ø—Ä–æ—à–ª–æ –±–æ–ª–µ–µ 7 –¥–Ω–µ–π, —Ç–æ –≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ<br><br>' +
        '[CENTER]–†–µ—à–µ–Ω–æ.[/CENTER]',
    },
    {
	  title: '–•–æ—á—É —Å—Ç–∞—Ç—å –Ω–∞ –ø–æ—Å—Ç',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		"[CENTER]–ö–æ–º–∞–Ω–¥–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –Ω–µ —Ä–µ—à–∞–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –∫–∞–∫—É—é-–ª–∏–±–æ –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ. –î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∑–∞—è–≤–ª–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –í–∞—à–µ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –≥–¥–µ –í—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º–∏ –∏ —Ñ–æ—Ä–º–∞–º–∏ –ø–æ–¥–∞—á. –ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã –∏ –∂–µ–ª–∞–µ–º —É–¥–∞—á–∏ –≤ –∫–∞—Ä—å–µ—Ä–Ω–æ–π –ª–µ—Å—Ç–Ω–∏—Ü–µ!<br><br>" +
		'[CENTER]–ó–∞–∫—Ä—ã—Ç–æ.[/CENTER]',
	},
    {
	  title: '–ñ–∞–ª–æ–±—ã –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
		'[CENTER]–í—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –í–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –í–∞–º —Å–ª–µ–¥—É–µ—Ç –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Ä–∞–∑–¥–µ–ª ¬´–ñ–∞–ª–æ–±—ã –Ω–∞ —Ç–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫—É¬ª ‚Äî –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –í—ã –Ω–µ —Å–æ–≥–ª–∞—Å–Ω—ã —Å –Ω–∞–∫–∞–∑–∞–Ω–∏–µ–º,–ª–∏–±–æ —Ö–æ—Ç–∏—Ç–µ –µ–≥–æ –æ–±–∂–∞–ª–æ–≤–∞—Ç—å.<br><br>' +
         '[CENTER]–ó–∞–∫—Ä—ã—Ç–æ.[/CENTER]'
	},
	{
	  title: '–ù–µ —Ä–∞–±–æ—á–∏–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞',
	  content:
		'[CENTER]{{ greeting }}, —É–≤–∞–∂–∞–µ–º—ã–π(-–∞—è)[B] {{ user.name }}[/B]![/CENTER]<br><br>' +
        '[CENTER]–í–∞—à–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –∂–∞–ª–æ–±–µ –Ω–µ —Ä–∞–±–æ—á–∏–µ. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ç–µ–º—É, –ø—Ä–∏–∫—Ä–µ–ø–∏–≤ —É–∂–µ —Ä–∞–±–æ—á–∏–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞ —Ñ–æ—Ç–æ-—Ö–æ—Å—Ç–∏–Ω–≥ yapx.ru –∏–ª–∏ imgur.com[/CENTER]'+
        '[CENTER]–ó–∞–∫—Ä—ã—Ç–æ.[/CENTER]'
	},
];

$(document).ready(() => {
// –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤
$('body').append('<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>');

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    addButton('–û—Ç–≤–µ—Ç—ã', 'selectAnswer');

    // –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–º–µ
    const threadData = getThreadData();
$('button#pin').click(() => editThreadData(PINN_PREFIX, true));
$('button#accepted').click(() => editThreadData(ACC–°EPT_PREFIX, false));
$('button#unaccept').click(() => editThreadData(UNACC–°EPT_PREFIX, false));
$('button#Resheno').click(() => editThreadData(RESHENO_PREFIX, false));
$('button#Zakrito').click(() => editThreadData(CLOSE_PREFIX, false));

  $(`button#selectAnswer`).click(() => {
  XF.alert(buttonsMarkup(buttons), null, '–î–æ–±–∞–≤—å—Ç–µ –æ—Ç–≤–µ—Ç:');
  buttons.forEach((btn, id) => {
	$(`button#answers-${id}`).click(() => pasteContent(id, threadData));
  });
});
});


function addButton(name, id) {
$('.button--icon--reply').before(
  `<button type="button" class="button rippleButton" id="${id}" style="margin: 3px;">${name}</button>`,
);
}

function buttonsMarkup(buttons) {
return `<div class="select_answer">${buttons
  .map(
	(btn, i) =>
	  `<button id="answers-${i}" class="button--primary button ` +
	  `rippleButton" style="margin:5px"><span class="button-text">${btn.title}</span></button>`,
  )
  .join('')}</div>`;
}

function pasteContent(id, data = {}) {
const template = Handlebars.compile(buttons[id].content);
if ($('.fr-element.fr-view p').text() === '') $('.fr-element.fr-view p').empty();

$('span.fr-placeholder').empty();
$('div.fr-element.fr-view p').append(template(data));
$('a.overlay-titleCloser').trigger('click');
}

// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫
function getThreadData() {
const authorID = $('a.username')[0].attributes['data-user-id'].nodeValue;
const authorName = $('a.username').html();
const hours = new Date().getHours();
return {
  user: {
	id: authorID,
	name: authorName,
	mention: `[USER=${authorID}]${authorName}[/USER]`,
  },
  greeting: () =>
	4 < hours && hours <= 11
	  ? '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ'
	  : 11 < hours && hours <= 17
	  ? '–î–æ–±—Ä—ã–π –¥–µ–Ω—å'
	  : 17 < hours && hours <= 23
	  ? '–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä'
	  : '–î–æ–±—Ä–æ–π –Ω–æ—á–∏',
};
}

function editThreadData(prefix, pin = false) {
// –ü–æ–ª—É—á–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–º—ã, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
	const threadTitle = $('.p-title-value')[0].lastChild.textContent;

	if(pin == false){
		fetch(`${document.URL}edit`, {
		  method: 'POST',
		  body: getFormData({
			prefix_id: prefix,
			title: threadTitle,
			_xfToken: XF.config.csrf,
			_xfRequestUri: document.URL.split(XF.config.url.fullBase)[1],
			_xfWithData: 1,
			_xfResponseType: 'json',
		  }),
		}).then(() => location.reload());
	}
	if(pin == true){
		fetch(`${document.URL}edit`, {
		  method: 'POST',
		  body: getFormData({
			prefix_id: prefix,
			title: threadTitle,
            discussion_open: 1,
			sticky: 1,
			_xfToken: XF.config.csrf,
			_xfRequestUri: document.URL.split(XF.config.url.fullBase)[1],
			_xfWithData: 1,
			_xfResponseType: 'json',
		  }),
		}).then(() => location.reload());
	}
	if(prefix == UNACCEPT_PREFIX || prefix == ACCEPT_PREFIX || prefix == CLOSE_PREFIX || prefix == WATCHED_PREFIX) {
		moveThread(prefix, 230);
	}
}

function moveThread(prefix, type) {

const threadTitle = $('.p-title-value')[0].lastChild.textContent;

fetch(`${document.URL}move`, {
  method: 'POST',
  body: getFormData({
	prefix_id: prefix,
	title: threadTitle,
	target_node_id: type,
	redirect_type: 'none',
	notify_watchers: 1,
	starter_alert: 1,
	starter_alert_reason: "",
	_xfToken: XF.config.csrf,
	_xfRequestUri: document.URL.split(XF.config.url.fullBase)[1],
	_xfWithData: 1,
	_xfResponseType: 'json',
  }),
}).then(() => location.reload());
}

function getFormData(data) {
	const formData = new FormData();
	Object.entries(data).forEach(i => formData.append(i[0], i[1]));
	return formData;
  }
})();
