// ==UserScript==
// @name         lag tufted
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take o
// @author       You
// @match        http://*/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @downloadURL https://update.greasyfork.org/scripts/460530/lag%20tufted.user.js
// @updateURL https://update.greasyfork.org/scripts/460530/lag%20tufted.meta.js
// ==/UserScript==

//Funções//
function LAG(){
lag()
lag2()
}
function lag(){var a = player.x + targetDst * MathCOS(targetDir) + camX,d = player.y + targetDst * MathSIN(targetDir) + camY;for (var e = [], b = 0; b < selUnits.length; ++b) e.push(selUnits[b].id);socket.emit("5", UTILS.roundToOne(a), UTILS.roundToOne(d), e, 0, -1)}
function lag2(){var a = player.x + targetDst * MathCOS(targetDir) + camX,d = player.y + targetDst * MathSIN(targetDir) + camY;for (var e = [], b = 0; b < selUnits.length; ++b) e.push(selUnits[b].id);socket.emit("5", UTILS.roundToTwo(a), UTILS.roundToTwo(d), e, 0, -1)}
function House(){socket.emit("1",10.07,311,8);socket.emit("1",10.49,311,8);socket.emit("1",11.51,311,8);socket.emit("1",11.93,311,8);socket.emit("1",7.86,311,1);socket.emit("1",8.06,311,1);socket.emit("1",8.26,311,1);socket.emit("1",8.46,311,1);socket.emit("1",8.66,311,1);socket.emit("1",8.86,311,1);socket.emit("1",9.06,311,1);socket.emit("1",9.26,311,1);socket.emit("1",9.46,311,1);socket.emit("1",9.66,311,1);socket.emit("1",9.86,311,1);socket.emit("1",10.28,311,1);socket.emit("1",10.70,311,1);socket.emit("1",10.90,311,1);socket.emit("1",11.10,311,1);socket.emit("1",11.30,311,1);socket.emit("1",11.72,311,1);socket.emit("1",12.14,311,1);socket.emit("1",12.34,311,1);socket.emit("1",12.54,311,1);socket.emit("1",12.74,311,1);socket.emit("1",12.94,311,1);socket.emit("1",13.14,311,1);socket.emit("1",13.34,311,1);socket.emit("1",13.54,311,1);socket.emit("1",13.74,311,1);socket.emit("1",13.94,311,1);socket.emit("1", 1.71, 245.85, 4),socket.emit("1", 1.46, 245.85, 4),socket.emit("1", 1.96, 245.85, 4),socket.emit("1", 1.21, 245.85, 4),socket.emit("1", 2.21, 245.85, 4),socket.emit("1", 0.96, 245.85, 4),socket.emit("1", 2.46, 245.85, 4),socket.emit("1", 0.71, 245.85, 4),socket.emit("1", 0.46, 245.85, 4),socket.emit("1", 2.71, 245.85, 4),socket.emit("1", 2.96, 245.85, 4),socket.emit("1", 0.21, 245.85, 4),socket.emit("1", -3.07, 245.85, 4),socket.emit("1", -0.04, 245.85, 4),socket.emit("1", -0.29, 245.85, 4),socket.emit("1", -2.82, 245.85, 4),socket.emit("1", -2.57, 245.85, 4),socket.emit("1", -0.54, 245.85, 4),socket.emit("1", -2.32, 245.85, 4),socket.emit("1", -0.79, 245.85, 4),socket.emit("1", -2.07, 245.85, 4),socket.emit("1", -1.04, 245.85, 4),socket.emit("1", -1.82, 245.85, 4),socket.emit("1", -1.29, 245.85, 4),socket.emit("1",4.7280,245,4),socket.emit("1", 2.58, 190.7, 4),socket.emit("1", 0.59, 190.45, 4),socket.emit("1", -2.72, 189.71, 4),socket.emit("1", -0.39, 189.71, 4),socket.emit("1", -1.39, 189.09, 4),socket.emit("1", -1.73, 188.48, 4),socket.emit("1", -2.4, 187.66, 4),socket.emit("1", -0.71, 187.46, 4),socket.emit("1", 0.91, 186.12, 4),socket.emit("1", 0.27, 186.2, 4),socket.emit("1", 2.9, 186.15, 4),socket.emit("1", 2.26, 185.87, 4),socket.emit("1", -3.05, 185.31, 4),socket.emit("1", -0.06, 185.8, 4),socket.emit("1", -2.07, 185.43, 4),socket.emit("1", 1.24, 184.2, 4),socket.emit("1", -1.04, 184.09, 4),socket.emit("1", 1.93, 183.65, 4),socket.emit("1",-4.70,130,7),socket.emit("1", 2.11, 130, 4),socket.emit("1", 1.06, 130, 4),socket.emit("1", 2.58, 130, 4),socket.emit("1", 0.59, 130, 4),socket.emit("1", 3.05, 130, 4),socket.emit("1", 0.12, 130, 4),socket.emit("1", -2.76, 130, 4),socket.emit("1", -0.35, 130, 4),socket.emit("1", -0.83, 130, 4),socket.emit("1", -2.29, 130, 4),socket.emit("1", -1.82, 130, 4),socket.emit("1", -1.3, 130, 4)}
function DefHouse(){socket.emit("1",10.07,311,1);socket.emit("1",10.49,311,1);socket.emit("1",11.51,311,1);socket.emit("1",11.93,311,1);socket.emit("1",7.86,311,1);socket.emit("1",8.06,311,1);socket.emit("1",8.26,311,1);socket.emit("1",8.46,311,1);socket.emit("1",8.66,311,1);socket.emit("1",8.86,311,1);socket.emit("1",9.06,311,1);socket.emit("1",9.26,311,1);socket.emit("1",9.46,311,1);socket.emit("1",9.66,311,1);socket.emit("1",9.86,311,1);socket.emit("1",10.28,311,1);socket.emit("1",10.70,311,1);socket.emit("1",10.90,311,1);socket.emit("1",11.10,311,1);socket.emit("1",11.30,311,1);socket.emit("1",11.72,311,1);socket.emit("1",12.14,311,1);socket.emit("1",12.34,311,1);socket.emit("1",12.54,311,1);socket.emit("1",12.74,311,1);socket.emit("1",12.94,311,1);socket.emit("1",13.14,311,1);socket.emit("1",13.34,311,1);socket.emit("1",13.54,311,1);socket.emit("1",13.74,311,1);socket.emit("1",13.94,311,1);socket.emit("1", 1.71, 245.85, 1),socket.emit("1", 1.46, 245.85, 1),socket.emit("1", 1.96, 245.85, 1),socket.emit("1", 1.21, 245.85, 1),socket.emit("1", 2.21, 245.85, 1),socket.emit("1", 0.96, 245.85, 1),socket.emit("1", 2.46, 245.85, 1),socket.emit("1", 0.71, 245.85, 1),socket.emit("1", 0.46, 245.85, 1),socket.emit("1", 2.71, 245.85, 1),socket.emit("1", 2.96, 245.85, 1),socket.emit("1", 0.21, 245.85, 1),socket.emit("1", -3.07, 245.85, 1),socket.emit("1", -0.04, 245.85, 1),socket.emit("1", -0.29, 245.85, 1),socket.emit("1", -2.82, 245.85, 1),socket.emit("1", -2.57, 245.85, 1),socket.emit("1", -0.54, 245.85, 1),socket.emit("1", -2.32, 245.85, 1),socket.emit("1", -0.79, 245.85, 1),socket.emit("1", -2.07, 245.85, 1),socket.emit("1", -1.04, 245.85, 1),socket.emit("1", -1.82, 245.85, 1),socket.emit("1", -1.29, 245.85, 1),socket.emit("1",4.7280,245,1),socket.emit("1", 2.58, 190.7, 1),socket.emit("1", 0.59, 190.45, 1),socket.emit("1", -2.72, 189.71, 1),socket.emit("1", -0.39, 189.71, 1),socket.emit("1", -1.39, 189.09, 1),socket.emit("1", -1.73, 188.48, 1),socket.emit("1", -2.4, 187.66, 1),socket.emit("1", -0.71, 187.46, 1),socket.emit("1", 0.91, 186.12, 1),socket.emit("1", 0.27, 186.2, 1),socket.emit("1", 2.9, 186.15, 1),socket.emit("1", 2.26, 185.87, 1),socket.emit("1", -3.05, 185.31, 1),socket.emit("1", -0.06, 185.8, 1),socket.emit("1", -2.07, 185.43, 1),socket.emit("1", 1.24, 184.2, 1),socket.emit("1", -1.04, 184.09, 1),socket.emit("1", 1.93, 183.65, 1),socket.emit("1",-4.70,140,1),socket.emit("1", 2.11, 130, 1),socket.emit("1", 1.06, 130, 1),socket.emit("1", 2.58, 130, 1),socket.emit("1", 0.59, 130, 1),socket.emit("1", 3.05, 130, 1),socket.emit("1", 0.12, 130, 1),socket.emit("1", -2.76, 130, 1),socket.emit("1", -0.35, 130, 1),socket.emit("1", -0.83, 130, 1),socket.emit("1", -2.29, 130, 1),socket.emit("1", -1.82, 130, 1),socket.emit("1", -1.3, 130, 1)
}
function remontar(){
setTimeout(function() {vender();}, 20);setTimeout(function() {reconstruir();}, 30);}
function vender() {for (var a = [], d = 0; d < units.length; ++d) units[d].type === 3 && units[d].owner == player.sid && getUnitFromPath(units[d].uPath).name === 'Wall' && a.push(units[d].id);socket.emit("3", a)};
function reconstruir() {socket.emit("1",10.07,311,8);socket.emit("1",10.49,311,8);socket.emit("1",11.51,311,8);socket.emit("1",11.93,311,8);socket.emit("1",7.86,311,1);socket.emit("1",8.06,311,1);socket.emit("1",8.26,311,1);socket.emit("1",8.46,311,1);socket.emit("1",8.66,311,1);socket.emit("1",8.86,311,1);socket.emit("1",9.06,311,1);socket.emit("1",9.26,311,1);socket.emit("1",9.46,311,1);socket.emit("1",9.66,311,1);socket.emit("1",9.86,311,1);socket.emit("1",10.28,311,1);socket.emit("1",10.70,311,1);socket.emit("1",10.90,311,1);socket.emit("1",11.10,311,1);socket.emit("1",11.30,311,1);socket.emit("1",11.72,311,1);socket.emit("1",12.14,311,1);socket.emit("1",12.34,311,1);socket.emit("1",12.54,311,1);socket.emit("1",12.74,311,1);socket.emit("1",12.94,311,1);socket.emit("1",13.14,311,1);socket.emit("1",13.34,311,1);socket.emit("1",13.54,311,1);socket.emit("1",13.74,311,1);socket.emit("1",13.94,311,1);socket.emit("1", 1.71, 245.85, 4),socket.emit("1", 1.46, 245.85, 4),socket.emit("1", 1.96, 245.85, 4),socket.emit("1", 1.21, 245.85, 4),socket.emit("1", 2.21, 245.85, 4),socket.emit("1", 0.96, 245.85, 4),socket.emit("1", 2.46, 245.85, 4),socket.emit("1", 0.71, 245.85, 4),socket.emit("1", 0.46, 245.85, 4),socket.emit("1", 2.71, 245.85, 4),socket.emit("1", 2.96, 245.85, 4),socket.emit("1", 0.21, 245.85, 4),socket.emit("1", -3.07, 245.85, 4),socket.emit("1", -0.04, 245.85, 4),socket.emit("1", -0.29, 245.85, 4),socket.emit("1", -2.82, 245.85, 4),socket.emit("1", -2.57, 245.85, 4),socket.emit("1", -0.54, 245.85, 4),socket.emit("1", -2.32, 245.85, 4),socket.emit("1", -0.79, 245.85, 4),socket.emit("1", -2.07, 245.85, 4),socket.emit("1", -1.04, 245.85, 4),socket.emit("1", -1.82, 245.85, 4),socket.emit("1", -1.29, 245.85, 4),socket.emit("1",4.7280,245,4),socket.emit("1", 2.58, 190.7, 4),socket.emit("1", 0.59, 190.45, 4),socket.emit("1", -2.72, 189.71, 4),socket.emit("1", -0.39, 189.71, 4),socket.emit("1", -1.39, 189.09, 4),socket.emit("1", -1.73, 188.48, 4),socket.emit("1", -2.4, 187.66, 4),socket.emit("1", -0.71, 187.46, 4),socket.emit("1", 0.91, 186.12, 4),socket.emit("1", 0.27, 186.2, 4),socket.emit("1", 2.9, 186.15, 4),socket.emit("1", 2.26, 185.87, 4),socket.emit("1", -3.05, 185.31, 4),socket.emit("1", -0.06, 185.8, 4),socket.emit("1", -2.07, 185.43, 4),socket.emit("1", 1.24, 184.2, 4),socket.emit("1", -1.04, 184.09, 4),socket.emit("1", 1.93, 183.65, 4),socket.emit("1",-4.70,130,7),socket.emit("1", 2.11, 130, 4),socket.emit("1", 1.06, 130, 4),socket.emit("1", 2.58, 130, 4),socket.emit("1", 0.59, 130, 4),socket.emit("1", 3.05, 130, 4),socket.emit("1", 0.12, 130, 4),socket.emit("1", -2.76, 130, 4),socket.emit("1", -0.35, 130, 4),socket.emit("1", -0.83, 130, 4),socket.emit("1", -2.29, 130, 4),socket.emit("1", -1.82, 130, 4),socket.emit("1", -1.3, 130, 4)
                       }
function micro(){
for (var i = 0; i < units.length; ++i) 3 == units[i].type && "circle" == units[i].shape && units[i].owner == player.sid && socket.emit("4", units[i].id, 1)
}
function sellwall(){
for (var a = [], d = 0; d < units.length; ++d) units[d].type === 3 && units[d].owner == player.sid && getUnitFromPath(units[d].uPath).name === 'Wall' && a.push(units[d].id);socket.emit("3", a)
}
function gens(){
socket.emit("1", 4.73, 245, 3); socket.emit("1", 5.0025, 245, 3); socket.emit("1", 5.275, 245, 3); socket.emit("1", 5.5475, 245, 3); socket.emit("1", 5.82, 245, 3); socket.emit("1", 6.0925, 245, 3); socket.emit("1", 6.365, 245, 3); socket.emit("1", 6.6375, 245, 3); socket.emit("1", 6.91, 245, 3); socket.emit("1", 7.1825, 245, 3); socket.emit("1", 7.455, 245, 3); socket.emit("1", 7.7275, 245, 3); socket.emit("1", 8.0025, 245, 3); socket.emit("1", 8.275, 245, 3); socket.emit("1", 8.5475, 245, 3); socket.emit("1", 8.82, 245, 3); socket.emit("1", 9.0925, 245, 3); socket.emit("1", 9.3675, 245, 3); socket.emit("1", 9.64, 245, 3); socket.emit("1", 9.9125, 245, 3); socket.emit("1", 10.1875, 245, 3); socket.emit("1", 10.4625, 245, 3); socket.emit("1", 10.7375, 245, 3); socket.emit("1", 5.999, 180, 3); socket.emit("1", 6.275, 130, 3); socket.emit("1", 6.51, 185, 3); socket.emit("1", 6.775, 130, 3); socket.emit("1", 7.05, 185, 3); socket.emit("1", 7.3, 130, 3); socket.emit("1", 7.6, 185, 3); socket.emit("1", 7.85, 130, 3); socket.emit("1", 8.15, 185, 3); socket.emit("1", 8.4, 130, 3); socket.emit("1", 8.675, 185, 3); socket.emit("1", 8.925, 130, 3); socket.emit("1", 9.225, 185, 3); socket.emit("1", 9.5, 130, 3); socket.emit("1", 9.78, 185, 3); socket.emit("1", 10.05, 130, 3); socket.emit("1", 10.325, 185, 3); socket.emit("1", 10.6, 130, 3); socket.emit("1", 4.5889, 186.5, 3); socket.emit("1", 4.81, 130, 3); socket.emit("1", 5.085, 180.5, 3); socket.emit("1", 5.36, 130, 3); socket.emit("1", 5.64, 180, 3);
}
function defgens(){
socket.emit('1',-1.0622001258342575,243.84353179856956,1);socket.emit('1',1.0441830715523195,243.84792330466954,1);socket.emit('1',0.780903485821051,243.84823661449764,1);socket.emit('1',0.5175743723300564,243.84886835907193,1);socket.emit('1',0.25427836120664293,243.8510112753277,1);socket.emit('1',-0.00902206491167247,243.8499243387211,1);socket.emit('1',-0.27228367750613924,243.85375391820403,1);socket.emit('1',-0.5356018704187981,243.8480930825583,1);socket.emit('1',-0.7988822517151568,243.85379984736753,1);socket.emit('1',-0.9305375326299632,132.00469385593826,1);socket.emit('1',-0.6672207553366907,183.9997586954939,1);socket.emit('1',-0.403916953210808,132.00241967479243,1);socket.emit('1',-0.14062884883543125,183.99640349745965,1);socket.emit('1',0.12272942279962962,132.00290034692418,1);socket.emit('1',0.3859865208712111,183.99713177112304,1);socket.emit('1',0.6492890106455586,132.00021098467997,1);socket.emit('1',0.8965724125464973,184.2569523790079,1);socket.emit('1',-1.5707963267948966,140,1);socket.emit('1',1.5707963267948966,243.85,1);socket.emit('1',-1.5707963267948966,212.1,1);socket.emit('1',1.3074863342117489,243.85475882172156,1);socket.emit('1',-1.325489442637866,243.85018125890332,1);socket.emit('1',-1.1938323121943286,183.99923722667984,1);socket.emit('1',1.1392033572365667,132.00476658060498,1);socket.emit('1',1.394099029458639,182.5016219106011,1);socket.emit('1',1.8341063193780445,243.85475882172156,1);socket.emit('1',2.097409582037474,243.84792330466954,1);socket.emit('1',-2.0793925277555356,243.84353179856956,1);socket.emit('1',-1.8161032109519273,243.85018125890332,1);socket.emit('1',-1.9477603413954647,183.99923722667984,1);socket.emit('1',-2.21105512095983,132.00469385593826,1);socket.emit('1',-2.7376757003789853,132.00241967479243,1);socket.emit('1',2.4923036429442345,132.00021098467997,1);socket.emit('1',2.245020241043296,184.2569523790079,1);socket.emit('1',2.0023892963532264,132.00476658060498,1);socket.emit('1',1.7474936241311543,182.5016219106011,1);socket.emit('1',2.3606891677687423,243.84823661449764,1);socket.emit('1',-2.3427104018746365,243.85379984736753,1);socket.emit('1',-2.4743718982531027,183.9997586954939,1);socket.emit('1',2.755606132718582,183.99713177112304,1);socket.emit('1',-3.000963804754362,183.99640349745977,1);socket.emit('1',3.0188632307901635,132.00290034692418,1);socket.emit('1',2.624018281259737,243.84886835907201,1);socket.emit('1',2.8873142923831505,243.8510112753277,1);socket.emit('1',-3.1325705886781208,243.849924338721,1);socket.emit('1',-2.869308976083654,243.8537539182039,1);socket.emit('1',-2.605990783170995,243.8480930825583,1);
}
function upbase(){
for (var i = 0; i < units.length; ++i) 0 == units[i].type && "hexagon" == units[i].shape && units[i].owner == player.sid && socket.emit("4", units[i].id, 0)
for (var i = 0; i < units.length; ++i) 0 == units[i].type && 4 == units[i].turretIndex && "circle" == units[i].shape && units[i].owner == player.sid && socket.emit("4", units[i].id, 1)
for (var i = 0; i < units.length; ++i) 3 == units[i].type && "circle" == units[i].shape && units[i].owner == player.sid && socket.emit("4", units[i].id, 1)
}
function centralizador(){
if(player.x==null){player.x==0};if(player.y==null){player.y==0};for (var e = [], b = 0; b < Math.floor(selUnits.length-0); ++b) e.push(selUnits[b].id);socket.emit("5", (player.x)*1, (player.y)*1, e, 0, -1);
}
window.addEventListener("keydown", function(a) {
    a = a.keyCode ? a.keyCode : a.which;

       if (a === 69) {//Commander e soldiers
     selUnits = []; units.forEach((unit) => { if (unit.owner === player.sid && unit.type === 1) { if (!unit.info) unit.info = getUnitFromPath(unit.uPath); unit.info.name !== 'Siege Ram' && selUnits.push(unit)  } });  selUnitType = "Unit";

} else if (a === 67) {//Commander
     selUnits = []; units.every((unit) => { if (unit.owner === player.sid && unit.type === 1) { if (!unit.info) unit.info = getUnitFromPath(unit.uPath); if (unit.info.name === 'Commander') { selUnits.push(unit); return false; } } return true; }); selUnitType = "Unit";

} else if (a === 81) {//Soldier
     selUnits = []; units.forEach((unit) => { if (unit.owner === player.sid && unit.type === 1) { if (!unit.info) unit.info = getUnitFromPath(unit.uPath); if (unit.info.name === 'Soldier') { selUnits.push(unit); return false; } } return true; }); selUnitType = "Unit"; }
});
addEventListener("keydown", function(a){
if (a.keyCode == 67) {//Commander
socket.emit("4",0,0,1);
}})

//Teclas//
addEventListener("keydown", function(a){
a = a.keyCode ? a.keyCode : a.which;
if(a == 17){LAG();}
if(a == 90){House();}
if(a == 88){DefHouse();}
if(a == 51){remontar();}
if(a == 52){micro();}
if(a == 53){sellwall();}
if(a == 120){gens();}
if(a == 121){defgens();}
if(a == 118){upbase();}
if(a == 45){baseATK();}
if(a == 191){centralizador();}
})